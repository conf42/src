<!doctype html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-77190356-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-77190356-3');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css" />
    <link rel="stylesheet" href="./assets/css/libs.bundle.css" />
    <link rel="stylesheet" href="./assets/css/theme.bundle.css" />
    <link rel="stylesheet" href="./assets/css/various.css" />

    <title>Conf42: Concurrency primitives of Golang - how to use and how not to</title>
    <meta name="description" content="Say hello to the Gophers from outer space!">

    
    <meta name="image" property="og:image" content="https://www.conf42.com/assets/headshots/https://conf42.github.io/static/headshots/golang_piyush.png">
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Concurrency primitives of Golang - how to use and how not to | Conf42"/>
    <meta property="og:description" content="Every marginally, sophisticated Golang code that I write needs refactoring to solve race and deadlocks. The concurrency primitives like atomic, sync, channels, and waitGroups have their uses and fail. The lack of understanding ends up with a lot of rewrites. This talk aims to solve that.  I have seen more Go code shipped as glue programs and binaries than actual web servers, usually intended to do the heavy-lifting of data transfers shortly and reliably. With such clinical needs comes a need to handle concurrency and parallelism. And each time more than one worker is doing a job, there will be contention and starvation. A lack of useful design principle guides ends up in Engineers writing non-performant, race-condition prone codes or ending up refactoring.   To provide an example, some of the things I wish I had known: - the *real* difference of when to use a Channel, a waitGroup, an atomic, or a mutex - one shouldn't be using a wg.Add() inside a goroutine.  - How does one solve the problem of multiple listeners waiting on an event? - How atomic Int operations can synchronize multiple workers signaling completion of work.  The talk is not limited to the above scenarios. It intends to cover a few of these constructs to reduce the refactoring that Golang engineers have to go through while also building a better understanding of distributed systems' design patterns."/>
    <meta property="og:url" content="https://conf42.com/Golang_2021_Piyush_Verma_concurrency_primitives"/>
    

    <link rel="shortcut icon" href="./assets/favicon/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="./assets/favicon/site.webmanifest">

    

  <!-- Reddit Pixel -->
  <script>
  !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt('init','a2_e019g7ndfhrm', {"optOut":false,"useDecimalCurrencyValues":true,"aaid":"<AAID-HERE>"});rdt('track', 'PageVisit');
  </script>
  <!-- DO NOT MODIFY UNLESS TO REPLACE A USER IDENTIFIER -->
  <!-- End Reddit Pixel -->

  </head>
  <body>

    <!-- NAVBAR -->
    
    <!-- <nav class="navbar navbar-expand-lg navbar-light bg-light"> -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    
      <div class="container">
    
        <!-- Brand -->
        <a class="navbar-brand" href="./">
          <img src="./assets/conf42/conf42_logo_black_small.png" class="navbar-brand-img" alt="...">
        </a>
    
        <!-- Toggler -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    
        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="navbarCollapse">
    
          <!-- Toggler -->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fe fe-x"></i>
          </button>
    
          <!-- Navigation -->
          <ul class="navbar-nav ms-auto">

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Events
              </a>
              <div class="dropdown-menu dropdown-menu-xl p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-6">
                    <!-- <div class="dropdown-img-start" style="background-image: url(./assets/splash/SREday2023_Splash.png);"> -->
                    <div class="dropdown-img-start">
                      <!-- Heading -->
                      <h4 class="fw-bold text-white mb-0">
                        Featured event
                      </h4>
                      <!-- Text -->
                      <p class="fs-sm text-white">
                        SREday Amsterdam 2024
                      </p>
                      <p class="fs-sm text-white">
                        Premiere 2024-11-21
                      </p>
                      <!-- Button -->
                      <a href="https://sreday.com/2024-amsterdam/" class="btn btn-sm btn-white shadow-dark fonFt-size-sm">
                        Learn more
                      </a>
                    </div>
                  </div>
                  <div class="col-12 col-lg-6">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
    
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2025
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2025">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2025">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2025">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2025">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2025">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2025">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2025">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2025">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2025">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2025">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2025">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2025">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/mlops2025">
                            MLOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2025">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2025">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2024">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2025">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/robotics2025">
                            Robotics
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2025">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2025">
                            Internet of Things (IoT)
                          </a>
                          
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2024
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2024">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2024">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2024">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2024">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2024">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2024">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2024">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2024">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2024">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2024">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2024">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2024">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2024">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2024">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2024">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2024">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://sreday.com/2024-amsterdam/">
                            SREday Amsterdam
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2024">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2024">
                            Internet of Things (IoT)
                          </a>
                          
                        

                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            Info
                          </h6>
                          <a class="dropdown-item" href="./code-of-conduct">
                            Code of Conduct
                          </a>
    
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Community
              </a>
              <div class="dropdown-menu dropdown-menu-l p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-3">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
                          <a class="dropdown-item" href="./support">
                            Support us
                          </a>
                          <a class="dropdown-item" href="./hall-of-fame">
                            Hall of Fame
                          </a>
                          <a class="dropdown-item" href="./speakers">
                            Speakers
                          </a>
                          <a class="dropdown-item" href="https://www.papercall.io/events?cfps-scope=&keywords=conf42" target="_blank">
                            Become a speaker (CFPs)
                          </a>
                          <a class="dropdown-item" href="https://discord.gg/mvHyZzRGaQ" target="_blank">
                            Discord
                          </a>
                          <a class="dropdown-item" href="./testimonials">
                            Testimonials
                          </a>
                          <a class="dropdown-item" href="./about">
                            About the team
                          </a>
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./podcast">
                Podcast
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./blog">
                Blog
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./sponsor">
                Sponsor
              </a>
            </li>
          </ul>
    
          <!-- Button -->
          <a class="navbar-btn btn btn-sm btn-primary lift ms-auto" href="#register">
            Subscribe for FREE
          </a>
    
        </div>
    
      </div>
    </nav>



<style>
.text-selected {
  background-color: #42ba96!important;
  color: white;
}
</style>
	

    <!-- WELCOME -->
    <section class="py-5 py-md-10" style="background-color: #881E4B;">

      <!-- Shape -->
      <div class="shape shape-blur-3 svg-shim text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>
      </div>

      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 text-center" data-aos="fade-up">

            <!-- Heading -->
            <h1 class="display-2 fw-bold text-white">
              Conf42 Golang 2021 - Online
            </h1>

            <h2 class="text-white">
              
              <time datetime="2021-06-24">June 24 2021</time>
              
              
            </h2>

            <!-- Text -->
            <p class="lead mb-0 text-white-75">
              
              <!-- Say hello to the Gophers from outer space!
 -->
              <script>
                const event_date = new Date("2021-06-24T17:00:00.000+00:00");
                const local_timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const local_date = new Date("2021-06-24T17:00:00.000+00:00");
                // const local_offset = new Date().getTimezoneOffset() / 60;
                // local_date.setHours(local_date.getHours() + local_offset);
                document.getElementById("localtime").innerHTML = local_date + " in " + local_timezone
              </script>
            </p>

            <!-- Buttons -->
            <div class="text-center mt-5">
              
              <a href="#register" class="btn btn-primary shadow lift me-1 mb-3">
                <i class="fe fe-user-check me-2"></i>
                Subscribe to watch
              </a>
              
              
              <a class="btn btn-danger lift mb-3" data-bigpicture='{"ytSrc": "BeFLnQF78ik"}' href="#">
                <i class="fe fe-youtube me-2"></i>
                Watch this talk
              </a>
              
              
              <a class="btn btn-info lift mb-3" data-bigpicture='{"ytSrc": "8AiylKjLVmY"}' href="#">
                <i class="fe fe-eye me-2"></i>
                Watch Premiere
              </a>
              
              <!-- 
              <a class="btn btn-danger lift mb-3" href="https://youtube.com/playlist?list=PLIuxSyKxlQrBZ10NENgUnuPHCFKCK4Nlu" target="_blank">
                <i class="fe fe-youtube me-2"></i>
                Playlist
              </a>
               -->
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>
      </div>
    </div>

    
    <!-- VIDEO -->
    <section class="pt-2 sticky">
      <div class="container">
        <div class="row justify-content-center">

          <div id="video-container" class="col-9 col-lg-12 mb-5">

          <!-- Video -->

            <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
            <div id="player" class="sticky"></div>

            <script>
              
              var transcript = [{"text": "Concurrency primitives of Golang, when to and when not", "timestamp": "00:00:25,650", "timestamp_s": 25.0}, {"text": "to use some of them. Over the years I\u0027ve seen a lot of code being", "timestamp": "00:00:29,308", "timestamp_s": 29.0}, {"text": "refactored every time there\u0027s a marginal change in", "timestamp": "00:00:32,492", "timestamp_s": 32.0}, {"text": "complexity because of some concurrency primitive, and I really wish", "timestamp": "00:00:35,692", "timestamp_s": 35.0}, {"text": "I knew some of these things which I probably will talk about.", "timestamp": "00:00:39,442", "timestamp_s": 39.0}, {"text": "And that could actually save a lot of channels and", "timestamp": "00:00:43,370", "timestamp_s": 43.0}, {"text": "a lot of toil just having to go about refactoring this", "timestamp": "00:00:46,972", "timestamp_s": 46.0}, {"text": "while speaking with concurrency. One of the important things to discuss", "timestamp": "00:00:50,476", "timestamp_s": 50.0}, {"text": "is what exactly is a race? A data", "timestamp": "00:00:53,780", "timestamp_s": 53.0}, {"text": "race? To be fairly honest, the most common definition", "timestamp": "00:00:57,316", "timestamp_s": 57.0}, {"text": "that comes to the mind is reading and writing to a same memory", "timestamp": "00:01:01,082", "timestamp_s": 61.0}, {"text": "location. But before we get to that, there\u0027s an important concept", "timestamp": "00:01:05,118", "timestamp_s": 65.0}, {"text": "that needs to be covered, which is memory ordering.", "timestamp": "00:01:09,198", "timestamp_s": 69.0}, {"text": "I\u0027ll probably show a small snippet of a code and", "timestamp": "00:01:12,318", "timestamp_s": 72.0}, {"text": "I want you to guess what the output would be.", "timestamp": "00:01:15,560", "timestamp_s": 75.0}, {"text": "Here\u0027s a simple piece of code. There\u0027s a declaration of VAR a", "timestamp": "00:01:18,440", "timestamp_s": 78.0}, {"text": "and b which is type int. There\u0027s a function f assigns", "timestamp": "00:01:21,692", "timestamp_s": 81.0}, {"text": "a equal to one, b equal to two. There\u0027s a function g which does", "timestamp": "00:01:25,122", "timestamp_s": 85.0}, {"text": "print b and print a. You can", "timestamp": "00:01:28,416", "timestamp_s": 88.0}, {"text": "ignore the fact that there will be a data race in here,", "timestamp": "00:01:32,112", "timestamp_s": 92.0}, {"text": "because the interesting bit is it is possible", "timestamp": "00:01:35,392", "timestamp_s": 95.0}, {"text": "that g prints two first and then zero.", "timestamp": "00:01:39,630", "timestamp_s": 99.0}, {"text": "Pay slight attention to this. What is the possibility", "timestamp": "00:01:43,810", "timestamp_s": 103.0}, {"text": "when it prints two and zero when print b observed", "timestamp": "00:01:47,514", "timestamp_s": 107.0}, {"text": "the value of b as two, whereas the print", "timestamp": "00:01:51,866", "timestamp_s": 111.0}, {"text": "a which happens after print b did not yet", "timestamp": "00:01:55,326", "timestamp_s": 115.0}, {"text": "observe the value of a equal to one which was", "timestamp": "00:01:59,624", "timestamp_s": 119.0}, {"text": "executed before b equal to two.", "timestamp": "00:02:03,784", "timestamp_s": 123.0}, {"text": "Why does this happen? It is because compilers at", "timestamp": "00:02:06,988", "timestamp_s": 126.0}, {"text": "the time of compilation or at runtime may", "timestamp": "00:02:11,292", "timestamp_s": 131.0}, {"text": "do perform instruction ordering change.", "timestamp": "00:02:14,860", "timestamp_s": 134.0}, {"text": "So it\u0027s not guaranteed that what you see as a equal to one", "timestamp": "00:02:18,284", "timestamp_s": 138.0}, {"text": "and b equal to two outside of the block outside of", "timestamp": "00:02:21,792", "timestamp_s": 141.0}, {"text": "these scope of that function would be observed in the same manner", "timestamp": "00:02:25,344", "timestamp_s": 145.0}, {"text": "and things is a memory ordering problem. And this results", "timestamp": "00:02:29,062", "timestamp_s": 149.0}, {"text": "int everything else where we need to now start serializing,", "timestamp": "00:02:32,618", "timestamp_s": 152.0}, {"text": "because what we\u0027re trying to do is we are solving this unpredictability.", "timestamp": "00:02:36,186", "timestamp_s": 156.0}, {"text": "Here\u0027s a sample piece of code. It\u0027s a pseudocode", "timestamp": "00:02:40,930", "timestamp_s": 160.0}, {"text": "to comes it may look like Python, to others it may look like go.", "timestamp": "00:02:44,698", "timestamp_s": 164.0}, {"text": "We have a bunch of URLs. There is an", "timestamp": "00:02:48,392", "timestamp_s": 168.0}, {"text": "array of responses where we will gather all the responses that", "timestamp": "00:02:52,168", "timestamp_s": 172.0}, {"text": "we get by fetching the URLs. There\u0027s a small counter of total", "timestamp": "00:02:55,800", "timestamp_s": 175.0}, {"text": "bytes received. Simply put, for I in URLs,", "timestamp": "00:02:59,676", "timestamp_s": 179.0}, {"text": "fetch the URL using a pool. So we\u0027re trying to restrict", "timestamp": "00:03:03,410", "timestamp_s": 183.0}, {"text": "the number of parallel connections that can be made outbound.", "timestamp": "00:03:07,602", "timestamp_s": 187.0}, {"text": "Once we receive the data. We want to write it to a response array", "timestamp": "00:03:11,110", "timestamp_s": 191.0}, {"text": "and also update total bytes received. The control", "timestamp": "00:03:15,366", "timestamp_s": 195.0}, {"text": "must block until all the URLs are fetched", "timestamp": "00:03:19,408", "timestamp_s": 199.0}, {"text": "and return the response altogether. The total", "timestamp": "00:03:22,906", "timestamp_s": 202.0}, {"text": "bytes received are also being sent by telemetry, but that is not", "timestamp": "00:03:26,196", "timestamp_s": 206.0}, {"text": "relevant. There are four aspects of", "timestamp": "00:03:29,476", "timestamp_s": 209.0}, {"text": "concurrency control which are happening here.", "timestamp": "00:03:33,048", "timestamp_s": 213.0}, {"text": "First is the handoff. The handoff is once", "timestamp": "00:03:36,984", "timestamp_s": 216.0}, {"text": "these parallelism is done, or I\u0027m liberally using", "timestamp": "00:03:41,160", "timestamp_s": 221.0}, {"text": "the word parallel here because that\u0027s confusingly used, parallel and", "timestamp": "00:03:45,272", "timestamp_s": 225.0}, {"text": "concurrent. Once that is done, the control must pass", "timestamp": "00:03:49,148", "timestamp_s": 229.0}, {"text": "on to the main routine, and that\u0027s a handoff. So somebody", "timestamp": "00:03:53,036", "timestamp_s": 233.0}, {"text": "has to wait to see if all the workers", "timestamp": "00:03:56,524", "timestamp_s": 236.0}, {"text": "are done working on what they have done, and only then it must", "timestamp": "00:04:00,694", "timestamp_s": 240.0}, {"text": "proceed forward. There\u0027s a concept of data sharing here.", "timestamp": "00:04:04,368", "timestamp_s": 244.0}, {"text": "Each of the fetch URLs we want to do in a", "timestamp": "00:04:08,400", "timestamp_s": 248.0}, {"text": "non blocking manner, which should be able to send", "timestamp": "00:04:11,668", "timestamp_s": 251.0}, {"text": "data to be returned to a response array.", "timestamp": "00:04:15,620", "timestamp_s": 255.0}, {"text": "There\u0027s a serialization happening as well because we do", "timestamp": "00:04:19,178", "timestamp_s": 259.0}, {"text": "not want all the URLs to be executed together.", "timestamp": "00:04:22,548", "timestamp_s": 262.0}, {"text": "There is a control mechanism which will allow only", "timestamp": "00:04:26,104", "timestamp_s": 266.0}, {"text": "certain number of URLs to be hit, and that\u0027s these property of", "timestamp": "00:04:30,390", "timestamp_s": 270.0}, {"text": "a pool. Then there\u0027s also a data consistency problem here because", "timestamp": "00:04:33,848", "timestamp_s": 273.0}, {"text": "we want to channel the total bytes received, but because", "timestamp": "00:04:37,980", "timestamp_s": 277.0}, {"text": "there are multiple threads that may be performing this, multiple go routines", "timestamp": "00:04:41,516", "timestamp_s": 281.0}, {"text": "that may be performing this, multiple processes that may be performing this. Based on the", "timestamp": "00:04:45,442", "timestamp_s": 285.0}, {"text": "language implementation, the value of total bytes received", "timestamp": "00:04:49,328", "timestamp_s": 289.0}, {"text": "must increase collectively. That\u0027s a data concurrency", "timestamp": "00:04:53,478", "timestamp_s": 293.0}, {"text": "part as well. So to highlight these again, what are the four challenges?", "timestamp": "00:04:57,606", "timestamp_s": 297.0}, {"text": "A control handoff which is passing on", "timestamp": "00:05:01,898", "timestamp_s": 301.0}, {"text": "the work, the control from a set of workers", "timestamp": "00:05:05,348", "timestamp_s": 305.0}, {"text": "routines to the main serialization. We want", "timestamp": "00:05:09,994", "timestamp_s": 309.0}, {"text": "the ability to control what gets executed", "timestamp": "00:05:13,576", "timestamp_s": 313.0}, {"text": "at what point of time and what gets to wait, and a control", "timestamp": "00:05:17,118", "timestamp_s": 317.0}, {"text": "to block unblock data sharing work", "timestamp": "00:05:20,504", "timestamp_s": 320.0}, {"text": "while may be happening in parallel or in non", "timestamp": "00:05:24,136", "timestamp_s": 324.0}, {"text": "blocking asynchronous manner. The data must be receivable", "timestamp": "00:05:28,018", "timestamp_s": 328.0}, {"text": "by some other process as well, and data consistency at", "timestamp": "00:05:32,850", "timestamp_s": 332.0}, {"text": "all points of time. If we have agreed to increment the", "timestamp": "00:05:36,108", "timestamp_s": 336.0}, {"text": "integer, then everybody should see a fresh value of an integer", "timestamp": "00:05:39,568", "timestamp_s": 339.0}, {"text": "which is incremented. This is also", "timestamp": "00:05:42,966", "timestamp_s": 342.0}, {"text": "a derivative of saying that while multiple processes are coordinating with", "timestamp": "00:05:46,480", "timestamp_s": 346.0}, {"text": "each other, they will usually have a consensus problem. To solve", "timestamp": "00:05:49,888", "timestamp_s": 349.0}, {"text": "a consensus problem, the control needs", "timestamp": "00:05:53,978", "timestamp_s": 353.0}, {"text": "to be offloaded to somebody outside the system.", "timestamp": "00:05:57,476", "timestamp_s": 357.0}, {"text": "And this is exactly why we need synchronization primitives.", "timestamp": "00:06:01,108", "timestamp_s": 361.0}, {"text": "I\u0027m going to call it a marshall. Not to be confused with Marshall Json.", "timestamp": "00:06:05,430", "timestamp_s": 365.0}, {"text": "Like a game marshall. What kind of", "timestamp": "00:06:09,990", "timestamp_s": 369.0}, {"text": "marshals exist to achieve this synchronization?", "timestamp": "00:06:13,656", "timestamp_s": 373.0}, {"text": "There is a sync weight group. There\u0027s a sync mutex,", "timestamp": "00:06:16,450", "timestamp_s": 376.0}, {"text": "anatomic channels and lockless data structures.", "timestamp": "00:06:20,066", "timestamp_s": 380.0}, {"text": "I\u0027ll probably not go into the depths of the definition of", "timestamp": "00:06:23,634", "timestamp_s": 383.0}, {"text": "defining what these are, because that is almost pretty much available.", "timestamp": "00:06:27,212", "timestamp_s": 387.0}, {"text": "I want to narrow this down to what semantics can be used", "timestamp": "00:06:31,070", "timestamp_s": 391.0}, {"text": "for what aspect of the problem statement which we discussed", "timestamp": "00:06:35,120", "timestamp_s": 395.0}, {"text": "just a few slides back over here. Control handoff,", "timestamp": "00:06:38,406", "timestamp_s": 398.0}, {"text": "serialization, data sharing, and data consistency. The first", "timestamp": "00:06:42,298", "timestamp_s": 402.0}, {"text": "one is a sync weight group. Fairly straightforward. You must have seen", "timestamp": "00:06:45,716", "timestamp_s": 405.0}, {"text": "this all over Golang, blogs, et cetera. Pretty straightforward to use,", "timestamp": "00:06:49,572", "timestamp_s": 409.0}, {"text": "but what is it used for? It\u0027s precisely only and only used", "timestamp": "00:06:53,364", "timestamp_s": 413.0}, {"text": "for control handoff. What is it not used for is it\u0027s", "timestamp": "00:06:56,728", "timestamp_s": 416.0}, {"text": "not used for serialization. What I mean by that is that using weight", "timestamp": "00:07:00,542", "timestamp_s": 420.0}, {"text": "groups you are more often than not only and only", "timestamp": "00:07:04,238", "timestamp_s": 424.0}, {"text": "just waiting for control. As the name suggests, it\u0027s a wait group", "timestamp": "00:07:07,596", "timestamp_s": 427.0}, {"text": "to reach the main routine while some other parallel", "timestamp": "00:07:11,308", "timestamp_s": 431.0}, {"text": "routines are doing their job. It\u0027s not used for data sharing.", "timestamp": "00:07:15,650", "timestamp_s": 435.0}, {"text": "There is no way you can share data, and it\u0027s not used for data consistency", "timestamp": "00:07:19,554", "timestamp_s": 439.0}, {"text": "either. Using things definition I\u0027m going to through", "timestamp": "00:07:23,190", "timestamp_s": 443.0}, {"text": "the slides, there\u0027ll always be a fun section where we talk about some", "timestamp": "00:07:26,832", "timestamp_s": 446.0}, {"text": "fun mistakes. These fun mistakes are usually", "timestamp": "00:07:30,432", "timestamp_s": 450.0}, {"text": "things that we would miss out on, and it", "timestamp": "00:07:34,052", "timestamp_s": 454.0}, {"text": "gives us an insight on how these things work at the depth.", "timestamp": "00:07:37,540", "timestamp_s": 457.0}, {"text": "Now here\u0027s a simple program. What is wrong here? To walk", "timestamp": "00:07:40,746", "timestamp_s": 460.0}, {"text": "you through the code, there\u0027s a funk main which declares a weight", "timestamp": "00:07:44,228", "timestamp_s": 464.0}, {"text": "group. There is a for loop zero to 10 weight group add", "timestamp": "00:07:47,758", "timestamp_s": 467.0}, {"text": "simple construct. There\u0027s a go routine being called where we call hello", "timestamp": "00:07:51,624", "timestamp_s": 471.0}, {"text": "inside hello, we do a print and then we just wait.", "timestamp": "00:07:55,304", "timestamp_s": 475.0}, {"text": "Classic example of control handoff where we are waiting.", "timestamp": "00:07:58,908", "timestamp_s": 478.0}, {"text": "What could possibly go wrong here? What would go", "timestamp": "00:08:03,154", "timestamp_s": 483.0}, {"text": "wrong here is that when you run this code,", "timestamp": "00:08:06,508", "timestamp_s": 486.0}, {"text": "it runs int this problem of all goroutine are asleep.", "timestamp": "00:08:09,856", "timestamp_s": 489.0}, {"text": "It runs into a deadlock problem. But weight group", "timestamp": "00:08:13,398", "timestamp_s": 493.0}, {"text": "is supposed to solve a concurrency problem, not create another problem.", "timestamp": "00:08:17,280", "timestamp_s": 497.0}, {"text": "And the reason for that is that even concurrency semantics need to", "timestamp": "00:08:20,976", "timestamp_s": 500.0}, {"text": "respect the principles of the language. Now what is the principle", "timestamp": "00:08:24,388", "timestamp_s": 504.0}, {"text": "of the language? The principle of the language is I\u0027m", "timestamp": "00:08:27,498", "timestamp_s": 507.0}, {"text": "passing weight group by value and not as", "timestamp": "00:08:30,842", "timestamp_s": 510.0}, {"text": "a reference. So the goroutine see a copy of", "timestamp": "00:08:34,392", "timestamp_s": 514.0}, {"text": "that synchronization primitive and they call a", "timestamp": "00:08:38,136", "timestamp_s": 518.0}, {"text": "done on that and hence it runs into a deadlocks.", "timestamp": "00:08:41,512", "timestamp_s": 521.0}, {"text": "So even the synchronization primitives need", "timestamp": "00:08:45,150", "timestamp_s": 525.0}, {"text": "to cater to the principle of the language.", "timestamp": "00:08:49,548", "timestamp_s": 529.0}, {"text": "The next one is sync mutex. What is the sync", "timestamp": "00:08:53,290", "timestamp_s": 533.0}, {"text": "mutex used for? It\u0027s used for serialization", "timestamp": "00:08:57,026", "timestamp_s": 537.0}, {"text": "by using mutexes also locks,", "timestamp": "00:09:00,578", "timestamp_s": 540.0}, {"text": "we have the ability of controlling which routine should work, which routine", "timestamp": "00:09:03,638", "timestamp_s": 543.0}, {"text": "should not work. When I say which, you\u0027re not identifying", "timestamp": "00:09:07,622", "timestamp_s": 547.0}, {"text": "a routine in particular, but you have the ability to rewrites code.", "timestamp": "00:09:11,238", "timestamp_s": 551.0}, {"text": "These only one can get executed while the other is waiting", "timestamp": "00:09:14,756", "timestamp_s": 554.0}, {"text": "for a read or a write operation to happen. So things ability to serialize", "timestamp": "00:09:18,538", "timestamp_s": 558.0}, {"text": "operations is what you get because that\u0027s what locks do effectively.", "timestamp": "00:09:22,346", "timestamp_s": 562.0}, {"text": "And it also allows data consistency,", "timestamp": "00:09:26,526", "timestamp_s": 566.0}, {"text": "because while inside a lock you can increment a", "timestamp": "00:09:29,430", "timestamp_s": 569.0}, {"text": "value, so the other reader cannot read the value. But what", "timestamp": "00:09:32,904", "timestamp_s": 572.0}, {"text": "it doesn\u0027t do, it doesn\u0027t do a control handoff because", "timestamp": "00:09:36,408", "timestamp_s": 576.0}, {"text": "it\u0027s used as a communication exchange control", "timestamp": "00:09:40,076", "timestamp_s": 580.0}, {"text": "mechanism between two processes, and usually not used for a handoff, which is where", "timestamp": "00:09:43,724", "timestamp_s": 583.0}, {"text": "a weight group comes into the picture. And it\u0027s also not used for data sharing", "timestamp": "00:09:48,092", "timestamp_s": 588.0}, {"text": "because there is no construct of it carrying its own data.", "timestamp": "00:09:51,542", "timestamp_s": 591.0}, {"text": "What are the fun mistakes around mutexes int?", "timestamp": "00:09:55,710", "timestamp_s": 595.0}, {"text": "A simple counter which has an embedded mutex inside it,", "timestamp": "00:09:59,088", "timestamp_s": 599.0}, {"text": "a pretty well known construct in Golang int also has an", "timestamp": "00:10:02,820", "timestamp_s": 602.0}, {"text": "integer n. There are two methods. There\u0027s an add method which", "timestamp": "00:10:06,148", "timestamp_s": 606.0}, {"text": "acquires a lock and increments n by the integer pass. There\u0027s another", "timestamp": "00:10:11,412", "timestamp_s": 611.0}, {"text": "value method which also rewrites a lock and", "timestamp": "00:10:15,684", "timestamp_s": 615.0}, {"text": "returns the c n. So effectively there should", "timestamp": "00:10:19,176", "timestamp_s": 619.0}, {"text": "not be any race condition here, because we are judiciously using unlocks.", "timestamp": "00:10:22,552", "timestamp_s": 622.0}, {"text": "Now what can go wrong here? If I run this code, when I", "timestamp": "00:10:26,350", "timestamp_s": 626.0}, {"text": "run this code, I surprisingly actually run into a race condition.", "timestamp": "00:10:30,092", "timestamp_s": 630.0}, {"text": "Now why is that? Because we just discussed that even synchronization", "timestamp": "00:10:34,226", "timestamp_s": 634.0}, {"text": "primitives need to respect the principles of the language.", "timestamp": "00:10:37,826", "timestamp_s": 637.0}, {"text": "So what\u0027s happening here? What\u0027s happening here is", "timestamp": "00:10:41,494", "timestamp_s": 641.0}, {"text": "counter is not a method which has been", "timestamp": "00:10:45,310", "timestamp_s": 645.0}, {"text": "bound. Value is not a method which has been bound. Cto the pointer reference.", "timestamp": "00:10:49,152", "timestamp_s": 649.0}, {"text": "What that means is that when value is invoked,", "timestamp": "00:10:53,914", "timestamp_s": 653.0}, {"text": "the state of the counter is copied and so is the", "timestamp": "00:10:57,866", "timestamp_s": 657.0}, {"text": "sync mutex. And while it is getting copied, it tries", "timestamp": "00:11:01,348", "timestamp_s": 661.0}, {"text": "to read n because somebody else had still acquired a lock", "timestamp": "00:11:05,038", "timestamp_s": 665.0}, {"text": "on that n. Effectively, it doesn\u0027t even matter", "timestamp": "00:11:08,798", "timestamp_s": 668.0}, {"text": "what you have inside the body of the code just by accessing value,", "timestamp": "00:11:12,776", "timestamp_s": 672.0}, {"text": "because the process of calling value invokes", "timestamp": "00:11:17,450", "timestamp_s": 677.0}, {"text": "a copy to happen, and by the virtue of that a", "timestamp": "00:11:23,450", "timestamp_s": 683.0}, {"text": "read to happen on n, and hence it results in a race condition.", "timestamp": "00:11:27,132", "timestamp_s": 687.0}, {"text": "So even if I was to replace that entire body of the", "timestamp": "00:11:31,270", "timestamp_s": 691.0}, {"text": "code with a return one, this would be the exact same", "timestamp": "00:11:35,248", "timestamp_s": 695.0}, {"text": "race condition. How do we solve this? We just", "timestamp": "00:11:38,736", "timestamp_s": 698.0}, {"text": "make sure that we actually use a pass by reference here.", "timestamp": "00:11:41,952", "timestamp_s": 701.0}, {"text": "So the counter should be bound, the pointer should be binding,", "timestamp": "00:11:45,316", "timestamp_s": 705.0}, {"text": "the value method, not the other way around. It\u0027s a fair conclusion", "timestamp": "00:11:49,178", "timestamp_s": 709.0}, {"text": "to say that while resolving a consensus problem,", "timestamp": "00:11:52,618", "timestamp_s": 712.0}, {"text": "the marshals themselves are not immune to the consensus", "timestamp": "00:11:56,216", "timestamp_s": 716.0}, {"text": "problem. They themselves have to adhere. CTo all of these principles,", "timestamp": "00:11:59,646", "timestamp_s": 719.0}, {"text": "underneath all these mutexes weight groups is the", "timestamp": "00:12:03,854", "timestamp_s": 723.0}, {"text": "third Marshall, which is the bedrock of all synchronization, which is these", "timestamp": "00:12:07,372", "timestamp_s": 727.0}, {"text": "sync atomic. Now surprisingly, atomic has very", "timestamp": "00:12:10,764", "timestamp_s": 730.0}, {"text": "limited applicability as such directly.", "timestamp": "00:12:14,028", "timestamp_s": 734.0}, {"text": "And most of the times we end up using the constructs", "timestamp": "00:12:17,570", "timestamp_s": 737.0}, {"text": "on top of this. But it is the underlying construct which", "timestamp": "00:12:21,318", "timestamp_s": 741.0}, {"text": "is used behind most of these other primitives,", "timestamp": "00:12:25,168", "timestamp_s": 745.0}, {"text": "which are higher order. Now, what is an atomic use for", "timestamp": "00:12:28,278", "timestamp_s": 748.0}, {"text": "data consistency? All int, all through, nothing else.", "timestamp": "00:12:31,396", "timestamp_s": 751.0}, {"text": "There is a value. I want to atomically change that value,", "timestamp": "00:12:35,508", "timestamp_s": 755.0}, {"text": "update an integer and do nothing else.", "timestamp": "00:12:38,836", "timestamp_s": 758.0}, {"text": "It is not uses for control handoff. It cannot be used for serialization.", "timestamp": "00:12:42,436", "timestamp_s": 762.0}, {"text": "I mean there can be derivatives of it, but by direct virtue of its own", "timestamp": "00:12:46,570", "timestamp_s": 766.0}, {"text": "properties, it doesn\u0027t do this by primitives.", "timestamp": "00:12:50,088", "timestamp_s": 770.0}, {"text": "Weight group is a derivative of this. So those allow because using atomics you", "timestamp": "00:12:53,198", "timestamp_s": 773.0}, {"text": "can create such higher other primitives as well.", "timestamp": "00:12:57,048", "timestamp_s": 777.0}, {"text": "Like we\u0027ll discuss later, lock free data structure. And it doesn\u0027t", "timestamp": "00:13:00,364", "timestamp_s": 780.0}, {"text": "do data sharing. It\u0027s not used for data sharing because it doesn\u0027t carry", "timestamp": "00:13:03,858", "timestamp_s": 783.0}, {"text": "it from data like channels do.", "timestamp": "00:13:07,058", "timestamp_s": 787.0}, {"text": "Now here\u0027s an applicability of atomically performing", "timestamp": "00:13:10,076", "timestamp_s": 790.0}, {"text": "a load and store. There\u0027s a simple map type map", "timestamp": "00:13:13,494", "timestamp_s": 793.0}, {"text": "string string. There\u0027s an atomic value inside m store.", "timestamp": "00:13:16,998", "timestamp_s": 796.0}, {"text": "We basically save a map. Then there\u0027s a read function and there\u0027s an", "timestamp": "00:13:20,480", "timestamp_s": 800.0}, {"text": "insert function. Read function just atomically does", "timestamp": "00:13:23,668", "timestamp_s": 803.0}, {"text": "a m load and converts the value of type", "timestamp": "00:13:26,852", "timestamp_s": 806.0}, {"text": "to map. Insert, however, tries to update", "timestamp": "00:13:30,420", "timestamp_s": 810.0}, {"text": "this value so it performs can m dot store.", "timestamp": "00:13:34,666", "timestamp_s": 814.0}, {"text": "Now just int this simple piece of code while,", "timestamp": "00:13:37,928", "timestamp_s": 817.0}, {"text": "and this is a piece of code which has been copied from the Golang documentation.", "timestamp": "00:13:41,704", "timestamp_s": 821.0}, {"text": "So what can possibly go wrong here? What can possibly go wrong", "timestamp": "00:13:45,182", "timestamp_s": 825.0}, {"text": "these is that if multiple writers", "timestamp": "00:13:48,812", "timestamp_s": 828.0}, {"text": "try to invoke the insert method, the construct is not immune", "timestamp": "00:13:52,866", "timestamp_s": 832.0}, {"text": "to it. Now what we do is we are doing a", "timestamp": "00:13:56,994", "timestamp_s": 836.0}, {"text": "mix and match. So while we are discussing atomics, but we have started using", "timestamp": "00:14:00,528", "timestamp_s": 840.0}, {"text": "other constructs to solve our problems. So we introduced", "timestamp": "00:14:04,416", "timestamp_s": 844.0}, {"text": "a mutex here. And on the insert we just", "timestamp": "00:14:08,262", "timestamp_s": 848.0}, {"text": "guarantee serialization by performing a mutex", "timestamp": "00:14:12,256", "timestamp_s": 852.0}, {"text": "lock and then we just defer it. What this does is that if multiple", "timestamp": "00:14:15,830", "timestamp_s": 855.0}, {"text": "routines are trying cto invoke the insert method only", "timestamp": "00:14:19,626", "timestamp_s": 859.0}, {"text": "prone of them runs at a time because mutexes are great at serialization.", "timestamp": "00:14:22,856", "timestamp_s": 862.0}, {"text": "We just agreed that and now we will", "timestamp": "00:14:27,350", "timestamp_s": 867.0}, {"text": "just perform this mutex block. Next up,", "timestamp": "00:14:31,416", "timestamp_s": 871.0}, {"text": "what would you expect the output to be here there\u0027s", "timestamp": "00:14:35,450", "timestamp_s": 875.0}, {"text": "a funk a. There\u0027s a main method. Inside the main method", "timestamp": "00:14:39,538", "timestamp_s": 879.0}, {"text": "there is xy two integers. There is", "timestamp": "00:14:43,666", "timestamp_s": 883.0}, {"text": "a print ln, which is basically calling the a", "timestamp": "00:14:47,884", "timestamp_s": 887.0}, {"text": "function. Inside the function we pass the pointer of", "timestamp": "00:14:51,840", "timestamp_s": 891.0}, {"text": "the integer inside the body of an a. It accepts", "timestamp": "00:14:55,776", "timestamp_s": 895.0}, {"text": "an integer and it returns a channel. The channel,", "timestamp": "00:14:59,318", "timestamp_s": 899.0}, {"text": "just before it returns, it spawns a go routine and it", "timestamp": "00:15:02,468", "timestamp_s": 902.0}, {"text": "does can atomic increment of an integer value.", "timestamp": "00:15:05,748", "timestamp_s": 905.0}, {"text": "There are two operations of this. In one variation we", "timestamp": "00:15:08,996", "timestamp_s": 908.0}, {"text": "simply call log print ln and we pass the", "timestamp": "00:15:12,612", "timestamp_s": 912.0}, {"text": "two fun we call the two functions and we read the channel value from", "timestamp": "00:15:16,216", "timestamp_s": 916.0}, {"text": "it. In another variation we store it into two", "timestamp": "00:15:19,912", "timestamp_s": 919.0}, {"text": "variables, ab and bv. There are two functions, a and", "timestamp": "00:15:23,288", "timestamp_s": 923.0}, {"text": "a called again, and the second line of it will", "timestamp": "00:15:26,552", "timestamp_s": 926.0}, {"text": "read from that. They don\u0027t look entirely different if", "timestamp": "00:15:30,476", "timestamp_s": 930.0}, {"text": "you think about it, because what we have just done is that in the second", "timestamp": "00:15:34,348", "timestamp_s": 934.0}, {"text": "variation we have taken the initialization one step ahead.", "timestamp": "00:15:37,196", "timestamp_s": 937.0}, {"text": "So it\u0027s two stage. Now it\u0027s not just one stage. What would you expect", "timestamp": "00:15:40,320", "timestamp_s": 940.0}, {"text": "the output to be? It\u0027s interesting that when I", "timestamp": "00:15:44,016", "timestamp_s": 944.0}, {"text": "run this code the first execution", "timestamp": "00:15:47,744", "timestamp_s": 947.0}, {"text": "gives me a two and a four, whereas the second", "timestamp": "00:15:51,630", "timestamp_s": 951.0}, {"text": "execution gives me a four and a four. Now which is understandable,", "timestamp": "00:15:54,900", "timestamp_s": 954.0}, {"text": "the four and four part. Why? Because it\u0027s the same atomic", "timestamp": "00:15:59,306", "timestamp_s": 959.0}, {"text": "operation. And remember, atomic operations were about data", "timestamp": "00:16:02,942", "timestamp_s": 962.0}, {"text": "consistency. So if it\u0027s the same integer", "timestamp": "00:16:06,856", "timestamp_s": 966.0}, {"text": "which has been incremented twice and read on the channel it will", "timestamp": "00:16:10,622", "timestamp_s": 970.0}, {"text": "obviously be four. But why did the two happen? To answer", "timestamp": "00:16:14,456", "timestamp_s": 974.0}, {"text": "this, let\u0027s add some log statement. Now what we do", "timestamp": "00:16:18,236", "timestamp_s": 978.0}, {"text": "is just after the atomic ad I\u0027ve added a log print ln", "timestamp": "00:16:21,708", "timestamp_s": 981.0}, {"text": "and there\u0027s a time sleep of 2 seconds. So what that means is", "timestamp": "00:16:25,970", "timestamp_s": 985.0}, {"text": "that before the value is returned it\u0027s actually going to sleep for 2 seconds.", "timestamp": "00:16:29,404", "timestamp_s": 989.0}, {"text": "Now when we run this, the first execution", "timestamp": "00:16:33,078", "timestamp_s": 993.0}, {"text": "prints one prone and two four. The second also prints one, one and", "timestamp": "00:16:36,390", "timestamp_s": 996.0}, {"text": "four four. But interestingly, if you observe the timestamp,", "timestamp": "00:16:39,968", "timestamp_s": 999.0}, {"text": "the first int happens at the 16th second and then", "timestamp": "00:16:43,078", "timestamp_s": 1003.0}, {"text": "it waits for 2 seconds and then int prints one and waits another", "timestamp": "00:16:46,532", "timestamp_s": 1006.0}, {"text": "2 seconds and returns two and four. Whereas the second implementation", "timestamp": "00:16:50,612", "timestamp_s": 1010.0}, {"text": "on the 20th 2nd, both of them print one and then after", "timestamp": "00:16:55,818", "timestamp_s": 1015.0}, {"text": "2 seconds because both waited for 2 seconds return a four and four.", "timestamp": "00:16:59,336", "timestamp_s": 1019.0}, {"text": "So effectively what\u0027s happening is the arguments inside", "timestamp": "00:17:02,872", "timestamp_s": 1022.0}, {"text": "the function are executed serially. There\u0027s a classic", "timestamp": "00:17:06,840", "timestamp_s": 1026.0}, {"text": "mistake that we do when we\u0027re dealing with this. A simple way to solve", "timestamp": "00:17:10,658", "timestamp_s": 1030.0}, {"text": "is use the lower construct, which is actually concurrent", "timestamp": "00:17:14,354", "timestamp_s": 1034.0}, {"text": "and not the first one because that would happen one after the other. Now this", "timestamp": "00:17:18,242", "timestamp_s": 1038.0}, {"text": "can result in a situation because it is possible that you", "timestamp": "00:17:21,616", "timestamp_s": 1041.0}, {"text": "may get blocked on the other value because the one hasn\u0027t worked.", "timestamp": "00:17:25,552", "timestamp_s": 1045.0}, {"text": "Clearly evident in this code here because it happened as", "timestamp": "00:17:29,296", "timestamp_s": 1049.0}, {"text": "two and these, the other value came as four. We also discussed that", "timestamp": "00:17:32,532", "timestamp_s": 1052.0}, {"text": "atomics and mutexes can both actually be uses for data", "timestamp": "00:17:36,596", "timestamp_s": 1056.0}, {"text": "consistency. So are they interchangeable? Is a common question.", "timestamp": "00:17:40,276", "timestamp_s": 1060.0}, {"text": "Atomic, as we said, are the bedrock of int", "timestamp": "00:17:43,880", "timestamp_s": 1063.0}, {"text": "using that others are done now? Yes and no,", "timestamp": "00:17:47,688", "timestamp_s": 1067.0}, {"text": "because there\u0027s only one case where you can actually interchangeably call", "timestamp": "00:17:51,592", "timestamp_s": 1071.0}, {"text": "them as performing the same role, which is assume there was", "timestamp": "00:17:55,192", "timestamp_s": 1075.0}, {"text": "an integer operation where we had to increment something. Now I may use atomic", "timestamp": "00:17:58,328", "timestamp_s": 1078.0}, {"text": "add int, or I may actually take a lock and do an unlock and apply", "timestamp": "00:18:02,562", "timestamp_s": 1082.0}, {"text": "it. Int will give me the same behavior at the end of the day.", "timestamp": "00:18:06,076", "timestamp_s": 1086.0}, {"text": "And this is the only time where we say that oh yeah, there may be", "timestamp": "00:18:09,068", "timestamp_s": 1089.0}, {"text": "overlapping concerns, but interestingly atomics are actually way faster,", "timestamp": "00:18:11,568", "timestamp_s": 1091.0}, {"text": "so you may be able to do more number of atomic operations compared with", "timestamp": "00:18:15,126", "timestamp_s": 1095.0}, {"text": "the locks because atomics are sent directly to the CPU and", "timestamp": "00:18:18,464", "timestamp_s": 1098.0}, {"text": "these are no language. VM ordered locks which are", "timestamp": "00:18:22,096", "timestamp_s": 1102.0}, {"text": "being performed. So you would actually see a drastic performance gain. But all", "timestamp": "00:18:25,828", "timestamp_s": 1105.0}, {"text": "over Golang we\u0027ve always read and seen please do not communicate", "timestamp": "00:18:29,268", "timestamp_s": 1109.0}, {"text": "by sharing memory. Instead share memory by communicating, which takes", "timestamp": "00:18:32,778", "timestamp_s": 1112.0}, {"text": "us to the channels. Now what are channels used for like", "timestamp": "00:18:36,232", "timestamp_s": 1116.0}, {"text": "atomics are only and only used for primarily data consistency.", "timestamp": "00:18:40,456", "timestamp_s": 1120.0}, {"text": "Channels are used for everything, which is other than that, which is control,", "timestamp": "00:18:44,942", "timestamp_s": 1124.0}, {"text": "handoff, serialization, data sharing. It\u0027s surprising how much you can actually", "timestamp": "00:18:47,912", "timestamp_s": 1127.0}, {"text": "start doing with channels. I mean it\u0027s only not used for data consistency", "timestamp": "00:18:51,276", "timestamp_s": 1131.0}, {"text": "now because channels are so widely used.", "timestamp": "00:18:55,586", "timestamp_s": 1135.0}, {"text": "I\u0027m going to cover a lot of these fun mistakes.", "timestamp": "00:18:58,730", "timestamp_s": 1138.0}, {"text": "Fun for me, maybe not fun for your others. Look at", "timestamp": "00:19:02,006", "timestamp_s": 1142.0}, {"text": "things. Piece of code. What could be going wrong here?", "timestamp": "00:19:05,808", "timestamp_s": 1145.0}, {"text": "There\u0027s a funk request which returns an InT. There\u0027s a channel,", "timestamp": "00:19:09,568", "timestamp_s": 1149.0}, {"text": "there is an I, it loops over zero to", "timestamp": "00:19:12,980", "timestamp_s": 1152.0}, {"text": "five increments at plus plus, and it", "timestamp": "00:19:16,068", "timestamp_s": 1156.0}, {"text": "writes the value to a channel. What could go prone?", "timestamp": "00:19:20,052", "timestamp_s": 1160.0}, {"text": "These. What can go prone here is that", "timestamp": "00:19:23,476", "timestamp_s": 1163.0}, {"text": "those goroutine are waiting to write on", "timestamp": "00:19:26,728", "timestamp_s": 1166.0}, {"text": "a channel. Now if the receiver or the reader of", "timestamp": "00:19:30,472", "timestamp_s": 1170.0}, {"text": "the request only read it once, there are multiple", "timestamp": "00:19:33,528", "timestamp_s": 1173.0}, {"text": "invocations of those functions which are just blocked forever", "timestamp": "00:19:37,714", "timestamp_s": 1177.0}, {"text": "because they are just waiting for the channel to clear up to rewrites.", "timestamp": "00:19:41,154", "timestamp_s": 1181.0}, {"text": "To solve for this, we have constructs. What we do is we", "timestamp": "00:19:44,700", "timestamp_s": 1184.0}, {"text": "wrap it inside a select clause which tries to write to", "timestamp": "00:19:48,268", "timestamp_s": 1188.0}, {"text": "a channel, and if it doesn\u0027t work it falls to the default,", "timestamp": "00:19:51,808", "timestamp_s": 1191.0}, {"text": "which is an empty. Surprisingly, this is also not the correct", "timestamp": "00:19:55,382", "timestamp_s": 1195.0}, {"text": "way, because this can also run into a unique condition, which is the", "timestamp": "00:19:58,816", "timestamp_s": 1198.0}, {"text": "last line can block forever now, because it\u0027s possible that", "timestamp": "00:20:03,316", "timestamp_s": 1203.0}, {"text": "even before the channel is read from", "timestamp": "00:20:07,380", "timestamp_s": 1207.0}, {"text": "outside of the request, the other goroutine tried", "timestamp": "00:20:11,444", "timestamp_s": 1211.0}, {"text": "writing, found nothing, and fell through", "timestamp": "00:20:15,384", "timestamp_s": 1215.0}, {"text": "the default section. So now the return channel", "timestamp": "00:20:19,032", "timestamp_s": 1219.0}, {"text": "is waiting forever. One of the most interesting questions", "timestamp": "00:20:22,744", "timestamp_s": 1222.0}, {"text": "that I always face when", "timestamp": "00:20:26,744", "timestamp_s": 1226.0}, {"text": "I\u0027m writing code as well, is when and who should close an", "timestamp": "00:20:30,108", "timestamp_s": 1230.0}, {"text": "open channel. There\u0027s one of the things that I never thought, and it always takes", "timestamp": "00:20:33,948", "timestamp_s": 1233.0}, {"text": "me the hard way, a simple piece of code. Again, it\u0027s a for loop.", "timestamp": "00:20:37,292", "timestamp_s": 1237.0}, {"text": "Inside the for loop there\u0027s a value which is returned to a channel which has", "timestamp": "00:20:41,666", "timestamp_s": 1241.0}, {"text": "been produced. So you can think of it like a producer. And underneath there", "timestamp": "00:20:44,768", "timestamp_s": 1244.0}, {"text": "is a receiver which basically ends the value, appends it to an array.", "timestamp": "00:20:48,368", "timestamp_s": 1248.0}, {"text": "Once we are done, we print. When I print, I find that", "timestamp": "00:20:52,378", "timestamp_s": 1252.0}, {"text": "one is missing. Now, this would happen if", "timestamp": "00:20:56,196", "timestamp_s": 1256.0}, {"text": "my program exited, obviously this loop. After code C, my programs", "timestamp": "00:21:00,612", "timestamp_s": 1260.0}, {"text": "exited. Now, because WG weight was a weight", "timestamp": "00:21:04,420", "timestamp_s": 1264.0}, {"text": "group on these producers. Once producers were", "timestamp": "00:21:08,462", "timestamp_s": 1268.0}, {"text": "done producing and the channel was closed immediately,", "timestamp": "00:21:12,008", "timestamp_s": 1272.0}, {"text": "it\u0027s possible that the receiver has not yet", "timestamp": "00:21:16,014", "timestamp_s": 1276.0}, {"text": "performed the operation on receive and the function got exited and", "timestamp": "00:21:19,320", "timestamp_s": 1279.0}, {"text": "the program got exited. And hence that\u0027s the reason why I did not see", "timestamp": "00:21:22,988", "timestamp_s": 1282.0}, {"text": "a one. So how do I guarantee this, that if ten were", "timestamp": "00:21:26,172", "timestamp_s": 1286.0}, {"text": "sent, ten were received in this particular things? First of", "timestamp": "00:21:29,536", "timestamp_s": 1289.0}, {"text": "the implementation, the very first implementation, what we do is we", "timestamp": "00:21:33,024", "timestamp_s": 1293.0}, {"text": "detach the close responsibility from the sender.", "timestamp": "00:21:36,432", "timestamp_s": 1296.0}, {"text": "What we do is we basically make the WG wait", "timestamp": "00:21:41,650", "timestamp_s": 1301.0}, {"text": "in another goroutine, and that is the one which closes.", "timestamp": "00:21:45,316", "timestamp_s": 1305.0}, {"text": "And the execution of reading through the channel now", "timestamp": "00:21:49,178", "timestamp_s": 1309.0}, {"text": "is passed through the main routine in", "timestamp": "00:21:53,316", "timestamp_s": 1313.0}, {"text": "which I range over the channel. And even if it is closed", "timestamp": "00:21:56,952", "timestamp_s": 1316.0}, {"text": "by the goroutine, there is still an iteration that", "timestamp": "00:22:00,814", "timestamp_s": 1320.0}, {"text": "will happen which will still be able to read from the channel. This is one", "timestamp": "00:22:04,328", "timestamp_s": 1324.0}, {"text": "way of implementing it. Another way of implementing it, which is actually", "timestamp": "00:22:07,788", "timestamp_s": 1327.0}, {"text": "far more prevalent, is when both producers and senders", "timestamp": "00:22:11,500", "timestamp_s": 1331.0}, {"text": "and receivers are actually two different go routines which need", "timestamp": "00:22:15,474", "timestamp_s": 1335.0}, {"text": "to communicate. And this is where we introduce the dungeon. So you\u0027re", "timestamp": "00:22:18,748", "timestamp_s": 1338.0}, {"text": "producing and the consumer is receiving. But at", "timestamp": "00:22:22,610", "timestamp_s": 1342.0}, {"text": "comes point of time, the control flow must not leave", "timestamp": "00:22:26,432", "timestamp_s": 1346.0}, {"text": "these parent function. And hence we have two", "timestamp": "00:22:30,192", "timestamp_s": 1350.0}, {"text": "weight constructs. Now we are actually waiting via the wait", "timestamp": "00:22:33,476", "timestamp_s": 1353.0}, {"text": "group. We close the channel and then we wait on", "timestamp": "00:22:37,076", "timestamp_s": 1357.0}, {"text": "another channel, which is triggered after", "timestamp": "00:22:40,612", "timestamp_s": 1360.0}, {"text": "the receivers are done receiving. So these are two", "timestamp": "00:22:44,630", "timestamp_s": 1364.0}, {"text": "constructs of it. What else can go wrong with the channel?", "timestamp": "00:22:48,296", "timestamp_s": 1368.0}, {"text": "Let\u0027s look at things long running piece of code. It accepts", "timestamp": "00:22:51,928", "timestamp_s": 1371.0}, {"text": "a messages channel. What we\u0027re trying to achieve here is read from", "timestamp": "00:22:55,422", "timestamp_s": 1375.0}, {"text": "messages, and if any of those reads take more than", "timestamp": "00:22:58,812", "timestamp_s": 1378.0}, {"text": "a minute, then just return. And a bot, it\u0027s a", "timestamp": "00:23:02,572", "timestamp_s": 1382.0}, {"text": "fairly straightforward code. It compiles. But what\u0027s going wrong here,", "timestamp": "00:23:06,124", "timestamp_s": 1386.0}, {"text": "what\u0027s going wrong here is that channel can still decommemary, because inside each", "timestamp": "00:23:09,664", "timestamp_s": 1389.0}, {"text": "code operations we are creating a new time after.", "timestamp": "00:23:13,712", "timestamp_s": 1393.0}, {"text": "And this keeps on getting created, created, created.", "timestamp": "00:23:17,648", "timestamp_s": 1397.0}, {"text": "All we wanted to do was we just wanted to wait for", "timestamp": "00:23:20,982", "timestamp_s": 1400.0}, {"text": "a minute. A better way to deal with this is to", "timestamp": "00:23:24,228", "timestamp_s": 1404.0}, {"text": "initialize a time dot after, save an allocation, keep reusing it,", "timestamp": "00:23:27,780", "timestamp_s": 1407.0}, {"text": "keep looking for t channels output. If int happens after a minute,", "timestamp": "00:23:31,988", "timestamp_s": 1411.0}, {"text": "it will return otherwise formed. Print ln. Once it\u0027s", "timestamp": "00:23:35,562", "timestamp_s": 1415.0}, {"text": "done with the select, just do a reset. What this does is it doesn\u0027t", "timestamp": "00:23:39,258", "timestamp_s": 1419.0}, {"text": "keep creating those channels and the time dot after in", "timestamp": "00:23:43,082", "timestamp_s": 1423.0}, {"text": "every single iteration. Now all of these are about when two people", "timestamp": "00:23:46,508", "timestamp_s": 1426.0}, {"text": "are trying to compete for a resource here,", "timestamp": "00:23:49,932", "timestamp_s": 1429.0}, {"text": "everything, every such construct was about that. One of the best ways to", "timestamp": "00:23:53,596", "timestamp_s": 1433.0}, {"text": "resolve a conflict is to avoid int from happening. Now this is where", "timestamp": "00:23:57,516", "timestamp_s": 1437.0}, {"text": "we introduce the notion of lockless data structures. It\u0027s a study", "timestamp": "00:24:01,248", "timestamp_s": 1441.0}, {"text": "in itself on how lockless data structures are implemented.", "timestamp": "00:24:05,072", "timestamp_s": 1445.0}, {"text": "Why I stress on lockless data structures is because generalized", "timestamp": "00:24:09,254", "timestamp_s": 1449.0}, {"text": "lock free algorithms are very hard to implement. Designing lock free", "timestamp": "00:24:12,522", "timestamp_s": 1452.0}, {"text": "data structures is relatively easier. My slides have a bunch of", "timestamp": "00:24:16,212", "timestamp_s": 1456.0}, {"text": "these links which are from Microsoft research and other", "timestamp": "00:24:19,988", "timestamp_s": 1459.0}, {"text": "research papers which talk about building these common data structures which", "timestamp": "00:24:23,412", "timestamp_s": 1463.0}, {"text": "are actually lockless. And most of them use atomic underneath. Because as", "timestamp": "00:24:26,808", "timestamp_s": 1466.0}, {"text": "we discussed earlier, atomic is almost the bedrock of all concurrency control.", "timestamp": "00:24:31,192", "timestamp_s": 1471.0}, {"text": "Many a times. What also happens is that a simple", "timestamp": "00:24:35,750", "timestamp_s": 1475.0}, {"text": "solution is actually way better than a smart solution. If you look", "timestamp": "00:24:39,100", "timestamp_s": 1479.0}, {"text": "at this piece of code, there\u0027s an input array of integers,", "timestamp": "00:24:42,988", "timestamp_s": 1482.0}, {"text": "and there\u0027s an output array of integers. We need to run over the input array,", "timestamp": "00:24:46,690", "timestamp_s": 1486.0}, {"text": "perform a go routine, which is something,", "timestamp": "00:24:51,062", "timestamp_s": 1491.0}, {"text": "it does something, get the output of it and append it to the", "timestamp": "00:24:54,736", "timestamp_s": 1494.0}, {"text": "output array. The simplest way to do this would be using a lock,", "timestamp": "00:24:58,288", "timestamp_s": 1498.0}, {"text": "because now we\u0027re trying to serialize the access to the result output", "timestamp": "00:25:01,766", "timestamp_s": 1501.0}, {"text": "array. Or do we really need a lock here?", "timestamp": "00:25:05,322", "timestamp_s": 1505.0}, {"text": "A simpler way would just be to use an array and", "timestamp": "00:25:08,404", "timestamp_s": 1508.0}, {"text": "use positional index. Now arrays, as long as they", "timestamp": "00:25:12,308", "timestamp_s": 1512.0}, {"text": "are positionally accessed, can actually leave and do", "timestamp": "00:25:15,528", "timestamp_s": 1515.0}, {"text": "not require a need of a lock. We can just simply do run", "timestamp": "00:25:19,688", "timestamp_s": 1519.0}, {"text": "with an index. Once we get the output, we access the", "timestamp": "00:25:23,352", "timestamp_s": 1523.0}, {"text": "array via the positional index, and it does", "timestamp": "00:25:26,588", "timestamp_s": 1526.0}, {"text": "the job so many times we actually may not even need a", "timestamp": "00:25:29,932", "timestamp_s": 1529.0}, {"text": "very sophisticated concurrency control mechanism because this itself will do our", "timestamp": "00:25:34,668", "timestamp_s": 1534.0}, {"text": "job. Just to recap, what is the", "timestamp": "00:25:38,352", "timestamp_s": 1538.0}, {"text": "need for concurrency constructs? Because we want to solve", "timestamp": "00:25:41,888", "timestamp_s": 1541.0}, {"text": "the unpredictability problem, we want control.", "timestamp": "00:25:45,830", "timestamp_s": 1545.0}, {"text": "There are two kinds of that. There are control constructs", "timestamp": "00:25:49,150", "timestamp_s": 1549.0}, {"text": "which are used for control handoff. There are data constructs which are", "timestamp": "00:25:52,522", "timestamp_s": 1552.0}, {"text": "used for data sharing, and data consistency. Constructs also", "timestamp": "00:25:56,084", "timestamp_s": 1556.0}, {"text": "need to adhere to language principles. We saw how weight groups,", "timestamp": "00:25:59,796", "timestamp_s": 1559.0}, {"text": "how counters, or how channels as well can actually misbehave", "timestamp": "00:26:03,466", "timestamp_s": 1563.0}, {"text": "if you\u0027re not careful about how we are applying them. And now", "timestamp": "00:26:07,322", "timestamp_s": 1567.0}, {"text": "we also probably understand which prone to use when to recap", "timestamp": "00:26:10,692", "timestamp_s": 1570.0}, {"text": "were to look at the same problem again. Now when", "timestamp": "00:26:14,890", "timestamp_s": 1574.0}, {"text": "we look at this, we probably are better equipped to handle this problem.", "timestamp": "00:26:18,012", "timestamp_s": 1578.0}, {"text": "Thank you. I\u0027m CTO and founder at last", "timestamp": "00:26:21,500", "timestamp_s": 1581.0}, {"text": "nine. We are an observability company and I\u0027m Pushova.", "timestamp": "00:26:24,972", "timestamp_s": 1584.0}];
              

              var tag = document.createElement('script');

              tag.src = "https://www.youtube.com/iframe_api";
              var firstScriptTag = document.getElementsByTagName('script')[0];
              firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

              // 3. This function creates an <iframe> (and YouTube player)
              //    after the API code downloads.
              var player;
              function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                  height: '100%',
                  width: '100%',
                  videoId: 'BeFLnQF78ik',
                  playerVars: {
                    'playsinline': 1
                  },
                  events: {
                    'onReady': onPlayerReady,
                    // 'onStateChange': onPlayerStateChange
                  }
                });
              }
              function onPlayerReady(event) {
                console.log("Player ready");
                var sec = Number(location.href.split("#")[1]);
                if (sec){
                  player.seekTo(sec, true);
                }
                player.playVideo();
                highlightParagraph();
              }
              // find the number of the paragraph
              function findParagraph(sec){
                for (var i = 1; i < transcript.length; i++) {
                  if (transcript[i].timestamp_s > sec){
                    return i - 1;
                  }
                }
                return transcript.length - 1;
              }
              // move the video to the desired second
              function seek(sec){
                if(player){
                  player.playVideo();
                  player.seekTo(sec, true);
                }
                location.href = location.href.split("#")[0] + "#" + sec;
                highlightParagraph(sec);
              }
              // highlight the right paragraph
              var prevParagraph;
              function highlightParagraph(sec) {
                var currentTime = sec;
                if (!currentTime && player) {
                  currentTime = player.getCurrentTime();
                }
                if (!currentTime){
                  console.log("No current time")
                  return;
                }
                var currentParagraph = findParagraph(currentTime);
                if (currentParagraph !== prevParagraph){
                  prevParagraph = currentParagraph;
                  Array.from(document.getElementsByClassName("transcript-chunks")).forEach((e) => {
                    e.classList.remove('text-selected');
                  });
                  var body = document.getElementById("chunk-"+currentParagraph);
                  body.classList.add('text-selected');
                }
              }
              time_update_interval = setInterval(highlightParagraph, 1000);
            </script>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>
    

    <!-- CONTENT -->
    <section class="pt-2">
      <div class="container">
        <div class="row justify-content-center">

          <div class="col-12 mb-5">
            <h1>
              Concurrency primitives of Golang - how to use and how not to
            </h1>
            
            <h3 class="bg-white">
              Video size:
              <a href="javascript:void(0);" onclick="resizeVideo(25)"><i class="fe fe-zoom-out me-2"></i></a>
              <a href="javascript:void(0);" onclick="resizeVideo(50)"><i class="fe fe-zoom-in me-2"></i></a>
            </h3>
            
          </div>

          <div class="col-12 mb-5">
            <h3>
              Abstract
            </h3>
<!-- Text -->
<p>Every marginally, sophisticated Golang code that I write needs refactoring to solve race and deadlocks. The concurrency primitives like atomic, sync, channels, and waitGroups have their uses and fail. The lack of understanding ends up with a lot of rewrites. This talk aims to solve that.</p>
<p>I have seen more Go code shipped as glue programs and binaries than actual web servers, usually intended to do the heavy-lifting of data transfers shortly and reliably. With such clinical needs comes a need to handle concurrency and parallelism. And each time more than one worker is doing a job, there will be contention and starvation.
A lack of useful design principle guides ends up in Engineers writing non-performant, race-condition prone codes or ending up refactoring. </p>
<p>To provide an example, some of the things I wish I had known:
- the <em>real</em> difference of when to use a Channel, a waitGroup, an atomic, or a mutex
- one shouldn&rsquo;t be using a wg.Add() inside a goroutine. 
- How does one solve the problem of multiple listeners waiting on an event?
- How atomic Int operations can synchronize multiple workers signaling completion of work.</p>
<p>The talk is not limited to the above scenarios. It intends to cover a few of these constructs to reduce the refactoring that Golang engineers have to go through while also building a better understanding of distributed systems&rsquo; design patterns.</p>
<!-- End Text -->
          </div>

          

          <div class="col-12 mb-5">
            <h3>
              Summary
            </h3>
            <ul>
              
              <li>
                Concurrency primitives of Golang, when to and when not to use some of them. What exactly is a race? A data race? There are four aspects of concurrency control which are happening here.

              </li>
              
              <li>
                The next one is sync mutex. Used for serialization by using mutexes also locks. Even synchronization primitives need to respect the principles of the language. While resolving a consensus problem, the marshals themselves are not immune to the consensus problem.

              </li>
              
              <li>
                Underneath all these mutexes weight groups is the third Marshall, which is the bedrock of all synchronization. atomic has very limited applicability as such directly. It is not used for data sharing because it doesn't carry it from data like channels do. Using atomics you can create higher order primitives.

              </li>
              
              <li>
                Channels are used for everything, which is other than that. Control, handoff, serialization, data sharing. It's surprising how much you can actually start doing with channels. I'm going to cover a lot of these fun mistakes.

              </li>
              
              <li>
                Lockless data structures are very hard to implement. A simple solution is actually way better than a smart solution. Designing lock free data structures is relatively easier.
              </li>
              
            </ul>
          </div>

          <div class="col-12 mb-5">
            <h3>
              Transcript
            </h3>
            <span class="text-muted">
              This transcript was autogenerated. To make changes, <a href="https://github.com/conf42/src/edit/main/./assemblyai/BeFLnQF78ik.srt" target="_blank">submit a PR</a>.
            </span>
            <div>
            
            <span id="chunk-0" class="transcript-chunks" onclick="console.log('00:00:25,650'); seek(25.0)">
              Concurrency primitives of Golang, when to and when not
            </span>
            
            <span id="chunk-1" class="transcript-chunks" onclick="console.log('00:00:29,308'); seek(29.0)">
              to use some of them. Over the years I've seen a lot of code being
            </span>
            
            <span id="chunk-2" class="transcript-chunks" onclick="console.log('00:00:32,492'); seek(32.0)">
              refactored every time there's a marginal change in
            </span>
            
            <span id="chunk-3" class="transcript-chunks" onclick="console.log('00:00:35,692'); seek(35.0)">
              complexity because of some concurrency primitive, and I really wish
            </span>
            
            <span id="chunk-4" class="transcript-chunks" onclick="console.log('00:00:39,442'); seek(39.0)">
              I knew some of these things which I probably will talk about.
            </span>
            
            <span id="chunk-5" class="transcript-chunks" onclick="console.log('00:00:43,370'); seek(43.0)">
              And that could actually save a lot of channels and
            </span>
            
            <span id="chunk-6" class="transcript-chunks" onclick="console.log('00:00:46,972'); seek(46.0)">
              a lot of toil just having to go about refactoring this
            </span>
            
            <span id="chunk-7" class="transcript-chunks" onclick="console.log('00:00:50,476'); seek(50.0)">
              while speaking with concurrency. One of the important things to discuss
            </span>
            
            <span id="chunk-8" class="transcript-chunks" onclick="console.log('00:00:53,780'); seek(53.0)">
              is what exactly is a race? A data
            </span>
            
            <span id="chunk-9" class="transcript-chunks" onclick="console.log('00:00:57,316'); seek(57.0)">
              race? To be fairly honest, the most common definition
            </span>
            
            <span id="chunk-10" class="transcript-chunks" onclick="console.log('00:01:01,082'); seek(61.0)">
              that comes to the mind is reading and writing to a same memory
            </span>
            
            <span id="chunk-11" class="transcript-chunks" onclick="console.log('00:01:05,118'); seek(65.0)">
              location. But before we get to that, there's an important concept
            </span>
            
            <span id="chunk-12" class="transcript-chunks" onclick="console.log('00:01:09,198'); seek(69.0)">
              that needs to be covered, which is memory ordering.
            </span>
            
            <span id="chunk-13" class="transcript-chunks" onclick="console.log('00:01:12,318'); seek(72.0)">
              I'll probably show a small snippet of a code and
            </span>
            
            <span id="chunk-14" class="transcript-chunks" onclick="console.log('00:01:15,560'); seek(75.0)">
              I want you to guess what the output would be.
            </span>
            
            <span id="chunk-15" class="transcript-chunks" onclick="console.log('00:01:18,440'); seek(78.0)">
              Here's a simple piece of code. There's a declaration of VAR a
            </span>
            
            <span id="chunk-16" class="transcript-chunks" onclick="console.log('00:01:21,692'); seek(81.0)">
              and b which is type int. There's a function f assigns
            </span>
            
            <span id="chunk-17" class="transcript-chunks" onclick="console.log('00:01:25,122'); seek(85.0)">
              a equal to one, b equal to two. There's a function g which does
            </span>
            
            <span id="chunk-18" class="transcript-chunks" onclick="console.log('00:01:28,416'); seek(88.0)">
              print b and print a. You can
            </span>
            
            <span id="chunk-19" class="transcript-chunks" onclick="console.log('00:01:32,112'); seek(92.0)">
              ignore the fact that there will be a data race in here,
            </span>
            
            <span id="chunk-20" class="transcript-chunks" onclick="console.log('00:01:35,392'); seek(95.0)">
              because the interesting bit is it is possible
            </span>
            
            <span id="chunk-21" class="transcript-chunks" onclick="console.log('00:01:39,630'); seek(99.0)">
              that g prints two first and then zero.
            </span>
            
            <span id="chunk-22" class="transcript-chunks" onclick="console.log('00:01:43,810'); seek(103.0)">
              Pay slight attention to this. What is the possibility
            </span>
            
            <span id="chunk-23" class="transcript-chunks" onclick="console.log('00:01:47,514'); seek(107.0)">
              when it prints two and zero when print b observed
            </span>
            
            <span id="chunk-24" class="transcript-chunks" onclick="console.log('00:01:51,866'); seek(111.0)">
              the value of b as two, whereas the print
            </span>
            
            <span id="chunk-25" class="transcript-chunks" onclick="console.log('00:01:55,326'); seek(115.0)">
              a which happens after print b did not yet
            </span>
            
            <span id="chunk-26" class="transcript-chunks" onclick="console.log('00:01:59,624'); seek(119.0)">
              observe the value of a equal to one which was
            </span>
            
            <span id="chunk-27" class="transcript-chunks" onclick="console.log('00:02:03,784'); seek(123.0)">
              executed before b equal to two.
            </span>
            
            <span id="chunk-28" class="transcript-chunks" onclick="console.log('00:02:06,988'); seek(126.0)">
              Why does this happen? It is because compilers at
            </span>
            
            <span id="chunk-29" class="transcript-chunks" onclick="console.log('00:02:11,292'); seek(131.0)">
              the time of compilation or at runtime may
            </span>
            
            <span id="chunk-30" class="transcript-chunks" onclick="console.log('00:02:14,860'); seek(134.0)">
              do perform instruction ordering change.
            </span>
            
            <span id="chunk-31" class="transcript-chunks" onclick="console.log('00:02:18,284'); seek(138.0)">
              So it's not guaranteed that what you see as a equal to one
            </span>
            
            <span id="chunk-32" class="transcript-chunks" onclick="console.log('00:02:21,792'); seek(141.0)">
              and b equal to two outside of the block outside of
            </span>
            
            <span id="chunk-33" class="transcript-chunks" onclick="console.log('00:02:25,344'); seek(145.0)">
              these scope of that function would be observed in the same manner
            </span>
            
            <span id="chunk-34" class="transcript-chunks" onclick="console.log('00:02:29,062'); seek(149.0)">
              and things is a memory ordering problem. And this results
            </span>
            
            <span id="chunk-35" class="transcript-chunks" onclick="console.log('00:02:32,618'); seek(152.0)">
              int everything else where we need to now start serializing,
            </span>
            
            <span id="chunk-36" class="transcript-chunks" onclick="console.log('00:02:36,186'); seek(156.0)">
              because what we're trying to do is we are solving this unpredictability.
            </span>
            
            <span id="chunk-37" class="transcript-chunks" onclick="console.log('00:02:40,930'); seek(160.0)">
              Here's a sample piece of code. It's a pseudocode
            </span>
            
            <span id="chunk-38" class="transcript-chunks" onclick="console.log('00:02:44,698'); seek(164.0)">
              to comes it may look like Python, to others it may look like go.
            </span>
            
            <span id="chunk-39" class="transcript-chunks" onclick="console.log('00:02:48,392'); seek(168.0)">
              We have a bunch of URLs. There is an
            </span>
            
            <span id="chunk-40" class="transcript-chunks" onclick="console.log('00:02:52,168'); seek(172.0)">
              array of responses where we will gather all the responses that
            </span>
            
            <span id="chunk-41" class="transcript-chunks" onclick="console.log('00:02:55,800'); seek(175.0)">
              we get by fetching the URLs. There's a small counter of total
            </span>
            
            <span id="chunk-42" class="transcript-chunks" onclick="console.log('00:02:59,676'); seek(179.0)">
              bytes received. Simply put, for I in URLs,
            </span>
            
            <span id="chunk-43" class="transcript-chunks" onclick="console.log('00:03:03,410'); seek(183.0)">
              fetch the URL using a pool. So we're trying to restrict
            </span>
            
            <span id="chunk-44" class="transcript-chunks" onclick="console.log('00:03:07,602'); seek(187.0)">
              the number of parallel connections that can be made outbound.
            </span>
            
            <span id="chunk-45" class="transcript-chunks" onclick="console.log('00:03:11,110'); seek(191.0)">
              Once we receive the data. We want to write it to a response array
            </span>
            
            <span id="chunk-46" class="transcript-chunks" onclick="console.log('00:03:15,366'); seek(195.0)">
              and also update total bytes received. The control
            </span>
            
            <span id="chunk-47" class="transcript-chunks" onclick="console.log('00:03:19,408'); seek(199.0)">
              must block until all the URLs are fetched
            </span>
            
            <span id="chunk-48" class="transcript-chunks" onclick="console.log('00:03:22,906'); seek(202.0)">
              and return the response altogether. The total
            </span>
            
            <span id="chunk-49" class="transcript-chunks" onclick="console.log('00:03:26,196'); seek(206.0)">
              bytes received are also being sent by telemetry, but that is not
            </span>
            
            <span id="chunk-50" class="transcript-chunks" onclick="console.log('00:03:29,476'); seek(209.0)">
              relevant. There are four aspects of
            </span>
            
            <span id="chunk-51" class="transcript-chunks" onclick="console.log('00:03:33,048'); seek(213.0)">
              concurrency control which are happening here.
            </span>
            
            <span id="chunk-52" class="transcript-chunks" onclick="console.log('00:03:36,984'); seek(216.0)">
              First is the handoff. The handoff is once
            </span>
            
            <span id="chunk-53" class="transcript-chunks" onclick="console.log('00:03:41,160'); seek(221.0)">
              these parallelism is done, or I'm liberally using
            </span>
            
            <span id="chunk-54" class="transcript-chunks" onclick="console.log('00:03:45,272'); seek(225.0)">
              the word parallel here because that's confusingly used, parallel and
            </span>
            
            <span id="chunk-55" class="transcript-chunks" onclick="console.log('00:03:49,148'); seek(229.0)">
              concurrent. Once that is done, the control must pass
            </span>
            
            <span id="chunk-56" class="transcript-chunks" onclick="console.log('00:03:53,036'); seek(233.0)">
              on to the main routine, and that's a handoff. So somebody
            </span>
            
            <span id="chunk-57" class="transcript-chunks" onclick="console.log('00:03:56,524'); seek(236.0)">
              has to wait to see if all the workers
            </span>
            
            <span id="chunk-58" class="transcript-chunks" onclick="console.log('00:04:00,694'); seek(240.0)">
              are done working on what they have done, and only then it must
            </span>
            
            <span id="chunk-59" class="transcript-chunks" onclick="console.log('00:04:04,368'); seek(244.0)">
              proceed forward. There's a concept of data sharing here.
            </span>
            
            <span id="chunk-60" class="transcript-chunks" onclick="console.log('00:04:08,400'); seek(248.0)">
              Each of the fetch URLs we want to do in a
            </span>
            
            <span id="chunk-61" class="transcript-chunks" onclick="console.log('00:04:11,668'); seek(251.0)">
              non blocking manner, which should be able to send
            </span>
            
            <span id="chunk-62" class="transcript-chunks" onclick="console.log('00:04:15,620'); seek(255.0)">
              data to be returned to a response array.
            </span>
            
            <span id="chunk-63" class="transcript-chunks" onclick="console.log('00:04:19,178'); seek(259.0)">
              There's a serialization happening as well because we do
            </span>
            
            <span id="chunk-64" class="transcript-chunks" onclick="console.log('00:04:22,548'); seek(262.0)">
              not want all the URLs to be executed together.
            </span>
            
            <span id="chunk-65" class="transcript-chunks" onclick="console.log('00:04:26,104'); seek(266.0)">
              There is a control mechanism which will allow only
            </span>
            
            <span id="chunk-66" class="transcript-chunks" onclick="console.log('00:04:30,390'); seek(270.0)">
              certain number of URLs to be hit, and that's these property of
            </span>
            
            <span id="chunk-67" class="transcript-chunks" onclick="console.log('00:04:33,848'); seek(273.0)">
              a pool. Then there's also a data consistency problem here because
            </span>
            
            <span id="chunk-68" class="transcript-chunks" onclick="console.log('00:04:37,980'); seek(277.0)">
              we want to channel the total bytes received, but because
            </span>
            
            <span id="chunk-69" class="transcript-chunks" onclick="console.log('00:04:41,516'); seek(281.0)">
              there are multiple threads that may be performing this, multiple go routines
            </span>
            
            <span id="chunk-70" class="transcript-chunks" onclick="console.log('00:04:45,442'); seek(285.0)">
              that may be performing this, multiple processes that may be performing this. Based on the
            </span>
            
            <span id="chunk-71" class="transcript-chunks" onclick="console.log('00:04:49,328'); seek(289.0)">
              language implementation, the value of total bytes received
            </span>
            
            <span id="chunk-72" class="transcript-chunks" onclick="console.log('00:04:53,478'); seek(293.0)">
              must increase collectively. That's a data concurrency
            </span>
            
            <span id="chunk-73" class="transcript-chunks" onclick="console.log('00:04:57,606'); seek(297.0)">
              part as well. So to highlight these again, what are the four challenges?
            </span>
            
            <span id="chunk-74" class="transcript-chunks" onclick="console.log('00:05:01,898'); seek(301.0)">
              A control handoff which is passing on
            </span>
            
            <span id="chunk-75" class="transcript-chunks" onclick="console.log('00:05:05,348'); seek(305.0)">
              the work, the control from a set of workers
            </span>
            
            <span id="chunk-76" class="transcript-chunks" onclick="console.log('00:05:09,994'); seek(309.0)">
              routines to the main serialization. We want
            </span>
            
            <span id="chunk-77" class="transcript-chunks" onclick="console.log('00:05:13,576'); seek(313.0)">
              the ability to control what gets executed
            </span>
            
            <span id="chunk-78" class="transcript-chunks" onclick="console.log('00:05:17,118'); seek(317.0)">
              at what point of time and what gets to wait, and a control
            </span>
            
            <span id="chunk-79" class="transcript-chunks" onclick="console.log('00:05:20,504'); seek(320.0)">
              to block unblock data sharing work
            </span>
            
            <span id="chunk-80" class="transcript-chunks" onclick="console.log('00:05:24,136'); seek(324.0)">
              while may be happening in parallel or in non
            </span>
            
            <span id="chunk-81" class="transcript-chunks" onclick="console.log('00:05:28,018'); seek(328.0)">
              blocking asynchronous manner. The data must be receivable
            </span>
            
            <span id="chunk-82" class="transcript-chunks" onclick="console.log('00:05:32,850'); seek(332.0)">
              by some other process as well, and data consistency at
            </span>
            
            <span id="chunk-83" class="transcript-chunks" onclick="console.log('00:05:36,108'); seek(336.0)">
              all points of time. If we have agreed to increment the
            </span>
            
            <span id="chunk-84" class="transcript-chunks" onclick="console.log('00:05:39,568'); seek(339.0)">
              integer, then everybody should see a fresh value of an integer
            </span>
            
            <span id="chunk-85" class="transcript-chunks" onclick="console.log('00:05:42,966'); seek(342.0)">
              which is incremented. This is also
            </span>
            
            <span id="chunk-86" class="transcript-chunks" onclick="console.log('00:05:46,480'); seek(346.0)">
              a derivative of saying that while multiple processes are coordinating with
            </span>
            
            <span id="chunk-87" class="transcript-chunks" onclick="console.log('00:05:49,888'); seek(349.0)">
              each other, they will usually have a consensus problem. To solve
            </span>
            
            <span id="chunk-88" class="transcript-chunks" onclick="console.log('00:05:53,978'); seek(353.0)">
              a consensus problem, the control needs
            </span>
            
            <span id="chunk-89" class="transcript-chunks" onclick="console.log('00:05:57,476'); seek(357.0)">
              to be offloaded to somebody outside the system.
            </span>
            
            <span id="chunk-90" class="transcript-chunks" onclick="console.log('00:06:01,108'); seek(361.0)">
              And this is exactly why we need synchronization primitives.
            </span>
            
            <span id="chunk-91" class="transcript-chunks" onclick="console.log('00:06:05,430'); seek(365.0)">
              I'm going to call it a marshall. Not to be confused with Marshall Json.
            </span>
            
            <span id="chunk-92" class="transcript-chunks" onclick="console.log('00:06:09,990'); seek(369.0)">
              Like a game marshall. What kind of
            </span>
            
            <span id="chunk-93" class="transcript-chunks" onclick="console.log('00:06:13,656'); seek(373.0)">
              marshals exist to achieve this synchronization?
            </span>
            
            <span id="chunk-94" class="transcript-chunks" onclick="console.log('00:06:16,450'); seek(376.0)">
              There is a sync weight group. There's a sync mutex,
            </span>
            
            <span id="chunk-95" class="transcript-chunks" onclick="console.log('00:06:20,066'); seek(380.0)">
              anatomic channels and lockless data structures.
            </span>
            
            <span id="chunk-96" class="transcript-chunks" onclick="console.log('00:06:23,634'); seek(383.0)">
              I'll probably not go into the depths of the definition of
            </span>
            
            <span id="chunk-97" class="transcript-chunks" onclick="console.log('00:06:27,212'); seek(387.0)">
              defining what these are, because that is almost pretty much available.
            </span>
            
            <span id="chunk-98" class="transcript-chunks" onclick="console.log('00:06:31,070'); seek(391.0)">
              I want to narrow this down to what semantics can be used
            </span>
            
            <span id="chunk-99" class="transcript-chunks" onclick="console.log('00:06:35,120'); seek(395.0)">
              for what aspect of the problem statement which we discussed
            </span>
            
            <span id="chunk-100" class="transcript-chunks" onclick="console.log('00:06:38,406'); seek(398.0)">
              just a few slides back over here. Control handoff,
            </span>
            
            <span id="chunk-101" class="transcript-chunks" onclick="console.log('00:06:42,298'); seek(402.0)">
              serialization, data sharing, and data consistency. The first
            </span>
            
            <span id="chunk-102" class="transcript-chunks" onclick="console.log('00:06:45,716'); seek(405.0)">
              one is a sync weight group. Fairly straightforward. You must have seen
            </span>
            
            <span id="chunk-103" class="transcript-chunks" onclick="console.log('00:06:49,572'); seek(409.0)">
              this all over Golang, blogs, et cetera. Pretty straightforward to use,
            </span>
            
            <span id="chunk-104" class="transcript-chunks" onclick="console.log('00:06:53,364'); seek(413.0)">
              but what is it used for? It's precisely only and only used
            </span>
            
            <span id="chunk-105" class="transcript-chunks" onclick="console.log('00:06:56,728'); seek(416.0)">
              for control handoff. What is it not used for is it's
            </span>
            
            <span id="chunk-106" class="transcript-chunks" onclick="console.log('00:07:00,542'); seek(420.0)">
              not used for serialization. What I mean by that is that using weight
            </span>
            
            <span id="chunk-107" class="transcript-chunks" onclick="console.log('00:07:04,238'); seek(424.0)">
              groups you are more often than not only and only
            </span>
            
            <span id="chunk-108" class="transcript-chunks" onclick="console.log('00:07:07,596'); seek(427.0)">
              just waiting for control. As the name suggests, it's a wait group
            </span>
            
            <span id="chunk-109" class="transcript-chunks" onclick="console.log('00:07:11,308'); seek(431.0)">
              to reach the main routine while some other parallel
            </span>
            
            <span id="chunk-110" class="transcript-chunks" onclick="console.log('00:07:15,650'); seek(435.0)">
              routines are doing their job. It's not used for data sharing.
            </span>
            
            <span id="chunk-111" class="transcript-chunks" onclick="console.log('00:07:19,554'); seek(439.0)">
              There is no way you can share data, and it's not used for data consistency
            </span>
            
            <span id="chunk-112" class="transcript-chunks" onclick="console.log('00:07:23,190'); seek(443.0)">
              either. Using things definition I'm going to through
            </span>
            
            <span id="chunk-113" class="transcript-chunks" onclick="console.log('00:07:26,832'); seek(446.0)">
              the slides, there'll always be a fun section where we talk about some
            </span>
            
            <span id="chunk-114" class="transcript-chunks" onclick="console.log('00:07:30,432'); seek(450.0)">
              fun mistakes. These fun mistakes are usually
            </span>
            
            <span id="chunk-115" class="transcript-chunks" onclick="console.log('00:07:34,052'); seek(454.0)">
              things that we would miss out on, and it
            </span>
            
            <span id="chunk-116" class="transcript-chunks" onclick="console.log('00:07:37,540'); seek(457.0)">
              gives us an insight on how these things work at the depth.
            </span>
            
            <span id="chunk-117" class="transcript-chunks" onclick="console.log('00:07:40,746'); seek(460.0)">
              Now here's a simple program. What is wrong here? To walk
            </span>
            
            <span id="chunk-118" class="transcript-chunks" onclick="console.log('00:07:44,228'); seek(464.0)">
              you through the code, there's a funk main which declares a weight
            </span>
            
            <span id="chunk-119" class="transcript-chunks" onclick="console.log('00:07:47,758'); seek(467.0)">
              group. There is a for loop zero to 10 weight group add
            </span>
            
            <span id="chunk-120" class="transcript-chunks" onclick="console.log('00:07:51,624'); seek(471.0)">
              simple construct. There's a go routine being called where we call hello
            </span>
            
            <span id="chunk-121" class="transcript-chunks" onclick="console.log('00:07:55,304'); seek(475.0)">
              inside hello, we do a print and then we just wait.
            </span>
            
            <span id="chunk-122" class="transcript-chunks" onclick="console.log('00:07:58,908'); seek(478.0)">
              Classic example of control handoff where we are waiting.
            </span>
            
            <span id="chunk-123" class="transcript-chunks" onclick="console.log('00:08:03,154'); seek(483.0)">
              What could possibly go wrong here? What would go
            </span>
            
            <span id="chunk-124" class="transcript-chunks" onclick="console.log('00:08:06,508'); seek(486.0)">
              wrong here is that when you run this code,
            </span>
            
            <span id="chunk-125" class="transcript-chunks" onclick="console.log('00:08:09,856'); seek(489.0)">
              it runs int this problem of all goroutine are asleep.
            </span>
            
            <span id="chunk-126" class="transcript-chunks" onclick="console.log('00:08:13,398'); seek(493.0)">
              It runs into a deadlock problem. But weight group
            </span>
            
            <span id="chunk-127" class="transcript-chunks" onclick="console.log('00:08:17,280'); seek(497.0)">
              is supposed to solve a concurrency problem, not create another problem.
            </span>
            
            <span id="chunk-128" class="transcript-chunks" onclick="console.log('00:08:20,976'); seek(500.0)">
              And the reason for that is that even concurrency semantics need to
            </span>
            
            <span id="chunk-129" class="transcript-chunks" onclick="console.log('00:08:24,388'); seek(504.0)">
              respect the principles of the language. Now what is the principle
            </span>
            
            <span id="chunk-130" class="transcript-chunks" onclick="console.log('00:08:27,498'); seek(507.0)">
              of the language? The principle of the language is I'm
            </span>
            
            <span id="chunk-131" class="transcript-chunks" onclick="console.log('00:08:30,842'); seek(510.0)">
              passing weight group by value and not as
            </span>
            
            <span id="chunk-132" class="transcript-chunks" onclick="console.log('00:08:34,392'); seek(514.0)">
              a reference. So the goroutine see a copy of
            </span>
            
            <span id="chunk-133" class="transcript-chunks" onclick="console.log('00:08:38,136'); seek(518.0)">
              that synchronization primitive and they call a
            </span>
            
            <span id="chunk-134" class="transcript-chunks" onclick="console.log('00:08:41,512'); seek(521.0)">
              done on that and hence it runs into a deadlocks.
            </span>
            
            <span id="chunk-135" class="transcript-chunks" onclick="console.log('00:08:45,150'); seek(525.0)">
              So even the synchronization primitives need
            </span>
            
            <span id="chunk-136" class="transcript-chunks" onclick="console.log('00:08:49,548'); seek(529.0)">
              to cater to the principle of the language.
            </span>
            
            <span id="chunk-137" class="transcript-chunks" onclick="console.log('00:08:53,290'); seek(533.0)">
              The next one is sync mutex. What is the sync
            </span>
            
            <span id="chunk-138" class="transcript-chunks" onclick="console.log('00:08:57,026'); seek(537.0)">
              mutex used for? It's used for serialization
            </span>
            
            <span id="chunk-139" class="transcript-chunks" onclick="console.log('00:09:00,578'); seek(540.0)">
              by using mutexes also locks,
            </span>
            
            <span id="chunk-140" class="transcript-chunks" onclick="console.log('00:09:03,638'); seek(543.0)">
              we have the ability of controlling which routine should work, which routine
            </span>
            
            <span id="chunk-141" class="transcript-chunks" onclick="console.log('00:09:07,622'); seek(547.0)">
              should not work. When I say which, you're not identifying
            </span>
            
            <span id="chunk-142" class="transcript-chunks" onclick="console.log('00:09:11,238'); seek(551.0)">
              a routine in particular, but you have the ability to rewrites code.
            </span>
            
            <span id="chunk-143" class="transcript-chunks" onclick="console.log('00:09:14,756'); seek(554.0)">
              These only one can get executed while the other is waiting
            </span>
            
            <span id="chunk-144" class="transcript-chunks" onclick="console.log('00:09:18,538'); seek(558.0)">
              for a read or a write operation to happen. So things ability to serialize
            </span>
            
            <span id="chunk-145" class="transcript-chunks" onclick="console.log('00:09:22,346'); seek(562.0)">
              operations is what you get because that's what locks do effectively.
            </span>
            
            <span id="chunk-146" class="transcript-chunks" onclick="console.log('00:09:26,526'); seek(566.0)">
              And it also allows data consistency,
            </span>
            
            <span id="chunk-147" class="transcript-chunks" onclick="console.log('00:09:29,430'); seek(569.0)">
              because while inside a lock you can increment a
            </span>
            
            <span id="chunk-148" class="transcript-chunks" onclick="console.log('00:09:32,904'); seek(572.0)">
              value, so the other reader cannot read the value. But what
            </span>
            
            <span id="chunk-149" class="transcript-chunks" onclick="console.log('00:09:36,408'); seek(576.0)">
              it doesn't do, it doesn't do a control handoff because
            </span>
            
            <span id="chunk-150" class="transcript-chunks" onclick="console.log('00:09:40,076'); seek(580.0)">
              it's used as a communication exchange control
            </span>
            
            <span id="chunk-151" class="transcript-chunks" onclick="console.log('00:09:43,724'); seek(583.0)">
              mechanism between two processes, and usually not used for a handoff, which is where
            </span>
            
            <span id="chunk-152" class="transcript-chunks" onclick="console.log('00:09:48,092'); seek(588.0)">
              a weight group comes into the picture. And it's also not used for data sharing
            </span>
            
            <span id="chunk-153" class="transcript-chunks" onclick="console.log('00:09:51,542'); seek(591.0)">
              because there is no construct of it carrying its own data.
            </span>
            
            <span id="chunk-154" class="transcript-chunks" onclick="console.log('00:09:55,710'); seek(595.0)">
              What are the fun mistakes around mutexes int?
            </span>
            
            <span id="chunk-155" class="transcript-chunks" onclick="console.log('00:09:59,088'); seek(599.0)">
              A simple counter which has an embedded mutex inside it,
            </span>
            
            <span id="chunk-156" class="transcript-chunks" onclick="console.log('00:10:02,820'); seek(602.0)">
              a pretty well known construct in Golang int also has an
            </span>
            
            <span id="chunk-157" class="transcript-chunks" onclick="console.log('00:10:06,148'); seek(606.0)">
              integer n. There are two methods. There's an add method which
            </span>
            
            <span id="chunk-158" class="transcript-chunks" onclick="console.log('00:10:11,412'); seek(611.0)">
              acquires a lock and increments n by the integer pass. There's another
            </span>
            
            <span id="chunk-159" class="transcript-chunks" onclick="console.log('00:10:15,684'); seek(615.0)">
              value method which also rewrites a lock and
            </span>
            
            <span id="chunk-160" class="transcript-chunks" onclick="console.log('00:10:19,176'); seek(619.0)">
              returns the c n. So effectively there should
            </span>
            
            <span id="chunk-161" class="transcript-chunks" onclick="console.log('00:10:22,552'); seek(622.0)">
              not be any race condition here, because we are judiciously using unlocks.
            </span>
            
            <span id="chunk-162" class="transcript-chunks" onclick="console.log('00:10:26,350'); seek(626.0)">
              Now what can go wrong here? If I run this code, when I
            </span>
            
            <span id="chunk-163" class="transcript-chunks" onclick="console.log('00:10:30,092'); seek(630.0)">
              run this code, I surprisingly actually run into a race condition.
            </span>
            
            <span id="chunk-164" class="transcript-chunks" onclick="console.log('00:10:34,226'); seek(634.0)">
              Now why is that? Because we just discussed that even synchronization
            </span>
            
            <span id="chunk-165" class="transcript-chunks" onclick="console.log('00:10:37,826'); seek(637.0)">
              primitives need to respect the principles of the language.
            </span>
            
            <span id="chunk-166" class="transcript-chunks" onclick="console.log('00:10:41,494'); seek(641.0)">
              So what's happening here? What's happening here is
            </span>
            
            <span id="chunk-167" class="transcript-chunks" onclick="console.log('00:10:45,310'); seek(645.0)">
              counter is not a method which has been
            </span>
            
            <span id="chunk-168" class="transcript-chunks" onclick="console.log('00:10:49,152'); seek(649.0)">
              bound. Value is not a method which has been bound. Cto the pointer reference.
            </span>
            
            <span id="chunk-169" class="transcript-chunks" onclick="console.log('00:10:53,914'); seek(653.0)">
              What that means is that when value is invoked,
            </span>
            
            <span id="chunk-170" class="transcript-chunks" onclick="console.log('00:10:57,866'); seek(657.0)">
              the state of the counter is copied and so is the
            </span>
            
            <span id="chunk-171" class="transcript-chunks" onclick="console.log('00:11:01,348'); seek(661.0)">
              sync mutex. And while it is getting copied, it tries
            </span>
            
            <span id="chunk-172" class="transcript-chunks" onclick="console.log('00:11:05,038'); seek(665.0)">
              to read n because somebody else had still acquired a lock
            </span>
            
            <span id="chunk-173" class="transcript-chunks" onclick="console.log('00:11:08,798'); seek(668.0)">
              on that n. Effectively, it doesn't even matter
            </span>
            
            <span id="chunk-174" class="transcript-chunks" onclick="console.log('00:11:12,776'); seek(672.0)">
              what you have inside the body of the code just by accessing value,
            </span>
            
            <span id="chunk-175" class="transcript-chunks" onclick="console.log('00:11:17,450'); seek(677.0)">
              because the process of calling value invokes
            </span>
            
            <span id="chunk-176" class="transcript-chunks" onclick="console.log('00:11:23,450'); seek(683.0)">
              a copy to happen, and by the virtue of that a
            </span>
            
            <span id="chunk-177" class="transcript-chunks" onclick="console.log('00:11:27,132'); seek(687.0)">
              read to happen on n, and hence it results in a race condition.
            </span>
            
            <span id="chunk-178" class="transcript-chunks" onclick="console.log('00:11:31,270'); seek(691.0)">
              So even if I was to replace that entire body of the
            </span>
            
            <span id="chunk-179" class="transcript-chunks" onclick="console.log('00:11:35,248'); seek(695.0)">
              code with a return one, this would be the exact same
            </span>
            
            <span id="chunk-180" class="transcript-chunks" onclick="console.log('00:11:38,736'); seek(698.0)">
              race condition. How do we solve this? We just
            </span>
            
            <span id="chunk-181" class="transcript-chunks" onclick="console.log('00:11:41,952'); seek(701.0)">
              make sure that we actually use a pass by reference here.
            </span>
            
            <span id="chunk-182" class="transcript-chunks" onclick="console.log('00:11:45,316'); seek(705.0)">
              So the counter should be bound, the pointer should be binding,
            </span>
            
            <span id="chunk-183" class="transcript-chunks" onclick="console.log('00:11:49,178'); seek(709.0)">
              the value method, not the other way around. It's a fair conclusion
            </span>
            
            <span id="chunk-184" class="transcript-chunks" onclick="console.log('00:11:52,618'); seek(712.0)">
              to say that while resolving a consensus problem,
            </span>
            
            <span id="chunk-185" class="transcript-chunks" onclick="console.log('00:11:56,216'); seek(716.0)">
              the marshals themselves are not immune to the consensus
            </span>
            
            <span id="chunk-186" class="transcript-chunks" onclick="console.log('00:11:59,646'); seek(719.0)">
              problem. They themselves have to adhere. CTo all of these principles,
            </span>
            
            <span id="chunk-187" class="transcript-chunks" onclick="console.log('00:12:03,854'); seek(723.0)">
              underneath all these mutexes weight groups is the
            </span>
            
            <span id="chunk-188" class="transcript-chunks" onclick="console.log('00:12:07,372'); seek(727.0)">
              third Marshall, which is the bedrock of all synchronization, which is these
            </span>
            
            <span id="chunk-189" class="transcript-chunks" onclick="console.log('00:12:10,764'); seek(730.0)">
              sync atomic. Now surprisingly, atomic has very
            </span>
            
            <span id="chunk-190" class="transcript-chunks" onclick="console.log('00:12:14,028'); seek(734.0)">
              limited applicability as such directly.
            </span>
            
            <span id="chunk-191" class="transcript-chunks" onclick="console.log('00:12:17,570'); seek(737.0)">
              And most of the times we end up using the constructs
            </span>
            
            <span id="chunk-192" class="transcript-chunks" onclick="console.log('00:12:21,318'); seek(741.0)">
              on top of this. But it is the underlying construct which
            </span>
            
            <span id="chunk-193" class="transcript-chunks" onclick="console.log('00:12:25,168'); seek(745.0)">
              is used behind most of these other primitives,
            </span>
            
            <span id="chunk-194" class="transcript-chunks" onclick="console.log('00:12:28,278'); seek(748.0)">
              which are higher order. Now, what is an atomic use for
            </span>
            
            <span id="chunk-195" class="transcript-chunks" onclick="console.log('00:12:31,396'); seek(751.0)">
              data consistency? All int, all through, nothing else.
            </span>
            
            <span id="chunk-196" class="transcript-chunks" onclick="console.log('00:12:35,508'); seek(755.0)">
              There is a value. I want to atomically change that value,
            </span>
            
            <span id="chunk-197" class="transcript-chunks" onclick="console.log('00:12:38,836'); seek(758.0)">
              update an integer and do nothing else.
            </span>
            
            <span id="chunk-198" class="transcript-chunks" onclick="console.log('00:12:42,436'); seek(762.0)">
              It is not uses for control handoff. It cannot be used for serialization.
            </span>
            
            <span id="chunk-199" class="transcript-chunks" onclick="console.log('00:12:46,570'); seek(766.0)">
              I mean there can be derivatives of it, but by direct virtue of its own
            </span>
            
            <span id="chunk-200" class="transcript-chunks" onclick="console.log('00:12:50,088'); seek(770.0)">
              properties, it doesn't do this by primitives.
            </span>
            
            <span id="chunk-201" class="transcript-chunks" onclick="console.log('00:12:53,198'); seek(773.0)">
              Weight group is a derivative of this. So those allow because using atomics you
            </span>
            
            <span id="chunk-202" class="transcript-chunks" onclick="console.log('00:12:57,048'); seek(777.0)">
              can create such higher other primitives as well.
            </span>
            
            <span id="chunk-203" class="transcript-chunks" onclick="console.log('00:13:00,364'); seek(780.0)">
              Like we'll discuss later, lock free data structure. And it doesn't
            </span>
            
            <span id="chunk-204" class="transcript-chunks" onclick="console.log('00:13:03,858'); seek(783.0)">
              do data sharing. It's not used for data sharing because it doesn't carry
            </span>
            
            <span id="chunk-205" class="transcript-chunks" onclick="console.log('00:13:07,058'); seek(787.0)">
              it from data like channels do.
            </span>
            
            <span id="chunk-206" class="transcript-chunks" onclick="console.log('00:13:10,076'); seek(790.0)">
              Now here's an applicability of atomically performing
            </span>
            
            <span id="chunk-207" class="transcript-chunks" onclick="console.log('00:13:13,494'); seek(793.0)">
              a load and store. There's a simple map type map
            </span>
            
            <span id="chunk-208" class="transcript-chunks" onclick="console.log('00:13:16,998'); seek(796.0)">
              string string. There's an atomic value inside m store.
            </span>
            
            <span id="chunk-209" class="transcript-chunks" onclick="console.log('00:13:20,480'); seek(800.0)">
              We basically save a map. Then there's a read function and there's an
            </span>
            
            <span id="chunk-210" class="transcript-chunks" onclick="console.log('00:13:23,668'); seek(803.0)">
              insert function. Read function just atomically does
            </span>
            
            <span id="chunk-211" class="transcript-chunks" onclick="console.log('00:13:26,852'); seek(806.0)">
              a m load and converts the value of type
            </span>
            
            <span id="chunk-212" class="transcript-chunks" onclick="console.log('00:13:30,420'); seek(810.0)">
              to map. Insert, however, tries to update
            </span>
            
            <span id="chunk-213" class="transcript-chunks" onclick="console.log('00:13:34,666'); seek(814.0)">
              this value so it performs can m dot store.
            </span>
            
            <span id="chunk-214" class="transcript-chunks" onclick="console.log('00:13:37,928'); seek(817.0)">
              Now just int this simple piece of code while,
            </span>
            
            <span id="chunk-215" class="transcript-chunks" onclick="console.log('00:13:41,704'); seek(821.0)">
              and this is a piece of code which has been copied from the Golang documentation.
            </span>
            
            <span id="chunk-216" class="transcript-chunks" onclick="console.log('00:13:45,182'); seek(825.0)">
              So what can possibly go wrong here? What can possibly go wrong
            </span>
            
            <span id="chunk-217" class="transcript-chunks" onclick="console.log('00:13:48,812'); seek(828.0)">
              these is that if multiple writers
            </span>
            
            <span id="chunk-218" class="transcript-chunks" onclick="console.log('00:13:52,866'); seek(832.0)">
              try to invoke the insert method, the construct is not immune
            </span>
            
            <span id="chunk-219" class="transcript-chunks" onclick="console.log('00:13:56,994'); seek(836.0)">
              to it. Now what we do is we are doing a
            </span>
            
            <span id="chunk-220" class="transcript-chunks" onclick="console.log('00:14:00,528'); seek(840.0)">
              mix and match. So while we are discussing atomics, but we have started using
            </span>
            
            <span id="chunk-221" class="transcript-chunks" onclick="console.log('00:14:04,416'); seek(844.0)">
              other constructs to solve our problems. So we introduced
            </span>
            
            <span id="chunk-222" class="transcript-chunks" onclick="console.log('00:14:08,262'); seek(848.0)">
              a mutex here. And on the insert we just
            </span>
            
            <span id="chunk-223" class="transcript-chunks" onclick="console.log('00:14:12,256'); seek(852.0)">
              guarantee serialization by performing a mutex
            </span>
            
            <span id="chunk-224" class="transcript-chunks" onclick="console.log('00:14:15,830'); seek(855.0)">
              lock and then we just defer it. What this does is that if multiple
            </span>
            
            <span id="chunk-225" class="transcript-chunks" onclick="console.log('00:14:19,626'); seek(859.0)">
              routines are trying cto invoke the insert method only
            </span>
            
            <span id="chunk-226" class="transcript-chunks" onclick="console.log('00:14:22,856'); seek(862.0)">
              prone of them runs at a time because mutexes are great at serialization.
            </span>
            
            <span id="chunk-227" class="transcript-chunks" onclick="console.log('00:14:27,350'); seek(867.0)">
              We just agreed that and now we will
            </span>
            
            <span id="chunk-228" class="transcript-chunks" onclick="console.log('00:14:31,416'); seek(871.0)">
              just perform this mutex block. Next up,
            </span>
            
            <span id="chunk-229" class="transcript-chunks" onclick="console.log('00:14:35,450'); seek(875.0)">
              what would you expect the output to be here there's
            </span>
            
            <span id="chunk-230" class="transcript-chunks" onclick="console.log('00:14:39,538'); seek(879.0)">
              a funk a. There's a main method. Inside the main method
            </span>
            
            <span id="chunk-231" class="transcript-chunks" onclick="console.log('00:14:43,666'); seek(883.0)">
              there is xy two integers. There is
            </span>
            
            <span id="chunk-232" class="transcript-chunks" onclick="console.log('00:14:47,884'); seek(887.0)">
              a print ln, which is basically calling the a
            </span>
            
            <span id="chunk-233" class="transcript-chunks" onclick="console.log('00:14:51,840'); seek(891.0)">
              function. Inside the function we pass the pointer of
            </span>
            
            <span id="chunk-234" class="transcript-chunks" onclick="console.log('00:14:55,776'); seek(895.0)">
              the integer inside the body of an a. It accepts
            </span>
            
            <span id="chunk-235" class="transcript-chunks" onclick="console.log('00:14:59,318'); seek(899.0)">
              an integer and it returns a channel. The channel,
            </span>
            
            <span id="chunk-236" class="transcript-chunks" onclick="console.log('00:15:02,468'); seek(902.0)">
              just before it returns, it spawns a go routine and it
            </span>
            
            <span id="chunk-237" class="transcript-chunks" onclick="console.log('00:15:05,748'); seek(905.0)">
              does can atomic increment of an integer value.
            </span>
            
            <span id="chunk-238" class="transcript-chunks" onclick="console.log('00:15:08,996'); seek(908.0)">
              There are two operations of this. In one variation we
            </span>
            
            <span id="chunk-239" class="transcript-chunks" onclick="console.log('00:15:12,612'); seek(912.0)">
              simply call log print ln and we pass the
            </span>
            
            <span id="chunk-240" class="transcript-chunks" onclick="console.log('00:15:16,216'); seek(916.0)">
              two fun we call the two functions and we read the channel value from
            </span>
            
            <span id="chunk-241" class="transcript-chunks" onclick="console.log('00:15:19,912'); seek(919.0)">
              it. In another variation we store it into two
            </span>
            
            <span id="chunk-242" class="transcript-chunks" onclick="console.log('00:15:23,288'); seek(923.0)">
              variables, ab and bv. There are two functions, a and
            </span>
            
            <span id="chunk-243" class="transcript-chunks" onclick="console.log('00:15:26,552'); seek(926.0)">
              a called again, and the second line of it will
            </span>
            
            <span id="chunk-244" class="transcript-chunks" onclick="console.log('00:15:30,476'); seek(930.0)">
              read from that. They don't look entirely different if
            </span>
            
            <span id="chunk-245" class="transcript-chunks" onclick="console.log('00:15:34,348'); seek(934.0)">
              you think about it, because what we have just done is that in the second
            </span>
            
            <span id="chunk-246" class="transcript-chunks" onclick="console.log('00:15:37,196'); seek(937.0)">
              variation we have taken the initialization one step ahead.
            </span>
            
            <span id="chunk-247" class="transcript-chunks" onclick="console.log('00:15:40,320'); seek(940.0)">
              So it's two stage. Now it's not just one stage. What would you expect
            </span>
            
            <span id="chunk-248" class="transcript-chunks" onclick="console.log('00:15:44,016'); seek(944.0)">
              the output to be? It's interesting that when I
            </span>
            
            <span id="chunk-249" class="transcript-chunks" onclick="console.log('00:15:47,744'); seek(947.0)">
              run this code the first execution
            </span>
            
            <span id="chunk-250" class="transcript-chunks" onclick="console.log('00:15:51,630'); seek(951.0)">
              gives me a two and a four, whereas the second
            </span>
            
            <span id="chunk-251" class="transcript-chunks" onclick="console.log('00:15:54,900'); seek(954.0)">
              execution gives me a four and a four. Now which is understandable,
            </span>
            
            <span id="chunk-252" class="transcript-chunks" onclick="console.log('00:15:59,306'); seek(959.0)">
              the four and four part. Why? Because it's the same atomic
            </span>
            
            <span id="chunk-253" class="transcript-chunks" onclick="console.log('00:16:02,942'); seek(962.0)">
              operation. And remember, atomic operations were about data
            </span>
            
            <span id="chunk-254" class="transcript-chunks" onclick="console.log('00:16:06,856'); seek(966.0)">
              consistency. So if it's the same integer
            </span>
            
            <span id="chunk-255" class="transcript-chunks" onclick="console.log('00:16:10,622'); seek(970.0)">
              which has been incremented twice and read on the channel it will
            </span>
            
            <span id="chunk-256" class="transcript-chunks" onclick="console.log('00:16:14,456'); seek(974.0)">
              obviously be four. But why did the two happen? To answer
            </span>
            
            <span id="chunk-257" class="transcript-chunks" onclick="console.log('00:16:18,236'); seek(978.0)">
              this, let's add some log statement. Now what we do
            </span>
            
            <span id="chunk-258" class="transcript-chunks" onclick="console.log('00:16:21,708'); seek(981.0)">
              is just after the atomic ad I've added a log print ln
            </span>
            
            <span id="chunk-259" class="transcript-chunks" onclick="console.log('00:16:25,970'); seek(985.0)">
              and there's a time sleep of 2 seconds. So what that means is
            </span>
            
            <span id="chunk-260" class="transcript-chunks" onclick="console.log('00:16:29,404'); seek(989.0)">
              that before the value is returned it's actually going to sleep for 2 seconds.
            </span>
            
            <span id="chunk-261" class="transcript-chunks" onclick="console.log('00:16:33,078'); seek(993.0)">
              Now when we run this, the first execution
            </span>
            
            <span id="chunk-262" class="transcript-chunks" onclick="console.log('00:16:36,390'); seek(996.0)">
              prints one prone and two four. The second also prints one, one and
            </span>
            
            <span id="chunk-263" class="transcript-chunks" onclick="console.log('00:16:39,968'); seek(999.0)">
              four four. But interestingly, if you observe the timestamp,
            </span>
            
            <span id="chunk-264" class="transcript-chunks" onclick="console.log('00:16:43,078'); seek(1003.0)">
              the first int happens at the 16th second and then
            </span>
            
            <span id="chunk-265" class="transcript-chunks" onclick="console.log('00:16:46,532'); seek(1006.0)">
              it waits for 2 seconds and then int prints one and waits another
            </span>
            
            <span id="chunk-266" class="transcript-chunks" onclick="console.log('00:16:50,612'); seek(1010.0)">
              2 seconds and returns two and four. Whereas the second implementation
            </span>
            
            <span id="chunk-267" class="transcript-chunks" onclick="console.log('00:16:55,818'); seek(1015.0)">
              on the 20th 2nd, both of them print one and then after
            </span>
            
            <span id="chunk-268" class="transcript-chunks" onclick="console.log('00:16:59,336'); seek(1019.0)">
              2 seconds because both waited for 2 seconds return a four and four.
            </span>
            
            <span id="chunk-269" class="transcript-chunks" onclick="console.log('00:17:02,872'); seek(1022.0)">
              So effectively what's happening is the arguments inside
            </span>
            
            <span id="chunk-270" class="transcript-chunks" onclick="console.log('00:17:06,840'); seek(1026.0)">
              the function are executed serially. There's a classic
            </span>
            
            <span id="chunk-271" class="transcript-chunks" onclick="console.log('00:17:10,658'); seek(1030.0)">
              mistake that we do when we're dealing with this. A simple way to solve
            </span>
            
            <span id="chunk-272" class="transcript-chunks" onclick="console.log('00:17:14,354'); seek(1034.0)">
              is use the lower construct, which is actually concurrent
            </span>
            
            <span id="chunk-273" class="transcript-chunks" onclick="console.log('00:17:18,242'); seek(1038.0)">
              and not the first one because that would happen one after the other. Now this
            </span>
            
            <span id="chunk-274" class="transcript-chunks" onclick="console.log('00:17:21,616'); seek(1041.0)">
              can result in a situation because it is possible that you
            </span>
            
            <span id="chunk-275" class="transcript-chunks" onclick="console.log('00:17:25,552'); seek(1045.0)">
              may get blocked on the other value because the one hasn't worked.
            </span>
            
            <span id="chunk-276" class="transcript-chunks" onclick="console.log('00:17:29,296'); seek(1049.0)">
              Clearly evident in this code here because it happened as
            </span>
            
            <span id="chunk-277" class="transcript-chunks" onclick="console.log('00:17:32,532'); seek(1052.0)">
              two and these, the other value came as four. We also discussed that
            </span>
            
            <span id="chunk-278" class="transcript-chunks" onclick="console.log('00:17:36,596'); seek(1056.0)">
              atomics and mutexes can both actually be uses for data
            </span>
            
            <span id="chunk-279" class="transcript-chunks" onclick="console.log('00:17:40,276'); seek(1060.0)">
              consistency. So are they interchangeable? Is a common question.
            </span>
            
            <span id="chunk-280" class="transcript-chunks" onclick="console.log('00:17:43,880'); seek(1063.0)">
              Atomic, as we said, are the bedrock of int
            </span>
            
            <span id="chunk-281" class="transcript-chunks" onclick="console.log('00:17:47,688'); seek(1067.0)">
              using that others are done now? Yes and no,
            </span>
            
            <span id="chunk-282" class="transcript-chunks" onclick="console.log('00:17:51,592'); seek(1071.0)">
              because there's only one case where you can actually interchangeably call
            </span>
            
            <span id="chunk-283" class="transcript-chunks" onclick="console.log('00:17:55,192'); seek(1075.0)">
              them as performing the same role, which is assume there was
            </span>
            
            <span id="chunk-284" class="transcript-chunks" onclick="console.log('00:17:58,328'); seek(1078.0)">
              an integer operation where we had to increment something. Now I may use atomic
            </span>
            
            <span id="chunk-285" class="transcript-chunks" onclick="console.log('00:18:02,562'); seek(1082.0)">
              add int, or I may actually take a lock and do an unlock and apply
            </span>
            
            <span id="chunk-286" class="transcript-chunks" onclick="console.log('00:18:06,076'); seek(1086.0)">
              it. Int will give me the same behavior at the end of the day.
            </span>
            
            <span id="chunk-287" class="transcript-chunks" onclick="console.log('00:18:09,068'); seek(1089.0)">
              And this is the only time where we say that oh yeah, there may be
            </span>
            
            <span id="chunk-288" class="transcript-chunks" onclick="console.log('00:18:11,568'); seek(1091.0)">
              overlapping concerns, but interestingly atomics are actually way faster,
            </span>
            
            <span id="chunk-289" class="transcript-chunks" onclick="console.log('00:18:15,126'); seek(1095.0)">
              so you may be able to do more number of atomic operations compared with
            </span>
            
            <span id="chunk-290" class="transcript-chunks" onclick="console.log('00:18:18,464'); seek(1098.0)">
              the locks because atomics are sent directly to the CPU and
            </span>
            
            <span id="chunk-291" class="transcript-chunks" onclick="console.log('00:18:22,096'); seek(1102.0)">
              these are no language. VM ordered locks which are
            </span>
            
            <span id="chunk-292" class="transcript-chunks" onclick="console.log('00:18:25,828'); seek(1105.0)">
              being performed. So you would actually see a drastic performance gain. But all
            </span>
            
            <span id="chunk-293" class="transcript-chunks" onclick="console.log('00:18:29,268'); seek(1109.0)">
              over Golang we've always read and seen please do not communicate
            </span>
            
            <span id="chunk-294" class="transcript-chunks" onclick="console.log('00:18:32,778'); seek(1112.0)">
              by sharing memory. Instead share memory by communicating, which takes
            </span>
            
            <span id="chunk-295" class="transcript-chunks" onclick="console.log('00:18:36,232'); seek(1116.0)">
              us to the channels. Now what are channels used for like
            </span>
            
            <span id="chunk-296" class="transcript-chunks" onclick="console.log('00:18:40,456'); seek(1120.0)">
              atomics are only and only used for primarily data consistency.
            </span>
            
            <span id="chunk-297" class="transcript-chunks" onclick="console.log('00:18:44,942'); seek(1124.0)">
              Channels are used for everything, which is other than that, which is control,
            </span>
            
            <span id="chunk-298" class="transcript-chunks" onclick="console.log('00:18:47,912'); seek(1127.0)">
              handoff, serialization, data sharing. It's surprising how much you can actually
            </span>
            
            <span id="chunk-299" class="transcript-chunks" onclick="console.log('00:18:51,276'); seek(1131.0)">
              start doing with channels. I mean it's only not used for data consistency
            </span>
            
            <span id="chunk-300" class="transcript-chunks" onclick="console.log('00:18:55,586'); seek(1135.0)">
              now because channels are so widely used.
            </span>
            
            <span id="chunk-301" class="transcript-chunks" onclick="console.log('00:18:58,730'); seek(1138.0)">
              I'm going to cover a lot of these fun mistakes.
            </span>
            
            <span id="chunk-302" class="transcript-chunks" onclick="console.log('00:19:02,006'); seek(1142.0)">
              Fun for me, maybe not fun for your others. Look at
            </span>
            
            <span id="chunk-303" class="transcript-chunks" onclick="console.log('00:19:05,808'); seek(1145.0)">
              things. Piece of code. What could be going wrong here?
            </span>
            
            <span id="chunk-304" class="transcript-chunks" onclick="console.log('00:19:09,568'); seek(1149.0)">
              There's a funk request which returns an InT. There's a channel,
            </span>
            
            <span id="chunk-305" class="transcript-chunks" onclick="console.log('00:19:12,980'); seek(1152.0)">
              there is an I, it loops over zero to
            </span>
            
            <span id="chunk-306" class="transcript-chunks" onclick="console.log('00:19:16,068'); seek(1156.0)">
              five increments at plus plus, and it
            </span>
            
            <span id="chunk-307" class="transcript-chunks" onclick="console.log('00:19:20,052'); seek(1160.0)">
              writes the value to a channel. What could go prone?
            </span>
            
            <span id="chunk-308" class="transcript-chunks" onclick="console.log('00:19:23,476'); seek(1163.0)">
              These. What can go prone here is that
            </span>
            
            <span id="chunk-309" class="transcript-chunks" onclick="console.log('00:19:26,728'); seek(1166.0)">
              those goroutine are waiting to write on
            </span>
            
            <span id="chunk-310" class="transcript-chunks" onclick="console.log('00:19:30,472'); seek(1170.0)">
              a channel. Now if the receiver or the reader of
            </span>
            
            <span id="chunk-311" class="transcript-chunks" onclick="console.log('00:19:33,528'); seek(1173.0)">
              the request only read it once, there are multiple
            </span>
            
            <span id="chunk-312" class="transcript-chunks" onclick="console.log('00:19:37,714'); seek(1177.0)">
              invocations of those functions which are just blocked forever
            </span>
            
            <span id="chunk-313" class="transcript-chunks" onclick="console.log('00:19:41,154'); seek(1181.0)">
              because they are just waiting for the channel to clear up to rewrites.
            </span>
            
            <span id="chunk-314" class="transcript-chunks" onclick="console.log('00:19:44,700'); seek(1184.0)">
              To solve for this, we have constructs. What we do is we
            </span>
            
            <span id="chunk-315" class="transcript-chunks" onclick="console.log('00:19:48,268'); seek(1188.0)">
              wrap it inside a select clause which tries to write to
            </span>
            
            <span id="chunk-316" class="transcript-chunks" onclick="console.log('00:19:51,808'); seek(1191.0)">
              a channel, and if it doesn't work it falls to the default,
            </span>
            
            <span id="chunk-317" class="transcript-chunks" onclick="console.log('00:19:55,382'); seek(1195.0)">
              which is an empty. Surprisingly, this is also not the correct
            </span>
            
            <span id="chunk-318" class="transcript-chunks" onclick="console.log('00:19:58,816'); seek(1198.0)">
              way, because this can also run into a unique condition, which is the
            </span>
            
            <span id="chunk-319" class="transcript-chunks" onclick="console.log('00:20:03,316'); seek(1203.0)">
              last line can block forever now, because it's possible that
            </span>
            
            <span id="chunk-320" class="transcript-chunks" onclick="console.log('00:20:07,380'); seek(1207.0)">
              even before the channel is read from
            </span>
            
            <span id="chunk-321" class="transcript-chunks" onclick="console.log('00:20:11,444'); seek(1211.0)">
              outside of the request, the other goroutine tried
            </span>
            
            <span id="chunk-322" class="transcript-chunks" onclick="console.log('00:20:15,384'); seek(1215.0)">
              writing, found nothing, and fell through
            </span>
            
            <span id="chunk-323" class="transcript-chunks" onclick="console.log('00:20:19,032'); seek(1219.0)">
              the default section. So now the return channel
            </span>
            
            <span id="chunk-324" class="transcript-chunks" onclick="console.log('00:20:22,744'); seek(1222.0)">
              is waiting forever. One of the most interesting questions
            </span>
            
            <span id="chunk-325" class="transcript-chunks" onclick="console.log('00:20:26,744'); seek(1226.0)">
              that I always face when
            </span>
            
            <span id="chunk-326" class="transcript-chunks" onclick="console.log('00:20:30,108'); seek(1230.0)">
              I'm writing code as well, is when and who should close an
            </span>
            
            <span id="chunk-327" class="transcript-chunks" onclick="console.log('00:20:33,948'); seek(1233.0)">
              open channel. There's one of the things that I never thought, and it always takes
            </span>
            
            <span id="chunk-328" class="transcript-chunks" onclick="console.log('00:20:37,292'); seek(1237.0)">
              me the hard way, a simple piece of code. Again, it's a for loop.
            </span>
            
            <span id="chunk-329" class="transcript-chunks" onclick="console.log('00:20:41,666'); seek(1241.0)">
              Inside the for loop there's a value which is returned to a channel which has
            </span>
            
            <span id="chunk-330" class="transcript-chunks" onclick="console.log('00:20:44,768'); seek(1244.0)">
              been produced. So you can think of it like a producer. And underneath there
            </span>
            
            <span id="chunk-331" class="transcript-chunks" onclick="console.log('00:20:48,368'); seek(1248.0)">
              is a receiver which basically ends the value, appends it to an array.
            </span>
            
            <span id="chunk-332" class="transcript-chunks" onclick="console.log('00:20:52,378'); seek(1252.0)">
              Once we are done, we print. When I print, I find that
            </span>
            
            <span id="chunk-333" class="transcript-chunks" onclick="console.log('00:20:56,196'); seek(1256.0)">
              one is missing. Now, this would happen if
            </span>
            
            <span id="chunk-334" class="transcript-chunks" onclick="console.log('00:21:00,612'); seek(1260.0)">
              my program exited, obviously this loop. After code C, my programs
            </span>
            
            <span id="chunk-335" class="transcript-chunks" onclick="console.log('00:21:04,420'); seek(1264.0)">
              exited. Now, because WG weight was a weight
            </span>
            
            <span id="chunk-336" class="transcript-chunks" onclick="console.log('00:21:08,462'); seek(1268.0)">
              group on these producers. Once producers were
            </span>
            
            <span id="chunk-337" class="transcript-chunks" onclick="console.log('00:21:12,008'); seek(1272.0)">
              done producing and the channel was closed immediately,
            </span>
            
            <span id="chunk-338" class="transcript-chunks" onclick="console.log('00:21:16,014'); seek(1276.0)">
              it's possible that the receiver has not yet
            </span>
            
            <span id="chunk-339" class="transcript-chunks" onclick="console.log('00:21:19,320'); seek(1279.0)">
              performed the operation on receive and the function got exited and
            </span>
            
            <span id="chunk-340" class="transcript-chunks" onclick="console.log('00:21:22,988'); seek(1282.0)">
              the program got exited. And hence that's the reason why I did not see
            </span>
            
            <span id="chunk-341" class="transcript-chunks" onclick="console.log('00:21:26,172'); seek(1286.0)">
              a one. So how do I guarantee this, that if ten were
            </span>
            
            <span id="chunk-342" class="transcript-chunks" onclick="console.log('00:21:29,536'); seek(1289.0)">
              sent, ten were received in this particular things? First of
            </span>
            
            <span id="chunk-343" class="transcript-chunks" onclick="console.log('00:21:33,024'); seek(1293.0)">
              the implementation, the very first implementation, what we do is we
            </span>
            
            <span id="chunk-344" class="transcript-chunks" onclick="console.log('00:21:36,432'); seek(1296.0)">
              detach the close responsibility from the sender.
            </span>
            
            <span id="chunk-345" class="transcript-chunks" onclick="console.log('00:21:41,650'); seek(1301.0)">
              What we do is we basically make the WG wait
            </span>
            
            <span id="chunk-346" class="transcript-chunks" onclick="console.log('00:21:45,316'); seek(1305.0)">
              in another goroutine, and that is the one which closes.
            </span>
            
            <span id="chunk-347" class="transcript-chunks" onclick="console.log('00:21:49,178'); seek(1309.0)">
              And the execution of reading through the channel now
            </span>
            
            <span id="chunk-348" class="transcript-chunks" onclick="console.log('00:21:53,316'); seek(1313.0)">
              is passed through the main routine in
            </span>
            
            <span id="chunk-349" class="transcript-chunks" onclick="console.log('00:21:56,952'); seek(1316.0)">
              which I range over the channel. And even if it is closed
            </span>
            
            <span id="chunk-350" class="transcript-chunks" onclick="console.log('00:22:00,814'); seek(1320.0)">
              by the goroutine, there is still an iteration that
            </span>
            
            <span id="chunk-351" class="transcript-chunks" onclick="console.log('00:22:04,328'); seek(1324.0)">
              will happen which will still be able to read from the channel. This is one
            </span>
            
            <span id="chunk-352" class="transcript-chunks" onclick="console.log('00:22:07,788'); seek(1327.0)">
              way of implementing it. Another way of implementing it, which is actually
            </span>
            
            <span id="chunk-353" class="transcript-chunks" onclick="console.log('00:22:11,500'); seek(1331.0)">
              far more prevalent, is when both producers and senders
            </span>
            
            <span id="chunk-354" class="transcript-chunks" onclick="console.log('00:22:15,474'); seek(1335.0)">
              and receivers are actually two different go routines which need
            </span>
            
            <span id="chunk-355" class="transcript-chunks" onclick="console.log('00:22:18,748'); seek(1338.0)">
              to communicate. And this is where we introduce the dungeon. So you're
            </span>
            
            <span id="chunk-356" class="transcript-chunks" onclick="console.log('00:22:22,610'); seek(1342.0)">
              producing and the consumer is receiving. But at
            </span>
            
            <span id="chunk-357" class="transcript-chunks" onclick="console.log('00:22:26,432'); seek(1346.0)">
              comes point of time, the control flow must not leave
            </span>
            
            <span id="chunk-358" class="transcript-chunks" onclick="console.log('00:22:30,192'); seek(1350.0)">
              these parent function. And hence we have two
            </span>
            
            <span id="chunk-359" class="transcript-chunks" onclick="console.log('00:22:33,476'); seek(1353.0)">
              weight constructs. Now we are actually waiting via the wait
            </span>
            
            <span id="chunk-360" class="transcript-chunks" onclick="console.log('00:22:37,076'); seek(1357.0)">
              group. We close the channel and then we wait on
            </span>
            
            <span id="chunk-361" class="transcript-chunks" onclick="console.log('00:22:40,612'); seek(1360.0)">
              another channel, which is triggered after
            </span>
            
            <span id="chunk-362" class="transcript-chunks" onclick="console.log('00:22:44,630'); seek(1364.0)">
              the receivers are done receiving. So these are two
            </span>
            
            <span id="chunk-363" class="transcript-chunks" onclick="console.log('00:22:48,296'); seek(1368.0)">
              constructs of it. What else can go wrong with the channel?
            </span>
            
            <span id="chunk-364" class="transcript-chunks" onclick="console.log('00:22:51,928'); seek(1371.0)">
              Let's look at things long running piece of code. It accepts
            </span>
            
            <span id="chunk-365" class="transcript-chunks" onclick="console.log('00:22:55,422'); seek(1375.0)">
              a messages channel. What we're trying to achieve here is read from
            </span>
            
            <span id="chunk-366" class="transcript-chunks" onclick="console.log('00:22:58,812'); seek(1378.0)">
              messages, and if any of those reads take more than
            </span>
            
            <span id="chunk-367" class="transcript-chunks" onclick="console.log('00:23:02,572'); seek(1382.0)">
              a minute, then just return. And a bot, it's a
            </span>
            
            <span id="chunk-368" class="transcript-chunks" onclick="console.log('00:23:06,124'); seek(1386.0)">
              fairly straightforward code. It compiles. But what's going wrong here,
            </span>
            
            <span id="chunk-369" class="transcript-chunks" onclick="console.log('00:23:09,664'); seek(1389.0)">
              what's going wrong here is that channel can still decommemary, because inside each
            </span>
            
            <span id="chunk-370" class="transcript-chunks" onclick="console.log('00:23:13,712'); seek(1393.0)">
              code operations we are creating a new time after.
            </span>
            
            <span id="chunk-371" class="transcript-chunks" onclick="console.log('00:23:17,648'); seek(1397.0)">
              And this keeps on getting created, created, created.
            </span>
            
            <span id="chunk-372" class="transcript-chunks" onclick="console.log('00:23:20,982'); seek(1400.0)">
              All we wanted to do was we just wanted to wait for
            </span>
            
            <span id="chunk-373" class="transcript-chunks" onclick="console.log('00:23:24,228'); seek(1404.0)">
              a minute. A better way to deal with this is to
            </span>
            
            <span id="chunk-374" class="transcript-chunks" onclick="console.log('00:23:27,780'); seek(1407.0)">
              initialize a time dot after, save an allocation, keep reusing it,
            </span>
            
            <span id="chunk-375" class="transcript-chunks" onclick="console.log('00:23:31,988'); seek(1411.0)">
              keep looking for t channels output. If int happens after a minute,
            </span>
            
            <span id="chunk-376" class="transcript-chunks" onclick="console.log('00:23:35,562'); seek(1415.0)">
              it will return otherwise formed. Print ln. Once it's
            </span>
            
            <span id="chunk-377" class="transcript-chunks" onclick="console.log('00:23:39,258'); seek(1419.0)">
              done with the select, just do a reset. What this does is it doesn't
            </span>
            
            <span id="chunk-378" class="transcript-chunks" onclick="console.log('00:23:43,082'); seek(1423.0)">
              keep creating those channels and the time dot after in
            </span>
            
            <span id="chunk-379" class="transcript-chunks" onclick="console.log('00:23:46,508'); seek(1426.0)">
              every single iteration. Now all of these are about when two people
            </span>
            
            <span id="chunk-380" class="transcript-chunks" onclick="console.log('00:23:49,932'); seek(1429.0)">
              are trying to compete for a resource here,
            </span>
            
            <span id="chunk-381" class="transcript-chunks" onclick="console.log('00:23:53,596'); seek(1433.0)">
              everything, every such construct was about that. One of the best ways to
            </span>
            
            <span id="chunk-382" class="transcript-chunks" onclick="console.log('00:23:57,516'); seek(1437.0)">
              resolve a conflict is to avoid int from happening. Now this is where
            </span>
            
            <span id="chunk-383" class="transcript-chunks" onclick="console.log('00:24:01,248'); seek(1441.0)">
              we introduce the notion of lockless data structures. It's a study
            </span>
            
            <span id="chunk-384" class="transcript-chunks" onclick="console.log('00:24:05,072'); seek(1445.0)">
              in itself on how lockless data structures are implemented.
            </span>
            
            <span id="chunk-385" class="transcript-chunks" onclick="console.log('00:24:09,254'); seek(1449.0)">
              Why I stress on lockless data structures is because generalized
            </span>
            
            <span id="chunk-386" class="transcript-chunks" onclick="console.log('00:24:12,522'); seek(1452.0)">
              lock free algorithms are very hard to implement. Designing lock free
            </span>
            
            <span id="chunk-387" class="transcript-chunks" onclick="console.log('00:24:16,212'); seek(1456.0)">
              data structures is relatively easier. My slides have a bunch of
            </span>
            
            <span id="chunk-388" class="transcript-chunks" onclick="console.log('00:24:19,988'); seek(1459.0)">
              these links which are from Microsoft research and other
            </span>
            
            <span id="chunk-389" class="transcript-chunks" onclick="console.log('00:24:23,412'); seek(1463.0)">
              research papers which talk about building these common data structures which
            </span>
            
            <span id="chunk-390" class="transcript-chunks" onclick="console.log('00:24:26,808'); seek(1466.0)">
              are actually lockless. And most of them use atomic underneath. Because as
            </span>
            
            <span id="chunk-391" class="transcript-chunks" onclick="console.log('00:24:31,192'); seek(1471.0)">
              we discussed earlier, atomic is almost the bedrock of all concurrency control.
            </span>
            
            <span id="chunk-392" class="transcript-chunks" onclick="console.log('00:24:35,750'); seek(1475.0)">
              Many a times. What also happens is that a simple
            </span>
            
            <span id="chunk-393" class="transcript-chunks" onclick="console.log('00:24:39,100'); seek(1479.0)">
              solution is actually way better than a smart solution. If you look
            </span>
            
            <span id="chunk-394" class="transcript-chunks" onclick="console.log('00:24:42,988'); seek(1482.0)">
              at this piece of code, there's an input array of integers,
            </span>
            
            <span id="chunk-395" class="transcript-chunks" onclick="console.log('00:24:46,690'); seek(1486.0)">
              and there's an output array of integers. We need to run over the input array,
            </span>
            
            <span id="chunk-396" class="transcript-chunks" onclick="console.log('00:24:51,062'); seek(1491.0)">
              perform a go routine, which is something,
            </span>
            
            <span id="chunk-397" class="transcript-chunks" onclick="console.log('00:24:54,736'); seek(1494.0)">
              it does something, get the output of it and append it to the
            </span>
            
            <span id="chunk-398" class="transcript-chunks" onclick="console.log('00:24:58,288'); seek(1498.0)">
              output array. The simplest way to do this would be using a lock,
            </span>
            
            <span id="chunk-399" class="transcript-chunks" onclick="console.log('00:25:01,766'); seek(1501.0)">
              because now we're trying to serialize the access to the result output
            </span>
            
            <span id="chunk-400" class="transcript-chunks" onclick="console.log('00:25:05,322'); seek(1505.0)">
              array. Or do we really need a lock here?
            </span>
            
            <span id="chunk-401" class="transcript-chunks" onclick="console.log('00:25:08,404'); seek(1508.0)">
              A simpler way would just be to use an array and
            </span>
            
            <span id="chunk-402" class="transcript-chunks" onclick="console.log('00:25:12,308'); seek(1512.0)">
              use positional index. Now arrays, as long as they
            </span>
            
            <span id="chunk-403" class="transcript-chunks" onclick="console.log('00:25:15,528'); seek(1515.0)">
              are positionally accessed, can actually leave and do
            </span>
            
            <span id="chunk-404" class="transcript-chunks" onclick="console.log('00:25:19,688'); seek(1519.0)">
              not require a need of a lock. We can just simply do run
            </span>
            
            <span id="chunk-405" class="transcript-chunks" onclick="console.log('00:25:23,352'); seek(1523.0)">
              with an index. Once we get the output, we access the
            </span>
            
            <span id="chunk-406" class="transcript-chunks" onclick="console.log('00:25:26,588'); seek(1526.0)">
              array via the positional index, and it does
            </span>
            
            <span id="chunk-407" class="transcript-chunks" onclick="console.log('00:25:29,932'); seek(1529.0)">
              the job so many times we actually may not even need a
            </span>
            
            <span id="chunk-408" class="transcript-chunks" onclick="console.log('00:25:34,668'); seek(1534.0)">
              very sophisticated concurrency control mechanism because this itself will do our
            </span>
            
            <span id="chunk-409" class="transcript-chunks" onclick="console.log('00:25:38,352'); seek(1538.0)">
              job. Just to recap, what is the
            </span>
            
            <span id="chunk-410" class="transcript-chunks" onclick="console.log('00:25:41,888'); seek(1541.0)">
              need for concurrency constructs? Because we want to solve
            </span>
            
            <span id="chunk-411" class="transcript-chunks" onclick="console.log('00:25:45,830'); seek(1545.0)">
              the unpredictability problem, we want control.
            </span>
            
            <span id="chunk-412" class="transcript-chunks" onclick="console.log('00:25:49,150'); seek(1549.0)">
              There are two kinds of that. There are control constructs
            </span>
            
            <span id="chunk-413" class="transcript-chunks" onclick="console.log('00:25:52,522'); seek(1552.0)">
              which are used for control handoff. There are data constructs which are
            </span>
            
            <span id="chunk-414" class="transcript-chunks" onclick="console.log('00:25:56,084'); seek(1556.0)">
              used for data sharing, and data consistency. Constructs also
            </span>
            
            <span id="chunk-415" class="transcript-chunks" onclick="console.log('00:25:59,796'); seek(1559.0)">
              need to adhere to language principles. We saw how weight groups,
            </span>
            
            <span id="chunk-416" class="transcript-chunks" onclick="console.log('00:26:03,466'); seek(1563.0)">
              how counters, or how channels as well can actually misbehave
            </span>
            
            <span id="chunk-417" class="transcript-chunks" onclick="console.log('00:26:07,322'); seek(1567.0)">
              if you're not careful about how we are applying them. And now
            </span>
            
            <span id="chunk-418" class="transcript-chunks" onclick="console.log('00:26:10,692'); seek(1570.0)">
              we also probably understand which prone to use when to recap
            </span>
            
            <span id="chunk-419" class="transcript-chunks" onclick="console.log('00:26:14,890'); seek(1574.0)">
              were to look at the same problem again. Now when
            </span>
            
            <span id="chunk-420" class="transcript-chunks" onclick="console.log('00:26:18,012'); seek(1578.0)">
              we look at this, we probably are better equipped to handle this problem.
            </span>
            
            <span id="chunk-421" class="transcript-chunks" onclick="console.log('00:26:21,500'); seek(1581.0)">
              Thank you. I'm CTO and founder at last
            </span>
            
            <span id="chunk-422" class="transcript-chunks" onclick="console.log('00:26:24,972'); seek(1584.0)">
              nine. We are an observability company and I'm Pushova.
            </span>
            
            </div>
          </div>
          

          

          <div class="col-12 mb-2 text-center">
            <div class="text-center mb-5">
              <a href="https://www.conf42.com/golang2021" class="btn btn-sm btn-danger shadow lift" style="background-color: #881E4B;">
                <i class="fe fe-grid me-2"></i>
                See all 25 talks at this event!
              </a>
            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- PHOTO -->
    <section class="pt-8 pb-6">
      <div class="container">

        <div class="row align-items-center">
          <div class="col-12 col-md-6 col-lg-7">

            <div class="mb-8 mb-md-0">

              <!-- Image -->
              <img src="https://conf42.github.io/static/headshots/golang_piyush.png" alt="..." class="screenshot img-fluid mw-md-110 float-end me-md-6 mb-6 mb-md-0">

            </div>

          </div>
          <div class="col-12 col-md-6 col-lg-5">

            <!-- List -->
            <div class="d-flex">

              <!-- Body -->
              <div class="ms-5">

                <!-- Author 1 -->
                <h2 class="me-2">
                  Piyush Verma
                </h2>
                <h3 class="me-2">
                  <span class="text-muted">
                    CTO @ last9.io
                  </span>
                </h3>

                <p class="text-uppercase text-muted me-2 mb-3">
                  
                  <a href="https://www.linkedin.com/in/meson10/" target="_blank" class="mr-3">
                    <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Piyush Verma's LinkedIn account" />
                  </a>
                  
                  
                  <a href="https://twitter.com/@realmeson10" target="_blank">
                    <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Piyush Verma's twitter account" />
                  </a>
                  
                </p>
                

                <br />

                <a
                  href="https://twitter.com/share?ref_src=twsrc%5Etfw"
                  class="twitter-share-button"

                  data-text="Check out this talk by @realmeson10"
                  data-url="https://www.conf42.com/golang2021"
                  data-via="conf42com"
                  data-related=""
                  data-show-count="false"
                >
                  Tweet
                </a>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

                <br />

                <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
                <script type="IN/Share" data-url="https://www.conf42.com/golang2021"></script>
              </div>

            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>





  <script>
    function gtag_report_conversion(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.location = url;
        }
      };
      gtag('event', 'conversion', {
          'send_to': 'AW-882275635/jLVTCPbt1N8CELPq2aQD',
          'event_callback': callback
      });
      return false;
    }
    </script>
    <!-- SUBSCRIBE -->
    <section class="pt-8 pt-md-11 bg-gradient-light-white" id="register">
        <div class="container">
          <div class="row align-items-center justify-content-between mb-8 mb-md-11">
            <div class="col-12 col-md-6 order-md-2" data-aos="fade-left">
  
              <!-- Heading -->
              <h2>
                Awesome tech events for <br>
                <span class="text-success"><span data-typed='{"strings": ["software engineers.", "tech leaders.", "SREs.", "DevOps.", "CTOs.",  "managers.", "architects.", "QAs.", "developers.", "coders.", "founders.", "CEOs.", "students.", "geeks.", "ethical hackers.", "educators.", "enthusiasts.", "directors.", "researchers.", "PHDs.", "evangelists.", "tech authors."]}'></span></span>
              </h2>
  
              <!-- Text -->
              <p class="fs-lg text-muted mb-6">
  
              </p>
  
              <!-- List -->
              <div class="row">
                <div class="col-12 col-lg-12">
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <!-- Text -->
                    <p class="text-success">
                      Priority access to all content
                    </p>
                  </div>
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Video hallway track
                    </p>
                  </div>

                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Community chat
                    </p>
                  </div>
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Exclusive promotions and giveaways
                    </p>
                  </div>
  
                </div>
              </div> <!-- / .row -->
  
            </div>
            <div class="col-12 col-md-6 col-lg-5 order-md-1">
  
              <!-- Card -->
              <div class="card shadow-light-lg">
  
                <!-- Body -->
                <div class="card-body">
  
                  <!-- Form -->
                  <link rel="stylesheet" href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css">
                  <p class="emailoctopus-success-message text-success"></p>
                  <p class="emailoctopus-error-message text-danger"></p>
                  <form
                    action="https://emailoctopus.com/lists/a3ba0cb5-7524-11eb-a3d0-06b4694bee2a/members/embedded/1.3/add"
                    method="post"
                    data-message-success="Thanks! Check your email for further directions!"
                    data-message-missing-email-address="Your email address is required."
                    data-message-invalid-email-address="Your email address looks incorrect, please try again."
                    data-message-bot-submission-error="This doesn't look like a human submission."
                    data-message-consent-required="Please check the checkbox to indicate your consent."
                    data-message-invalid-parameters-error="This form has missing or invalid fields."
                    data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
                    class="emailoctopus-form"
                    data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
                  >
                    <div class="form-floating emailoctopus-form-row">
                      <input type="email" class="form-control form-control-flush" name="field_0" id="field_0" placeholder="Email" required>
                      <label for="field_0">Email address</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_1" id="field_1" placeholder="First Name" required>
                      <label for="field_1">First Name</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_2" id="field_2" placeholder="Last Name" required>
                      <label for="field_2">Last Name</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_4" id="field_4" placeholder="Company" required>
                      <label for="field_4">Company</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_5" id="field_5" placeholder="Job Title" required>
                      <label for="field_5">Job Title</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_3" id="field_3" placeholder="Phone">
                      <label for="field_3">Phone Number</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <select type="text" class="form-control form-control-flush" name="field_7" id="country-source" required
                        oninput="updateCountry()"
                      >
                        <!-- Country names and Country Name -->
    <option value="">Please select your country</option>
    <option value="Afghanistan">Afghanistan</option>
    <option value="Aland Islands">Aland Islands</option>
    <option value="Albania">Albania</option>
    <option value="Algeria">Algeria</option>
    <option value="American Samoa">American Samoa</option>
    <option value="Andorra">Andorra</option>
    <option value="Angola">Angola</option>
    <option value="Anguilla">Anguilla</option>
    <option value="Antarctica">Antarctica</option>
    <option value="Antigua and Barbuda">Antigua and Barbuda</option>
    <option value="Argentina">Argentina</option>
    <option value="Armenia">Armenia</option>
    <option value="Aruba">Aruba</option>
    <option value="Australia">Australia</option>
    <option value="Austria">Austria</option>
    <option value="Azerbaijan">Azerbaijan</option>
    <option value="Bahamas">Bahamas</option>
    <option value="Bahrain">Bahrain</option>
    <option value="Bangladesh">Bangladesh</option>
    <option value="Barbados">Barbados</option>
    <option value="Belarus">Belarus</option>
    <option value="Belgium">Belgium</option>
    <option value="Belize">Belize</option>
    <option value="Benin">Benin</option>
    <option value="Bermuda">Bermuda</option>
    <option value="Bhutan">Bhutan</option>
    <option value="Bolivia">Bolivia</option>
    <option value="Bonaire, Sint Eustatius and Saba">Bonaire, Sint Eustatius and Saba</option>
    <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
    <option value="Botswana">Botswana</option>
    <option value="Bouvet Island">Bouvet Island</option>
    <option value="Brazil">Brazil</option>
    <option value="British Indian Ocean Territory">British Indian Ocean Territory</option>
    <option value="Brunei Darussalam">Brunei Darussalam</option>
    <option value="Bulgaria">Bulgaria</option>
    <option value="Burkina Faso">Burkina Faso</option>
    <option value="Burundi">Burundi</option>
    <option value="Cambodia">Cambodia</option>
    <option value="Cameroon">Cameroon</option>
    <option value="Canada">Canada</option>
    <option value="Cape Verde">Cape Verde</option>
    <option value="Cayman Islands">Cayman Islands</option>
    <option value="Central African Republic">Central African Republic</option>
    <option value="Chad">Chad</option>
    <option value="Chile">Chile</option>
    <option value="China">China</option>
    <option value="Christmas Island">Christmas Island</option>
    <option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
    <option value="Colombia">Colombia</option>
    <option value="Comoros">Comoros</option>
    <option value="Congo">Congo</option>
    <option value="Congo, Democratic Republic of the Congo">Congo, Democratic Republic of the Congo</option>
    <option value="Cook Islands">Cook Islands</option>
    <option value="Costa Rica">Costa Rica</option>
    <option value="Cote D'Ivoire">Cote D'Ivoire</option>
    <option value="Croatia">Croatia</option>
    <option value="Cuba">Cuba</option>
    <option value="Curacao">Curacao</option>
    <option value="Cyprus">Cyprus</option>
    <option value="Czech Republic">Czech Republic</option>
    <option value="Denmark">Denmark</option>
    <option value="Djibouti">Djibouti</option>
    <option value="Dominica">Dominica</option>
    <option value="Dominican Republic">Dominican Republic</option>
    <option value="Ecuador">Ecuador</option>
    <option value="Egypt">Egypt</option>
    <option value="El Salvador">El Salvador</option>
    <option value="Equatorial Guinea">Equatorial Guinea</option>
    <option value="Eritrea">Eritrea</option>
    <option value="Estonia">Estonia</option>
    <option value="Ethiopia">Ethiopia</option>
    <option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
    <option value="Faroe Islands">Faroe Islands</option>
    <option value="Fiji">Fiji</option>
    <option value="Finland">Finland</option>
    <option value="France">France</option>
    <option value="French Guiana">French Guiana</option>
    <option value="French Polynesia">French Polynesia</option>
    <option value="French Southern Territories">French Southern Territories</option>
    <option value="Gabon">Gabon</option>
    <option value="Gambia">Gambia</option>
    <option value="Georgia">Georgia</option>
    <option value="Germany">Germany</option>
    <option value="Ghana">Ghana</option>
    <option value="Gibraltar">Gibraltar</option>
    <option value="Greece">Greece</option>
    <option value="Greenland">Greenland</option>
    <option value="Grenada">Grenada</option>
    <option value="Guadeloupe">Guadeloupe</option>
    <option value="Guam">Guam</option>
    <option value="Guatemala">Guatemala</option>
    <option value="Guernsey">Guernsey</option>
    <option value="Guinea">Guinea</option>
    <option value="Guinea-Bissau">Guinea-Bissau</option>
    <option value="Guyana">Guyana</option>
    <option value="Haiti">Haiti</option>
    <option value="Heard Island and Mcdonald Islands">Heard Island and Mcdonald Islands</option>
    <option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
    <option value="Honduras">Honduras</option>
    <option value="Hong Kong">Hong Kong</option>
    <option value="Hungary">Hungary</option>
    <option value="Iceland">Iceland</option>
    <option value="India">India</option>
    <option value="Indonesia">Indonesia</option>
    <option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
    <option value="Iraq">Iraq</option>
    <option value="Ireland">Ireland</option>
    <option value="Isle of Man">Isle of Man</option>
    <option value="Israel">Israel</option>
    <option value="Italy">Italy</option>
    <option value="Jamaica">Jamaica</option>
    <option value="Japan">Japan</option>
    <option value="Jersey">Jersey</option>
    <option value="Jordan">Jordan</option>
    <option value="Kazakhstan">Kazakhstan</option>
    <option value="Kenya">Kenya</option>
    <option value="Kiribati">Kiribati</option>
    <option value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
    <option value="Korea, Republic of">Korea, Republic of</option>
    <option value="Kosovo">Kosovo</option>
    <option value="Kuwait">Kuwait</option>
    <option value="Kyrgyzstan">Kyrgyzstan</option>
    <option value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
    <option value="Latvia">Latvia</option>
    <option value="Lebanon">Lebanon</option>
    <option value="Lesotho">Lesotho</option>
    <option value="Liberia">Liberia</option>
    <option value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option>
    <option value="Liechtenstein">Liechtenstein</option>
    <option value="Lithuania">Lithuania</option>
    <option value="Luxembourg">Luxembourg</option>
    <option value="Macao">Macao</option>
    <option value="Macedonia, the Former Yugoslav Republic of">Macedonia, the Former Yugoslav Republic of</option>
    <option value="Madagascar">Madagascar</option>
    <option value="Malawi">Malawi</option>
    <option value="Malaysia">Malaysia</option>
    <option value="Maldives">Maldives</option>
    <option value="Mali">Mali</option>
    <option value="Malta">Malta</option>
    <option value="Marshall Islands">Marshall Islands</option>
    <option value="Martinique">Martinique</option>
    <option value="Mauritania">Mauritania</option>
    <option value="Mauritius">Mauritius</option>
    <option value="Mayotte">Mayotte</option>
    <option value="Mexico">Mexico</option>
    <option value="Micronesia, Federated States of">Micronesia, Federated States of</option>
    <option value="Moldova, Republic of">Moldova, Republic of</option>
    <option value="Monaco">Monaco</option>
    <option value="Mongolia">Mongolia</option>
    <option value="Montenegro">Montenegro</option>
    <option value="Montserrat">Montserrat</option>
    <option value="Morocco">Morocco</option>
    <option value="Mozambique">Mozambique</option>
    <option value="Myanmar">Myanmar</option>
    <option value="Namibia">Namibia</option>
    <option value="Nauru">Nauru</option>
    <option value="Nepal">Nepal</option>
    <option value="Netherlands">Netherlands</option>
    <option value="Netherlands Antilles">Netherlands Antilles</option>
    <option value="New Caledonia">New Caledonia</option>
    <option value="New Zealand">New Zealand</option>
    <option value="Nicaragua">Nicaragua</option>
    <option value="Niger">Niger</option>
    <option value="Nigeria">Nigeria</option>
    <option value="Niue">Niue</option>
    <option value="Norfolk Island">Norfolk Island</option>
    <option value="Northern Mariana Islands">Northern Mariana Islands</option>
    <option value="Norway">Norway</option>
    <option value="Oman">Oman</option>
    <option value="Pakistan">Pakistan</option>
    <option value="Palau">Palau</option>
    <option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option>
    <option value="Panama">Panama</option>
    <option value="Papua New Guinea">Papua New Guinea</option>
    <option value="Paraguay">Paraguay</option>
    <option value="Peru">Peru</option>
    <option value="Philippines">Philippines</option>
    <option value="Pitcairn">Pitcairn</option>
    <option value="Poland">Poland</option>
    <option value="Portugal">Portugal</option>
    <option value="Puerto Rico">Puerto Rico</option>
    <option value="Qatar">Qatar</option>
    <option value="Reunion">Reunion</option>
    <option value="Romania">Romania</option>
    <option value="Russian Federation">Russian Federation</option>
    <option value="Rwanda">Rwanda</option>
    <option value="Saint Barthelemy">Saint Barthelemy</option>
    <option value="Saint Helena">Saint Helena</option>
    <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
    <option value="Saint Lucia">Saint Lucia</option>
    <option value="Saint Martin">Saint Martin</option>
    <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
    <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
    <option value="Samoa">Samoa</option>
    <option value="San Marino">San Marino</option>
    <option value="Sao Tome and Principe">Sao Tome and Principe</option>
    <option value="Saudi Arabia">Saudi Arabia</option>
    <option value="Senegal">Senegal</option>
    <option value="Serbia">Serbia</option>
    <option value="Serbia and Montenegro">Serbia and Montenegro</option>
    <option value="Seychelles">Seychelles</option>
    <option value="Sierra Leone">Sierra Leone</option>
    <option value="Singapore">Singapore</option>
    <option value="Sint Maarten">Sint Maarten</option>
    <option value="Slovakia">Slovakia</option>
    <option value="Slovenia">Slovenia</option>
    <option value="Solomon Islands">Solomon Islands</option>
    <option value="Somalia">Somalia</option>
    <option value="South Africa">South Africa</option>
    <option value="South Georgia and the South Sandwich Islands">South Georgia and the South Sandwich Islands</option>
    <option value="South Sudan">South Sudan</option>
    <option value="Spain">Spain</option>
    <option value="Sri Lanka">Sri Lanka</option>
    <option value="Sudan">Sudan</option>
    <option value="Suriname">Suriname</option>
    <option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
    <option value="Swaziland">Swaziland</option>
    <option value="Sweden">Sweden</option>
    <option value="Switzerland">Switzerland</option>
    <option value="Syrian Arab Republic">Syrian Arab Republic</option>
    <option value="Taiwan, Province of China">Taiwan, Province of China</option>
    <option value="Tajikistan">Tajikistan</option>
    <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
    <option value="Thailand">Thailand</option>
    <option value="Timor-Leste">Timor-Leste</option>
    <option value="Togo">Togo</option>
    <option value="Tokelau">Tokelau</option>
    <option value="Tonga">Tonga</option>
    <option value="Trinidad and Tobago">Trinidad and Tobago</option>
    <option value="Tunisia">Tunisia</option>
    <option value="Turkey">Turkey</option>
    <option value="Turkmenistan">Turkmenistan</option>
    <option value="Turks and Caicos Islands">Turks and Caicos Islands</option>
    <option value="Tuvalu">Tuvalu</option>
    <option value="Uganda">Uganda</option>
    <option value="Ukraine">Ukraine</option>
    <option value="United Arab Emirates">United Arab Emirates</option>
    <option value="United Kingdom">United Kingdom</option>
    <option value="United States">United States</option>
    <option value="United States Minor Outlying Islands">United States Minor Outlying Islands</option>
    <option value="Uruguay">Uruguay</option>
    <option value="Uzbekistan">Uzbekistan</option>
    <option value="Vanuatu">Vanuatu</option>
    <option value="Venezuela">Venezuela</option>
    <option value="Viet Nam">Viet Nam</option>
    <option value="Virgin Islands, British">Virgin Islands, British</option>
    <option value="Virgin Islands, U.s.">Virgin Islands, U.s.</option>
    <option value="Wallis and Futuna">Wallis and Futuna</option>
    <option value="Western Sahara">Western Sahara</option>
    <option value="Yemen">Yemen</option>
    <option value="Zambia">Zambia</option>
    <option value="Zimbabwe">Zimbabwe</option>
                      </select>
                      <label for="field_7">Country</label>
                    </div>
                    <input id="country-destination" name="field_7" type="hidden">
                    <input id="tz-country" name="field_8" type="hidden">
                    
                    <input
                      name="field_6"
                      type="hidden"
                      value="Golang"
                    >
                    
                    <div class="emailoctopus-form-row-consent">
                      <input
                        type="checkbox"
                        id="consent"
                        name="consent"
                      >
                      <label for="consent">
                        I consent to the following terms:
                      </label>
                      <a href="https://www.conf42.com/terms-and-conditions.pdf" target="_blank">
                        Terms and Conditions
                      </a>
                      &amp;
                      <a href="./code-of-conduct" target="_blank">
                        Code of Conduct
                      </a>
                    </div>
                    <div
                      aria-hidden="true"
                      class="emailoctopus-form-row-hp"
                    >
                      <input
                        type="text"
                        name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
                        tabindex="-1"
                        autocomplete="nope"
                      >
                    </div>
                    <div class="mt-6 emailoctopus-form-row-subscribe">
                      <input
                        type="hidden"
                        name="successRedirectUrl"
                      >
                      <button class="btn w-100 btn-success lift" type="submit" onclick="gtag_report_conversion(); rdt('track', 'SignUp');">
                        Subscribe
                      </button>
                    </div>
                  </form>
  
                </div>
  
              </div>
  
            </div>
  
          </div> <!-- / .row -->
        </div> <!-- / .container -->
      </section>

      <!-- <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js"></script> -->
      <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js"></script>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-dark">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- FOOTER -->
    <footer class="py-8 py-md-11 bg-dark">
      <div class="container">
        <div class="row">

          <div class="col-12 col-md-4 col-lg-3">
            <!-- Brand -->
            <img src="./assets/conf42/conf42_logo_white_small.png" alt="..." class="footer-brand img-fluid mb-2">
    
            <!-- Text -->
            <p class="text-gray-700 mb-2">
              Online tech events
            </p>
    
            <!-- Social -->
            <ul class="list-unstyled list-inline list-social mb-5">
              <li class="list-inline-item list-social-item me-3">
                <a href="https://www.linkedin.com/company/49110720/" class="text-decoration-none">
                  <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="...">
                </a>
              </li>
              <li class="list-inline-item list-social-item me-3">
                <a href="https://twitter.com/conf42com" class="text-decoration-none">
                  <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="...">
                </a>
              </li>
            </ul>

            <!-- QR Code -->
            <img src="./assets/conf42/CONF42.QR.png" style="width: 100px;" class="mb-5 img-fluid" />
          </div>


          <div class="col-12 col-md-4 col-lg-3">
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2025
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2025">
                  DevOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2025">
                  Chaos Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2025">
                  Python 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2025">
                  Cloud Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2025">
                  Large Language Models (LLMs) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2025">
                  Golang 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2025">
                  Site Reliability Engineering (SRE) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2025">
                  Machine Learning 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2025">
                  Observability 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2025">
                  Quantum Computing 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2025">
                  Rustlang 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2025">
                  Platform Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mlops2025">
                  MLOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2025">
                  Incident Management 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2025">
                  Kube Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2024">
                  JavaScript 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2025">
                  Prompt Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/robotics2025">
                  Robotics 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2025">
                  DevSecOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2025">
                  Internet of Things (IoT) 2025
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2024
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2024">
                  DevOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2024">
                  Chaos Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2024">
                  Python 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2024">
                  Cloud Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2024">
                  Large Language Models (LLMs) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2024">
                  Golang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2024">
                  Site Reliability Engineering (SRE) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2024">
                  Machine Learning 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2024">
                  Observability 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2024">
                  Quantum Computing 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2024">
                  Rustlang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2024">
                  Platform Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2024">
                  Kube Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2024">
                  Incident Management 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2024">
                  JavaScript 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2024">
                  Prompt Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://sreday.com/2024-amsterdam/">
                  SREday Amsterdam 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2024">
                  DevSecOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2024">
                  Internet of Things (IoT) 2024
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2023
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2023">
                  DevOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2023">
                  Chaos Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2023">
                  Python 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2023">
                  Cloud Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2023">
                  Golang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2023">
                  Site Reliability Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2023">
                  Machine Learning 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2023">
                  Observability 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2023">
                  Quantum Computing 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2023">
                  Rustlang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2023">
                  Platform Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2023">
                  Kube Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2023">
                  Incident Management 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2023">
                  JavaScript 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2023">
                  DevSecOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2023">
                  Internet of Things (IoT) 2023
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2022
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2022">
                  Python 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mobile2022">
                  Mobile 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2022">
                  Chaos Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2022">
                  Golang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2022">
                  Cloud Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2022">
                  Machine Learning 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2022">
                  Site Reliability Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2022">
                  Quantum Computing 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2022">
                  Rustlang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2022">
                  Incident Management 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2022">
                  Kube Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2022">
                  JavaScript 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2022">
                  DevSecOps 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/web2022">
                  Web 3.0 2022
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2021
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2021">
                  Chaos Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/enterprise2021">
                  Enterprise Software 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2021">
                  Cloud Native 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2021">
                  Python 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2021">
                  Golang 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2021">
                  Machine Learning 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2021">
                  Site Reliability Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2021">
                  JavaScript 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2021">
                  DevSecOps 2021
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2020
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2020">
                  Chaos Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/oss2020">
                  Open Source Showcase 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2020">
                  Site Reliability Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2020">
                  JavaScript 2020
                </a>
              </li>
            
            </ul>
          
          </div>

          
          <div class="col-12 col-md-4 offset-md-4 col-lg-3 offset-lg-0">

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Community
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./support" class="text-reset">
                  Support us
                </a>
              </li>
              <li class="mb-3">
                <a href="./speakers" class="text-reset">
                  Speakers
                </a>
              </li>
              <li class="mb-3">
                <a href="./hall-of-fame" class="text-reset">
                  Hall of fame
                </a>
              </li>
              <li class="mb-3">
                <a href="https://discord.gg/DnyHgrC7jC" class="text-reset" target="_blank">
                  Discord
                </a>
              </li>
              <li class="mb-3">
                <a href="./about" class="text-reset">
                  About the team
                </a>
              </li>
            </ul>

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Sponsors
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./sponsor" class="text-reset" target="_blank">
                  Sponsorship
                </a>
              </li>
              <li class="mb-3">
                <a href="mailto:mark@conf42.com?subject=We would like to sponsor" class="text-reset" target="_blank">
                  Request the Prospectus
                </a>
              </li>
              <li class="mb-3">
                <a href="https://drive.google.com/drive/folders/1tT2lspLQgj3sdfxG9FwDVkBUt-TYSPGe?usp=sharing" class="text-reset" target="_blank">
                  Media kit
                </a>
              </li>
            </ul>
    
          </div>


          <div class="col-12 col-md-4 col-lg-3">
    
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Legal
            </h6>
    
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./code-of-conduct" class="text-reset">
                  Code of Conduct
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/terms-and-conditions.pdf" class="text-reset" target="_blank">
                  Terms and Conditions
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/privacy-policy.pdf" class="text-reset" target="_blank">
                  Privacy policy
                </a>
              </li>
            </ul>
          </div>


        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </footer>

    <!-- JAVASCRIPT -->
    <!-- Map JS -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    
    <!-- Vendor JS -->
    <script src="./assets/js/vendor.bundle.js"></script>
    
    <!-- Theme JS -->
    <script src="./assets/js/theme.bundle.js"></script>

    <!-- Various JS -->
    <script src="./assets/js/various.js"></script>

    <script src='https://cdn.jsdelivr.net/npm/@widgetbot/crate@3' async defer>
      new Crate({
          notifications: true,
          indicator: true,
          server: '814240231606714368', // Conf42.com
          channel: '814240231788249115' // #community
      })
    </script>
  </body>
</html>