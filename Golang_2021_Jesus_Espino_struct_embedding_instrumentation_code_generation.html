<!doctype html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-77190356-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-77190356-3');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css" />
    <link rel="stylesheet" href="./assets/css/libs.bundle.css" />
    <link rel="stylesheet" href="./assets/css/theme.bundle.css" />
    <link rel="stylesheet" href="./assets/css/various.css" />

    <title>Conf42: Struct Embedding, Instrumentation and Code Generation</title>
    <meta name="description" content="Say hello to the Gophers from outer space!">

    
    <meta name="image" property="og:image" content="https://www.conf42.com/assets/headshots/https://conf42.github.io/static/headshots/golang_jesus.png">
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Struct Embedding, Instrumentation and Code Generation | Conf42"/>
    <meta property="og:description" content="#### Reviewing how struct embedding and other techniques can be used to improve code design, performance, and usability in your Go applications."/>
    <meta property="og:url" content="https://conf42.com/Golang_2021_Jesus_Espino_struct_embedding_instrumentation_code_generation"/>
    

    <link rel="shortcut icon" href="./assets/favicon/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="./assets/favicon/site.webmanifest">

    

  <!-- Reddit Pixel -->
  <script>
  !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt('init','a2_e019g7ndfhrm', {"optOut":false,"useDecimalCurrencyValues":true,"aaid":"<AAID-HERE>"});rdt('track', 'PageVisit');
  </script>
  <!-- DO NOT MODIFY UNLESS TO REPLACE A USER IDENTIFIER -->
  <!-- End Reddit Pixel -->

  </head>
  <body>

    <!-- NAVBAR -->
    
    <!-- <nav class="navbar navbar-expand-lg navbar-light bg-light"> -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    
      <div class="container">
    
        <!-- Brand -->
        <a class="navbar-brand" href="./">
          <img src="./assets/conf42/conf42_logo_black_small.png" class="navbar-brand-img" alt="...">
        </a>
    
        <!-- Toggler -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    
        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="navbarCollapse">
    
          <!-- Toggler -->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fe fe-x"></i>
          </button>
    
          <!-- Navigation -->
          <ul class="navbar-nav ms-auto">

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Events
              </a>
              <div class="dropdown-menu dropdown-menu-xl p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-6">
                    <!-- <div class="dropdown-img-start" style="background-image: url(./assets/splash/SREday2023_Splash.png);"> -->
                    <div class="dropdown-img-start">
                      <!-- Heading -->
                      <h4 class="fw-bold text-white mb-0">
                        Featured event
                      </h4>
                      <!-- Text -->
                      <p class="fs-sm text-white">
                        SREday London 2024
                      </p>
                      <p class="fs-sm text-white">
                        Premiere 2024-09-19
                      </p>
                      <!-- Button -->
                      <a href="https://www.sreday.com/" class="btn btn-sm btn-white shadow-dark fonFt-size-sm">
                        Learn more
                      </a>
                    </div>
                  </div>
                  <div class="col-12 col-lg-6">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
    
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2025
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2025">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2025">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2025">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2025">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2025">
                            Large Language Models (LLMs)
                          </a>
                          
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2024
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2024">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2024">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2024">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2024">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2024">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2024">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2024">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2024">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2024">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2024">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2024">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2024">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.sreday.com/">
                            SREday London
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2024">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2024">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2024">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2024">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.sreday.com/">
                            SREday Amsterdam
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2024">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2024">
                            Internet of Things (IoT)
                          </a>
                          
                        

                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            Info
                          </h6>
                          <a class="dropdown-item" href="./code-of-conduct">
                            Code of Conduct
                          </a>
    
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Community
              </a>
              <div class="dropdown-menu dropdown-menu-l p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-3">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
                          <a class="dropdown-item" href="./support">
                            Support us
                          </a>
                          <a class="dropdown-item" href="./hall-of-fame">
                            Hall of Fame
                          </a>
                          <a class="dropdown-item" href="./speakers">
                            Speakers
                          </a>
                          <a class="dropdown-item" href="https://www.papercall.io/events?cfps-scope=&keywords=conf42" target="_blank">
                            Become a speaker (CFPs)
                          </a>
                          <a class="dropdown-item" href="https://discord.gg/mvHyZzRGaQ" target="_blank">
                            Discord
                          </a>
                          <a class="dropdown-item" href="./testimonials">
                            Testimonials
                          </a>
                          <a class="dropdown-item" href="./about">
                            About the team
                          </a>
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./podcast">
                Podcast
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./blog">
                Blog
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./sponsor">
                Sponsor
              </a>
            </li>
          </ul>
    
          <!-- Button -->
          <a class="navbar-btn btn btn-sm btn-primary lift ms-auto" href="#register">
            Subscribe for FREE
          </a>
    
        </div>
    
      </div>
    </nav>



<style>
.text-selected {
  background-color: #42ba96!important;
  color: white;
}
</style>
	

    <!-- WELCOME -->
    <section class="py-5 py-md-10" style="background-color: #881E4B;">

      <!-- Shape -->
      <div class="shape shape-blur-3 svg-shim text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>
      </div>

      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 text-center" data-aos="fade-up">

            <!-- Heading -->
            <h1 class="display-2 fw-bold text-white">
              Conf42 Golang 2021 - Online
            </h1>

            <h2 class="text-white">
              
              <time datetime="2021-06-24">June 24 2021</time>
              
              
            </h2>

            <!-- Text -->
            <p class="lead mb-0 text-white-75">
              
              <!-- Say hello to the Gophers from outer space!
 -->
              <script>
                const event_date = new Date("2021-06-24T17:00:00.000+00:00");
                const local_timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const local_date = new Date("2021-06-24T17:00:00.000+00:00");
                // const local_offset = new Date().getTimezoneOffset() / 60;
                // local_date.setHours(local_date.getHours() + local_offset);
                document.getElementById("localtime").innerHTML = local_date + " in " + local_timezone
              </script>
            </p>

            <!-- Buttons -->
            <div class="text-center mt-5">
              
              <a href="#register" class="btn btn-primary shadow lift me-1 mb-3">
                <i class="fe fe-user-check me-2"></i>
                Subscribe to watch
              </a>
              
              
              <a class="btn btn-danger lift mb-3" data-bigpicture='{"ytSrc": "Y-URSLmIPIg"}' href="#">
                <i class="fe fe-youtube me-2"></i>
                Watch this talk
              </a>
              
              
              <a class="btn btn-info lift mb-3" data-bigpicture='{"ytSrc": "8AiylKjLVmY"}' href="#">
                <i class="fe fe-eye me-2"></i>
                Watch Premiere
              </a>
              
              <!-- 
              <a class="btn btn-danger lift mb-3" href="https://youtube.com/playlist?list=PLIuxSyKxlQrBZ10NENgUnuPHCFKCK4Nlu" target="_blank">
                <i class="fe fe-youtube me-2"></i>
                Playlist
              </a>
               -->
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>
      </div>
    </div>

    
    <!-- VIDEO -->
    <section class="pt-2 sticky">
      <div class="container">
        <div class="row justify-content-center">

          <div id="video-container" class="col-9 col-lg-12 mb-5">

          <!-- Video -->

            <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
            <div id="player" class="sticky"></div>

            <script>
              
              var transcript = [{"text": "Hi everybody, my name is Jesus Espino. I\u0027m software engineer at", "timestamp": "00:00:25,490", "timestamp_s": 25.0}, {"text": "Maramos and I\u0027m going to talk about struggle embedding, instrumentation and code generation.", "timestamp": "00:00:29,228", "timestamp_s": 29.0}, {"text": "Well, what is Maramos? Maramos is a communication platform.", "timestamp": "00:00:33,570", "timestamp_s": 33.0}, {"text": "We write in the backend in go,", "timestamp": "00:00:37,244", "timestamp_s": 37.0}, {"text": "we write in the front end in typescript and react. And we are focused on", "timestamp": "00:00:40,028", "timestamp_s": 40.0}, {"text": "security and performance. We are an open source", "timestamp": "00:00:44,092", "timestamp_s": 44.0}, {"text": "project and with an open code model we", "timestamp": "00:00:47,618", "timestamp_s": 47.0}, {"text": "have a self hosted version and we provide", "timestamp": "00:00:51,092", "timestamp_s": 51.0}, {"text": "features to deploy on the cloud like", "timestamp": "00:00:55,410", "timestamp_s": 55.0}, {"text": "Kubernetes operators and things like that. And of course we", "timestamp": "00:01:00,130", "timestamp_s": 60.0}, {"text": "have our own SaaS service. Well what are the main pieces", "timestamp": "00:01:03,620", "timestamp_s": 63.0}, {"text": "and why I\u0027m talking to you about Maramos?", "timestamp": "00:01:07,342", "timestamp_s": 67.0}, {"text": "I\u0027m going to talk about maramos because I\u0027m going to explain something that we did", "timestamp": "00:01:11,454", "timestamp_s": 71.0}, {"text": "here in Maramos. This is the Maramos architecture. We have the", "timestamp": "00:01:14,952", "timestamp_s": 74.0}, {"text": "client that is a react typescript application that", "timestamp": "00:01:18,652", "timestamp_s": 78.0}, {"text": "calls to the API and the websockets API. The API", "timestamp": "00:01:21,948", "timestamp_s": 81.0}, {"text": "and the Websockets API call the app layer. That is where our business logic", "timestamp": "00:01:25,378", "timestamp_s": 85.0}, {"text": "live. Our app layer is going to leverage a set", "timestamp": "00:01:29,762", "timestamp_s": 89.0}, {"text": "of services to provide the final functionality. And one of", "timestamp": "00:01:33,392", "timestamp_s": 93.0}, {"text": "these services, for example, is the file service that allows us to store files", "timestamp": "00:01:36,944", "timestamp_s": 96.0}, {"text": "in s three or in the local file system, or the email service", "timestamp": "00:01:40,662", "timestamp_s": 100.0}, {"text": "that allow us to send email notification and all that", "timestamp": "00:01:44,820", "timestamp_s": 104.0}, {"text": "stuff. The important piece here is the store. The store service", "timestamp": "00:01:48,292", "timestamp_s": 108.0}, {"text": "is can abstraction that allows us to provide", "timestamp": "00:01:53,010", "timestamp_s": 113.0}, {"text": "all the storage mechanism related to database access,", "timestamp": "00:01:57,012", "timestamp_s": 117.0}, {"text": "database storage, database queries, all that stuff", "timestamp": "00:02:00,324", "timestamp_s": 120.0}, {"text": "is inside the store. And the app layer doesn\u0027t know anything about SQL,", "timestamp": "00:02:04,020", "timestamp_s": 124.0}, {"text": "doesn\u0027t know anything about how the data is actually stored.", "timestamp": "00:02:07,922", "timestamp_s": 127.0}, {"text": "The app layer only knows that the store is going to take", "timestamp": "00:02:11,650", "timestamp_s": 131.0}, {"text": "care of the entities and store them and is going to return", "timestamp": "00:02:15,148", "timestamp_s": 135.0}, {"text": "me then whenever I have to use them.", "timestamp": "00:02:18,720", "timestamp_s": 138.0}, {"text": "Well, what does our store look like? Our store", "timestamp": "00:02:22,208", "timestamp_s": 142.0}, {"text": "is interface. It\u0027s a huge interface that have", "timestamp": "00:02:26,176", "timestamp_s": 146.0}, {"text": "a lot of superstores. Each superstore have a single", "timestamp": "00:02:29,712", "timestamp_s": 149.0}, {"text": "responsibility over a certain part of the data. For example,", "timestamp": "00:02:33,556", "timestamp_s": 153.0}, {"text": "the Tigna store is going to take care about the", "timestamp": "00:02:37,396", "timestamp_s": 157.0}, {"text": "team model and how it\u0027s storing the database,", "timestamp": "00:02:40,708", "timestamp_s": 160.0}, {"text": "how we query the teams, all that stuff. Then we have the user", "timestamp": "00:02:44,122", "timestamp_s": 164.0}, {"text": "store that does the same for the users, the bot store for the bots and", "timestamp": "00:02:47,902", "timestamp_s": 167.0}, {"text": "so on. This is how it looks like in the code. We have", "timestamp": "00:02:51,832", "timestamp_s": 171.0}, {"text": "the store interface that have a set of methods that return,", "timestamp": "00:02:55,288", "timestamp_s": 175.0}, {"text": "well, each superstore struct the superstore interface.", "timestamp": "00:02:58,712", "timestamp_s": 178.0}, {"text": "In this case, the team Superstore interface is going to have a set of methods", "timestamp": "00:03:03,090", "timestamp_s": 183.0}, {"text": "related to the team model.", "timestamp": "00:03:06,882", "timestamp_s": 186.0}, {"text": "If we want to implement this interface, we have to implement", "timestamp": "00:03:09,790", "timestamp_s": 189.0}, {"text": "each of these methods. So our SQL store,", "timestamp": "00:03:13,270", "timestamp_s": 193.0}, {"text": "the implementation of the store that we have is going to implement each", "timestamp": "00:03:16,880", "timestamp_s": 196.0}, {"text": "of this method accessing to the database using SQL.", "timestamp": "00:03:20,548", "timestamp_s": 200.0}, {"text": "But we will able to build a completely different store using", "timestamp": "00:03:24,266", "timestamp_s": 204.0}, {"text": "MongoDB or using any other database.", "timestamp": "00:03:28,308", "timestamp_s": 208.0}, {"text": "What\u0027s the problem that we are trying to solve? We want to", "timestamp": "00:03:31,754", "timestamp_s": 211.0}, {"text": "add caches to our system, to our store, but we don\u0027t", "timestamp": "00:03:34,952", "timestamp_s": 214.0}, {"text": "want to share responsibilities in the same code.", "timestamp": "00:03:38,638", "timestamp_s": 218.0}, {"text": "We want to have a very code generation of concerns", "timestamp": "00:03:42,504", "timestamp_s": 222.0}, {"text": "and we decide that we want to build something that is", "timestamp": "00:03:46,130", "timestamp_s": 226.0}, {"text": "completely separated. We don\u0027t want to see checking cache invalidation", "timestamp": "00:03:50,460", "timestamp_s": 230.0}, {"text": "cache insertions in our SQL related", "timestamp": "00:03:55,930", "timestamp_s": 235.0}, {"text": "code. So we want to have our SQL code that", "timestamp": "00:04:00,018", "timestamp_s": 240.0}, {"text": "is going to generate the queries, it\u0027s going to query the database", "timestamp": "00:04:03,312", "timestamp_s": 243.0}, {"text": "and then we want to have in another place the", "timestamp": "00:04:06,582", "timestamp_s": 246.0}, {"text": "cache logic where you insert things", "timestamp": "00:04:10,532", "timestamp_s": 250.0}, {"text": "in the cache, you retrieve things from the cache, you invalidate", "timestamp": "00:04:14,356", "timestamp_s": 254.0}, {"text": "the cache, all that logic should be separated.", "timestamp": "00:04:18,138", "timestamp_s": 258.0}, {"text": "Well, our initial approach is to use a well known", "timestamp": "00:04:21,258", "timestamp_s": 261.0}, {"text": "pattern, that is the middleware pattern. We create", "timestamp": "00:04:25,102", "timestamp_s": 265.0}, {"text": "a new set of interfaces and strikes to", "timestamp": "00:04:28,920", "timestamp_s": 268.0}, {"text": "provide this pattern and well, the result", "timestamp": "00:04:32,296", "timestamp_s": 272.0}, {"text": "wasn\u0027t easy to understand. This is how", "timestamp": "00:04:35,580", "timestamp_s": 275.0}, {"text": "it looks like. We had the SQL store that", "timestamp": "00:04:39,356", "timestamp_s": 279.0}, {"text": "implements the store interface that we already saw.", "timestamp": "00:04:42,876", "timestamp_s": 282.0}, {"text": "The SQL store also have to implement this new layered", "timestamp": "00:04:46,588", "timestamp_s": 286.0}, {"text": "store supplier. This layered store supplier is", "timestamp": "00:04:50,786", "timestamp_s": 290.0}, {"text": "going to have this set chain next that is", "timestamp": "00:04:54,272", "timestamp_s": 294.0}, {"text": "going to set the next element in the chain of this chain", "timestamp": "00:04:57,392", "timestamp_s": 297.0}, {"text": "of middlewares and the next is going to provide the next", "timestamp": "00:05:01,254", "timestamp_s": 301.0}, {"text": "middleware that is responsible for", "timestamp": "00:05:05,124", "timestamp_s": 305.0}, {"text": "the rest of the logic. The cache layer is going to implement", "timestamp": "00:05:09,428", "timestamp_s": 309.0}, {"text": "this layer, the store supplier only. And then we have this", "timestamp": "00:05:13,434", "timestamp_s": 313.0}, {"text": "layer, the store that is another extract that is going to provide,", "timestamp": "00:05:16,936", "timestamp_s": 316.0}, {"text": "well, it\u0027s going to have the database store database,", "timestamp": "00:05:20,904", "timestamp_s": 320.0}, {"text": "the SQL layer, the SQL store, and it\u0027s going", "timestamp": "00:05:25,102", "timestamp_s": 325.0}, {"text": "to have also the cache layer and any other layer", "timestamp": "00:05:28,904", "timestamp_s": 328.0}, {"text": "that you want to add is going to go here and then we are going", "timestamp": "00:05:32,562", "timestamp_s": 332.0}, {"text": "to have this set of superstore that are overriding or", "timestamp": "00:05:36,108", "timestamp_s": 336.0}, {"text": "not that are going to be delegated to the layer of the store or", "timestamp": "00:05:39,872", "timestamp_s": 339.0}, {"text": "are going to be delegated directly to the SQL store. This approach", "timestamp": "00:05:44,016", "timestamp_s": 344.0}, {"text": "work well, but it\u0027s not easy to understand and it\u0027s", "timestamp": "00:05:48,342", "timestamp_s": 348.0}, {"text": "not easy to think about or reason about. Well, this is", "timestamp": "00:05:52,198", "timestamp_s": 352.0}, {"text": "the code, this is how it looks like in the code. I don\u0027t want to", "timestamp": "00:05:55,748", "timestamp_s": 355.0}, {"text": "explain much that it\u0027s more or less the same that we", "timestamp": "00:05:59,604", "timestamp_s": 359.0}, {"text": "saw in the previous slide. What went well", "timestamp": "00:06:03,012", "timestamp_s": 363.0}, {"text": "and what didn\u0027t work, what went well is the", "timestamp": "00:06:06,472", "timestamp_s": 366.0}, {"text": "middleware pattern. It\u0027s something that is well known, something that is", "timestamp": "00:06:10,024", "timestamp_s": 370.0}, {"text": "kind of easy to think about it, because conceptually you already know", "timestamp": "00:06:13,544", "timestamp_s": 373.0}, {"text": "the concept of middleware, you know how it\u0027s expected to", "timestamp": "00:06:17,368", "timestamp_s": 377.0}, {"text": "work. So from the concept perspective,", "timestamp": "00:06:21,404", "timestamp_s": 381.0}, {"text": "was really easy to understand. Also, we had the opportunity to provide extra", "timestamp": "00:06:25,394", "timestamp_s": 385.0}, {"text": "information without affecting the layers beneath. So for example,", "timestamp": "00:06:29,296", "timestamp_s": 389.0}, {"text": "we were able to add this hint to the cache layer,", "timestamp": "00:06:32,704", "timestamp_s": 392.0}, {"text": "allowing to add certain extra information,", "timestamp": "00:06:36,662", "timestamp_s": 396.0}, {"text": "certain context from the app layer,", "timestamp": "00:06:40,270", "timestamp_s": 400.0}, {"text": "to decide if we want to cache something or not,", "timestamp": "00:06:44,042", "timestamp_s": 404.0}, {"text": "or if we want to invalidate the cache or not. This is because", "timestamp": "00:06:47,492", "timestamp_s": 407.0}, {"text": "from the app layer we have way more context and we", "timestamp": "00:06:51,316", "timestamp_s": 411.0}, {"text": "have the big picture of what we want to do with the data from the", "timestamp": "00:06:55,172", "timestamp_s": 415.0}, {"text": "store. We only know that we are adding a new team,", "timestamp": "00:06:58,952", "timestamp_s": 418.0}, {"text": "we are removing a team, we are adding people to certain", "timestamp": "00:07:02,536", "timestamp_s": 422.0}, {"text": "teams or something like that. But we don\u0027t have the big picture.", "timestamp": "00:07:05,880", "timestamp_s": 425.0}, {"text": "We don\u0027t know why we are adding that and we don\u0027t know if", "timestamp": "00:07:09,122", "timestamp_s": 429.0}, {"text": "we, right before that we added other thing and", "timestamp": "00:07:12,476", "timestamp_s": 432.0}, {"text": "we don\u0027t need to cache anything or we don\u0027t need to", "timestamp": "00:07:16,348", "timestamp_s": 436.0}, {"text": "invalidate the cache or whatever. So that was an interesting thing", "timestamp": "00:07:19,648", "timestamp_s": 439.0}, {"text": "to have, but we weren\u0027t using it so well,", "timestamp": "00:07:23,872", "timestamp_s": 443.0}, {"text": "was a great feature that we were taking advantage", "timestamp": "00:07:27,680", "timestamp_s": 447.0}, {"text": "of that what didn\u0027t work well was a bit hard to understand", "timestamp": "00:07:30,918", "timestamp_s": 450.0}, {"text": "and follow all the code there, and at the same time was a", "timestamp": "00:07:34,644", "timestamp_s": 454.0}, {"text": "bit hard to add new caches because you have to", "timestamp": "00:07:38,468", "timestamp_s": 458.0}, {"text": "modify different places. We have to modify the cache layer,", "timestamp": "00:07:42,132", "timestamp_s": 462.0}, {"text": "we have to modify the SQL layer, and we have to modify other parts.", "timestamp": "00:07:45,678", "timestamp_s": 465.0}, {"text": "Like the layer store was complicated to add things", "timestamp": "00:07:49,486", "timestamp_s": 469.0}, {"text": "there and there was a lot", "timestamp": "00:07:53,560", "timestamp_s": 473.0}, {"text": "of code in a lot of different places and was really", "timestamp": "00:07:56,908", "timestamp_s": 476.0}, {"text": "error prone and wasn\u0027t the best approach in", "timestamp": "00:08:00,524", "timestamp_s": 480.0}, {"text": "terms of maintenance. Well, our current approach, what we", "timestamp": "00:08:04,028", "timestamp_s": 484.0}, {"text": "use for our current approach, stroke embedding, instead of creating", "timestamp": "00:08:07,628", "timestamp_s": 487.0}, {"text": "all this middleware logic where you have all these", "timestamp": "00:08:10,982", "timestamp_s": 490.0}, {"text": "layers and all that stuff, we take advantage of the stroke", "timestamp": "00:08:14,592", "timestamp_s": 494.0}, {"text": "embedding feature of go to create", "timestamp": "00:08:18,742", "timestamp_s": 498.0}, {"text": "these layers, just store. The concept", "timestamp": "00:08:22,260", "timestamp_s": 502.0}, {"text": "of a store is going to be embedded in another", "timestamp": "00:08:26,234", "timestamp_s": 506.0}, {"text": "store. So we can create a layer", "timestamp": "00:08:30,388", "timestamp_s": 510.0}, {"text": "that embeds the store and automatically is going", "timestamp": "00:08:33,918", "timestamp_s": 513.0}, {"text": "to be a store because it\u0027s embedding a store.", "timestamp": "00:08:37,352", "timestamp_s": 517.0}, {"text": "So this feature is a great feature of the language.", "timestamp": "00:08:40,712", "timestamp_s": 520.0}, {"text": "And you can build this kind of layers", "timestamp": "00:08:44,782", "timestamp_s": 524.0}, {"text": "really easy. Well, we rely on the existing interface.", "timestamp": "00:08:48,354", "timestamp_s": 528.0}, {"text": "We relay on this store interface. We remove the layer,", "timestamp": "00:08:52,162", "timestamp_s": 532.0}, {"text": "the store, the layered suppliers, all that stuff is", "timestamp": "00:08:55,762", "timestamp_s": 535.0}, {"text": "gone. And we relay only on the existing store interface.", "timestamp": "00:08:59,676", "timestamp_s": 539.0}, {"text": "We created this cache store, local cache, store that embeds", "timestamp": "00:09:03,682", "timestamp_s": 543.0}, {"text": "the other store, the SQL store in it, and we override the", "timestamp": "00:09:08,438", "timestamp_s": 548.0}, {"text": "methods that we need and everything else is transparent. Well this", "timestamp": "00:09:12,324", "timestamp_s": 552.0}, {"text": "is how it looks like way simpler, right? The SQL", "timestamp": "00:09:16,228", "timestamp_s": 556.0}, {"text": "store is going to implement the store. We are going to write all", "timestamp": "00:09:19,882", "timestamp_s": 559.0}, {"text": "the methods, we are going to write all the SQL code. We are going to", "timestamp": "00:09:23,572", "timestamp_s": 563.0}, {"text": "write a lot of stuff for the SQL store that is going to be needed", "timestamp": "00:09:26,884", "timestamp_s": 566.0}, {"text": "anyway. But for the cache layer, we are going to embed the", "timestamp": "00:09:30,200", "timestamp_s": 570.0}, {"text": "store. So automatically the cache layer without any", "timestamp": "00:09:33,768", "timestamp_s": 573.0}, {"text": "method in it is going to implement the store. We only", "timestamp": "00:09:36,956", "timestamp_s": 576.0}, {"text": "need to override the places where the cache need to take some action.", "timestamp": "00:09:40,476", "timestamp_s": 580.0}, {"text": "For example, whenever I add a new post", "timestamp": "00:09:45,218", "timestamp_s": 585.0}, {"text": "I going to cache certain information. Or whenever I add", "timestamp": "00:09:48,876", "timestamp_s": 588.0}, {"text": "a new user I\u0027m going to cache certain information.", "timestamp": "00:09:52,752", "timestamp_s": 592.0}, {"text": "Whenever I get some user I\u0027m going to cache that information.", "timestamp": "00:09:55,760", "timestamp_s": 595.0}, {"text": "Whenever I modify the user I have to validate", "timestamp": "00:09:59,152", "timestamp_s": 599.0}, {"text": "that cache. So we only need to find that places where", "timestamp": "00:10:02,870", "timestamp_s": 602.0}, {"text": "we need to modify and update our cache and", "timestamp": "00:10:06,452", "timestamp_s": 606.0}, {"text": "override them. And that is what we do.", "timestamp": "00:10:10,788", "timestamp_s": 610.0}, {"text": "We create this local cache store that embeds a storetore.", "timestamp": "00:10:14,308", "timestamp_s": 614.0}, {"text": "Any store can be embedded, but let\u0027s think about it as the", "timestamp": "00:10:18,090", "timestamp_s": 618.0}, {"text": "SQL store. So we have the local cache store and we embed", "timestamp": "00:10:22,248", "timestamp_s": 622.0}, {"text": "the SQL store in it. Then we have a set of Superstore.", "timestamp": "00:10:25,518", "timestamp_s": 625.0}, {"text": "That is the specific cache implementation of this superstore.", "timestamp": "00:10:29,122", "timestamp_s": 629.0}, {"text": "In this case it\u0027s the team Superstore. We override", "timestamp": "00:10:33,618", "timestamp_s": 633.0}, {"text": "the method that gets the team store in this case is going to return", "timestamp": "00:10:36,962", "timestamp_s": 636.0}, {"text": "this own implementation of the team Superstore", "timestamp": "00:10:41,168", "timestamp_s": 641.0}, {"text": "and how we implement this superstore.", "timestamp": "00:10:45,254", "timestamp_s": 645.0}, {"text": "The Superstore is going to embed again this", "timestamp": "00:10:48,998", "timestamp_s": 648.0}, {"text": "team store, any team store, but we\u0027re going to think about", "timestamp": "00:10:52,672", "timestamp_s": 652.0}, {"text": "it as the SQL team store. Then we add", "timestamp": "00:10:56,052", "timestamp_s": 656.0}, {"text": "the root store. That is a private attribute that we are going to", "timestamp": "00:10:59,668", "timestamp_s": 659.0}, {"text": "use to share some data and share some methods.", "timestamp": "00:11:03,012", "timestamp_s": 663.0}, {"text": "And it\u0027s going to be just the local cache store instance.", "timestamp": "00:11:06,286", "timestamp_s": 666.0}, {"text": "Finally, we need to add methods to this superstore.", "timestamp": "00:11:10,174", "timestamp_s": 670.0}, {"text": "This method for example is get method. And the", "timestamp": "00:11:13,854", "timestamp_s": 673.0}, {"text": "get method is going to check the cache. It\u0027s going to return the cache.", "timestamp": "00:11:16,888", "timestamp_s": 676.0}, {"text": "If there\u0027s a heat and if there\u0027s not a hit, it\u0027s going to go", "timestamp": "00:11:20,418", "timestamp_s": 680.0}, {"text": "and use the embedded", "timestamp": "00:11:24,028", "timestamp_s": 684.0}, {"text": "track. It\u0027s going to take the embedding thing store", "timestamp": "00:11:27,730", "timestamp_s": 687.0}, {"text": "and use whatever is there. It\u0027s going to use the underneath store.", "timestamp": "00:11:31,164", "timestamp_s": 691.0}, {"text": "So the SQL store and it\u0027s going to get the data from the SQL", "timestamp": "00:11:35,312", "timestamp_s": 695.0}, {"text": "store, check if there\u0027s any error, and if there\u0027s no error,", "timestamp": "00:11:38,822", "timestamp_s": 698.0}, {"text": "I\u0027m going to cache this information and return", "timestamp": "00:11:42,474", "timestamp_s": 702.0}, {"text": "the result well. What went well and what didn\u0027t work,", "timestamp": "00:11:45,780", "timestamp_s": 705.0}, {"text": "one of the things that went really well was the simplicity of the", "timestamp": "00:11:49,332", "timestamp_s": 709.0}, {"text": "solution. This is very simple, this is very straightforward,", "timestamp": "00:11:53,028", "timestamp_s": 713.0}, {"text": "this is very clear pattern. It\u0027s really easy to", "timestamp": "00:11:56,494", "timestamp_s": 716.0}, {"text": "understand, really easy to think about it, and really easy", "timestamp": "00:12:00,008", "timestamp_s": 720.0}, {"text": "to think about other options that we can", "timestamp": "00:12:03,320", "timestamp_s": 723.0}, {"text": "build with. This also was very simple.", "timestamp": "00:12:06,732", "timestamp_s": 726.0}, {"text": "To add new caches was super straightforward, was overriding", "timestamp": "00:12:09,980", "timestamp_s": 729.0}, {"text": "methods and just delegating everything else", "timestamp": "00:12:14,018", "timestamp_s": 734.0}, {"text": "in the underneath the store. You don\u0027t need to think about adding", "timestamp": "00:12:17,436", "timestamp_s": 737.0}, {"text": "in three different places code. You only have to add code", "timestamp": "00:12:21,542", "timestamp_s": 741.0}, {"text": "in the cache layer and it\u0027s all that you need to do.", "timestamp": "00:12:25,264", "timestamp_s": 745.0}, {"text": "It\u0027s a really general approach, so it can", "timestamp": "00:12:29,376", "timestamp_s": 749.0}, {"text": "be really easy to reuse for other things as we\u0027re going to", "timestamp": "00:12:33,012", "timestamp_s": 753.0}, {"text": "see soon what didn\u0027t work well. There\u0027s some subtleties", "timestamp": "00:12:36,628", "timestamp_s": 756.0}, {"text": "around stroke embedding. String embedding", "timestamp": "00:12:41,450", "timestamp_s": 761.0}, {"text": "is a struct embedding. It is not inheritance.", "timestamp": "00:12:45,210", "timestamp_s": 765.0}, {"text": "So you are embedding a struct in another", "timestamp": "00:12:48,910", "timestamp_s": 768.0}, {"text": "struct. So think about it as something", "timestamp": "00:12:52,264", "timestamp_s": 772.0}, {"text": "that you are doing manually.", "timestamp": "00:12:55,756", "timestamp_s": 775.0}, {"text": "You have a struct and you embed something inside that", "timestamp": "00:12:59,026", "timestamp_s": 779.0}, {"text": "struct. Go provides some kind of syntax sugar to", "timestamp": "00:13:02,716", "timestamp_s": 782.0}, {"text": "make this track embedding more comfortable,", "timestamp": "00:13:06,892", "timestamp_s": 786.0}, {"text": "and allows you to call methods", "timestamp": "00:13:09,778", "timestamp_s": 789.0}, {"text": "from the embedded struct in the parent struct.", "timestamp": "00:13:13,126", "timestamp_s": 793.0}, {"text": "The parent struct can override that. Methods can", "timestamp": "00:13:17,094", "timestamp_s": 797.0}, {"text": "define that methods, and if the methods are defined, it\u0027s going to", "timestamp": "00:13:21,024", "timestamp_s": 801.0}, {"text": "be call from the parent. But if it\u0027s not defined,", "timestamp": "00:13:24,548", "timestamp_s": 804.0}, {"text": "it\u0027s going to be call from the embedded struct.", "timestamp": "00:13:27,882", "timestamp_s": 807.0}, {"text": "But there is the problem. Whenever you call a struct", "timestamp": "00:13:31,578", "timestamp_s": 811.0}, {"text": "that embeds other struct, if the methods is not defined,", "timestamp": "00:13:35,662", "timestamp_s": 815.0}, {"text": "it\u0027s going to call the underneath method the embedded", "timestamp": "00:13:39,294", "timestamp_s": 819.0}, {"text": "struct method. And once you call the embedded strand method,", "timestamp": "00:13:43,326", "timestamp_s": 823.0}, {"text": "that is not going to know anything about the parent.", "timestamp": "00:13:47,586", "timestamp_s": 827.0}, {"text": "The context of that method is going to be the embedded", "timestamp": "00:13:51,372", "timestamp_s": 831.0}, {"text": "object. So there\u0027s no information about the parent at all.", "timestamp": "00:13:54,962", "timestamp_s": 834.0}, {"text": "So if in that method you call another method", "timestamp": "00:13:59,100", "timestamp_s": 839.0}, {"text": "of extract, doesn\u0027t matter if you override that method on", "timestamp": "00:14:02,598", "timestamp_s": 842.0}, {"text": "the parent, because you are in the context of", "timestamp": "00:14:06,288", "timestamp_s": 846.0}, {"text": "the embedded extract. So you are going to call the methods", "timestamp": "00:14:09,488", "timestamp_s": 849.0}, {"text": "of the embedding extract always. So that", "timestamp": "00:14:12,838", "timestamp_s": 852.0}, {"text": "means that that can lead to some", "timestamp": "00:14:16,356", "timestamp_s": 856.0}, {"text": "subtle errors that are really hard to track and", "timestamp": "00:14:20,292", "timestamp_s": 860.0}, {"text": "really hard to find. But if you really know what struggle", "timestamp": "00:14:24,312", "timestamp_s": 864.0}, {"text": "embedding is, it\u0027s really easy to avoid them.", "timestamp": "00:14:28,558", "timestamp_s": 868.0}, {"text": "So one of the problem is these subtle errors that", "timestamp": "00:14:31,368", "timestamp_s": 871.0}, {"text": "can happen. You have to be sure that your team", "timestamp": "00:14:35,228", "timestamp_s": 875.0}, {"text": "knows what struggle embedding means and for", "timestamp": "00:14:38,780", "timestamp_s": 878.0}, {"text": "sure know that struct embedding is not inheritance.", "timestamp": "00:14:42,332", "timestamp_s": 882.0}, {"text": "Okay. Another problem is the interface has to be", "timestamp": "00:14:46,626", "timestamp_s": 886.0}, {"text": "homogeneous. So that means that some flexibility", "timestamp": "00:14:50,432", "timestamp_s": 890.0}, {"text": "get removed and doesn\u0027t allow you to add", "timestamp": "00:14:54,374", "timestamp_s": 894.0}, {"text": "these kind of hints or things like that, or specific parameters", "timestamp": "00:14:58,432", "timestamp_s": 898.0}, {"text": "for certain layers. And all that stuff is the price that you have", "timestamp": "00:15:02,342", "timestamp_s": 902.0}, {"text": "to pay to have this homogeneous interface that you can wrap in", "timestamp": "00:15:05,588", "timestamp_s": 905.0}, {"text": "layers. But this is the first solution.", "timestamp": "00:15:09,252", "timestamp_s": 909.0}, {"text": "We built this for the cache. Went really well actually.", "timestamp": "00:15:13,066", "timestamp_s": 913.0}, {"text": "But we start thinking, oh well, we have this new", "timestamp": "00:15:16,792", "timestamp_s": 916.0}, {"text": "layers architecture that we can leverage for other things.", "timestamp": "00:15:21,144", "timestamp_s": 921.0}, {"text": "For example, we can leverage that for instrumentation, to add", "timestamp": "00:15:25,080", "timestamp_s": 925.0}, {"text": "instrumentation to our store without modifying anything", "timestamp": "00:15:28,492", "timestamp_s": 928.0}, {"text": "in the store. Just having some instrumentation", "timestamp": "00:15:31,980", "timestamp_s": 931.0}, {"text": "in a well defined layer and separating", "timestamp": "00:15:35,986", "timestamp_s": 935.0}, {"text": "all that logic from the rest of the store. It\u0027s a great", "timestamp": "00:15:40,758", "timestamp_s": 940.0}, {"text": "separation of concerns. You can have login if", "timestamp": "00:15:44,768", "timestamp_s": 944.0}, {"text": "you want to log all the actions that", "timestamp": "00:15:48,112", "timestamp_s": 948.0}, {"text": "you are doing. If you want to log specific actions in specific", "timestamp": "00:15:51,748", "timestamp_s": 951.0}, {"text": "places. Auditing, for example, if you want", "timestamp": "00:15:55,444", "timestamp_s": 955.0}, {"text": "to audit when something get accessed or", "timestamp": "00:15:58,772", "timestamp_s": 958.0}, {"text": "get removed or get modified or something like that.", "timestamp": "00:16:02,548", "timestamp_s": 962.0}, {"text": "Well, something that is really interesting is a storage and query delegation.", "timestamp": "00:16:05,640", "timestamp_s": 965.0}, {"text": "For example, if you have your SQL", "timestamp": "00:16:09,726", "timestamp_s": 969.0}, {"text": "store that, store things in SQL, SQL is great,", "timestamp": "00:16:13,518", "timestamp_s": 973.0}, {"text": "but it\u0027s not the best option for every single problem out", "timestamp": "00:16:16,844", "timestamp_s": 976.0}, {"text": "there. Sometimes you want to store unstructured data,", "timestamp": "00:16:20,588", "timestamp_s": 980.0}, {"text": "sometimes you want to store data that is not so important", "timestamp": "00:16:24,252", "timestamp_s": 984.0}, {"text": "to lose over time or is not necessarily to", "timestamp": "00:16:27,788", "timestamp_s": 987.0}, {"text": "be 100% sure that you are storing the data", "timestamp": "00:16:31,408", "timestamp_s": 991.0}, {"text": "and the data is 100% consistent. For example, some temporary", "timestamp": "00:16:34,976", "timestamp_s": 994.0}, {"text": "data related to the status of the user, or if the", "timestamp": "00:16:39,286", "timestamp_s": 999.0}, {"text": "user is typing something or was", "timestamp": "00:16:42,388", "timestamp_s": 1002.0}, {"text": "the last channel that the user viewed or things like that.", "timestamp": "00:16:45,876", "timestamp_s": 1005.0}, {"text": "That information is important for our users, but it\u0027s not critical.", "timestamp": "00:16:49,108", "timestamp_s": 1009.0}, {"text": "So you can leverage some in memory database,", "timestamp": "00:16:53,582", "timestamp_s": 1013.0}, {"text": "you can leverage some search specific enzyme like", "timestamp": "00:16:57,246", "timestamp_s": 1017.0}, {"text": "elasticsearch or bleep. Or you", "timestamp": "00:17:01,032", "timestamp_s": 1021.0}, {"text": "can start in a struct data in coach tv or Mongo", "timestamp": "00:17:05,128", "timestamp_s": 1025.0}, {"text": "for example, that can provide you certain performance", "timestamp": "00:17:08,738", "timestamp_s": 1028.0}, {"text": "improvements or certain extra features for certain", "timestamp": "00:17:12,402", "timestamp_s": 1032.0}, {"text": "pattern usage. Well, also we can add their", "timestamp": "00:17:16,044", "timestamp_s": 1036.0}, {"text": "extra validation if we want to be sure that", "timestamp": "00:17:20,320", "timestamp_s": 1040.0}, {"text": "certain things get consistent in the database. We can add extra", "timestamp": "00:17:23,616", "timestamp_s": 1043.0}, {"text": "validation in a layer. We can add extra error", "timestamp": "00:17:27,440", "timestamp_s": 1047.0}, {"text": "handling. For example, if you have a non relabeled network", "timestamp": "00:17:30,838", "timestamp_s": 1050.0}, {"text": "connection with your database, there can be some timeouts", "timestamp": "00:17:34,986", "timestamp_s": 1054.0}, {"text": "or there can be some network connection problems and maybe", "timestamp": "00:17:38,538", "timestamp_s": 1058.0}, {"text": "you want to handle that at the store level and struct", "timestamp": "00:17:42,196", "timestamp_s": 1062.0}, {"text": "the app layer from all the logic needed", "timestamp": "00:17:45,870", "timestamp_s": 1065.0}, {"text": "to retry a timeout on the database or retry", "timestamp": "00:17:49,416", "timestamp_s": 1069.0}, {"text": "certain situations under certain errors or", "timestamp": "00:17:53,326", "timestamp_s": 1073.0}, {"text": "you want to track certain kind of errors and store that", "timestamp": "00:17:57,132", "timestamp_s": 1077.0}, {"text": "information in a sentry or something like", "timestamp": "00:18:00,668", "timestamp_s": 1080.0}, {"text": "that. We start with instrumentation.", "timestamp": "00:18:04,188", "timestamp_s": 1084.0}, {"text": "We added this timer layer. The timer layer is", "timestamp": "00:18:07,394", "timestamp_s": 1087.0}, {"text": "just a layer that wraps every single method in the store and", "timestamp": "00:18:10,944", "timestamp_s": 1090.0}, {"text": "adds a timer and calculates how much time", "timestamp": "00:18:15,136", "timestamp_s": 1095.0}, {"text": "it takes to execute the query in the store.", "timestamp": "00:18:18,656", "timestamp_s": 1098.0}, {"text": "Yeah, it wraps everything with", "timestamp": "00:18:22,096", "timestamp_s": 1102.0}, {"text": "can almost identical method. So this", "timestamp": "00:18:25,616", "timestamp_s": 1105.0}, {"text": "is a lot of code and it\u0027s a very", "timestamp": "00:18:29,476", "timestamp_s": 1109.0}, {"text": "annoying kind of code that you have to write. And then the", "timestamp": "00:18:33,416", "timestamp_s": 1113.0}, {"text": "maintenance of that is really boring and", "timestamp": "00:18:37,688", "timestamp_s": 1117.0}, {"text": "error prone and complicated. So wow.", "timestamp": "00:18:41,750", "timestamp_s": 1121.0}, {"text": "Generators to the rescue. We are going to write one", "timestamp": "00:18:45,256", "timestamp_s": 1125.0}, {"text": "after another, same time,", "timestamp": "00:18:49,068", "timestamp_s": 1129.0}, {"text": "the same thing, a lot of times without a reason.", "timestamp": "00:18:51,996", "timestamp_s": 1131.0}, {"text": "Well, go provide us generators and we", "timestamp": "00:18:55,628", "timestamp_s": 1135.0}, {"text": "are going to use them for building this timer layer.", "timestamp": "00:19:00,048", "timestamp_s": 1140.0}, {"text": "Timer layer. This is an example of a method wrapped", "timestamp": "00:19:03,462", "timestamp_s": 1143.0}, {"text": "in the timer layer. In this case is the safe method", "timestamp": "00:19:07,318", "timestamp_s": 1147.0}, {"text": "of the Audi store. We start the timer,", "timestamp": "00:19:10,742", "timestamp_s": 1150.0}, {"text": "we execute the underneath the store call,", "timestamp": "00:19:14,134", "timestamp_s": 1154.0}, {"text": "and we calculate the last time, the time that has", "timestamp": "00:19:18,148", "timestamp_s": 1158.0}, {"text": "been spent in that method. And then if the metrics are enabled,", "timestamp": "00:19:21,588", "timestamp_s": 1161.0}, {"text": "I\u0027m going to check if the query will succeed.", "timestamp": "00:19:25,438", "timestamp_s": 1165.0}, {"text": "And if succeed, I going to store, well, whatever it", "timestamp": "00:19:28,894", "timestamp_s": 1168.0}, {"text": "succeed or not, I\u0027m going to store that information. In Prometheus.", "timestamp": "00:19:32,712", "timestamp_s": 1172.0}, {"text": "This is really great because it helps a lot to investigate", "timestamp": "00:19:36,434", "timestamp_s": 1176.0}, {"text": "bottlenecks. For example, we have all the information on", "timestamp": "00:19:41,506", "timestamp_s": 1181.0}, {"text": "how much it takes to execute every", "timestamp": "00:19:45,276", "timestamp_s": 1185.0}, {"text": "method in our store. This is can histogram.", "timestamp": "00:19:48,496", "timestamp_s": 1188.0}, {"text": "So we have the information of the average time.", "timestamp": "00:19:51,750", "timestamp_s": 1191.0}, {"text": "We have information about things like how many times these", "timestamp": "00:19:55,312", "timestamp_s": 1195.0}, {"text": "methods have been called. So we know how much", "timestamp": "00:19:59,344", "timestamp_s": 1199.0}, {"text": "time it takes in a cumulative way.", "timestamp": "00:20:03,396", "timestamp_s": 1203.0}, {"text": "So we can decide, okay, this method is called", "timestamp": "00:20:07,636", "timestamp_s": 1207.0}, {"text": "just a few times, but it\u0027s taking a lot", "timestamp": "00:20:11,540", "timestamp_s": 1211.0}, {"text": "of time each time. That is something that we have to handle.", "timestamp": "00:20:14,948", "timestamp_s": 1214.0}, {"text": "But at the same time you can think, oh, this method is really fast,", "timestamp": "00:20:18,558", "timestamp_s": 1218.0}, {"text": "but it\u0027s getting called like millions of", "timestamp": "00:20:22,152", "timestamp_s": 1222.0}, {"text": "times. So if you are able to improve the performance there,", "timestamp": "00:20:25,452", "timestamp_s": 1225.0}, {"text": "you are getting a very important performance improvement.", "timestamp": "00:20:30,092", "timestamp_s": 1230.0}, {"text": "So sometimes the time that is taken for", "timestamp": "00:20:33,714", "timestamp_s": 1233.0}, {"text": "certain methods is not that important and it\u0027s more", "timestamp": "00:20:37,004", "timestamp_s": 1237.0}, {"text": "important the time that is taken in total, not for", "timestamp": "00:20:40,252", "timestamp_s": 1240.0}, {"text": "each call. So this kind of information is there in", "timestamp": "00:20:43,728", "timestamp_s": 1243.0}, {"text": "a grafana and we can explore that. We can set alerts", "timestamp": "00:20:47,328", "timestamp_s": 1247.0}, {"text": "on that. So we can decide, for example,", "timestamp": "00:20:51,078", "timestamp_s": 1251.0}, {"text": "if a methods gets an increment of 10%", "timestamp": "00:20:54,030", "timestamp_s": 1254.0}, {"text": "of time to get executed in", "timestamp": "00:20:59,090", "timestamp_s": 1259.0}, {"text": "certain time, we can execute", "timestamp": "00:21:03,812", "timestamp_s": 1263.0}, {"text": "an alarm and send an email and say, okay, this method", "timestamp": "00:21:08,042", "timestamp_s": 1268.0}, {"text": "gets degradated in that date will be is", "timestamp": "00:21:12,130", "timestamp_s": 1272.0}, {"text": "because you upgraded to a new version and maybe", "timestamp": "00:21:15,484", "timestamp_s": 1275.0}, {"text": "that degradation is acceptable or is explained", "timestamp": "00:21:18,796", "timestamp_s": 1278.0}, {"text": "by some changes in the code that are necessary,", "timestamp": "00:21:22,578", "timestamp_s": 1282.0}, {"text": "but you don\u0027t degradate that without noticing.", "timestamp": "00:21:26,450", "timestamp_s": 1286.0}, {"text": "That other thing that we did is adding open tracing. Open tracing is", "timestamp": "00:21:30,098", "timestamp_s": 1290.0}, {"text": "great and give you a lot of information about what is", "timestamp": "00:21:34,208", "timestamp_s": 1294.0}, {"text": "going on in your system. But adding open tracing means that", "timestamp": "00:21:37,568", "timestamp_s": 1297.0}, {"text": "you have to add a lot of small details here and there in", "timestamp": "00:21:40,992", "timestamp_s": 1300.0}, {"text": "your code. And was something that we didn\u0027t want to do because", "timestamp": "00:21:44,468", "timestamp_s": 1304.0}, {"text": "we don\u0027t want to contaminate all our methods", "timestamp": "00:21:48,516", "timestamp_s": 1308.0}, {"text": "with this set of information in open tracing.", "timestamp": "00:21:52,058", "timestamp_s": 1312.0}, {"text": "So what we did, we create a layer that is", "timestamp": "00:21:55,502", "timestamp_s": 1315.0}, {"text": "almost the same of the timer layer. But for", "timestamp": "00:21:59,256", "timestamp_s": 1319.0}, {"text": "open tracing we created this layer and we", "timestamp": "00:22:02,472", "timestamp_s": 1322.0}, {"text": "also replicated that for other places. We use open tracing", "timestamp": "00:22:06,296", "timestamp_s": 1326.0}, {"text": "in the API using the middleware of the API that was", "timestamp": "00:22:10,002", "timestamp_s": 1330.0}, {"text": "already covered. And then we had to add", "timestamp": "00:22:13,468", "timestamp_s": 1333.0}, {"text": "open tracing to the app layer. The app layer is", "timestamp": "00:22:16,892", "timestamp_s": 1336.0}, {"text": "a big structure that has a lot of methods and that methods,", "timestamp": "00:22:20,188", "timestamp_s": 1340.0}, {"text": "well that is the way that we organize that", "timestamp": "00:22:24,582", "timestamp_s": 1344.0}, {"text": "methods. So what we did is just build automatically generate", "timestamp": "00:22:27,792", "timestamp_s": 1347.0}, {"text": "interface that match that structure", "timestamp": "00:22:32,474", "timestamp_s": 1352.0}, {"text": "with that interface. We created the layer", "timestamp": "00:22:35,770", "timestamp_s": 1355.0}, {"text": "for the app using again code generation. So now what", "timestamp": "00:22:39,578", "timestamp_s": 1359.0}, {"text": "we have is whenever we change something in the", "timestamp": "00:22:43,108", "timestamp_s": 1363.0}, {"text": "app layer or whenever we change something in the store, we only have", "timestamp": "00:22:46,408", "timestamp_s": 1366.0}, {"text": "to execute code generation and it\u0027s going to generate all", "timestamp": "00:22:50,408", "timestamp_s": 1370.0}, {"text": "the open tracing code for us. And we don\u0027t have any open", "timestamp": "00:22:53,768", "timestamp_s": 1373.0}, {"text": "tracing related code in the app layer and we don\u0027t have any open", "timestamp": "00:22:57,372", "timestamp_s": 1377.0}, {"text": "tracing related code in the rest of the store. We only", "timestamp": "00:23:01,132", "timestamp_s": 1381.0}, {"text": "have that information in the specific set", "timestamp": "00:23:04,556", "timestamp_s": 1384.0}, {"text": "of auto generated code that we have there. Well this is", "timestamp": "00:23:08,380", "timestamp_s": 1388.0}, {"text": "how it looks like in the code, the open", "timestamp": "00:23:12,368", "timestamp_s": 1392.0}, {"text": "tracing layer method, we just set the open tracing", "timestamp": "00:23:15,696", "timestamp_s": 1395.0}, {"text": "information. We execute the underneath", "timestamp": "00:23:19,430", "timestamp_s": 1399.0}, {"text": "method in the store and we add more information", "timestamp": "00:23:23,274", "timestamp_s": 1403.0}, {"text": "to the open tracing and that\u0027s it. Okay,", "timestamp": "00:23:27,890", "timestamp_s": 1407.0}, {"text": "the retries, the retry layer in the database.", "timestamp": "00:23:30,804", "timestamp_s": 1410.0}, {"text": "We want to use serial stable isolation level in the database.", "timestamp": "00:23:34,870", "timestamp_s": 1414.0}, {"text": "And that has a problem when you use read", "timestamp": "00:23:39,246", "timestamp_s": 1419.0}, {"text": "committed, basically you try to execute the queries and", "timestamp": "00:23:42,632", "timestamp_s": 1422.0}, {"text": "time is going to work pretty well. And when the load is", "timestamp": "00:23:49,928", "timestamp_s": 1429.0}, {"text": "pretty low, it\u0027s almost impossible. It\u0027s really hard", "timestamp": "00:23:53,484", "timestamp_s": 1433.0}, {"text": "to refuse that a transaction failing there.", "timestamp": "00:23:57,452", "timestamp_s": 1437.0}, {"text": "But when you are using serial disable isolation level,", "timestamp": "00:24:01,072", "timestamp_s": 1441.0}, {"text": "the problem is the isolation is so high that", "timestamp": "00:24:04,256", "timestamp_s": 1444.0}, {"text": "whenever you try to run two transactions and", "timestamp": "00:24:07,808", "timestamp_s": 1447.0}, {"text": "one of them modifies certain data and the other one", "timestamp": "00:24:11,796", "timestamp_s": 1451.0}, {"text": "is querying, some part of that modified data is going", "timestamp": "00:24:15,604", "timestamp_s": 1455.0}, {"text": "to fail. But it\u0027s not going to fail in", "timestamp": "00:24:19,732", "timestamp_s": 1459.0}, {"text": "a way that this query is broken or something like that.", "timestamp": "00:24:23,288", "timestamp_s": 1463.0}, {"text": "It\u0027s just saying okay. I\u0027m not able to", "timestamp": "00:24:26,744", "timestamp_s": 1466.0}, {"text": "execute this transaction because something was modified", "timestamp": "00:24:30,200", "timestamp_s": 1470.0}, {"text": "before. So you need to execute the transaction", "timestamp": "00:24:33,870", "timestamp_s": 1473.0}, {"text": "again. And that is what a repeatable error means", "timestamp": "00:24:37,122", "timestamp_s": 1477.0}, {"text": "in the database. So whenever a database return, a repeatable error", "timestamp": "00:24:40,924", "timestamp_s": 1480.0}, {"text": "means retry. It probably", "timestamp": "00:24:45,058", "timestamp_s": 1485.0}, {"text": "is going to work, you only need to retry it. But because the transaction", "timestamp": "00:24:48,800", "timestamp_s": 1488.0}, {"text": "is something that I can re execute", "timestamp": "00:24:53,110", "timestamp_s": 1493.0}, {"text": "automatically from the database, because you are able", "timestamp": "00:24:56,710", "timestamp_s": 1496.0}, {"text": "to do things between the transactions and you are able to do", "timestamp": "00:25:00,192", "timestamp_s": 1500.0}, {"text": "calculations between the transaction, it\u0027s not easy for the database", "timestamp": "00:25:04,244", "timestamp_s": 1504.0}, {"text": "to infer that the transaction is repeatable", "timestamp": "00:25:08,122", "timestamp_s": 1508.0}, {"text": "by itself. So you need to repeat the transaction", "timestamp": "00:25:12,010", "timestamp_s": 1512.0}, {"text": "from the outside. Well, because we need to repeat", "timestamp": "00:25:15,582", "timestamp_s": 1515.0}, {"text": "the transactions when we receive a repeatable error. That was pretty", "timestamp": "00:25:19,678", "timestamp_s": 1519.0}, {"text": "easy to do with a layer. We just generate automatically", "timestamp": "00:25:23,832", "timestamp_s": 1523.0}, {"text": "a layer that catch any error that is a repeatable error", "timestamp": "00:25:28,018", "timestamp_s": 1528.0}, {"text": "and try again. Well, this also", "timestamp": "00:25:32,082", "timestamp_s": 1532.0}, {"text": "helps us with this. Whenever a deadlock", "timestamp": "00:25:35,324", "timestamp_s": 1535.0}, {"text": "happened in the database, one of the transaction is going to succeed", "timestamp": "00:25:39,042", "timestamp_s": 1539.0}, {"text": "and the other is going to get killed", "timestamp": "00:25:42,482", "timestamp_s": 1542.0}, {"text": "with a repeatable error. So that is something", "timestamp": "00:25:46,134", "timestamp_s": 1546.0}, {"text": "that happened really in a really rare way,", "timestamp": "00:25:49,696", "timestamp_s": 1549.0}, {"text": "but is something that can happen in very loaded environments.", "timestamp": "00:25:53,040", "timestamp_s": 1553.0}, {"text": "And what was happening before is just,", "timestamp": "00:25:57,450", "timestamp_s": 1557.0}, {"text": "well, it returns can error to the app layer and it returns", "timestamp": "00:26:00,692", "timestamp_s": 1560.0}, {"text": "an error to the API and probably the API is going to retry again.", "timestamp": "00:26:04,890", "timestamp_s": 1564.0}, {"text": "Now we are going to retry vaguely in the SQL store.", "timestamp": "00:26:09,672", "timestamp_s": 1569.0}, {"text": "This is how we did that. We have a get,", "timestamp": "00:26:13,670", "timestamp_s": 1573.0}, {"text": "for example, in this case we have the get method. We just", "timestamp": "00:26:17,740", "timestamp_s": 1577.0}, {"text": "enter in a loop, try to execute the query.", "timestamp": "00:26:21,468", "timestamp_s": 1581.0}, {"text": "If that works, great. If it doesn\u0027t work,", "timestamp": "00:26:24,834", "timestamp_s": 1584.0}, {"text": "if this is not a repeatable error, I\u0027m going to return the", "timestamp": "00:26:28,348", "timestamp_s": 1588.0}, {"text": "error. But if it is a repeatable error, I\u0027m going to try", "timestamp": "00:26:31,808", "timestamp_s": 1591.0}, {"text": "again. I\u0027m going to repeat and repeat and repeat until it", "timestamp": "00:26:35,760", "timestamp_s": 1595.0}, {"text": "succeed or it fails three times.", "timestamp": "00:26:39,696", "timestamp_s": 1599.0}, {"text": "After three times we give up and return an error.", "timestamp": "00:26:43,168", "timestamp_s": 1603.0}, {"text": "Then what is really interesting here is", "timestamp": "00:26:46,986", "timestamp_s": 1606.0}, {"text": "we have the timer layer, we have the open tracing layer,", "timestamp": "00:26:50,468", "timestamp_s": 1610.0}, {"text": "we have the retry layer, and all that layers are", "timestamp": "00:26:53,982", "timestamp_s": 1613.0}, {"text": "auto generated. Everything that we change in", "timestamp": "00:26:58,072", "timestamp_s": 1618.0}, {"text": "the store is going to be automatically up to date with just", "timestamp": "00:27:01,448", "timestamp_s": 1621.0}, {"text": "a make generate. That is awesome.", "timestamp": "00:27:05,320", "timestamp_s": 1625.0}, {"text": "So if you have this kind of code, it\u0027s really great to", "timestamp": "00:27:09,290", "timestamp_s": 1629.0}, {"text": "have generators. And how we do that, we use ASt", "timestamp": "00:27:13,212", "timestamp_s": 1633.0}, {"text": "to analyze this struct, this interface,", "timestamp": "00:27:17,506", "timestamp_s": 1637.0}, {"text": "this store interface and all the soup interfaces.", "timestamp": "00:27:21,558", "timestamp_s": 1641.0}, {"text": "And we build a data struct where we", "timestamp": "00:27:24,326", "timestamp_s": 1644.0}, {"text": "have all the superstore", "timestamp": "00:27:27,872", "timestamp_s": 1647.0}, {"text": "that are defined, all the method of the superstores,", "timestamp": "00:27:31,478", "timestamp_s": 1651.0}, {"text": "all the parameters of the methods, all the return values of the", "timestamp": "00:27:34,954", "timestamp_s": 1654.0}, {"text": "methods, all that information is in a new struct", "timestamp": "00:27:38,164", "timestamp_s": 1658.0}, {"text": "that we pass that information to a template", "timestamp": "00:27:42,506", "timestamp_s": 1662.0}, {"text": "and that template generates the code. We have", "timestamp": "00:27:46,430", "timestamp_s": 1666.0}, {"text": "different templates, we have the same ast code that", "timestamp": "00:27:50,296", "timestamp_s": 1670.0}, {"text": "analyze the store and then we use that same", "timestamp": "00:27:54,232", "timestamp_s": 1674.0}, {"text": "structure that we just generated to populate", "timestamp": "00:27:57,676", "timestamp_s": 1677.0}, {"text": "three different templates, one for the timer layer,", "timestamp": "00:28:01,378", "timestamp_s": 1681.0}, {"text": "one for the open tracing layer and one for the retry layer.", "timestamp": "00:28:04,578", "timestamp_s": 1684.0}, {"text": "And that templates are going to be generated and it\u0027s going to generate a certain", "timestamp": "00:28:08,130", "timestamp_s": 1688.0}, {"text": "amount of code. And on top of that we are going to use go", "timestamp": "00:28:11,840", "timestamp_s": 1691.0}, {"text": "format package to reformat that. Why we use", "timestamp": "00:28:15,072", "timestamp_s": 1695.0}, {"text": "go format package because we don\u0027t want to be super", "timestamp": "00:28:18,656", "timestamp_s": 1698.0}, {"text": "correct when we generate the code. Generating the", "timestamp": "00:28:22,884", "timestamp_s": 1702.0}, {"text": "code is already a complicated task and generating", "timestamp": "00:28:26,628", "timestamp_s": 1706.0}, {"text": "code that the Go format likes", "timestamp": "00:28:31,114", "timestamp_s": 1711.0}, {"text": "is even harder. So we just delegate that in go", "timestamp": "00:28:35,054", "timestamp_s": 1715.0}, {"text": "format. We generate the code and reformat it with Go", "timestamp": "00:28:38,392", "timestamp_s": 1718.0}, {"text": "format package. So the developers are", "timestamp": "00:28:41,768", "timestamp_s": 1721.0}, {"text": "happy and the go compiler is happy. So this is an", "timestamp": "00:28:45,512", "timestamp_s": 1725.0}, {"text": "example of the timer layer template. As you can see", "timestamp": "00:28:48,908", "timestamp_s": 1728.0}, {"text": "there we have the superstores. We range over the superstores,", "timestamp": "00:28:52,252", "timestamp_s": 1732.0}, {"text": "we range over the methods of the superstores and", "timestamp": "00:28:56,226", "timestamp_s": 1736.0}, {"text": "we generate the functions there. We generate the", "timestamp": "00:29:00,112", "timestamp_s": 1740.0}, {"text": "star equal time module now and all", "timestamp": "00:29:04,112", "timestamp_s": 1744.0}, {"text": "that stuff. We are generating all the code there.", "timestamp": "00:29:07,568", "timestamp_s": 1747.0}, {"text": "It\u0027s not easy to understand, but once you write this has", "timestamp": "00:29:11,156", "timestamp_s": 1751.0}, {"text": "been working really well for a long time without", "timestamp": "00:29:15,012", "timestamp_s": 1755.0}, {"text": "almost any maintenance. Okay. But not everything", "timestamp": "00:29:19,044", "timestamp_s": 1759.0}, {"text": "can be generated or can be automatically generated. So we", "timestamp": "00:29:22,580", "timestamp_s": 1762.0}, {"text": "have to build something else. And I already talked about this storage", "timestamp": "00:29:27,096", "timestamp_s": 1767.0}, {"text": "query delegation pattern and in this case we", "timestamp": "00:29:31,326", "timestamp_s": 1771.0}, {"text": "use this pattern to build the", "timestamp": "00:29:35,032", "timestamp_s": 1775.0}, {"text": "search layer. For the searches in maramos we use full", "timestamp": "00:29:38,572", "timestamp_s": 1778.0}, {"text": "text search in the database. But we also support", "timestamp": "00:29:42,236", "timestamp_s": 1782.0}, {"text": "other searching mechanism like elasticsearch or bleep.", "timestamp": "00:29:45,868", "timestamp_s": 1785.0}, {"text": "If you want to use elasticsearch or bleep, what we do is", "timestamp": "00:29:49,906", "timestamp_s": 1789.0}, {"text": "just add a search layer on top of", "timestamp": "00:29:53,536", "timestamp_s": 1793.0}, {"text": "our SQL database layer and every search in", "timestamp": "00:29:57,072", "timestamp_s": 1797.0}, {"text": "the store is going to be delegated to elasticsearch or bleed.", "timestamp": "00:30:01,764", "timestamp_s": 1801.0}, {"text": "Every search in the store or every action", "timestamp": "00:30:05,882", "timestamp_s": 1805.0}, {"text": "to the store that needs to update the indexes is going", "timestamp": "00:30:09,882", "timestamp_s": 1809.0}, {"text": "to execute an update of the index", "timestamp": "00:30:13,352", "timestamp_s": 1813.0}, {"text": "in elasticsearch or bleed.", "timestamp": "00:30:16,782", "timestamp_s": 1816.0}, {"text": "And anytime that you try to search something it\u0027s", "timestamp": "00:30:19,270", "timestamp_s": 1819.0}, {"text": "going to hit the elasticsearch or bleed but", "timestamp": "00:30:23,278", "timestamp_s": 1823.0}, {"text": "it\u0027s not going to hit the database. So you are", "timestamp": "00:30:27,148", "timestamp_s": 1827.0}, {"text": "going to have probably better performance from a specific", "timestamp": "00:30:30,252", "timestamp_s": 1830.0}, {"text": "for search back end to search stuff.", "timestamp": "00:30:34,108", "timestamp_s": 1834.0}, {"text": "And actually we have more features and a better", "timestamp": "00:30:38,140", "timestamp_s": 1838.0}, {"text": "search using this in giants than the database one.", "timestamp": "00:30:41,664", "timestamp_s": 1841.0}, {"text": "And you are going to free some database", "timestamp": "00:30:45,344", "timestamp_s": 1845.0}, {"text": "titles for other stuff. So that is another", "timestamp": "00:30:48,662", "timestamp_s": 1848.0}, {"text": "interesting thing. Well, we want to make this transparent from", "timestamp": "00:30:51,984", "timestamp_s": 1851.0}, {"text": "any store user like the app layer. If the app layer is trying", "timestamp": "00:30:55,652", "timestamp_s": 1855.0}, {"text": "to use the store, they don\u0027t need to know if they are using", "timestamp": "00:30:59,412", "timestamp_s": 1859.0}, {"text": "elasticsearch or bleep or something like that. They only need to know that", "timestamp": "00:31:03,220", "timestamp_s": 1863.0}, {"text": "they are searching for users. And if the elasticsearch", "timestamp": "00:31:06,968", "timestamp_s": 1866.0}, {"text": "is enabled, it\u0027s going to get handled by elasticsearch.", "timestamp": "00:31:10,910", "timestamp_s": 1870.0}, {"text": "But the app layer doesn\u0027t know to need anything. Well this", "timestamp": "00:31:14,558", "timestamp_s": 1874.0}, {"text": "time we created the layer writing the code", "timestamp": "00:31:18,492", "timestamp_s": 1878.0}, {"text": "and here is an example. For example, in this case we are talking about the", "timestamp": "00:31:22,012", "timestamp_s": 1882.0}, {"text": "post store.", "timestamp": "00:31:25,900", "timestamp_s": 1885.0}, {"text": "We are overriding the method save of the post store", "timestamp": "00:31:28,830", "timestamp_s": 1888.0}, {"text": "and we are just saving the post using the SQL", "timestamp": "00:31:32,320", "timestamp_s": 1892.0}, {"text": "store underneath. And if there is an error", "timestamp": "00:31:36,566", "timestamp_s": 1896.0}, {"text": "I do nothing. But if there\u0027s no error,", "timestamp": "00:31:40,118", "timestamp_s": 1900.0}, {"text": "I\u0027m going to index that post, I\u0027m going to update the index of", "timestamp": "00:31:43,674", "timestamp_s": 1903.0}, {"text": "that post in the elasticsearch or bleed. If I", "timestamp": "00:31:47,508", "timestamp_s": 1907.0}, {"text": "search for a set of posts,", "timestamp": "00:31:50,596", "timestamp_s": 1910.0}, {"text": "I\u0027m going to check in giants, I\u0027m going to check what engines", "timestamp": "00:31:53,818", "timestamp_s": 1913.0}, {"text": "are enabled and I\u0027m going to try to search in that in giants.", "timestamp": "00:31:57,434", "timestamp_s": 1917.0}, {"text": "If one of the injuries fail, I\u0027m going to try in the next", "timestamp": "00:32:01,438", "timestamp_s": 1921.0}, {"text": "one until I find any injury that works.", "timestamp": "00:32:05,416", "timestamp_s": 1925.0}, {"text": "If none of our elastics are or bleeding", "timestamp": "00:32:09,690", "timestamp_s": 1929.0}, {"text": "giant specializes in giants works,", "timestamp": "00:32:12,834", "timestamp_s": 1932.0}, {"text": "we are going to fall back to the database search. We can disable", "timestamp": "00:32:16,668", "timestamp_s": 1936.0}, {"text": "this fallback and if we disable that fallback, it\u0027s going to return", "timestamp": "00:32:20,706", "timestamp_s": 1940.0}, {"text": "an empty list. But if we don\u0027t disable that fallback, we are going", "timestamp": "00:32:24,256", "timestamp_s": 1944.0}, {"text": "to just call the underneath SQL store to return the results.", "timestamp": "00:32:27,664", "timestamp_s": 1947.0}, {"text": "This works well. If you have for example downtime", "timestamp": "00:32:32,042", "timestamp_s": 1952.0}, {"text": "in elasticsearch, you can just use the", "timestamp": "00:32:36,138", "timestamp_s": 1956.0}, {"text": "database search as a fallback. And this is the", "timestamp": "00:32:41,124", "timestamp_s": 1961.0}, {"text": "final onion. This is how it looks like in our", "timestamp": "00:32:44,388", "timestamp_s": 1964.0}, {"text": "system. We have the app that is calling the store and it\u0027s passing", "timestamp": "00:32:47,576", "timestamp_s": 1967.0}, {"text": "through all the layers down to the SQL store and", "timestamp": "00:32:51,518", "timestamp_s": 1971.0}, {"text": "going back through the layers again to the app. The SQL", "timestamp": "00:32:55,000", "timestamp_s": 1975.0}, {"text": "store is at the bottom, it\u0027s taking care of all the SQL queries", "timestamp": "00:32:58,622", "timestamp_s": 1978.0}, {"text": "and all that stuff. The retry layer is going to take care of the", "timestamp": "00:33:02,146", "timestamp_s": 1982.0}, {"text": "repeatable errors. The cache layer is going to cache things", "timestamp": "00:33:05,612", "timestamp_s": 1985.0}, {"text": "and it\u0027s going to invalidate the caches and it\u0027s going to take care", "timestamp": "00:33:09,468", "timestamp_s": 1989.0}, {"text": "of, maintain and use the cache. The search", "timestamp": "00:33:12,816", "timestamp_s": 1992.0}, {"text": "layer is going to take care of, maintain and use the", "timestamp": "00:33:16,816", "timestamp_s": 1996.0}, {"text": "search indexes in elasticsearch or bleep. The timer", "timestamp": "00:33:20,868", "timestamp_s": 2000.0}, {"text": "layer is going to take care of all", "timestamp": "00:33:24,378", "timestamp_s": 2004.0}, {"text": "this timing around all this collecting information about", "timestamp": "00:33:28,532", "timestamp_s": 2008.0}, {"text": "the times and sending that to Prometheus", "timestamp": "00:33:32,708", "timestamp_s": 2012.0}, {"text": "and it is not here, but optionally you can have", "timestamp": "00:33:36,622", "timestamp_s": 2016.0}, {"text": "the open tracing layer. The open tracing layer is optional", "timestamp": "00:33:40,408", "timestamp_s": 2020.0}, {"text": "because have an important performance impact.", "timestamp": "00:33:43,934", "timestamp_s": 2023.0}, {"text": "So we can enable and disable it and usually", "timestamp": "00:33:47,714", "timestamp_s": 2027.0}, {"text": "it\u0027s disabled. But if you enable that, it\u0027s going to wrap this", "timestamp": "00:33:51,164", "timestamp_s": 2031.0}, {"text": "store entirely and it\u0027s going to provide that", "timestamp": "00:33:55,164", "timestamp_s": 2035.0}, {"text": "information to the open tracing service. This is", "timestamp": "00:33:58,688", "timestamp_s": 2038.0}, {"text": "how we build the onion. We instantiate the SQL", "timestamp": "00:34:02,192", "timestamp_s": 2042.0}, {"text": "store, we wrap that into the retry layer, we wrap", "timestamp": "00:34:05,702", "timestamp_s": 2045.0}, {"text": "that into the local cache layer, we wrap that into", "timestamp": "00:34:09,542", "timestamp_s": 2049.0}, {"text": "the search layer and we wrap that into the timer layer.", "timestamp": "00:34:13,188", "timestamp_s": 2053.0}, {"text": "And finally we return that final store. Because everything", "timestamp": "00:34:16,362", "timestamp_s": 2056.0}, {"text": "there implements the store interface, we can just say", "timestamp": "00:34:20,532", "timestamp_s": 2060.0}, {"text": "that they are all stores. The SQL store is", "timestamp": "00:34:24,312", "timestamp_s": 2064.0}, {"text": "a store, the retry layer wrapping a SQL store is a store", "timestamp": "00:34:28,584", "timestamp_s": 2068.0}, {"text": "and the SQL store wrapped by a retry layer", "timestamp": "00:34:32,664", "timestamp_s": 2072.0}, {"text": "and wrapped by a local cache layer is a store.", "timestamp": "00:34:36,590", "timestamp_s": 2076.0}, {"text": "We can reorganize all this and change", "timestamp": "00:34:39,436", "timestamp_s": 2079.0}, {"text": "where the layers are. For example, I can move the timer layer", "timestamp": "00:34:43,116", "timestamp_s": 2083.0}, {"text": "right after the SQL store.", "timestamp": "00:34:47,426", "timestamp_s": 2087.0}, {"text": "And that way we are going to measure only the", "timestamp": "00:34:51,152", "timestamp_s": 2091.0}, {"text": "time that the SQL store is taking. If you consider", "timestamp": "00:34:54,992", "timestamp_s": 2094.0}, {"text": "that the local cache layer, the cache layer that we are using", "timestamp": "00:34:58,528", "timestamp_s": 2098.0}, {"text": "is contaminating the data because you are interested", "timestamp": "00:35:02,580", "timestamp_s": 2102.0}, {"text": "on how much time the database is taking and you", "timestamp": "00:35:06,228", "timestamp_s": 2106.0}, {"text": "don\u0027t care about how much time is the store taking in", "timestamp": "00:35:10,388", "timestamp_s": 2110.0}, {"text": "general, only about the database. You can move the timer", "timestamp": "00:35:13,768", "timestamp_s": 2113.0}, {"text": "layer up there. Even you can create", "timestamp": "00:35:17,022", "timestamp_s": 2117.0}, {"text": "another timer layer and have different information,", "timestamp": "00:35:20,696", "timestamp_s": 2120.0}, {"text": "the SQL store information and the store information.", "timestamp": "00:35:24,376", "timestamp_s": 2124.0}, {"text": "You can play with this concept of everything as a store.", "timestamp": "00:35:28,140", "timestamp_s": 2128.0}, {"text": "To move the layers and make decisions about", "timestamp": "00:35:31,596", "timestamp_s": 2131.0}, {"text": "how we set up the layers and", "timestamp": "00:35:35,372", "timestamp_s": 2135.0}, {"text": "disable any of these layers is just not adding the", "timestamp": "00:35:38,432", "timestamp_s": 2138.0}, {"text": "wrapping. So if you want to enable or if you want", "timestamp": "00:35:42,048", "timestamp_s": 2142.0}, {"text": "to disable the search layer, you can just decide", "timestamp": "00:35:45,248", "timestamp_s": 2145.0}, {"text": "by a config setting if you want to have a search layer or not.", "timestamp": "00:35:48,950", "timestamp_s": 2148.0}, {"text": "And you just don\u0027t wrap the store with this layer", "timestamp": "00:35:52,820", "timestamp_s": 2152.0}, {"text": "and that\u0027s it. Well, there\u0027s some drawbacks. As I", "timestamp": "00:35:56,778", "timestamp_s": 2156.0}, {"text": "said already, all the layer has to share the same interface.", "timestamp": "00:36:00,468", "timestamp_s": 2160.0}, {"text": "That is a problem because you don\u0027t have enough flexibility", "timestamp": "00:36:04,046", "timestamp_s": 2164.0}, {"text": "to add certain things like the hints for the cache without", "timestamp": "00:36:08,030", "timestamp_s": 2168.0}, {"text": "modifying the whole store. So you", "timestamp": "00:36:11,624", "timestamp_s": 2171.0}, {"text": "have to modify the whole store interface if you want to add these", "timestamp": "00:36:15,048", "timestamp_s": 2175.0}, {"text": "hints for the cache, but if you want to add other kind", "timestamp": "00:36:18,508", "timestamp_s": 2178.0}, {"text": "of hints for the search, or if you want to add other kind of", "timestamp": "00:36:21,932", "timestamp_s": 2181.0}, {"text": "extra information for open tracing or for timing, you have", "timestamp": "00:36:25,996", "timestamp_s": 2185.0}, {"text": "to add more and more and more information to", "timestamp": "00:36:30,128", "timestamp_s": 2190.0}, {"text": "the store interface. And that is something that doesn\u0027t scale well.", "timestamp": "00:36:33,488", "timestamp_s": 2193.0}, {"text": "So I think this is the price to pay you have", "timestamp": "00:36:37,392", "timestamp_s": 2197.0}, {"text": "to accept that you have to use the same interface", "timestamp": "00:36:40,624", "timestamp_s": 2200.0}, {"text": "if you want to build this layer based approach.", "timestamp": "00:36:43,994", "timestamp_s": 2203.0}, {"text": "Probably there are some tricks that you can try,", "timestamp": "00:36:47,274", "timestamp_s": 2207.0}, {"text": "but it\u0027s not something that", "timestamp": "00:36:50,708", "timestamp_s": 2210.0}, {"text": "by design is going to fit well then the", "timestamp": "00:36:54,312", "timestamp_s": 2214.0}, {"text": "other problem is embedding is not inheritance.", "timestamp": "00:36:58,168", "timestamp_s": 2218.0}, {"text": "So it is not a problem per se,", "timestamp": "00:37:01,758", "timestamp_s": 2221.0}, {"text": "but it\u0027s something that can generate problems", "timestamp": "00:37:04,936", "timestamp_s": 2224.0}, {"text": "if the people doesn\u0027t understand well that the team of the people that", "timestamp": "00:37:09,020", "timestamp_s": 2229.0}, {"text": "is touching the store in this case needs to understand that", "timestamp": "00:37:12,668", "timestamp_s": 2232.0}, {"text": "the embedding is not inheritance. Embedding is struct", "timestamp": "00:37:16,732", "timestamp_s": 2236.0}, {"text": "embedding. So you need to understand that well and how", "timestamp": "00:37:20,630", "timestamp_s": 2240.0}, {"text": "embedding works to not end up", "timestamp": "00:37:24,496", "timestamp_s": 2244.0}, {"text": "having weird bugs that are really hard to debug. Well, some reference", "timestamp": "00:37:28,048", "timestamp_s": 2248.0}, {"text": "if you want to see how we implemented the store and the store layers and", "timestamp": "00:37:32,954", "timestamp_s": 2252.0}, {"text": "the generators and all that stuff is publicly available in our", "timestamp": "00:37:36,468", "timestamp_s": 2256.0}, {"text": "mattermost server repo in the store directory.", "timestamp": "00:37:40,132", "timestamp_s": 2260.0}, {"text": "If you want to see our old version of", "timestamp": "00:37:45,890", "timestamp_s": 2265.0}, {"text": "that with the middlewares and all that stuff, you can check the version 50", "timestamp": "00:37:49,028", "timestamp_s": 2269.0}, {"text": "zero that is a bit old already,", "timestamp": "00:37:52,964", "timestamp_s": 2272.0}, {"text": "but you can check that and well, it can be interesting.", "timestamp": "00:37:57,164", "timestamp_s": 2277.0}, {"text": "If you want to know more about stroke embedding, there\u0027s a", "timestamp": "00:38:00,748", "timestamp_s": 2280.0}, {"text": "talk really interesting from", "timestamp": "00:38:04,332", "timestamp_s": 2284.0}, {"text": "Gophercon UK. And if you want to know more about code", "timestamp": "00:38:07,900", "timestamp_s": 2287.0}, {"text": "generation, there\u0027s another talk from Gophercon UK that is really interesting", "timestamp": "00:38:11,276", "timestamp_s": 2291.0}, {"text": "too. So thank you.", "timestamp": "00:38:14,924", "timestamp_s": 2294.0}];
              

              var tag = document.createElement('script');

              tag.src = "https://www.youtube.com/iframe_api";
              var firstScriptTag = document.getElementsByTagName('script')[0];
              firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

              // 3. This function creates an <iframe> (and YouTube player)
              //    after the API code downloads.
              var player;
              function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                  height: '100%',
                  width: '100%',
                  videoId: 'Y-URSLmIPIg',
                  playerVars: {
                    'playsinline': 1
                  },
                  events: {
                    'onReady': onPlayerReady,
                    // 'onStateChange': onPlayerStateChange
                  }
                });
              }
              function onPlayerReady(event) {
                console.log("Player ready");
                var sec = Number(location.href.split("#")[1]);
                if (sec){
                  player.seekTo(sec, true);
                }
                player.playVideo();
                highlightParagraph();
              }
              // find the number of the paragraph
              function findParagraph(sec){
                for (var i = 1; i < transcript.length; i++) {
                  if (transcript[i].timestamp_s > sec){
                    return i - 1;
                  }
                }
                return transcript.length - 1;
              }
              // move the video to the desired second
              function seek(sec){
                if(player){
                  player.playVideo();
                  player.seekTo(sec, true);
                }
                location.href = location.href.split("#")[0] + "#" + sec;
                highlightParagraph(sec);
              }
              // highlight the right paragraph
              var prevParagraph;
              function highlightParagraph(sec) {
                var currentTime = sec;
                if (!currentTime && player) {
                  currentTime = player.getCurrentTime();
                }
                if (!currentTime){
                  console.log("No current time")
                  return;
                }
                var currentParagraph = findParagraph(currentTime);
                if (currentParagraph !== prevParagraph){
                  prevParagraph = currentParagraph;
                  Array.from(document.getElementsByClassName("transcript-chunks")).forEach((e) => {
                    e.classList.remove('text-selected');
                  });
                  var body = document.getElementById("chunk-"+currentParagraph);
                  body.classList.add('text-selected');
                }
              }
              time_update_interval = setInterval(highlightParagraph, 1000);
            </script>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>
    

    <!-- CONTENT -->
    <section class="pt-2">
      <div class="container">
        <div class="row justify-content-center">

          <div class="col-12 mb-5">
            <h1>
              Struct Embedding, Instrumentation and Code Generation
            </h1>
            
            <h3 class="bg-white">
              Video size:
              <a href="javascript:void(0);" onclick="resizeVideo(25)"><i class="fe fe-zoom-out me-2"></i></a>
              <a href="javascript:void(0);" onclick="resizeVideo(50)"><i class="fe fe-zoom-in me-2"></i></a>
            </h3>
            
          </div>

          <div class="col-12 mb-5">
            <h3>
              Abstract
            </h3>
<!-- Text -->
<h4>Reviewing how struct embedding and other techniques can be used to improve code design, performance, and usability in your Go applications.</h4>
<!-- End Text -->
          </div>

          

          <div class="col-12 mb-5">
            <h3>
              Summary
            </h3>
            <ul>
              
              <li>
                Maramos is a communication platform. It writes in the backend in go, we write in the front end in typescript and react. Each superstore have a single responsibility over a certain part of the data. We don't want to share responsibilities in the same code.

              </li>
              
              <li>
                Go provides some kind of syntax sugar to make this track embedding more comfortable. It can be really easy to reuse for other things as we're going to see soon what didn't work well. Another problem is the interface has to be homogeneous.

              </li>
              
              <li>
                Open tracing means that you have to add a lot of small details here and there in your code. We need to repeat the transactions when we receive a repeatable error. We just generate automatically a layer that catch any error. And how it's really interesting to have code generators.

              </li>
              
              <li>
                Everything there implements the store interface, we can just say that they are all stores. All the layer has to share the same interface. Embedding is not inheritance. You need to understand that well and how embedding works to see how it works.
              </li>
              
            </ul>
          </div>

          <div class="col-12 mb-5">
            <h3>
              Transcript
            </h3>
            <span class="text-muted">
              This transcript was autogenerated. To make changes, <a href="https://github.com/conf42/src/edit/main/./assemblyai/Y-URSLmIPIg.srt" target="_blank">submit a PR</a>.
            </span>
            <div>
            
            <span id="chunk-0" class="transcript-chunks" onclick="console.log('00:00:25,490'); seek(25.0)">
              Hi everybody, my name is Jesus Espino. I'm software engineer at
            </span>
            
            <span id="chunk-1" class="transcript-chunks" onclick="console.log('00:00:29,228'); seek(29.0)">
              Maramos and I'm going to talk about struggle embedding, instrumentation and code generation.
            </span>
            
            <span id="chunk-2" class="transcript-chunks" onclick="console.log('00:00:33,570'); seek(33.0)">
              Well, what is Maramos? Maramos is a communication platform.
            </span>
            
            <span id="chunk-3" class="transcript-chunks" onclick="console.log('00:00:37,244'); seek(37.0)">
              We write in the backend in go,
            </span>
            
            <span id="chunk-4" class="transcript-chunks" onclick="console.log('00:00:40,028'); seek(40.0)">
              we write in the front end in typescript and react. And we are focused on
            </span>
            
            <span id="chunk-5" class="transcript-chunks" onclick="console.log('00:00:44,092'); seek(44.0)">
              security and performance. We are an open source
            </span>
            
            <span id="chunk-6" class="transcript-chunks" onclick="console.log('00:00:47,618'); seek(47.0)">
              project and with an open code model we
            </span>
            
            <span id="chunk-7" class="transcript-chunks" onclick="console.log('00:00:51,092'); seek(51.0)">
              have a self hosted version and we provide
            </span>
            
            <span id="chunk-8" class="transcript-chunks" onclick="console.log('00:00:55,410'); seek(55.0)">
              features to deploy on the cloud like
            </span>
            
            <span id="chunk-9" class="transcript-chunks" onclick="console.log('00:01:00,130'); seek(60.0)">
              Kubernetes operators and things like that. And of course we
            </span>
            
            <span id="chunk-10" class="transcript-chunks" onclick="console.log('00:01:03,620'); seek(63.0)">
              have our own SaaS service. Well what are the main pieces
            </span>
            
            <span id="chunk-11" class="transcript-chunks" onclick="console.log('00:01:07,342'); seek(67.0)">
              and why I'm talking to you about Maramos?
            </span>
            
            <span id="chunk-12" class="transcript-chunks" onclick="console.log('00:01:11,454'); seek(71.0)">
              I'm going to talk about maramos because I'm going to explain something that we did
            </span>
            
            <span id="chunk-13" class="transcript-chunks" onclick="console.log('00:01:14,952'); seek(74.0)">
              here in Maramos. This is the Maramos architecture. We have the
            </span>
            
            <span id="chunk-14" class="transcript-chunks" onclick="console.log('00:01:18,652'); seek(78.0)">
              client that is a react typescript application that
            </span>
            
            <span id="chunk-15" class="transcript-chunks" onclick="console.log('00:01:21,948'); seek(81.0)">
              calls to the API and the websockets API. The API
            </span>
            
            <span id="chunk-16" class="transcript-chunks" onclick="console.log('00:01:25,378'); seek(85.0)">
              and the Websockets API call the app layer. That is where our business logic
            </span>
            
            <span id="chunk-17" class="transcript-chunks" onclick="console.log('00:01:29,762'); seek(89.0)">
              live. Our app layer is going to leverage a set
            </span>
            
            <span id="chunk-18" class="transcript-chunks" onclick="console.log('00:01:33,392'); seek(93.0)">
              of services to provide the final functionality. And one of
            </span>
            
            <span id="chunk-19" class="transcript-chunks" onclick="console.log('00:01:36,944'); seek(96.0)">
              these services, for example, is the file service that allows us to store files
            </span>
            
            <span id="chunk-20" class="transcript-chunks" onclick="console.log('00:01:40,662'); seek(100.0)">
              in s three or in the local file system, or the email service
            </span>
            
            <span id="chunk-21" class="transcript-chunks" onclick="console.log('00:01:44,820'); seek(104.0)">
              that allow us to send email notification and all that
            </span>
            
            <span id="chunk-22" class="transcript-chunks" onclick="console.log('00:01:48,292'); seek(108.0)">
              stuff. The important piece here is the store. The store service
            </span>
            
            <span id="chunk-23" class="transcript-chunks" onclick="console.log('00:01:53,010'); seek(113.0)">
              is can abstraction that allows us to provide
            </span>
            
            <span id="chunk-24" class="transcript-chunks" onclick="console.log('00:01:57,012'); seek(117.0)">
              all the storage mechanism related to database access,
            </span>
            
            <span id="chunk-25" class="transcript-chunks" onclick="console.log('00:02:00,324'); seek(120.0)">
              database storage, database queries, all that stuff
            </span>
            
            <span id="chunk-26" class="transcript-chunks" onclick="console.log('00:02:04,020'); seek(124.0)">
              is inside the store. And the app layer doesn't know anything about SQL,
            </span>
            
            <span id="chunk-27" class="transcript-chunks" onclick="console.log('00:02:07,922'); seek(127.0)">
              doesn't know anything about how the data is actually stored.
            </span>
            
            <span id="chunk-28" class="transcript-chunks" onclick="console.log('00:02:11,650'); seek(131.0)">
              The app layer only knows that the store is going to take
            </span>
            
            <span id="chunk-29" class="transcript-chunks" onclick="console.log('00:02:15,148'); seek(135.0)">
              care of the entities and store them and is going to return
            </span>
            
            <span id="chunk-30" class="transcript-chunks" onclick="console.log('00:02:18,720'); seek(138.0)">
              me then whenever I have to use them.
            </span>
            
            <span id="chunk-31" class="transcript-chunks" onclick="console.log('00:02:22,208'); seek(142.0)">
              Well, what does our store look like? Our store
            </span>
            
            <span id="chunk-32" class="transcript-chunks" onclick="console.log('00:02:26,176'); seek(146.0)">
              is interface. It's a huge interface that have
            </span>
            
            <span id="chunk-33" class="transcript-chunks" onclick="console.log('00:02:29,712'); seek(149.0)">
              a lot of superstores. Each superstore have a single
            </span>
            
            <span id="chunk-34" class="transcript-chunks" onclick="console.log('00:02:33,556'); seek(153.0)">
              responsibility over a certain part of the data. For example,
            </span>
            
            <span id="chunk-35" class="transcript-chunks" onclick="console.log('00:02:37,396'); seek(157.0)">
              the Tigna store is going to take care about the
            </span>
            
            <span id="chunk-36" class="transcript-chunks" onclick="console.log('00:02:40,708'); seek(160.0)">
              team model and how it's storing the database,
            </span>
            
            <span id="chunk-37" class="transcript-chunks" onclick="console.log('00:02:44,122'); seek(164.0)">
              how we query the teams, all that stuff. Then we have the user
            </span>
            
            <span id="chunk-38" class="transcript-chunks" onclick="console.log('00:02:47,902'); seek(167.0)">
              store that does the same for the users, the bot store for the bots and
            </span>
            
            <span id="chunk-39" class="transcript-chunks" onclick="console.log('00:02:51,832'); seek(171.0)">
              so on. This is how it looks like in the code. We have
            </span>
            
            <span id="chunk-40" class="transcript-chunks" onclick="console.log('00:02:55,288'); seek(175.0)">
              the store interface that have a set of methods that return,
            </span>
            
            <span id="chunk-41" class="transcript-chunks" onclick="console.log('00:02:58,712'); seek(178.0)">
              well, each superstore struct the superstore interface.
            </span>
            
            <span id="chunk-42" class="transcript-chunks" onclick="console.log('00:03:03,090'); seek(183.0)">
              In this case, the team Superstore interface is going to have a set of methods
            </span>
            
            <span id="chunk-43" class="transcript-chunks" onclick="console.log('00:03:06,882'); seek(186.0)">
              related to the team model.
            </span>
            
            <span id="chunk-44" class="transcript-chunks" onclick="console.log('00:03:09,790'); seek(189.0)">
              If we want to implement this interface, we have to implement
            </span>
            
            <span id="chunk-45" class="transcript-chunks" onclick="console.log('00:03:13,270'); seek(193.0)">
              each of these methods. So our SQL store,
            </span>
            
            <span id="chunk-46" class="transcript-chunks" onclick="console.log('00:03:16,880'); seek(196.0)">
              the implementation of the store that we have is going to implement each
            </span>
            
            <span id="chunk-47" class="transcript-chunks" onclick="console.log('00:03:20,548'); seek(200.0)">
              of this method accessing to the database using SQL.
            </span>
            
            <span id="chunk-48" class="transcript-chunks" onclick="console.log('00:03:24,266'); seek(204.0)">
              But we will able to build a completely different store using
            </span>
            
            <span id="chunk-49" class="transcript-chunks" onclick="console.log('00:03:28,308'); seek(208.0)">
              MongoDB or using any other database.
            </span>
            
            <span id="chunk-50" class="transcript-chunks" onclick="console.log('00:03:31,754'); seek(211.0)">
              What's the problem that we are trying to solve? We want to
            </span>
            
            <span id="chunk-51" class="transcript-chunks" onclick="console.log('00:03:34,952'); seek(214.0)">
              add caches to our system, to our store, but we don't
            </span>
            
            <span id="chunk-52" class="transcript-chunks" onclick="console.log('00:03:38,638'); seek(218.0)">
              want to share responsibilities in the same code.
            </span>
            
            <span id="chunk-53" class="transcript-chunks" onclick="console.log('00:03:42,504'); seek(222.0)">
              We want to have a very code generation of concerns
            </span>
            
            <span id="chunk-54" class="transcript-chunks" onclick="console.log('00:03:46,130'); seek(226.0)">
              and we decide that we want to build something that is
            </span>
            
            <span id="chunk-55" class="transcript-chunks" onclick="console.log('00:03:50,460'); seek(230.0)">
              completely separated. We don't want to see checking cache invalidation
            </span>
            
            <span id="chunk-56" class="transcript-chunks" onclick="console.log('00:03:55,930'); seek(235.0)">
              cache insertions in our SQL related
            </span>
            
            <span id="chunk-57" class="transcript-chunks" onclick="console.log('00:04:00,018'); seek(240.0)">
              code. So we want to have our SQL code that
            </span>
            
            <span id="chunk-58" class="transcript-chunks" onclick="console.log('00:04:03,312'); seek(243.0)">
              is going to generate the queries, it's going to query the database
            </span>
            
            <span id="chunk-59" class="transcript-chunks" onclick="console.log('00:04:06,582'); seek(246.0)">
              and then we want to have in another place the
            </span>
            
            <span id="chunk-60" class="transcript-chunks" onclick="console.log('00:04:10,532'); seek(250.0)">
              cache logic where you insert things
            </span>
            
            <span id="chunk-61" class="transcript-chunks" onclick="console.log('00:04:14,356'); seek(254.0)">
              in the cache, you retrieve things from the cache, you invalidate
            </span>
            
            <span id="chunk-62" class="transcript-chunks" onclick="console.log('00:04:18,138'); seek(258.0)">
              the cache, all that logic should be separated.
            </span>
            
            <span id="chunk-63" class="transcript-chunks" onclick="console.log('00:04:21,258'); seek(261.0)">
              Well, our initial approach is to use a well known
            </span>
            
            <span id="chunk-64" class="transcript-chunks" onclick="console.log('00:04:25,102'); seek(265.0)">
              pattern, that is the middleware pattern. We create
            </span>
            
            <span id="chunk-65" class="transcript-chunks" onclick="console.log('00:04:28,920'); seek(268.0)">
              a new set of interfaces and strikes to
            </span>
            
            <span id="chunk-66" class="transcript-chunks" onclick="console.log('00:04:32,296'); seek(272.0)">
              provide this pattern and well, the result
            </span>
            
            <span id="chunk-67" class="transcript-chunks" onclick="console.log('00:04:35,580'); seek(275.0)">
              wasn't easy to understand. This is how
            </span>
            
            <span id="chunk-68" class="transcript-chunks" onclick="console.log('00:04:39,356'); seek(279.0)">
              it looks like. We had the SQL store that
            </span>
            
            <span id="chunk-69" class="transcript-chunks" onclick="console.log('00:04:42,876'); seek(282.0)">
              implements the store interface that we already saw.
            </span>
            
            <span id="chunk-70" class="transcript-chunks" onclick="console.log('00:04:46,588'); seek(286.0)">
              The SQL store also have to implement this new layered
            </span>
            
            <span id="chunk-71" class="transcript-chunks" onclick="console.log('00:04:50,786'); seek(290.0)">
              store supplier. This layered store supplier is
            </span>
            
            <span id="chunk-72" class="transcript-chunks" onclick="console.log('00:04:54,272'); seek(294.0)">
              going to have this set chain next that is
            </span>
            
            <span id="chunk-73" class="transcript-chunks" onclick="console.log('00:04:57,392'); seek(297.0)">
              going to set the next element in the chain of this chain
            </span>
            
            <span id="chunk-74" class="transcript-chunks" onclick="console.log('00:05:01,254'); seek(301.0)">
              of middlewares and the next is going to provide the next
            </span>
            
            <span id="chunk-75" class="transcript-chunks" onclick="console.log('00:05:05,124'); seek(305.0)">
              middleware that is responsible for
            </span>
            
            <span id="chunk-76" class="transcript-chunks" onclick="console.log('00:05:09,428'); seek(309.0)">
              the rest of the logic. The cache layer is going to implement
            </span>
            
            <span id="chunk-77" class="transcript-chunks" onclick="console.log('00:05:13,434'); seek(313.0)">
              this layer, the store supplier only. And then we have this
            </span>
            
            <span id="chunk-78" class="transcript-chunks" onclick="console.log('00:05:16,936'); seek(316.0)">
              layer, the store that is another extract that is going to provide,
            </span>
            
            <span id="chunk-79" class="transcript-chunks" onclick="console.log('00:05:20,904'); seek(320.0)">
              well, it's going to have the database store database,
            </span>
            
            <span id="chunk-80" class="transcript-chunks" onclick="console.log('00:05:25,102'); seek(325.0)">
              the SQL layer, the SQL store, and it's going
            </span>
            
            <span id="chunk-81" class="transcript-chunks" onclick="console.log('00:05:28,904'); seek(328.0)">
              to have also the cache layer and any other layer
            </span>
            
            <span id="chunk-82" class="transcript-chunks" onclick="console.log('00:05:32,562'); seek(332.0)">
              that you want to add is going to go here and then we are going
            </span>
            
            <span id="chunk-83" class="transcript-chunks" onclick="console.log('00:05:36,108'); seek(336.0)">
              to have this set of superstore that are overriding or
            </span>
            
            <span id="chunk-84" class="transcript-chunks" onclick="console.log('00:05:39,872'); seek(339.0)">
              not that are going to be delegated to the layer of the store or
            </span>
            
            <span id="chunk-85" class="transcript-chunks" onclick="console.log('00:05:44,016'); seek(344.0)">
              are going to be delegated directly to the SQL store. This approach
            </span>
            
            <span id="chunk-86" class="transcript-chunks" onclick="console.log('00:05:48,342'); seek(348.0)">
              work well, but it's not easy to understand and it's
            </span>
            
            <span id="chunk-87" class="transcript-chunks" onclick="console.log('00:05:52,198'); seek(352.0)">
              not easy to think about or reason about. Well, this is
            </span>
            
            <span id="chunk-88" class="transcript-chunks" onclick="console.log('00:05:55,748'); seek(355.0)">
              the code, this is how it looks like in the code. I don't want to
            </span>
            
            <span id="chunk-89" class="transcript-chunks" onclick="console.log('00:05:59,604'); seek(359.0)">
              explain much that it's more or less the same that we
            </span>
            
            <span id="chunk-90" class="transcript-chunks" onclick="console.log('00:06:03,012'); seek(363.0)">
              saw in the previous slide. What went well
            </span>
            
            <span id="chunk-91" class="transcript-chunks" onclick="console.log('00:06:06,472'); seek(366.0)">
              and what didn't work, what went well is the
            </span>
            
            <span id="chunk-92" class="transcript-chunks" onclick="console.log('00:06:10,024'); seek(370.0)">
              middleware pattern. It's something that is well known, something that is
            </span>
            
            <span id="chunk-93" class="transcript-chunks" onclick="console.log('00:06:13,544'); seek(373.0)">
              kind of easy to think about it, because conceptually you already know
            </span>
            
            <span id="chunk-94" class="transcript-chunks" onclick="console.log('00:06:17,368'); seek(377.0)">
              the concept of middleware, you know how it's expected to
            </span>
            
            <span id="chunk-95" class="transcript-chunks" onclick="console.log('00:06:21,404'); seek(381.0)">
              work. So from the concept perspective,
            </span>
            
            <span id="chunk-96" class="transcript-chunks" onclick="console.log('00:06:25,394'); seek(385.0)">
              was really easy to understand. Also, we had the opportunity to provide extra
            </span>
            
            <span id="chunk-97" class="transcript-chunks" onclick="console.log('00:06:29,296'); seek(389.0)">
              information without affecting the layers beneath. So for example,
            </span>
            
            <span id="chunk-98" class="transcript-chunks" onclick="console.log('00:06:32,704'); seek(392.0)">
              we were able to add this hint to the cache layer,
            </span>
            
            <span id="chunk-99" class="transcript-chunks" onclick="console.log('00:06:36,662'); seek(396.0)">
              allowing to add certain extra information,
            </span>
            
            <span id="chunk-100" class="transcript-chunks" onclick="console.log('00:06:40,270'); seek(400.0)">
              certain context from the app layer,
            </span>
            
            <span id="chunk-101" class="transcript-chunks" onclick="console.log('00:06:44,042'); seek(404.0)">
              to decide if we want to cache something or not,
            </span>
            
            <span id="chunk-102" class="transcript-chunks" onclick="console.log('00:06:47,492'); seek(407.0)">
              or if we want to invalidate the cache or not. This is because
            </span>
            
            <span id="chunk-103" class="transcript-chunks" onclick="console.log('00:06:51,316'); seek(411.0)">
              from the app layer we have way more context and we
            </span>
            
            <span id="chunk-104" class="transcript-chunks" onclick="console.log('00:06:55,172'); seek(415.0)">
              have the big picture of what we want to do with the data from the
            </span>
            
            <span id="chunk-105" class="transcript-chunks" onclick="console.log('00:06:58,952'); seek(418.0)">
              store. We only know that we are adding a new team,
            </span>
            
            <span id="chunk-106" class="transcript-chunks" onclick="console.log('00:07:02,536'); seek(422.0)">
              we are removing a team, we are adding people to certain
            </span>
            
            <span id="chunk-107" class="transcript-chunks" onclick="console.log('00:07:05,880'); seek(425.0)">
              teams or something like that. But we don't have the big picture.
            </span>
            
            <span id="chunk-108" class="transcript-chunks" onclick="console.log('00:07:09,122'); seek(429.0)">
              We don't know why we are adding that and we don't know if
            </span>
            
            <span id="chunk-109" class="transcript-chunks" onclick="console.log('00:07:12,476'); seek(432.0)">
              we, right before that we added other thing and
            </span>
            
            <span id="chunk-110" class="transcript-chunks" onclick="console.log('00:07:16,348'); seek(436.0)">
              we don't need to cache anything or we don't need to
            </span>
            
            <span id="chunk-111" class="transcript-chunks" onclick="console.log('00:07:19,648'); seek(439.0)">
              invalidate the cache or whatever. So that was an interesting thing
            </span>
            
            <span id="chunk-112" class="transcript-chunks" onclick="console.log('00:07:23,872'); seek(443.0)">
              to have, but we weren't using it so well,
            </span>
            
            <span id="chunk-113" class="transcript-chunks" onclick="console.log('00:07:27,680'); seek(447.0)">
              was a great feature that we were taking advantage
            </span>
            
            <span id="chunk-114" class="transcript-chunks" onclick="console.log('00:07:30,918'); seek(450.0)">
              of that what didn't work well was a bit hard to understand
            </span>
            
            <span id="chunk-115" class="transcript-chunks" onclick="console.log('00:07:34,644'); seek(454.0)">
              and follow all the code there, and at the same time was a
            </span>
            
            <span id="chunk-116" class="transcript-chunks" onclick="console.log('00:07:38,468'); seek(458.0)">
              bit hard to add new caches because you have to
            </span>
            
            <span id="chunk-117" class="transcript-chunks" onclick="console.log('00:07:42,132'); seek(462.0)">
              modify different places. We have to modify the cache layer,
            </span>
            
            <span id="chunk-118" class="transcript-chunks" onclick="console.log('00:07:45,678'); seek(465.0)">
              we have to modify the SQL layer, and we have to modify other parts.
            </span>
            
            <span id="chunk-119" class="transcript-chunks" onclick="console.log('00:07:49,486'); seek(469.0)">
              Like the layer store was complicated to add things
            </span>
            
            <span id="chunk-120" class="transcript-chunks" onclick="console.log('00:07:53,560'); seek(473.0)">
              there and there was a lot
            </span>
            
            <span id="chunk-121" class="transcript-chunks" onclick="console.log('00:07:56,908'); seek(476.0)">
              of code in a lot of different places and was really
            </span>
            
            <span id="chunk-122" class="transcript-chunks" onclick="console.log('00:08:00,524'); seek(480.0)">
              error prone and wasn't the best approach in
            </span>
            
            <span id="chunk-123" class="transcript-chunks" onclick="console.log('00:08:04,028'); seek(484.0)">
              terms of maintenance. Well, our current approach, what we
            </span>
            
            <span id="chunk-124" class="transcript-chunks" onclick="console.log('00:08:07,628'); seek(487.0)">
              use for our current approach, stroke embedding, instead of creating
            </span>
            
            <span id="chunk-125" class="transcript-chunks" onclick="console.log('00:08:10,982'); seek(490.0)">
              all this middleware logic where you have all these
            </span>
            
            <span id="chunk-126" class="transcript-chunks" onclick="console.log('00:08:14,592'); seek(494.0)">
              layers and all that stuff, we take advantage of the stroke
            </span>
            
            <span id="chunk-127" class="transcript-chunks" onclick="console.log('00:08:18,742'); seek(498.0)">
              embedding feature of go to create
            </span>
            
            <span id="chunk-128" class="transcript-chunks" onclick="console.log('00:08:22,260'); seek(502.0)">
              these layers, just store. The concept
            </span>
            
            <span id="chunk-129" class="transcript-chunks" onclick="console.log('00:08:26,234'); seek(506.0)">
              of a store is going to be embedded in another
            </span>
            
            <span id="chunk-130" class="transcript-chunks" onclick="console.log('00:08:30,388'); seek(510.0)">
              store. So we can create a layer
            </span>
            
            <span id="chunk-131" class="transcript-chunks" onclick="console.log('00:08:33,918'); seek(513.0)">
              that embeds the store and automatically is going
            </span>
            
            <span id="chunk-132" class="transcript-chunks" onclick="console.log('00:08:37,352'); seek(517.0)">
              to be a store because it's embedding a store.
            </span>
            
            <span id="chunk-133" class="transcript-chunks" onclick="console.log('00:08:40,712'); seek(520.0)">
              So this feature is a great feature of the language.
            </span>
            
            <span id="chunk-134" class="transcript-chunks" onclick="console.log('00:08:44,782'); seek(524.0)">
              And you can build this kind of layers
            </span>
            
            <span id="chunk-135" class="transcript-chunks" onclick="console.log('00:08:48,354'); seek(528.0)">
              really easy. Well, we rely on the existing interface.
            </span>
            
            <span id="chunk-136" class="transcript-chunks" onclick="console.log('00:08:52,162'); seek(532.0)">
              We relay on this store interface. We remove the layer,
            </span>
            
            <span id="chunk-137" class="transcript-chunks" onclick="console.log('00:08:55,762'); seek(535.0)">
              the store, the layered suppliers, all that stuff is
            </span>
            
            <span id="chunk-138" class="transcript-chunks" onclick="console.log('00:08:59,676'); seek(539.0)">
              gone. And we relay only on the existing store interface.
            </span>
            
            <span id="chunk-139" class="transcript-chunks" onclick="console.log('00:09:03,682'); seek(543.0)">
              We created this cache store, local cache, store that embeds
            </span>
            
            <span id="chunk-140" class="transcript-chunks" onclick="console.log('00:09:08,438'); seek(548.0)">
              the other store, the SQL store in it, and we override the
            </span>
            
            <span id="chunk-141" class="transcript-chunks" onclick="console.log('00:09:12,324'); seek(552.0)">
              methods that we need and everything else is transparent. Well this
            </span>
            
            <span id="chunk-142" class="transcript-chunks" onclick="console.log('00:09:16,228'); seek(556.0)">
              is how it looks like way simpler, right? The SQL
            </span>
            
            <span id="chunk-143" class="transcript-chunks" onclick="console.log('00:09:19,882'); seek(559.0)">
              store is going to implement the store. We are going to write all
            </span>
            
            <span id="chunk-144" class="transcript-chunks" onclick="console.log('00:09:23,572'); seek(563.0)">
              the methods, we are going to write all the SQL code. We are going to
            </span>
            
            <span id="chunk-145" class="transcript-chunks" onclick="console.log('00:09:26,884'); seek(566.0)">
              write a lot of stuff for the SQL store that is going to be needed
            </span>
            
            <span id="chunk-146" class="transcript-chunks" onclick="console.log('00:09:30,200'); seek(570.0)">
              anyway. But for the cache layer, we are going to embed the
            </span>
            
            <span id="chunk-147" class="transcript-chunks" onclick="console.log('00:09:33,768'); seek(573.0)">
              store. So automatically the cache layer without any
            </span>
            
            <span id="chunk-148" class="transcript-chunks" onclick="console.log('00:09:36,956'); seek(576.0)">
              method in it is going to implement the store. We only
            </span>
            
            <span id="chunk-149" class="transcript-chunks" onclick="console.log('00:09:40,476'); seek(580.0)">
              need to override the places where the cache need to take some action.
            </span>
            
            <span id="chunk-150" class="transcript-chunks" onclick="console.log('00:09:45,218'); seek(585.0)">
              For example, whenever I add a new post
            </span>
            
            <span id="chunk-151" class="transcript-chunks" onclick="console.log('00:09:48,876'); seek(588.0)">
              I going to cache certain information. Or whenever I add
            </span>
            
            <span id="chunk-152" class="transcript-chunks" onclick="console.log('00:09:52,752'); seek(592.0)">
              a new user I'm going to cache certain information.
            </span>
            
            <span id="chunk-153" class="transcript-chunks" onclick="console.log('00:09:55,760'); seek(595.0)">
              Whenever I get some user I'm going to cache that information.
            </span>
            
            <span id="chunk-154" class="transcript-chunks" onclick="console.log('00:09:59,152'); seek(599.0)">
              Whenever I modify the user I have to validate
            </span>
            
            <span id="chunk-155" class="transcript-chunks" onclick="console.log('00:10:02,870'); seek(602.0)">
              that cache. So we only need to find that places where
            </span>
            
            <span id="chunk-156" class="transcript-chunks" onclick="console.log('00:10:06,452'); seek(606.0)">
              we need to modify and update our cache and
            </span>
            
            <span id="chunk-157" class="transcript-chunks" onclick="console.log('00:10:10,788'); seek(610.0)">
              override them. And that is what we do.
            </span>
            
            <span id="chunk-158" class="transcript-chunks" onclick="console.log('00:10:14,308'); seek(614.0)">
              We create this local cache store that embeds a storetore.
            </span>
            
            <span id="chunk-159" class="transcript-chunks" onclick="console.log('00:10:18,090'); seek(618.0)">
              Any store can be embedded, but let's think about it as the
            </span>
            
            <span id="chunk-160" class="transcript-chunks" onclick="console.log('00:10:22,248'); seek(622.0)">
              SQL store. So we have the local cache store and we embed
            </span>
            
            <span id="chunk-161" class="transcript-chunks" onclick="console.log('00:10:25,518'); seek(625.0)">
              the SQL store in it. Then we have a set of Superstore.
            </span>
            
            <span id="chunk-162" class="transcript-chunks" onclick="console.log('00:10:29,122'); seek(629.0)">
              That is the specific cache implementation of this superstore.
            </span>
            
            <span id="chunk-163" class="transcript-chunks" onclick="console.log('00:10:33,618'); seek(633.0)">
              In this case it's the team Superstore. We override
            </span>
            
            <span id="chunk-164" class="transcript-chunks" onclick="console.log('00:10:36,962'); seek(636.0)">
              the method that gets the team store in this case is going to return
            </span>
            
            <span id="chunk-165" class="transcript-chunks" onclick="console.log('00:10:41,168'); seek(641.0)">
              this own implementation of the team Superstore
            </span>
            
            <span id="chunk-166" class="transcript-chunks" onclick="console.log('00:10:45,254'); seek(645.0)">
              and how we implement this superstore.
            </span>
            
            <span id="chunk-167" class="transcript-chunks" onclick="console.log('00:10:48,998'); seek(648.0)">
              The Superstore is going to embed again this
            </span>
            
            <span id="chunk-168" class="transcript-chunks" onclick="console.log('00:10:52,672'); seek(652.0)">
              team store, any team store, but we're going to think about
            </span>
            
            <span id="chunk-169" class="transcript-chunks" onclick="console.log('00:10:56,052'); seek(656.0)">
              it as the SQL team store. Then we add
            </span>
            
            <span id="chunk-170" class="transcript-chunks" onclick="console.log('00:10:59,668'); seek(659.0)">
              the root store. That is a private attribute that we are going to
            </span>
            
            <span id="chunk-171" class="transcript-chunks" onclick="console.log('00:11:03,012'); seek(663.0)">
              use to share some data and share some methods.
            </span>
            
            <span id="chunk-172" class="transcript-chunks" onclick="console.log('00:11:06,286'); seek(666.0)">
              And it's going to be just the local cache store instance.
            </span>
            
            <span id="chunk-173" class="transcript-chunks" onclick="console.log('00:11:10,174'); seek(670.0)">
              Finally, we need to add methods to this superstore.
            </span>
            
            <span id="chunk-174" class="transcript-chunks" onclick="console.log('00:11:13,854'); seek(673.0)">
              This method for example is get method. And the
            </span>
            
            <span id="chunk-175" class="transcript-chunks" onclick="console.log('00:11:16,888'); seek(676.0)">
              get method is going to check the cache. It's going to return the cache.
            </span>
            
            <span id="chunk-176" class="transcript-chunks" onclick="console.log('00:11:20,418'); seek(680.0)">
              If there's a heat and if there's not a hit, it's going to go
            </span>
            
            <span id="chunk-177" class="transcript-chunks" onclick="console.log('00:11:24,028'); seek(684.0)">
              and use the embedded
            </span>
            
            <span id="chunk-178" class="transcript-chunks" onclick="console.log('00:11:27,730'); seek(687.0)">
              track. It's going to take the embedding thing store
            </span>
            
            <span id="chunk-179" class="transcript-chunks" onclick="console.log('00:11:31,164'); seek(691.0)">
              and use whatever is there. It's going to use the underneath store.
            </span>
            
            <span id="chunk-180" class="transcript-chunks" onclick="console.log('00:11:35,312'); seek(695.0)">
              So the SQL store and it's going to get the data from the SQL
            </span>
            
            <span id="chunk-181" class="transcript-chunks" onclick="console.log('00:11:38,822'); seek(698.0)">
              store, check if there's any error, and if there's no error,
            </span>
            
            <span id="chunk-182" class="transcript-chunks" onclick="console.log('00:11:42,474'); seek(702.0)">
              I'm going to cache this information and return
            </span>
            
            <span id="chunk-183" class="transcript-chunks" onclick="console.log('00:11:45,780'); seek(705.0)">
              the result well. What went well and what didn't work,
            </span>
            
            <span id="chunk-184" class="transcript-chunks" onclick="console.log('00:11:49,332'); seek(709.0)">
              one of the things that went really well was the simplicity of the
            </span>
            
            <span id="chunk-185" class="transcript-chunks" onclick="console.log('00:11:53,028'); seek(713.0)">
              solution. This is very simple, this is very straightforward,
            </span>
            
            <span id="chunk-186" class="transcript-chunks" onclick="console.log('00:11:56,494'); seek(716.0)">
              this is very clear pattern. It's really easy to
            </span>
            
            <span id="chunk-187" class="transcript-chunks" onclick="console.log('00:12:00,008'); seek(720.0)">
              understand, really easy to think about it, and really easy
            </span>
            
            <span id="chunk-188" class="transcript-chunks" onclick="console.log('00:12:03,320'); seek(723.0)">
              to think about other options that we can
            </span>
            
            <span id="chunk-189" class="transcript-chunks" onclick="console.log('00:12:06,732'); seek(726.0)">
              build with. This also was very simple.
            </span>
            
            <span id="chunk-190" class="transcript-chunks" onclick="console.log('00:12:09,980'); seek(729.0)">
              To add new caches was super straightforward, was overriding
            </span>
            
            <span id="chunk-191" class="transcript-chunks" onclick="console.log('00:12:14,018'); seek(734.0)">
              methods and just delegating everything else
            </span>
            
            <span id="chunk-192" class="transcript-chunks" onclick="console.log('00:12:17,436'); seek(737.0)">
              in the underneath the store. You don't need to think about adding
            </span>
            
            <span id="chunk-193" class="transcript-chunks" onclick="console.log('00:12:21,542'); seek(741.0)">
              in three different places code. You only have to add code
            </span>
            
            <span id="chunk-194" class="transcript-chunks" onclick="console.log('00:12:25,264'); seek(745.0)">
              in the cache layer and it's all that you need to do.
            </span>
            
            <span id="chunk-195" class="transcript-chunks" onclick="console.log('00:12:29,376'); seek(749.0)">
              It's a really general approach, so it can
            </span>
            
            <span id="chunk-196" class="transcript-chunks" onclick="console.log('00:12:33,012'); seek(753.0)">
              be really easy to reuse for other things as we're going to
            </span>
            
            <span id="chunk-197" class="transcript-chunks" onclick="console.log('00:12:36,628'); seek(756.0)">
              see soon what didn't work well. There's some subtleties
            </span>
            
            <span id="chunk-198" class="transcript-chunks" onclick="console.log('00:12:41,450'); seek(761.0)">
              around stroke embedding. String embedding
            </span>
            
            <span id="chunk-199" class="transcript-chunks" onclick="console.log('00:12:45,210'); seek(765.0)">
              is a struct embedding. It is not inheritance.
            </span>
            
            <span id="chunk-200" class="transcript-chunks" onclick="console.log('00:12:48,910'); seek(768.0)">
              So you are embedding a struct in another
            </span>
            
            <span id="chunk-201" class="transcript-chunks" onclick="console.log('00:12:52,264'); seek(772.0)">
              struct. So think about it as something
            </span>
            
            <span id="chunk-202" class="transcript-chunks" onclick="console.log('00:12:55,756'); seek(775.0)">
              that you are doing manually.
            </span>
            
            <span id="chunk-203" class="transcript-chunks" onclick="console.log('00:12:59,026'); seek(779.0)">
              You have a struct and you embed something inside that
            </span>
            
            <span id="chunk-204" class="transcript-chunks" onclick="console.log('00:13:02,716'); seek(782.0)">
              struct. Go provides some kind of syntax sugar to
            </span>
            
            <span id="chunk-205" class="transcript-chunks" onclick="console.log('00:13:06,892'); seek(786.0)">
              make this track embedding more comfortable,
            </span>
            
            <span id="chunk-206" class="transcript-chunks" onclick="console.log('00:13:09,778'); seek(789.0)">
              and allows you to call methods
            </span>
            
            <span id="chunk-207" class="transcript-chunks" onclick="console.log('00:13:13,126'); seek(793.0)">
              from the embedded struct in the parent struct.
            </span>
            
            <span id="chunk-208" class="transcript-chunks" onclick="console.log('00:13:17,094'); seek(797.0)">
              The parent struct can override that. Methods can
            </span>
            
            <span id="chunk-209" class="transcript-chunks" onclick="console.log('00:13:21,024'); seek(801.0)">
              define that methods, and if the methods are defined, it's going to
            </span>
            
            <span id="chunk-210" class="transcript-chunks" onclick="console.log('00:13:24,548'); seek(804.0)">
              be call from the parent. But if it's not defined,
            </span>
            
            <span id="chunk-211" class="transcript-chunks" onclick="console.log('00:13:27,882'); seek(807.0)">
              it's going to be call from the embedded struct.
            </span>
            
            <span id="chunk-212" class="transcript-chunks" onclick="console.log('00:13:31,578'); seek(811.0)">
              But there is the problem. Whenever you call a struct
            </span>
            
            <span id="chunk-213" class="transcript-chunks" onclick="console.log('00:13:35,662'); seek(815.0)">
              that embeds other struct, if the methods is not defined,
            </span>
            
            <span id="chunk-214" class="transcript-chunks" onclick="console.log('00:13:39,294'); seek(819.0)">
              it's going to call the underneath method the embedded
            </span>
            
            <span id="chunk-215" class="transcript-chunks" onclick="console.log('00:13:43,326'); seek(823.0)">
              struct method. And once you call the embedded strand method,
            </span>
            
            <span id="chunk-216" class="transcript-chunks" onclick="console.log('00:13:47,586'); seek(827.0)">
              that is not going to know anything about the parent.
            </span>
            
            <span id="chunk-217" class="transcript-chunks" onclick="console.log('00:13:51,372'); seek(831.0)">
              The context of that method is going to be the embedded
            </span>
            
            <span id="chunk-218" class="transcript-chunks" onclick="console.log('00:13:54,962'); seek(834.0)">
              object. So there's no information about the parent at all.
            </span>
            
            <span id="chunk-219" class="transcript-chunks" onclick="console.log('00:13:59,100'); seek(839.0)">
              So if in that method you call another method
            </span>
            
            <span id="chunk-220" class="transcript-chunks" onclick="console.log('00:14:02,598'); seek(842.0)">
              of extract, doesn't matter if you override that method on
            </span>
            
            <span id="chunk-221" class="transcript-chunks" onclick="console.log('00:14:06,288'); seek(846.0)">
              the parent, because you are in the context of
            </span>
            
            <span id="chunk-222" class="transcript-chunks" onclick="console.log('00:14:09,488'); seek(849.0)">
              the embedded extract. So you are going to call the methods
            </span>
            
            <span id="chunk-223" class="transcript-chunks" onclick="console.log('00:14:12,838'); seek(852.0)">
              of the embedding extract always. So that
            </span>
            
            <span id="chunk-224" class="transcript-chunks" onclick="console.log('00:14:16,356'); seek(856.0)">
              means that that can lead to some
            </span>
            
            <span id="chunk-225" class="transcript-chunks" onclick="console.log('00:14:20,292'); seek(860.0)">
              subtle errors that are really hard to track and
            </span>
            
            <span id="chunk-226" class="transcript-chunks" onclick="console.log('00:14:24,312'); seek(864.0)">
              really hard to find. But if you really know what struggle
            </span>
            
            <span id="chunk-227" class="transcript-chunks" onclick="console.log('00:14:28,558'); seek(868.0)">
              embedding is, it's really easy to avoid them.
            </span>
            
            <span id="chunk-228" class="transcript-chunks" onclick="console.log('00:14:31,368'); seek(871.0)">
              So one of the problem is these subtle errors that
            </span>
            
            <span id="chunk-229" class="transcript-chunks" onclick="console.log('00:14:35,228'); seek(875.0)">
              can happen. You have to be sure that your team
            </span>
            
            <span id="chunk-230" class="transcript-chunks" onclick="console.log('00:14:38,780'); seek(878.0)">
              knows what struggle embedding means and for
            </span>
            
            <span id="chunk-231" class="transcript-chunks" onclick="console.log('00:14:42,332'); seek(882.0)">
              sure know that struct embedding is not inheritance.
            </span>
            
            <span id="chunk-232" class="transcript-chunks" onclick="console.log('00:14:46,626'); seek(886.0)">
              Okay. Another problem is the interface has to be
            </span>
            
            <span id="chunk-233" class="transcript-chunks" onclick="console.log('00:14:50,432'); seek(890.0)">
              homogeneous. So that means that some flexibility
            </span>
            
            <span id="chunk-234" class="transcript-chunks" onclick="console.log('00:14:54,374'); seek(894.0)">
              get removed and doesn't allow you to add
            </span>
            
            <span id="chunk-235" class="transcript-chunks" onclick="console.log('00:14:58,432'); seek(898.0)">
              these kind of hints or things like that, or specific parameters
            </span>
            
            <span id="chunk-236" class="transcript-chunks" onclick="console.log('00:15:02,342'); seek(902.0)">
              for certain layers. And all that stuff is the price that you have
            </span>
            
            <span id="chunk-237" class="transcript-chunks" onclick="console.log('00:15:05,588'); seek(905.0)">
              to pay to have this homogeneous interface that you can wrap in
            </span>
            
            <span id="chunk-238" class="transcript-chunks" onclick="console.log('00:15:09,252'); seek(909.0)">
              layers. But this is the first solution.
            </span>
            
            <span id="chunk-239" class="transcript-chunks" onclick="console.log('00:15:13,066'); seek(913.0)">
              We built this for the cache. Went really well actually.
            </span>
            
            <span id="chunk-240" class="transcript-chunks" onclick="console.log('00:15:16,792'); seek(916.0)">
              But we start thinking, oh well, we have this new
            </span>
            
            <span id="chunk-241" class="transcript-chunks" onclick="console.log('00:15:21,144'); seek(921.0)">
              layers architecture that we can leverage for other things.
            </span>
            
            <span id="chunk-242" class="transcript-chunks" onclick="console.log('00:15:25,080'); seek(925.0)">
              For example, we can leverage that for instrumentation, to add
            </span>
            
            <span id="chunk-243" class="transcript-chunks" onclick="console.log('00:15:28,492'); seek(928.0)">
              instrumentation to our store without modifying anything
            </span>
            
            <span id="chunk-244" class="transcript-chunks" onclick="console.log('00:15:31,980'); seek(931.0)">
              in the store. Just having some instrumentation
            </span>
            
            <span id="chunk-245" class="transcript-chunks" onclick="console.log('00:15:35,986'); seek(935.0)">
              in a well defined layer and separating
            </span>
            
            <span id="chunk-246" class="transcript-chunks" onclick="console.log('00:15:40,758'); seek(940.0)">
              all that logic from the rest of the store. It's a great
            </span>
            
            <span id="chunk-247" class="transcript-chunks" onclick="console.log('00:15:44,768'); seek(944.0)">
              separation of concerns. You can have login if
            </span>
            
            <span id="chunk-248" class="transcript-chunks" onclick="console.log('00:15:48,112'); seek(948.0)">
              you want to log all the actions that
            </span>
            
            <span id="chunk-249" class="transcript-chunks" onclick="console.log('00:15:51,748'); seek(951.0)">
              you are doing. If you want to log specific actions in specific
            </span>
            
            <span id="chunk-250" class="transcript-chunks" onclick="console.log('00:15:55,444'); seek(955.0)">
              places. Auditing, for example, if you want
            </span>
            
            <span id="chunk-251" class="transcript-chunks" onclick="console.log('00:15:58,772'); seek(958.0)">
              to audit when something get accessed or
            </span>
            
            <span id="chunk-252" class="transcript-chunks" onclick="console.log('00:16:02,548'); seek(962.0)">
              get removed or get modified or something like that.
            </span>
            
            <span id="chunk-253" class="transcript-chunks" onclick="console.log('00:16:05,640'); seek(965.0)">
              Well, something that is really interesting is a storage and query delegation.
            </span>
            
            <span id="chunk-254" class="transcript-chunks" onclick="console.log('00:16:09,726'); seek(969.0)">
              For example, if you have your SQL
            </span>
            
            <span id="chunk-255" class="transcript-chunks" onclick="console.log('00:16:13,518'); seek(973.0)">
              store that, store things in SQL, SQL is great,
            </span>
            
            <span id="chunk-256" class="transcript-chunks" onclick="console.log('00:16:16,844'); seek(976.0)">
              but it's not the best option for every single problem out
            </span>
            
            <span id="chunk-257" class="transcript-chunks" onclick="console.log('00:16:20,588'); seek(980.0)">
              there. Sometimes you want to store unstructured data,
            </span>
            
            <span id="chunk-258" class="transcript-chunks" onclick="console.log('00:16:24,252'); seek(984.0)">
              sometimes you want to store data that is not so important
            </span>
            
            <span id="chunk-259" class="transcript-chunks" onclick="console.log('00:16:27,788'); seek(987.0)">
              to lose over time or is not necessarily to
            </span>
            
            <span id="chunk-260" class="transcript-chunks" onclick="console.log('00:16:31,408'); seek(991.0)">
              be 100% sure that you are storing the data
            </span>
            
            <span id="chunk-261" class="transcript-chunks" onclick="console.log('00:16:34,976'); seek(994.0)">
              and the data is 100% consistent. For example, some temporary
            </span>
            
            <span id="chunk-262" class="transcript-chunks" onclick="console.log('00:16:39,286'); seek(999.0)">
              data related to the status of the user, or if the
            </span>
            
            <span id="chunk-263" class="transcript-chunks" onclick="console.log('00:16:42,388'); seek(1002.0)">
              user is typing something or was
            </span>
            
            <span id="chunk-264" class="transcript-chunks" onclick="console.log('00:16:45,876'); seek(1005.0)">
              the last channel that the user viewed or things like that.
            </span>
            
            <span id="chunk-265" class="transcript-chunks" onclick="console.log('00:16:49,108'); seek(1009.0)">
              That information is important for our users, but it's not critical.
            </span>
            
            <span id="chunk-266" class="transcript-chunks" onclick="console.log('00:16:53,582'); seek(1013.0)">
              So you can leverage some in memory database,
            </span>
            
            <span id="chunk-267" class="transcript-chunks" onclick="console.log('00:16:57,246'); seek(1017.0)">
              you can leverage some search specific enzyme like
            </span>
            
            <span id="chunk-268" class="transcript-chunks" onclick="console.log('00:17:01,032'); seek(1021.0)">
              elasticsearch or bleep. Or you
            </span>
            
            <span id="chunk-269" class="transcript-chunks" onclick="console.log('00:17:05,128'); seek(1025.0)">
              can start in a struct data in coach tv or Mongo
            </span>
            
            <span id="chunk-270" class="transcript-chunks" onclick="console.log('00:17:08,738'); seek(1028.0)">
              for example, that can provide you certain performance
            </span>
            
            <span id="chunk-271" class="transcript-chunks" onclick="console.log('00:17:12,402'); seek(1032.0)">
              improvements or certain extra features for certain
            </span>
            
            <span id="chunk-272" class="transcript-chunks" onclick="console.log('00:17:16,044'); seek(1036.0)">
              pattern usage. Well, also we can add their
            </span>
            
            <span id="chunk-273" class="transcript-chunks" onclick="console.log('00:17:20,320'); seek(1040.0)">
              extra validation if we want to be sure that
            </span>
            
            <span id="chunk-274" class="transcript-chunks" onclick="console.log('00:17:23,616'); seek(1043.0)">
              certain things get consistent in the database. We can add extra
            </span>
            
            <span id="chunk-275" class="transcript-chunks" onclick="console.log('00:17:27,440'); seek(1047.0)">
              validation in a layer. We can add extra error
            </span>
            
            <span id="chunk-276" class="transcript-chunks" onclick="console.log('00:17:30,838'); seek(1050.0)">
              handling. For example, if you have a non relabeled network
            </span>
            
            <span id="chunk-277" class="transcript-chunks" onclick="console.log('00:17:34,986'); seek(1054.0)">
              connection with your database, there can be some timeouts
            </span>
            
            <span id="chunk-278" class="transcript-chunks" onclick="console.log('00:17:38,538'); seek(1058.0)">
              or there can be some network connection problems and maybe
            </span>
            
            <span id="chunk-279" class="transcript-chunks" onclick="console.log('00:17:42,196'); seek(1062.0)">
              you want to handle that at the store level and struct
            </span>
            
            <span id="chunk-280" class="transcript-chunks" onclick="console.log('00:17:45,870'); seek(1065.0)">
              the app layer from all the logic needed
            </span>
            
            <span id="chunk-281" class="transcript-chunks" onclick="console.log('00:17:49,416'); seek(1069.0)">
              to retry a timeout on the database or retry
            </span>
            
            <span id="chunk-282" class="transcript-chunks" onclick="console.log('00:17:53,326'); seek(1073.0)">
              certain situations under certain errors or
            </span>
            
            <span id="chunk-283" class="transcript-chunks" onclick="console.log('00:17:57,132'); seek(1077.0)">
              you want to track certain kind of errors and store that
            </span>
            
            <span id="chunk-284" class="transcript-chunks" onclick="console.log('00:18:00,668'); seek(1080.0)">
              information in a sentry or something like
            </span>
            
            <span id="chunk-285" class="transcript-chunks" onclick="console.log('00:18:04,188'); seek(1084.0)">
              that. We start with instrumentation.
            </span>
            
            <span id="chunk-286" class="transcript-chunks" onclick="console.log('00:18:07,394'); seek(1087.0)">
              We added this timer layer. The timer layer is
            </span>
            
            <span id="chunk-287" class="transcript-chunks" onclick="console.log('00:18:10,944'); seek(1090.0)">
              just a layer that wraps every single method in the store and
            </span>
            
            <span id="chunk-288" class="transcript-chunks" onclick="console.log('00:18:15,136'); seek(1095.0)">
              adds a timer and calculates how much time
            </span>
            
            <span id="chunk-289" class="transcript-chunks" onclick="console.log('00:18:18,656'); seek(1098.0)">
              it takes to execute the query in the store.
            </span>
            
            <span id="chunk-290" class="transcript-chunks" onclick="console.log('00:18:22,096'); seek(1102.0)">
              Yeah, it wraps everything with
            </span>
            
            <span id="chunk-291" class="transcript-chunks" onclick="console.log('00:18:25,616'); seek(1105.0)">
              can almost identical method. So this
            </span>
            
            <span id="chunk-292" class="transcript-chunks" onclick="console.log('00:18:29,476'); seek(1109.0)">
              is a lot of code and it's a very
            </span>
            
            <span id="chunk-293" class="transcript-chunks" onclick="console.log('00:18:33,416'); seek(1113.0)">
              annoying kind of code that you have to write. And then the
            </span>
            
            <span id="chunk-294" class="transcript-chunks" onclick="console.log('00:18:37,688'); seek(1117.0)">
              maintenance of that is really boring and
            </span>
            
            <span id="chunk-295" class="transcript-chunks" onclick="console.log('00:18:41,750'); seek(1121.0)">
              error prone and complicated. So wow.
            </span>
            
            <span id="chunk-296" class="transcript-chunks" onclick="console.log('00:18:45,256'); seek(1125.0)">
              Generators to the rescue. We are going to write one
            </span>
            
            <span id="chunk-297" class="transcript-chunks" onclick="console.log('00:18:49,068'); seek(1129.0)">
              after another, same time,
            </span>
            
            <span id="chunk-298" class="transcript-chunks" onclick="console.log('00:18:51,996'); seek(1131.0)">
              the same thing, a lot of times without a reason.
            </span>
            
            <span id="chunk-299" class="transcript-chunks" onclick="console.log('00:18:55,628'); seek(1135.0)">
              Well, go provide us generators and we
            </span>
            
            <span id="chunk-300" class="transcript-chunks" onclick="console.log('00:19:00,048'); seek(1140.0)">
              are going to use them for building this timer layer.
            </span>
            
            <span id="chunk-301" class="transcript-chunks" onclick="console.log('00:19:03,462'); seek(1143.0)">
              Timer layer. This is an example of a method wrapped
            </span>
            
            <span id="chunk-302" class="transcript-chunks" onclick="console.log('00:19:07,318'); seek(1147.0)">
              in the timer layer. In this case is the safe method
            </span>
            
            <span id="chunk-303" class="transcript-chunks" onclick="console.log('00:19:10,742'); seek(1150.0)">
              of the Audi store. We start the timer,
            </span>
            
            <span id="chunk-304" class="transcript-chunks" onclick="console.log('00:19:14,134'); seek(1154.0)">
              we execute the underneath the store call,
            </span>
            
            <span id="chunk-305" class="transcript-chunks" onclick="console.log('00:19:18,148'); seek(1158.0)">
              and we calculate the last time, the time that has
            </span>
            
            <span id="chunk-306" class="transcript-chunks" onclick="console.log('00:19:21,588'); seek(1161.0)">
              been spent in that method. And then if the metrics are enabled,
            </span>
            
            <span id="chunk-307" class="transcript-chunks" onclick="console.log('00:19:25,438'); seek(1165.0)">
              I'm going to check if the query will succeed.
            </span>
            
            <span id="chunk-308" class="transcript-chunks" onclick="console.log('00:19:28,894'); seek(1168.0)">
              And if succeed, I going to store, well, whatever it
            </span>
            
            <span id="chunk-309" class="transcript-chunks" onclick="console.log('00:19:32,712'); seek(1172.0)">
              succeed or not, I'm going to store that information. In Prometheus.
            </span>
            
            <span id="chunk-310" class="transcript-chunks" onclick="console.log('00:19:36,434'); seek(1176.0)">
              This is really great because it helps a lot to investigate
            </span>
            
            <span id="chunk-311" class="transcript-chunks" onclick="console.log('00:19:41,506'); seek(1181.0)">
              bottlenecks. For example, we have all the information on
            </span>
            
            <span id="chunk-312" class="transcript-chunks" onclick="console.log('00:19:45,276'); seek(1185.0)">
              how much it takes to execute every
            </span>
            
            <span id="chunk-313" class="transcript-chunks" onclick="console.log('00:19:48,496'); seek(1188.0)">
              method in our store. This is can histogram.
            </span>
            
            <span id="chunk-314" class="transcript-chunks" onclick="console.log('00:19:51,750'); seek(1191.0)">
              So we have the information of the average time.
            </span>
            
            <span id="chunk-315" class="transcript-chunks" onclick="console.log('00:19:55,312'); seek(1195.0)">
              We have information about things like how many times these
            </span>
            
            <span id="chunk-316" class="transcript-chunks" onclick="console.log('00:19:59,344'); seek(1199.0)">
              methods have been called. So we know how much
            </span>
            
            <span id="chunk-317" class="transcript-chunks" onclick="console.log('00:20:03,396'); seek(1203.0)">
              time it takes in a cumulative way.
            </span>
            
            <span id="chunk-318" class="transcript-chunks" onclick="console.log('00:20:07,636'); seek(1207.0)">
              So we can decide, okay, this method is called
            </span>
            
            <span id="chunk-319" class="transcript-chunks" onclick="console.log('00:20:11,540'); seek(1211.0)">
              just a few times, but it's taking a lot
            </span>
            
            <span id="chunk-320" class="transcript-chunks" onclick="console.log('00:20:14,948'); seek(1214.0)">
              of time each time. That is something that we have to handle.
            </span>
            
            <span id="chunk-321" class="transcript-chunks" onclick="console.log('00:20:18,558'); seek(1218.0)">
              But at the same time you can think, oh, this method is really fast,
            </span>
            
            <span id="chunk-322" class="transcript-chunks" onclick="console.log('00:20:22,152'); seek(1222.0)">
              but it's getting called like millions of
            </span>
            
            <span id="chunk-323" class="transcript-chunks" onclick="console.log('00:20:25,452'); seek(1225.0)">
              times. So if you are able to improve the performance there,
            </span>
            
            <span id="chunk-324" class="transcript-chunks" onclick="console.log('00:20:30,092'); seek(1230.0)">
              you are getting a very important performance improvement.
            </span>
            
            <span id="chunk-325" class="transcript-chunks" onclick="console.log('00:20:33,714'); seek(1233.0)">
              So sometimes the time that is taken for
            </span>
            
            <span id="chunk-326" class="transcript-chunks" onclick="console.log('00:20:37,004'); seek(1237.0)">
              certain methods is not that important and it's more
            </span>
            
            <span id="chunk-327" class="transcript-chunks" onclick="console.log('00:20:40,252'); seek(1240.0)">
              important the time that is taken in total, not for
            </span>
            
            <span id="chunk-328" class="transcript-chunks" onclick="console.log('00:20:43,728'); seek(1243.0)">
              each call. So this kind of information is there in
            </span>
            
            <span id="chunk-329" class="transcript-chunks" onclick="console.log('00:20:47,328'); seek(1247.0)">
              a grafana and we can explore that. We can set alerts
            </span>
            
            <span id="chunk-330" class="transcript-chunks" onclick="console.log('00:20:51,078'); seek(1251.0)">
              on that. So we can decide, for example,
            </span>
            
            <span id="chunk-331" class="transcript-chunks" onclick="console.log('00:20:54,030'); seek(1254.0)">
              if a methods gets an increment of 10%
            </span>
            
            <span id="chunk-332" class="transcript-chunks" onclick="console.log('00:20:59,090'); seek(1259.0)">
              of time to get executed in
            </span>
            
            <span id="chunk-333" class="transcript-chunks" onclick="console.log('00:21:03,812'); seek(1263.0)">
              certain time, we can execute
            </span>
            
            <span id="chunk-334" class="transcript-chunks" onclick="console.log('00:21:08,042'); seek(1268.0)">
              an alarm and send an email and say, okay, this method
            </span>
            
            <span id="chunk-335" class="transcript-chunks" onclick="console.log('00:21:12,130'); seek(1272.0)">
              gets degradated in that date will be is
            </span>
            
            <span id="chunk-336" class="transcript-chunks" onclick="console.log('00:21:15,484'); seek(1275.0)">
              because you upgraded to a new version and maybe
            </span>
            
            <span id="chunk-337" class="transcript-chunks" onclick="console.log('00:21:18,796'); seek(1278.0)">
              that degradation is acceptable or is explained
            </span>
            
            <span id="chunk-338" class="transcript-chunks" onclick="console.log('00:21:22,578'); seek(1282.0)">
              by some changes in the code that are necessary,
            </span>
            
            <span id="chunk-339" class="transcript-chunks" onclick="console.log('00:21:26,450'); seek(1286.0)">
              but you don't degradate that without noticing.
            </span>
            
            <span id="chunk-340" class="transcript-chunks" onclick="console.log('00:21:30,098'); seek(1290.0)">
              That other thing that we did is adding open tracing. Open tracing is
            </span>
            
            <span id="chunk-341" class="transcript-chunks" onclick="console.log('00:21:34,208'); seek(1294.0)">
              great and give you a lot of information about what is
            </span>
            
            <span id="chunk-342" class="transcript-chunks" onclick="console.log('00:21:37,568'); seek(1297.0)">
              going on in your system. But adding open tracing means that
            </span>
            
            <span id="chunk-343" class="transcript-chunks" onclick="console.log('00:21:40,992'); seek(1300.0)">
              you have to add a lot of small details here and there in
            </span>
            
            <span id="chunk-344" class="transcript-chunks" onclick="console.log('00:21:44,468'); seek(1304.0)">
              your code. And was something that we didn't want to do because
            </span>
            
            <span id="chunk-345" class="transcript-chunks" onclick="console.log('00:21:48,516'); seek(1308.0)">
              we don't want to contaminate all our methods
            </span>
            
            <span id="chunk-346" class="transcript-chunks" onclick="console.log('00:21:52,058'); seek(1312.0)">
              with this set of information in open tracing.
            </span>
            
            <span id="chunk-347" class="transcript-chunks" onclick="console.log('00:21:55,502'); seek(1315.0)">
              So what we did, we create a layer that is
            </span>
            
            <span id="chunk-348" class="transcript-chunks" onclick="console.log('00:21:59,256'); seek(1319.0)">
              almost the same of the timer layer. But for
            </span>
            
            <span id="chunk-349" class="transcript-chunks" onclick="console.log('00:22:02,472'); seek(1322.0)">
              open tracing we created this layer and we
            </span>
            
            <span id="chunk-350" class="transcript-chunks" onclick="console.log('00:22:06,296'); seek(1326.0)">
              also replicated that for other places. We use open tracing
            </span>
            
            <span id="chunk-351" class="transcript-chunks" onclick="console.log('00:22:10,002'); seek(1330.0)">
              in the API using the middleware of the API that was
            </span>
            
            <span id="chunk-352" class="transcript-chunks" onclick="console.log('00:22:13,468'); seek(1333.0)">
              already covered. And then we had to add
            </span>
            
            <span id="chunk-353" class="transcript-chunks" onclick="console.log('00:22:16,892'); seek(1336.0)">
              open tracing to the app layer. The app layer is
            </span>
            
            <span id="chunk-354" class="transcript-chunks" onclick="console.log('00:22:20,188'); seek(1340.0)">
              a big structure that has a lot of methods and that methods,
            </span>
            
            <span id="chunk-355" class="transcript-chunks" onclick="console.log('00:22:24,582'); seek(1344.0)">
              well that is the way that we organize that
            </span>
            
            <span id="chunk-356" class="transcript-chunks" onclick="console.log('00:22:27,792'); seek(1347.0)">
              methods. So what we did is just build automatically generate
            </span>
            
            <span id="chunk-357" class="transcript-chunks" onclick="console.log('00:22:32,474'); seek(1352.0)">
              interface that match that structure
            </span>
            
            <span id="chunk-358" class="transcript-chunks" onclick="console.log('00:22:35,770'); seek(1355.0)">
              with that interface. We created the layer
            </span>
            
            <span id="chunk-359" class="transcript-chunks" onclick="console.log('00:22:39,578'); seek(1359.0)">
              for the app using again code generation. So now what
            </span>
            
            <span id="chunk-360" class="transcript-chunks" onclick="console.log('00:22:43,108'); seek(1363.0)">
              we have is whenever we change something in the
            </span>
            
            <span id="chunk-361" class="transcript-chunks" onclick="console.log('00:22:46,408'); seek(1366.0)">
              app layer or whenever we change something in the store, we only have
            </span>
            
            <span id="chunk-362" class="transcript-chunks" onclick="console.log('00:22:50,408'); seek(1370.0)">
              to execute code generation and it's going to generate all
            </span>
            
            <span id="chunk-363" class="transcript-chunks" onclick="console.log('00:22:53,768'); seek(1373.0)">
              the open tracing code for us. And we don't have any open
            </span>
            
            <span id="chunk-364" class="transcript-chunks" onclick="console.log('00:22:57,372'); seek(1377.0)">
              tracing related code in the app layer and we don't have any open
            </span>
            
            <span id="chunk-365" class="transcript-chunks" onclick="console.log('00:23:01,132'); seek(1381.0)">
              tracing related code in the rest of the store. We only
            </span>
            
            <span id="chunk-366" class="transcript-chunks" onclick="console.log('00:23:04,556'); seek(1384.0)">
              have that information in the specific set
            </span>
            
            <span id="chunk-367" class="transcript-chunks" onclick="console.log('00:23:08,380'); seek(1388.0)">
              of auto generated code that we have there. Well this is
            </span>
            
            <span id="chunk-368" class="transcript-chunks" onclick="console.log('00:23:12,368'); seek(1392.0)">
              how it looks like in the code, the open
            </span>
            
            <span id="chunk-369" class="transcript-chunks" onclick="console.log('00:23:15,696'); seek(1395.0)">
              tracing layer method, we just set the open tracing
            </span>
            
            <span id="chunk-370" class="transcript-chunks" onclick="console.log('00:23:19,430'); seek(1399.0)">
              information. We execute the underneath
            </span>
            
            <span id="chunk-371" class="transcript-chunks" onclick="console.log('00:23:23,274'); seek(1403.0)">
              method in the store and we add more information
            </span>
            
            <span id="chunk-372" class="transcript-chunks" onclick="console.log('00:23:27,890'); seek(1407.0)">
              to the open tracing and that's it. Okay,
            </span>
            
            <span id="chunk-373" class="transcript-chunks" onclick="console.log('00:23:30,804'); seek(1410.0)">
              the retries, the retry layer in the database.
            </span>
            
            <span id="chunk-374" class="transcript-chunks" onclick="console.log('00:23:34,870'); seek(1414.0)">
              We want to use serial stable isolation level in the database.
            </span>
            
            <span id="chunk-375" class="transcript-chunks" onclick="console.log('00:23:39,246'); seek(1419.0)">
              And that has a problem when you use read
            </span>
            
            <span id="chunk-376" class="transcript-chunks" onclick="console.log('00:23:42,632'); seek(1422.0)">
              committed, basically you try to execute the queries and
            </span>
            
            <span id="chunk-377" class="transcript-chunks" onclick="console.log('00:23:49,928'); seek(1429.0)">
              time is going to work pretty well. And when the load is
            </span>
            
            <span id="chunk-378" class="transcript-chunks" onclick="console.log('00:23:53,484'); seek(1433.0)">
              pretty low, it's almost impossible. It's really hard
            </span>
            
            <span id="chunk-379" class="transcript-chunks" onclick="console.log('00:23:57,452'); seek(1437.0)">
              to refuse that a transaction failing there.
            </span>
            
            <span id="chunk-380" class="transcript-chunks" onclick="console.log('00:24:01,072'); seek(1441.0)">
              But when you are using serial disable isolation level,
            </span>
            
            <span id="chunk-381" class="transcript-chunks" onclick="console.log('00:24:04,256'); seek(1444.0)">
              the problem is the isolation is so high that
            </span>
            
            <span id="chunk-382" class="transcript-chunks" onclick="console.log('00:24:07,808'); seek(1447.0)">
              whenever you try to run two transactions and
            </span>
            
            <span id="chunk-383" class="transcript-chunks" onclick="console.log('00:24:11,796'); seek(1451.0)">
              one of them modifies certain data and the other one
            </span>
            
            <span id="chunk-384" class="transcript-chunks" onclick="console.log('00:24:15,604'); seek(1455.0)">
              is querying, some part of that modified data is going
            </span>
            
            <span id="chunk-385" class="transcript-chunks" onclick="console.log('00:24:19,732'); seek(1459.0)">
              to fail. But it's not going to fail in
            </span>
            
            <span id="chunk-386" class="transcript-chunks" onclick="console.log('00:24:23,288'); seek(1463.0)">
              a way that this query is broken or something like that.
            </span>
            
            <span id="chunk-387" class="transcript-chunks" onclick="console.log('00:24:26,744'); seek(1466.0)">
              It's just saying okay. I'm not able to
            </span>
            
            <span id="chunk-388" class="transcript-chunks" onclick="console.log('00:24:30,200'); seek(1470.0)">
              execute this transaction because something was modified
            </span>
            
            <span id="chunk-389" class="transcript-chunks" onclick="console.log('00:24:33,870'); seek(1473.0)">
              before. So you need to execute the transaction
            </span>
            
            <span id="chunk-390" class="transcript-chunks" onclick="console.log('00:24:37,122'); seek(1477.0)">
              again. And that is what a repeatable error means
            </span>
            
            <span id="chunk-391" class="transcript-chunks" onclick="console.log('00:24:40,924'); seek(1480.0)">
              in the database. So whenever a database return, a repeatable error
            </span>
            
            <span id="chunk-392" class="transcript-chunks" onclick="console.log('00:24:45,058'); seek(1485.0)">
              means retry. It probably
            </span>
            
            <span id="chunk-393" class="transcript-chunks" onclick="console.log('00:24:48,800'); seek(1488.0)">
              is going to work, you only need to retry it. But because the transaction
            </span>
            
            <span id="chunk-394" class="transcript-chunks" onclick="console.log('00:24:53,110'); seek(1493.0)">
              is something that I can re execute
            </span>
            
            <span id="chunk-395" class="transcript-chunks" onclick="console.log('00:24:56,710'); seek(1496.0)">
              automatically from the database, because you are able
            </span>
            
            <span id="chunk-396" class="transcript-chunks" onclick="console.log('00:25:00,192'); seek(1500.0)">
              to do things between the transactions and you are able to do
            </span>
            
            <span id="chunk-397" class="transcript-chunks" onclick="console.log('00:25:04,244'); seek(1504.0)">
              calculations between the transaction, it's not easy for the database
            </span>
            
            <span id="chunk-398" class="transcript-chunks" onclick="console.log('00:25:08,122'); seek(1508.0)">
              to infer that the transaction is repeatable
            </span>
            
            <span id="chunk-399" class="transcript-chunks" onclick="console.log('00:25:12,010'); seek(1512.0)">
              by itself. So you need to repeat the transaction
            </span>
            
            <span id="chunk-400" class="transcript-chunks" onclick="console.log('00:25:15,582'); seek(1515.0)">
              from the outside. Well, because we need to repeat
            </span>
            
            <span id="chunk-401" class="transcript-chunks" onclick="console.log('00:25:19,678'); seek(1519.0)">
              the transactions when we receive a repeatable error. That was pretty
            </span>
            
            <span id="chunk-402" class="transcript-chunks" onclick="console.log('00:25:23,832'); seek(1523.0)">
              easy to do with a layer. We just generate automatically
            </span>
            
            <span id="chunk-403" class="transcript-chunks" onclick="console.log('00:25:28,018'); seek(1528.0)">
              a layer that catch any error that is a repeatable error
            </span>
            
            <span id="chunk-404" class="transcript-chunks" onclick="console.log('00:25:32,082'); seek(1532.0)">
              and try again. Well, this also
            </span>
            
            <span id="chunk-405" class="transcript-chunks" onclick="console.log('00:25:35,324'); seek(1535.0)">
              helps us with this. Whenever a deadlock
            </span>
            
            <span id="chunk-406" class="transcript-chunks" onclick="console.log('00:25:39,042'); seek(1539.0)">
              happened in the database, one of the transaction is going to succeed
            </span>
            
            <span id="chunk-407" class="transcript-chunks" onclick="console.log('00:25:42,482'); seek(1542.0)">
              and the other is going to get killed
            </span>
            
            <span id="chunk-408" class="transcript-chunks" onclick="console.log('00:25:46,134'); seek(1546.0)">
              with a repeatable error. So that is something
            </span>
            
            <span id="chunk-409" class="transcript-chunks" onclick="console.log('00:25:49,696'); seek(1549.0)">
              that happened really in a really rare way,
            </span>
            
            <span id="chunk-410" class="transcript-chunks" onclick="console.log('00:25:53,040'); seek(1553.0)">
              but is something that can happen in very loaded environments.
            </span>
            
            <span id="chunk-411" class="transcript-chunks" onclick="console.log('00:25:57,450'); seek(1557.0)">
              And what was happening before is just,
            </span>
            
            <span id="chunk-412" class="transcript-chunks" onclick="console.log('00:26:00,692'); seek(1560.0)">
              well, it returns can error to the app layer and it returns
            </span>
            
            <span id="chunk-413" class="transcript-chunks" onclick="console.log('00:26:04,890'); seek(1564.0)">
              an error to the API and probably the API is going to retry again.
            </span>
            
            <span id="chunk-414" class="transcript-chunks" onclick="console.log('00:26:09,672'); seek(1569.0)">
              Now we are going to retry vaguely in the SQL store.
            </span>
            
            <span id="chunk-415" class="transcript-chunks" onclick="console.log('00:26:13,670'); seek(1573.0)">
              This is how we did that. We have a get,
            </span>
            
            <span id="chunk-416" class="transcript-chunks" onclick="console.log('00:26:17,740'); seek(1577.0)">
              for example, in this case we have the get method. We just
            </span>
            
            <span id="chunk-417" class="transcript-chunks" onclick="console.log('00:26:21,468'); seek(1581.0)">
              enter in a loop, try to execute the query.
            </span>
            
            <span id="chunk-418" class="transcript-chunks" onclick="console.log('00:26:24,834'); seek(1584.0)">
              If that works, great. If it doesn't work,
            </span>
            
            <span id="chunk-419" class="transcript-chunks" onclick="console.log('00:26:28,348'); seek(1588.0)">
              if this is not a repeatable error, I'm going to return the
            </span>
            
            <span id="chunk-420" class="transcript-chunks" onclick="console.log('00:26:31,808'); seek(1591.0)">
              error. But if it is a repeatable error, I'm going to try
            </span>
            
            <span id="chunk-421" class="transcript-chunks" onclick="console.log('00:26:35,760'); seek(1595.0)">
              again. I'm going to repeat and repeat and repeat until it
            </span>
            
            <span id="chunk-422" class="transcript-chunks" onclick="console.log('00:26:39,696'); seek(1599.0)">
              succeed or it fails three times.
            </span>
            
            <span id="chunk-423" class="transcript-chunks" onclick="console.log('00:26:43,168'); seek(1603.0)">
              After three times we give up and return an error.
            </span>
            
            <span id="chunk-424" class="transcript-chunks" onclick="console.log('00:26:46,986'); seek(1606.0)">
              Then what is really interesting here is
            </span>
            
            <span id="chunk-425" class="transcript-chunks" onclick="console.log('00:26:50,468'); seek(1610.0)">
              we have the timer layer, we have the open tracing layer,
            </span>
            
            <span id="chunk-426" class="transcript-chunks" onclick="console.log('00:26:53,982'); seek(1613.0)">
              we have the retry layer, and all that layers are
            </span>
            
            <span id="chunk-427" class="transcript-chunks" onclick="console.log('00:26:58,072'); seek(1618.0)">
              auto generated. Everything that we change in
            </span>
            
            <span id="chunk-428" class="transcript-chunks" onclick="console.log('00:27:01,448'); seek(1621.0)">
              the store is going to be automatically up to date with just
            </span>
            
            <span id="chunk-429" class="transcript-chunks" onclick="console.log('00:27:05,320'); seek(1625.0)">
              a make generate. That is awesome.
            </span>
            
            <span id="chunk-430" class="transcript-chunks" onclick="console.log('00:27:09,290'); seek(1629.0)">
              So if you have this kind of code, it's really great to
            </span>
            
            <span id="chunk-431" class="transcript-chunks" onclick="console.log('00:27:13,212'); seek(1633.0)">
              have generators. And how we do that, we use ASt
            </span>
            
            <span id="chunk-432" class="transcript-chunks" onclick="console.log('00:27:17,506'); seek(1637.0)">
              to analyze this struct, this interface,
            </span>
            
            <span id="chunk-433" class="transcript-chunks" onclick="console.log('00:27:21,558'); seek(1641.0)">
              this store interface and all the soup interfaces.
            </span>
            
            <span id="chunk-434" class="transcript-chunks" onclick="console.log('00:27:24,326'); seek(1644.0)">
              And we build a data struct where we
            </span>
            
            <span id="chunk-435" class="transcript-chunks" onclick="console.log('00:27:27,872'); seek(1647.0)">
              have all the superstore
            </span>
            
            <span id="chunk-436" class="transcript-chunks" onclick="console.log('00:27:31,478'); seek(1651.0)">
              that are defined, all the method of the superstores,
            </span>
            
            <span id="chunk-437" class="transcript-chunks" onclick="console.log('00:27:34,954'); seek(1654.0)">
              all the parameters of the methods, all the return values of the
            </span>
            
            <span id="chunk-438" class="transcript-chunks" onclick="console.log('00:27:38,164'); seek(1658.0)">
              methods, all that information is in a new struct
            </span>
            
            <span id="chunk-439" class="transcript-chunks" onclick="console.log('00:27:42,506'); seek(1662.0)">
              that we pass that information to a template
            </span>
            
            <span id="chunk-440" class="transcript-chunks" onclick="console.log('00:27:46,430'); seek(1666.0)">
              and that template generates the code. We have
            </span>
            
            <span id="chunk-441" class="transcript-chunks" onclick="console.log('00:27:50,296'); seek(1670.0)">
              different templates, we have the same ast code that
            </span>
            
            <span id="chunk-442" class="transcript-chunks" onclick="console.log('00:27:54,232'); seek(1674.0)">
              analyze the store and then we use that same
            </span>
            
            <span id="chunk-443" class="transcript-chunks" onclick="console.log('00:27:57,676'); seek(1677.0)">
              structure that we just generated to populate
            </span>
            
            <span id="chunk-444" class="transcript-chunks" onclick="console.log('00:28:01,378'); seek(1681.0)">
              three different templates, one for the timer layer,
            </span>
            
            <span id="chunk-445" class="transcript-chunks" onclick="console.log('00:28:04,578'); seek(1684.0)">
              one for the open tracing layer and one for the retry layer.
            </span>
            
            <span id="chunk-446" class="transcript-chunks" onclick="console.log('00:28:08,130'); seek(1688.0)">
              And that templates are going to be generated and it's going to generate a certain
            </span>
            
            <span id="chunk-447" class="transcript-chunks" onclick="console.log('00:28:11,840'); seek(1691.0)">
              amount of code. And on top of that we are going to use go
            </span>
            
            <span id="chunk-448" class="transcript-chunks" onclick="console.log('00:28:15,072'); seek(1695.0)">
              format package to reformat that. Why we use
            </span>
            
            <span id="chunk-449" class="transcript-chunks" onclick="console.log('00:28:18,656'); seek(1698.0)">
              go format package because we don't want to be super
            </span>
            
            <span id="chunk-450" class="transcript-chunks" onclick="console.log('00:28:22,884'); seek(1702.0)">
              correct when we generate the code. Generating the
            </span>
            
            <span id="chunk-451" class="transcript-chunks" onclick="console.log('00:28:26,628'); seek(1706.0)">
              code is already a complicated task and generating
            </span>
            
            <span id="chunk-452" class="transcript-chunks" onclick="console.log('00:28:31,114'); seek(1711.0)">
              code that the Go format likes
            </span>
            
            <span id="chunk-453" class="transcript-chunks" onclick="console.log('00:28:35,054'); seek(1715.0)">
              is even harder. So we just delegate that in go
            </span>
            
            <span id="chunk-454" class="transcript-chunks" onclick="console.log('00:28:38,392'); seek(1718.0)">
              format. We generate the code and reformat it with Go
            </span>
            
            <span id="chunk-455" class="transcript-chunks" onclick="console.log('00:28:41,768'); seek(1721.0)">
              format package. So the developers are
            </span>
            
            <span id="chunk-456" class="transcript-chunks" onclick="console.log('00:28:45,512'); seek(1725.0)">
              happy and the go compiler is happy. So this is an
            </span>
            
            <span id="chunk-457" class="transcript-chunks" onclick="console.log('00:28:48,908'); seek(1728.0)">
              example of the timer layer template. As you can see
            </span>
            
            <span id="chunk-458" class="transcript-chunks" onclick="console.log('00:28:52,252'); seek(1732.0)">
              there we have the superstores. We range over the superstores,
            </span>
            
            <span id="chunk-459" class="transcript-chunks" onclick="console.log('00:28:56,226'); seek(1736.0)">
              we range over the methods of the superstores and
            </span>
            
            <span id="chunk-460" class="transcript-chunks" onclick="console.log('00:29:00,112'); seek(1740.0)">
              we generate the functions there. We generate the
            </span>
            
            <span id="chunk-461" class="transcript-chunks" onclick="console.log('00:29:04,112'); seek(1744.0)">
              star equal time module now and all
            </span>
            
            <span id="chunk-462" class="transcript-chunks" onclick="console.log('00:29:07,568'); seek(1747.0)">
              that stuff. We are generating all the code there.
            </span>
            
            <span id="chunk-463" class="transcript-chunks" onclick="console.log('00:29:11,156'); seek(1751.0)">
              It's not easy to understand, but once you write this has
            </span>
            
            <span id="chunk-464" class="transcript-chunks" onclick="console.log('00:29:15,012'); seek(1755.0)">
              been working really well for a long time without
            </span>
            
            <span id="chunk-465" class="transcript-chunks" onclick="console.log('00:29:19,044'); seek(1759.0)">
              almost any maintenance. Okay. But not everything
            </span>
            
            <span id="chunk-466" class="transcript-chunks" onclick="console.log('00:29:22,580'); seek(1762.0)">
              can be generated or can be automatically generated. So we
            </span>
            
            <span id="chunk-467" class="transcript-chunks" onclick="console.log('00:29:27,096'); seek(1767.0)">
              have to build something else. And I already talked about this storage
            </span>
            
            <span id="chunk-468" class="transcript-chunks" onclick="console.log('00:29:31,326'); seek(1771.0)">
              query delegation pattern and in this case we
            </span>
            
            <span id="chunk-469" class="transcript-chunks" onclick="console.log('00:29:35,032'); seek(1775.0)">
              use this pattern to build the
            </span>
            
            <span id="chunk-470" class="transcript-chunks" onclick="console.log('00:29:38,572'); seek(1778.0)">
              search layer. For the searches in maramos we use full
            </span>
            
            <span id="chunk-471" class="transcript-chunks" onclick="console.log('00:29:42,236'); seek(1782.0)">
              text search in the database. But we also support
            </span>
            
            <span id="chunk-472" class="transcript-chunks" onclick="console.log('00:29:45,868'); seek(1785.0)">
              other searching mechanism like elasticsearch or bleep.
            </span>
            
            <span id="chunk-473" class="transcript-chunks" onclick="console.log('00:29:49,906'); seek(1789.0)">
              If you want to use elasticsearch or bleep, what we do is
            </span>
            
            <span id="chunk-474" class="transcript-chunks" onclick="console.log('00:29:53,536'); seek(1793.0)">
              just add a search layer on top of
            </span>
            
            <span id="chunk-475" class="transcript-chunks" onclick="console.log('00:29:57,072'); seek(1797.0)">
              our SQL database layer and every search in
            </span>
            
            <span id="chunk-476" class="transcript-chunks" onclick="console.log('00:30:01,764'); seek(1801.0)">
              the store is going to be delegated to elasticsearch or bleed.
            </span>
            
            <span id="chunk-477" class="transcript-chunks" onclick="console.log('00:30:05,882'); seek(1805.0)">
              Every search in the store or every action
            </span>
            
            <span id="chunk-478" class="transcript-chunks" onclick="console.log('00:30:09,882'); seek(1809.0)">
              to the store that needs to update the indexes is going
            </span>
            
            <span id="chunk-479" class="transcript-chunks" onclick="console.log('00:30:13,352'); seek(1813.0)">
              to execute an update of the index
            </span>
            
            <span id="chunk-480" class="transcript-chunks" onclick="console.log('00:30:16,782'); seek(1816.0)">
              in elasticsearch or bleed.
            </span>
            
            <span id="chunk-481" class="transcript-chunks" onclick="console.log('00:30:19,270'); seek(1819.0)">
              And anytime that you try to search something it's
            </span>
            
            <span id="chunk-482" class="transcript-chunks" onclick="console.log('00:30:23,278'); seek(1823.0)">
              going to hit the elasticsearch or bleed but
            </span>
            
            <span id="chunk-483" class="transcript-chunks" onclick="console.log('00:30:27,148'); seek(1827.0)">
              it's not going to hit the database. So you are
            </span>
            
            <span id="chunk-484" class="transcript-chunks" onclick="console.log('00:30:30,252'); seek(1830.0)">
              going to have probably better performance from a specific
            </span>
            
            <span id="chunk-485" class="transcript-chunks" onclick="console.log('00:30:34,108'); seek(1834.0)">
              for search back end to search stuff.
            </span>
            
            <span id="chunk-486" class="transcript-chunks" onclick="console.log('00:30:38,140'); seek(1838.0)">
              And actually we have more features and a better
            </span>
            
            <span id="chunk-487" class="transcript-chunks" onclick="console.log('00:30:41,664'); seek(1841.0)">
              search using this in giants than the database one.
            </span>
            
            <span id="chunk-488" class="transcript-chunks" onclick="console.log('00:30:45,344'); seek(1845.0)">
              And you are going to free some database
            </span>
            
            <span id="chunk-489" class="transcript-chunks" onclick="console.log('00:30:48,662'); seek(1848.0)">
              titles for other stuff. So that is another
            </span>
            
            <span id="chunk-490" class="transcript-chunks" onclick="console.log('00:30:51,984'); seek(1851.0)">
              interesting thing. Well, we want to make this transparent from
            </span>
            
            <span id="chunk-491" class="transcript-chunks" onclick="console.log('00:30:55,652'); seek(1855.0)">
              any store user like the app layer. If the app layer is trying
            </span>
            
            <span id="chunk-492" class="transcript-chunks" onclick="console.log('00:30:59,412'); seek(1859.0)">
              to use the store, they don't need to know if they are using
            </span>
            
            <span id="chunk-493" class="transcript-chunks" onclick="console.log('00:31:03,220'); seek(1863.0)">
              elasticsearch or bleep or something like that. They only need to know that
            </span>
            
            <span id="chunk-494" class="transcript-chunks" onclick="console.log('00:31:06,968'); seek(1866.0)">
              they are searching for users. And if the elasticsearch
            </span>
            
            <span id="chunk-495" class="transcript-chunks" onclick="console.log('00:31:10,910'); seek(1870.0)">
              is enabled, it's going to get handled by elasticsearch.
            </span>
            
            <span id="chunk-496" class="transcript-chunks" onclick="console.log('00:31:14,558'); seek(1874.0)">
              But the app layer doesn't know to need anything. Well this
            </span>
            
            <span id="chunk-497" class="transcript-chunks" onclick="console.log('00:31:18,492'); seek(1878.0)">
              time we created the layer writing the code
            </span>
            
            <span id="chunk-498" class="transcript-chunks" onclick="console.log('00:31:22,012'); seek(1882.0)">
              and here is an example. For example, in this case we are talking about the
            </span>
            
            <span id="chunk-499" class="transcript-chunks" onclick="console.log('00:31:25,900'); seek(1885.0)">
              post store.
            </span>
            
            <span id="chunk-500" class="transcript-chunks" onclick="console.log('00:31:28,830'); seek(1888.0)">
              We are overriding the method save of the post store
            </span>
            
            <span id="chunk-501" class="transcript-chunks" onclick="console.log('00:31:32,320'); seek(1892.0)">
              and we are just saving the post using the SQL
            </span>
            
            <span id="chunk-502" class="transcript-chunks" onclick="console.log('00:31:36,566'); seek(1896.0)">
              store underneath. And if there is an error
            </span>
            
            <span id="chunk-503" class="transcript-chunks" onclick="console.log('00:31:40,118'); seek(1900.0)">
              I do nothing. But if there's no error,
            </span>
            
            <span id="chunk-504" class="transcript-chunks" onclick="console.log('00:31:43,674'); seek(1903.0)">
              I'm going to index that post, I'm going to update the index of
            </span>
            
            <span id="chunk-505" class="transcript-chunks" onclick="console.log('00:31:47,508'); seek(1907.0)">
              that post in the elasticsearch or bleed. If I
            </span>
            
            <span id="chunk-506" class="transcript-chunks" onclick="console.log('00:31:50,596'); seek(1910.0)">
              search for a set of posts,
            </span>
            
            <span id="chunk-507" class="transcript-chunks" onclick="console.log('00:31:53,818'); seek(1913.0)">
              I'm going to check in giants, I'm going to check what engines
            </span>
            
            <span id="chunk-508" class="transcript-chunks" onclick="console.log('00:31:57,434'); seek(1917.0)">
              are enabled and I'm going to try to search in that in giants.
            </span>
            
            <span id="chunk-509" class="transcript-chunks" onclick="console.log('00:32:01,438'); seek(1921.0)">
              If one of the injuries fail, I'm going to try in the next
            </span>
            
            <span id="chunk-510" class="transcript-chunks" onclick="console.log('00:32:05,416'); seek(1925.0)">
              one until I find any injury that works.
            </span>
            
            <span id="chunk-511" class="transcript-chunks" onclick="console.log('00:32:09,690'); seek(1929.0)">
              If none of our elastics are or bleeding
            </span>
            
            <span id="chunk-512" class="transcript-chunks" onclick="console.log('00:32:12,834'); seek(1932.0)">
              giant specializes in giants works,
            </span>
            
            <span id="chunk-513" class="transcript-chunks" onclick="console.log('00:32:16,668'); seek(1936.0)">
              we are going to fall back to the database search. We can disable
            </span>
            
            <span id="chunk-514" class="transcript-chunks" onclick="console.log('00:32:20,706'); seek(1940.0)">
              this fallback and if we disable that fallback, it's going to return
            </span>
            
            <span id="chunk-515" class="transcript-chunks" onclick="console.log('00:32:24,256'); seek(1944.0)">
              an empty list. But if we don't disable that fallback, we are going
            </span>
            
            <span id="chunk-516" class="transcript-chunks" onclick="console.log('00:32:27,664'); seek(1947.0)">
              to just call the underneath SQL store to return the results.
            </span>
            
            <span id="chunk-517" class="transcript-chunks" onclick="console.log('00:32:32,042'); seek(1952.0)">
              This works well. If you have for example downtime
            </span>
            
            <span id="chunk-518" class="transcript-chunks" onclick="console.log('00:32:36,138'); seek(1956.0)">
              in elasticsearch, you can just use the
            </span>
            
            <span id="chunk-519" class="transcript-chunks" onclick="console.log('00:32:41,124'); seek(1961.0)">
              database search as a fallback. And this is the
            </span>
            
            <span id="chunk-520" class="transcript-chunks" onclick="console.log('00:32:44,388'); seek(1964.0)">
              final onion. This is how it looks like in our
            </span>
            
            <span id="chunk-521" class="transcript-chunks" onclick="console.log('00:32:47,576'); seek(1967.0)">
              system. We have the app that is calling the store and it's passing
            </span>
            
            <span id="chunk-522" class="transcript-chunks" onclick="console.log('00:32:51,518'); seek(1971.0)">
              through all the layers down to the SQL store and
            </span>
            
            <span id="chunk-523" class="transcript-chunks" onclick="console.log('00:32:55,000'); seek(1975.0)">
              going back through the layers again to the app. The SQL
            </span>
            
            <span id="chunk-524" class="transcript-chunks" onclick="console.log('00:32:58,622'); seek(1978.0)">
              store is at the bottom, it's taking care of all the SQL queries
            </span>
            
            <span id="chunk-525" class="transcript-chunks" onclick="console.log('00:33:02,146'); seek(1982.0)">
              and all that stuff. The retry layer is going to take care of the
            </span>
            
            <span id="chunk-526" class="transcript-chunks" onclick="console.log('00:33:05,612'); seek(1985.0)">
              repeatable errors. The cache layer is going to cache things
            </span>
            
            <span id="chunk-527" class="transcript-chunks" onclick="console.log('00:33:09,468'); seek(1989.0)">
              and it's going to invalidate the caches and it's going to take care
            </span>
            
            <span id="chunk-528" class="transcript-chunks" onclick="console.log('00:33:12,816'); seek(1992.0)">
              of, maintain and use the cache. The search
            </span>
            
            <span id="chunk-529" class="transcript-chunks" onclick="console.log('00:33:16,816'); seek(1996.0)">
              layer is going to take care of, maintain and use the
            </span>
            
            <span id="chunk-530" class="transcript-chunks" onclick="console.log('00:33:20,868'); seek(2000.0)">
              search indexes in elasticsearch or bleep. The timer
            </span>
            
            <span id="chunk-531" class="transcript-chunks" onclick="console.log('00:33:24,378'); seek(2004.0)">
              layer is going to take care of all
            </span>
            
            <span id="chunk-532" class="transcript-chunks" onclick="console.log('00:33:28,532'); seek(2008.0)">
              this timing around all this collecting information about
            </span>
            
            <span id="chunk-533" class="transcript-chunks" onclick="console.log('00:33:32,708'); seek(2012.0)">
              the times and sending that to Prometheus
            </span>
            
            <span id="chunk-534" class="transcript-chunks" onclick="console.log('00:33:36,622'); seek(2016.0)">
              and it is not here, but optionally you can have
            </span>
            
            <span id="chunk-535" class="transcript-chunks" onclick="console.log('00:33:40,408'); seek(2020.0)">
              the open tracing layer. The open tracing layer is optional
            </span>
            
            <span id="chunk-536" class="transcript-chunks" onclick="console.log('00:33:43,934'); seek(2023.0)">
              because have an important performance impact.
            </span>
            
            <span id="chunk-537" class="transcript-chunks" onclick="console.log('00:33:47,714'); seek(2027.0)">
              So we can enable and disable it and usually
            </span>
            
            <span id="chunk-538" class="transcript-chunks" onclick="console.log('00:33:51,164'); seek(2031.0)">
              it's disabled. But if you enable that, it's going to wrap this
            </span>
            
            <span id="chunk-539" class="transcript-chunks" onclick="console.log('00:33:55,164'); seek(2035.0)">
              store entirely and it's going to provide that
            </span>
            
            <span id="chunk-540" class="transcript-chunks" onclick="console.log('00:33:58,688'); seek(2038.0)">
              information to the open tracing service. This is
            </span>
            
            <span id="chunk-541" class="transcript-chunks" onclick="console.log('00:34:02,192'); seek(2042.0)">
              how we build the onion. We instantiate the SQL
            </span>
            
            <span id="chunk-542" class="transcript-chunks" onclick="console.log('00:34:05,702'); seek(2045.0)">
              store, we wrap that into the retry layer, we wrap
            </span>
            
            <span id="chunk-543" class="transcript-chunks" onclick="console.log('00:34:09,542'); seek(2049.0)">
              that into the local cache layer, we wrap that into
            </span>
            
            <span id="chunk-544" class="transcript-chunks" onclick="console.log('00:34:13,188'); seek(2053.0)">
              the search layer and we wrap that into the timer layer.
            </span>
            
            <span id="chunk-545" class="transcript-chunks" onclick="console.log('00:34:16,362'); seek(2056.0)">
              And finally we return that final store. Because everything
            </span>
            
            <span id="chunk-546" class="transcript-chunks" onclick="console.log('00:34:20,532'); seek(2060.0)">
              there implements the store interface, we can just say
            </span>
            
            <span id="chunk-547" class="transcript-chunks" onclick="console.log('00:34:24,312'); seek(2064.0)">
              that they are all stores. The SQL store is
            </span>
            
            <span id="chunk-548" class="transcript-chunks" onclick="console.log('00:34:28,584'); seek(2068.0)">
              a store, the retry layer wrapping a SQL store is a store
            </span>
            
            <span id="chunk-549" class="transcript-chunks" onclick="console.log('00:34:32,664'); seek(2072.0)">
              and the SQL store wrapped by a retry layer
            </span>
            
            <span id="chunk-550" class="transcript-chunks" onclick="console.log('00:34:36,590'); seek(2076.0)">
              and wrapped by a local cache layer is a store.
            </span>
            
            <span id="chunk-551" class="transcript-chunks" onclick="console.log('00:34:39,436'); seek(2079.0)">
              We can reorganize all this and change
            </span>
            
            <span id="chunk-552" class="transcript-chunks" onclick="console.log('00:34:43,116'); seek(2083.0)">
              where the layers are. For example, I can move the timer layer
            </span>
            
            <span id="chunk-553" class="transcript-chunks" onclick="console.log('00:34:47,426'); seek(2087.0)">
              right after the SQL store.
            </span>
            
            <span id="chunk-554" class="transcript-chunks" onclick="console.log('00:34:51,152'); seek(2091.0)">
              And that way we are going to measure only the
            </span>
            
            <span id="chunk-555" class="transcript-chunks" onclick="console.log('00:34:54,992'); seek(2094.0)">
              time that the SQL store is taking. If you consider
            </span>
            
            <span id="chunk-556" class="transcript-chunks" onclick="console.log('00:34:58,528'); seek(2098.0)">
              that the local cache layer, the cache layer that we are using
            </span>
            
            <span id="chunk-557" class="transcript-chunks" onclick="console.log('00:35:02,580'); seek(2102.0)">
              is contaminating the data because you are interested
            </span>
            
            <span id="chunk-558" class="transcript-chunks" onclick="console.log('00:35:06,228'); seek(2106.0)">
              on how much time the database is taking and you
            </span>
            
            <span id="chunk-559" class="transcript-chunks" onclick="console.log('00:35:10,388'); seek(2110.0)">
              don't care about how much time is the store taking in
            </span>
            
            <span id="chunk-560" class="transcript-chunks" onclick="console.log('00:35:13,768'); seek(2113.0)">
              general, only about the database. You can move the timer
            </span>
            
            <span id="chunk-561" class="transcript-chunks" onclick="console.log('00:35:17,022'); seek(2117.0)">
              layer up there. Even you can create
            </span>
            
            <span id="chunk-562" class="transcript-chunks" onclick="console.log('00:35:20,696'); seek(2120.0)">
              another timer layer and have different information,
            </span>
            
            <span id="chunk-563" class="transcript-chunks" onclick="console.log('00:35:24,376'); seek(2124.0)">
              the SQL store information and the store information.
            </span>
            
            <span id="chunk-564" class="transcript-chunks" onclick="console.log('00:35:28,140'); seek(2128.0)">
              You can play with this concept of everything as a store.
            </span>
            
            <span id="chunk-565" class="transcript-chunks" onclick="console.log('00:35:31,596'); seek(2131.0)">
              To move the layers and make decisions about
            </span>
            
            <span id="chunk-566" class="transcript-chunks" onclick="console.log('00:35:35,372'); seek(2135.0)">
              how we set up the layers and
            </span>
            
            <span id="chunk-567" class="transcript-chunks" onclick="console.log('00:35:38,432'); seek(2138.0)">
              disable any of these layers is just not adding the
            </span>
            
            <span id="chunk-568" class="transcript-chunks" onclick="console.log('00:35:42,048'); seek(2142.0)">
              wrapping. So if you want to enable or if you want
            </span>
            
            <span id="chunk-569" class="transcript-chunks" onclick="console.log('00:35:45,248'); seek(2145.0)">
              to disable the search layer, you can just decide
            </span>
            
            <span id="chunk-570" class="transcript-chunks" onclick="console.log('00:35:48,950'); seek(2148.0)">
              by a config setting if you want to have a search layer or not.
            </span>
            
            <span id="chunk-571" class="transcript-chunks" onclick="console.log('00:35:52,820'); seek(2152.0)">
              And you just don't wrap the store with this layer
            </span>
            
            <span id="chunk-572" class="transcript-chunks" onclick="console.log('00:35:56,778'); seek(2156.0)">
              and that's it. Well, there's some drawbacks. As I
            </span>
            
            <span id="chunk-573" class="transcript-chunks" onclick="console.log('00:36:00,468'); seek(2160.0)">
              said already, all the layer has to share the same interface.
            </span>
            
            <span id="chunk-574" class="transcript-chunks" onclick="console.log('00:36:04,046'); seek(2164.0)">
              That is a problem because you don't have enough flexibility
            </span>
            
            <span id="chunk-575" class="transcript-chunks" onclick="console.log('00:36:08,030'); seek(2168.0)">
              to add certain things like the hints for the cache without
            </span>
            
            <span id="chunk-576" class="transcript-chunks" onclick="console.log('00:36:11,624'); seek(2171.0)">
              modifying the whole store. So you
            </span>
            
            <span id="chunk-577" class="transcript-chunks" onclick="console.log('00:36:15,048'); seek(2175.0)">
              have to modify the whole store interface if you want to add these
            </span>
            
            <span id="chunk-578" class="transcript-chunks" onclick="console.log('00:36:18,508'); seek(2178.0)">
              hints for the cache, but if you want to add other kind
            </span>
            
            <span id="chunk-579" class="transcript-chunks" onclick="console.log('00:36:21,932'); seek(2181.0)">
              of hints for the search, or if you want to add other kind of
            </span>
            
            <span id="chunk-580" class="transcript-chunks" onclick="console.log('00:36:25,996'); seek(2185.0)">
              extra information for open tracing or for timing, you have
            </span>
            
            <span id="chunk-581" class="transcript-chunks" onclick="console.log('00:36:30,128'); seek(2190.0)">
              to add more and more and more information to
            </span>
            
            <span id="chunk-582" class="transcript-chunks" onclick="console.log('00:36:33,488'); seek(2193.0)">
              the store interface. And that is something that doesn't scale well.
            </span>
            
            <span id="chunk-583" class="transcript-chunks" onclick="console.log('00:36:37,392'); seek(2197.0)">
              So I think this is the price to pay you have
            </span>
            
            <span id="chunk-584" class="transcript-chunks" onclick="console.log('00:36:40,624'); seek(2200.0)">
              to accept that you have to use the same interface
            </span>
            
            <span id="chunk-585" class="transcript-chunks" onclick="console.log('00:36:43,994'); seek(2203.0)">
              if you want to build this layer based approach.
            </span>
            
            <span id="chunk-586" class="transcript-chunks" onclick="console.log('00:36:47,274'); seek(2207.0)">
              Probably there are some tricks that you can try,
            </span>
            
            <span id="chunk-587" class="transcript-chunks" onclick="console.log('00:36:50,708'); seek(2210.0)">
              but it's not something that
            </span>
            
            <span id="chunk-588" class="transcript-chunks" onclick="console.log('00:36:54,312'); seek(2214.0)">
              by design is going to fit well then the
            </span>
            
            <span id="chunk-589" class="transcript-chunks" onclick="console.log('00:36:58,168'); seek(2218.0)">
              other problem is embedding is not inheritance.
            </span>
            
            <span id="chunk-590" class="transcript-chunks" onclick="console.log('00:37:01,758'); seek(2221.0)">
              So it is not a problem per se,
            </span>
            
            <span id="chunk-591" class="transcript-chunks" onclick="console.log('00:37:04,936'); seek(2224.0)">
              but it's something that can generate problems
            </span>
            
            <span id="chunk-592" class="transcript-chunks" onclick="console.log('00:37:09,020'); seek(2229.0)">
              if the people doesn't understand well that the team of the people that
            </span>
            
            <span id="chunk-593" class="transcript-chunks" onclick="console.log('00:37:12,668'); seek(2232.0)">
              is touching the store in this case needs to understand that
            </span>
            
            <span id="chunk-594" class="transcript-chunks" onclick="console.log('00:37:16,732'); seek(2236.0)">
              the embedding is not inheritance. Embedding is struct
            </span>
            
            <span id="chunk-595" class="transcript-chunks" onclick="console.log('00:37:20,630'); seek(2240.0)">
              embedding. So you need to understand that well and how
            </span>
            
            <span id="chunk-596" class="transcript-chunks" onclick="console.log('00:37:24,496'); seek(2244.0)">
              embedding works to not end up
            </span>
            
            <span id="chunk-597" class="transcript-chunks" onclick="console.log('00:37:28,048'); seek(2248.0)">
              having weird bugs that are really hard to debug. Well, some reference
            </span>
            
            <span id="chunk-598" class="transcript-chunks" onclick="console.log('00:37:32,954'); seek(2252.0)">
              if you want to see how we implemented the store and the store layers and
            </span>
            
            <span id="chunk-599" class="transcript-chunks" onclick="console.log('00:37:36,468'); seek(2256.0)">
              the generators and all that stuff is publicly available in our
            </span>
            
            <span id="chunk-600" class="transcript-chunks" onclick="console.log('00:37:40,132'); seek(2260.0)">
              mattermost server repo in the store directory.
            </span>
            
            <span id="chunk-601" class="transcript-chunks" onclick="console.log('00:37:45,890'); seek(2265.0)">
              If you want to see our old version of
            </span>
            
            <span id="chunk-602" class="transcript-chunks" onclick="console.log('00:37:49,028'); seek(2269.0)">
              that with the middlewares and all that stuff, you can check the version 50
            </span>
            
            <span id="chunk-603" class="transcript-chunks" onclick="console.log('00:37:52,964'); seek(2272.0)">
              zero that is a bit old already,
            </span>
            
            <span id="chunk-604" class="transcript-chunks" onclick="console.log('00:37:57,164'); seek(2277.0)">
              but you can check that and well, it can be interesting.
            </span>
            
            <span id="chunk-605" class="transcript-chunks" onclick="console.log('00:38:00,748'); seek(2280.0)">
              If you want to know more about stroke embedding, there's a
            </span>
            
            <span id="chunk-606" class="transcript-chunks" onclick="console.log('00:38:04,332'); seek(2284.0)">
              talk really interesting from
            </span>
            
            <span id="chunk-607" class="transcript-chunks" onclick="console.log('00:38:07,900'); seek(2287.0)">
              Gophercon UK. And if you want to know more about code
            </span>
            
            <span id="chunk-608" class="transcript-chunks" onclick="console.log('00:38:11,276'); seek(2291.0)">
              generation, there's another talk from Gophercon UK that is really interesting
            </span>
            
            <span id="chunk-609" class="transcript-chunks" onclick="console.log('00:38:14,924'); seek(2294.0)">
              too. So thank you.
            </span>
            
            </div>
          </div>
          

          
          <div class="col-12 mb-5">
            <h3>
              Slides
            </h3>
            <iframe src="https://conf42.github.io/static/slides/Conf42%20Golang%202021%20Slides%20-%20Jesus%20Espino.pdf" width="100%" height="500px"></iframe>
            <a href="https://conf42.github.io/static/slides/Conf42%20Golang%202021%20Slides%20-%20Jesus%20Espino.pdf" class="btn btn-xs btn-info shadow lift" style="background-color: #881E4B;" target="_blank">
              <i class="fe fe-paperclip me-2"></i>
              Download slides (PDF)
            </a>
          </div>
          

          <div class="col-12 mb-2 text-center">
            <div class="text-center mb-5">
              <a href="https://www.conf42.com/golang2021" class="btn btn-sm btn-danger shadow lift" style="background-color: #881E4B;">
                <i class="fe fe-grid me-2"></i>
                See all 25 talks at this event!
              </a>
            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- PHOTO -->
    <section class="pt-8 pb-6">
      <div class="container">

        <div class="row align-items-center">
          <div class="col-12 col-md-6 col-lg-7">

            <div class="mb-8 mb-md-0">

              <!-- Image -->
              <img src="https://conf42.github.io/static/headshots/golang_jesus.png" alt="..." class="screenshot img-fluid mw-md-110 float-end me-md-6 mb-6 mb-md-0">

            </div>

          </div>
          <div class="col-12 col-md-6 col-lg-5">

            <!-- List -->
            <div class="d-flex">

              <!-- Body -->
              <div class="ms-5">

                <!-- Author 1 -->
                <h2 class="me-2">
                  Jesus Espino
                </h2>
                <h3 class="me-2">
                  <span class="text-muted">
                    Full Stack Engineer @ Mattermost
                  </span>
                </h3>

                <p class="text-uppercase text-muted me-2 mb-3">
                  
                  <a href="https://www.linkedin.com/in/jesus-espino/" target="_blank" class="mr-3">
                    <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Jesus Espino's LinkedIn account" />
                  </a>
                  
                  
                  <a href="https://twitter.com/@jespinog" target="_blank">
                    <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Jesus Espino's twitter account" />
                  </a>
                  
                </p>
                

                <br />

                <a
                  href="https://twitter.com/share?ref_src=twsrc%5Etfw"
                  class="twitter-share-button"

                  data-text="Check out this talk by @jespinog"
                  data-url="https://www.conf42.com/golang2021"
                  data-via="conf42com"
                  data-related=""
                  data-show-count="false"
                >
                  Tweet
                </a>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

                <br />

                <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
                <script type="IN/Share" data-url="https://www.conf42.com/golang2021"></script>
              </div>

            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>





  <script>
    function gtag_report_conversion(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.location = url;
        }
      };
      gtag('event', 'conversion', {
          'send_to': 'AW-882275635/jLVTCPbt1N8CELPq2aQD',
          'event_callback': callback
      });
      return false;
    }
    </script>
    <!-- SUBSCRIBE -->
    <section class="pt-8 pt-md-11 bg-gradient-light-white" id="register">
        <div class="container">
          <div class="row align-items-center justify-content-between mb-8 mb-md-11">
            <div class="col-12 col-md-6 order-md-2" data-aos="fade-left">
  
              <!-- Heading -->
              <h2>
                Awesome tech events for <br>
                <span class="text-success"><span data-typed='{"strings": ["software engineers.", "tech leaders.", "SREs.", "DevOps.", "CTOs.",  "managers.", "architects.", "QAs.", "developers.", "coders.", "founders.", "CEOs.", "students.", "geeks.", "ethical hackers.", "educators.", "enthusiasts.", "directors.", "researchers.", "PHDs.", "evangelists.", "tech authors."]}'></span></span>
              </h2>
  
              <!-- Text -->
              <p class="fs-lg text-muted mb-6">
  
              </p>
  
              <!-- List -->
              <div class="row">
                <div class="col-12 col-lg-12">
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <!-- Text -->
                    <p class="text-success">
                      Priority access to all content
                    </p>
                  </div>
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Video hallway track
                    </p>
                  </div>

                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Community chat
                    </p>
                  </div>
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Exclusive promotions and giveaways
                    </p>
                  </div>
  
                </div>
              </div> <!-- / .row -->
  
            </div>
            <div class="col-12 col-md-6 col-lg-5 order-md-1">
  
              <!-- Card -->
              <div class="card shadow-light-lg">
  
                <!-- Body -->
                <div class="card-body">
  
                  <!-- Form -->
                  <link rel="stylesheet" href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css">
                  <p class="emailoctopus-success-message text-success"></p>
                  <p class="emailoctopus-error-message text-danger"></p>
                  <form
                    action="https://emailoctopus.com/lists/a3ba0cb5-7524-11eb-a3d0-06b4694bee2a/members/embedded/1.3/add"
                    method="post"
                    data-message-success="Thanks! Check your email for further directions!"
                    data-message-missing-email-address="Your email address is required."
                    data-message-invalid-email-address="Your email address looks incorrect, please try again."
                    data-message-bot-submission-error="This doesn't look like a human submission."
                    data-message-consent-required="Please check the checkbox to indicate your consent."
                    data-message-invalid-parameters-error="This form has missing or invalid fields."
                    data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
                    class="emailoctopus-form"
                    data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
                  >
                    <div class="form-floating emailoctopus-form-row">
                      <input type="email" class="form-control form-control-flush" name="field_0" id="field_0" placeholder="Email" required>
                      <label for="field_0">Email address</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_1" id="field_1" placeholder="First Name" required>
                      <label for="field_1">First Name</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_2" id="field_2" placeholder="Last Name" required>
                      <label for="field_2">Last Name</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_4" id="field_4" placeholder="Company" required>
                      <label for="field_4">Company</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_5" id="field_5" placeholder="Job Title" required>
                      <label for="field_5">Job Title</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_3" id="field_3" placeholder="Phone">
                      <label for="field_3">Phone Number</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <select type="text" class="form-control form-control-flush" name="field_7" id="country-source" required
                        oninput="updateCountry()"
                      >
                        <!-- Country names and Country Name -->
    <option value="">Please select your country</option>
    <option value="Afghanistan">Afghanistan</option>
    <option value="Aland Islands">Aland Islands</option>
    <option value="Albania">Albania</option>
    <option value="Algeria">Algeria</option>
    <option value="American Samoa">American Samoa</option>
    <option value="Andorra">Andorra</option>
    <option value="Angola">Angola</option>
    <option value="Anguilla">Anguilla</option>
    <option value="Antarctica">Antarctica</option>
    <option value="Antigua and Barbuda">Antigua and Barbuda</option>
    <option value="Argentina">Argentina</option>
    <option value="Armenia">Armenia</option>
    <option value="Aruba">Aruba</option>
    <option value="Australia">Australia</option>
    <option value="Austria">Austria</option>
    <option value="Azerbaijan">Azerbaijan</option>
    <option value="Bahamas">Bahamas</option>
    <option value="Bahrain">Bahrain</option>
    <option value="Bangladesh">Bangladesh</option>
    <option value="Barbados">Barbados</option>
    <option value="Belarus">Belarus</option>
    <option value="Belgium">Belgium</option>
    <option value="Belize">Belize</option>
    <option value="Benin">Benin</option>
    <option value="Bermuda">Bermuda</option>
    <option value="Bhutan">Bhutan</option>
    <option value="Bolivia">Bolivia</option>
    <option value="Bonaire, Sint Eustatius and Saba">Bonaire, Sint Eustatius and Saba</option>
    <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
    <option value="Botswana">Botswana</option>
    <option value="Bouvet Island">Bouvet Island</option>
    <option value="Brazil">Brazil</option>
    <option value="British Indian Ocean Territory">British Indian Ocean Territory</option>
    <option value="Brunei Darussalam">Brunei Darussalam</option>
    <option value="Bulgaria">Bulgaria</option>
    <option value="Burkina Faso">Burkina Faso</option>
    <option value="Burundi">Burundi</option>
    <option value="Cambodia">Cambodia</option>
    <option value="Cameroon">Cameroon</option>
    <option value="Canada">Canada</option>
    <option value="Cape Verde">Cape Verde</option>
    <option value="Cayman Islands">Cayman Islands</option>
    <option value="Central African Republic">Central African Republic</option>
    <option value="Chad">Chad</option>
    <option value="Chile">Chile</option>
    <option value="China">China</option>
    <option value="Christmas Island">Christmas Island</option>
    <option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
    <option value="Colombia">Colombia</option>
    <option value="Comoros">Comoros</option>
    <option value="Congo">Congo</option>
    <option value="Congo, Democratic Republic of the Congo">Congo, Democratic Republic of the Congo</option>
    <option value="Cook Islands">Cook Islands</option>
    <option value="Costa Rica">Costa Rica</option>
    <option value="Cote D'Ivoire">Cote D'Ivoire</option>
    <option value="Croatia">Croatia</option>
    <option value="Cuba">Cuba</option>
    <option value="Curacao">Curacao</option>
    <option value="Cyprus">Cyprus</option>
    <option value="Czech Republic">Czech Republic</option>
    <option value="Denmark">Denmark</option>
    <option value="Djibouti">Djibouti</option>
    <option value="Dominica">Dominica</option>
    <option value="Dominican Republic">Dominican Republic</option>
    <option value="Ecuador">Ecuador</option>
    <option value="Egypt">Egypt</option>
    <option value="El Salvador">El Salvador</option>
    <option value="Equatorial Guinea">Equatorial Guinea</option>
    <option value="Eritrea">Eritrea</option>
    <option value="Estonia">Estonia</option>
    <option value="Ethiopia">Ethiopia</option>
    <option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
    <option value="Faroe Islands">Faroe Islands</option>
    <option value="Fiji">Fiji</option>
    <option value="Finland">Finland</option>
    <option value="France">France</option>
    <option value="French Guiana">French Guiana</option>
    <option value="French Polynesia">French Polynesia</option>
    <option value="French Southern Territories">French Southern Territories</option>
    <option value="Gabon">Gabon</option>
    <option value="Gambia">Gambia</option>
    <option value="Georgia">Georgia</option>
    <option value="Germany">Germany</option>
    <option value="Ghana">Ghana</option>
    <option value="Gibraltar">Gibraltar</option>
    <option value="Greece">Greece</option>
    <option value="Greenland">Greenland</option>
    <option value="Grenada">Grenada</option>
    <option value="Guadeloupe">Guadeloupe</option>
    <option value="Guam">Guam</option>
    <option value="Guatemala">Guatemala</option>
    <option value="Guernsey">Guernsey</option>
    <option value="Guinea">Guinea</option>
    <option value="Guinea-Bissau">Guinea-Bissau</option>
    <option value="Guyana">Guyana</option>
    <option value="Haiti">Haiti</option>
    <option value="Heard Island and Mcdonald Islands">Heard Island and Mcdonald Islands</option>
    <option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
    <option value="Honduras">Honduras</option>
    <option value="Hong Kong">Hong Kong</option>
    <option value="Hungary">Hungary</option>
    <option value="Iceland">Iceland</option>
    <option value="India">India</option>
    <option value="Indonesia">Indonesia</option>
    <option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
    <option value="Iraq">Iraq</option>
    <option value="Ireland">Ireland</option>
    <option value="Isle of Man">Isle of Man</option>
    <option value="Israel">Israel</option>
    <option value="Italy">Italy</option>
    <option value="Jamaica">Jamaica</option>
    <option value="Japan">Japan</option>
    <option value="Jersey">Jersey</option>
    <option value="Jordan">Jordan</option>
    <option value="Kazakhstan">Kazakhstan</option>
    <option value="Kenya">Kenya</option>
    <option value="Kiribati">Kiribati</option>
    <option value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
    <option value="Korea, Republic of">Korea, Republic of</option>
    <option value="Kosovo">Kosovo</option>
    <option value="Kuwait">Kuwait</option>
    <option value="Kyrgyzstan">Kyrgyzstan</option>
    <option value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
    <option value="Latvia">Latvia</option>
    <option value="Lebanon">Lebanon</option>
    <option value="Lesotho">Lesotho</option>
    <option value="Liberia">Liberia</option>
    <option value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option>
    <option value="Liechtenstein">Liechtenstein</option>
    <option value="Lithuania">Lithuania</option>
    <option value="Luxembourg">Luxembourg</option>
    <option value="Macao">Macao</option>
    <option value="Macedonia, the Former Yugoslav Republic of">Macedonia, the Former Yugoslav Republic of</option>
    <option value="Madagascar">Madagascar</option>
    <option value="Malawi">Malawi</option>
    <option value="Malaysia">Malaysia</option>
    <option value="Maldives">Maldives</option>
    <option value="Mali">Mali</option>
    <option value="Malta">Malta</option>
    <option value="Marshall Islands">Marshall Islands</option>
    <option value="Martinique">Martinique</option>
    <option value="Mauritania">Mauritania</option>
    <option value="Mauritius">Mauritius</option>
    <option value="Mayotte">Mayotte</option>
    <option value="Mexico">Mexico</option>
    <option value="Micronesia, Federated States of">Micronesia, Federated States of</option>
    <option value="Moldova, Republic of">Moldova, Republic of</option>
    <option value="Monaco">Monaco</option>
    <option value="Mongolia">Mongolia</option>
    <option value="Montenegro">Montenegro</option>
    <option value="Montserrat">Montserrat</option>
    <option value="Morocco">Morocco</option>
    <option value="Mozambique">Mozambique</option>
    <option value="Myanmar">Myanmar</option>
    <option value="Namibia">Namibia</option>
    <option value="Nauru">Nauru</option>
    <option value="Nepal">Nepal</option>
    <option value="Netherlands">Netherlands</option>
    <option value="Netherlands Antilles">Netherlands Antilles</option>
    <option value="New Caledonia">New Caledonia</option>
    <option value="New Zealand">New Zealand</option>
    <option value="Nicaragua">Nicaragua</option>
    <option value="Niger">Niger</option>
    <option value="Nigeria">Nigeria</option>
    <option value="Niue">Niue</option>
    <option value="Norfolk Island">Norfolk Island</option>
    <option value="Northern Mariana Islands">Northern Mariana Islands</option>
    <option value="Norway">Norway</option>
    <option value="Oman">Oman</option>
    <option value="Pakistan">Pakistan</option>
    <option value="Palau">Palau</option>
    <option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option>
    <option value="Panama">Panama</option>
    <option value="Papua New Guinea">Papua New Guinea</option>
    <option value="Paraguay">Paraguay</option>
    <option value="Peru">Peru</option>
    <option value="Philippines">Philippines</option>
    <option value="Pitcairn">Pitcairn</option>
    <option value="Poland">Poland</option>
    <option value="Portugal">Portugal</option>
    <option value="Puerto Rico">Puerto Rico</option>
    <option value="Qatar">Qatar</option>
    <option value="Reunion">Reunion</option>
    <option value="Romania">Romania</option>
    <option value="Russian Federation">Russian Federation</option>
    <option value="Rwanda">Rwanda</option>
    <option value="Saint Barthelemy">Saint Barthelemy</option>
    <option value="Saint Helena">Saint Helena</option>
    <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
    <option value="Saint Lucia">Saint Lucia</option>
    <option value="Saint Martin">Saint Martin</option>
    <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
    <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
    <option value="Samoa">Samoa</option>
    <option value="San Marino">San Marino</option>
    <option value="Sao Tome and Principe">Sao Tome and Principe</option>
    <option value="Saudi Arabia">Saudi Arabia</option>
    <option value="Senegal">Senegal</option>
    <option value="Serbia">Serbia</option>
    <option value="Serbia and Montenegro">Serbia and Montenegro</option>
    <option value="Seychelles">Seychelles</option>
    <option value="Sierra Leone">Sierra Leone</option>
    <option value="Singapore">Singapore</option>
    <option value="Sint Maarten">Sint Maarten</option>
    <option value="Slovakia">Slovakia</option>
    <option value="Slovenia">Slovenia</option>
    <option value="Solomon Islands">Solomon Islands</option>
    <option value="Somalia">Somalia</option>
    <option value="South Africa">South Africa</option>
    <option value="South Georgia and the South Sandwich Islands">South Georgia and the South Sandwich Islands</option>
    <option value="South Sudan">South Sudan</option>
    <option value="Spain">Spain</option>
    <option value="Sri Lanka">Sri Lanka</option>
    <option value="Sudan">Sudan</option>
    <option value="Suriname">Suriname</option>
    <option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
    <option value="Swaziland">Swaziland</option>
    <option value="Sweden">Sweden</option>
    <option value="Switzerland">Switzerland</option>
    <option value="Syrian Arab Republic">Syrian Arab Republic</option>
    <option value="Taiwan, Province of China">Taiwan, Province of China</option>
    <option value="Tajikistan">Tajikistan</option>
    <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
    <option value="Thailand">Thailand</option>
    <option value="Timor-Leste">Timor-Leste</option>
    <option value="Togo">Togo</option>
    <option value="Tokelau">Tokelau</option>
    <option value="Tonga">Tonga</option>
    <option value="Trinidad and Tobago">Trinidad and Tobago</option>
    <option value="Tunisia">Tunisia</option>
    <option value="Turkey">Turkey</option>
    <option value="Turkmenistan">Turkmenistan</option>
    <option value="Turks and Caicos Islands">Turks and Caicos Islands</option>
    <option value="Tuvalu">Tuvalu</option>
    <option value="Uganda">Uganda</option>
    <option value="Ukraine">Ukraine</option>
    <option value="United Arab Emirates">United Arab Emirates</option>
    <option value="United Kingdom">United Kingdom</option>
    <option value="United States">United States</option>
    <option value="United States Minor Outlying Islands">United States Minor Outlying Islands</option>
    <option value="Uruguay">Uruguay</option>
    <option value="Uzbekistan">Uzbekistan</option>
    <option value="Vanuatu">Vanuatu</option>
    <option value="Venezuela">Venezuela</option>
    <option value="Viet Nam">Viet Nam</option>
    <option value="Virgin Islands, British">Virgin Islands, British</option>
    <option value="Virgin Islands, U.s.">Virgin Islands, U.s.</option>
    <option value="Wallis and Futuna">Wallis and Futuna</option>
    <option value="Western Sahara">Western Sahara</option>
    <option value="Yemen">Yemen</option>
    <option value="Zambia">Zambia</option>
    <option value="Zimbabwe">Zimbabwe</option>
                      </select>
                      <label for="field_7">Country</label>
                    </div>
                    <input id="country-destination" name="field_7" type="hidden">
                    <input id="tz-country" name="field_8" type="hidden">
                    
                    <input
                      name="field_6"
                      type="hidden"
                      value="Golang"
                    >
                    
                    <div class="emailoctopus-form-row-consent">
                      <input
                        type="checkbox"
                        id="consent"
                        name="consent"
                      >
                      <label for="consent">
                        I consent to the following terms:
                      </label>
                      <a href="https://www.conf42.com/terms-and-conditions.pdf" target="_blank">
                        Terms and Conditions
                      </a>
                      &amp;
                      <a href="./code-of-conduct" target="_blank">
                        Code of Conduct
                      </a>
                    </div>
                    <div
                      aria-hidden="true"
                      class="emailoctopus-form-row-hp"
                    >
                      <input
                        type="text"
                        name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
                        tabindex="-1"
                        autocomplete="nope"
                      >
                    </div>
                    <div class="mt-6 emailoctopus-form-row-subscribe">
                      <input
                        type="hidden"
                        name="successRedirectUrl"
                      >
                      <button class="btn w-100 btn-success lift" type="submit" onclick="gtag_report_conversion(); rdt('track', 'SignUp');">
                        Subscribe
                      </button>
                    </div>
                  </form>
  
                </div>
  
              </div>
  
            </div>
  
          </div> <!-- / .row -->
        </div> <!-- / .container -->
      </section>

      <!-- <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js"></script> -->
      <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js"></script>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-dark">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- FOOTER -->
    <footer class="py-8 py-md-11 bg-dark">
      <div class="container">
        <div class="row">

          <div class="col-12 col-md-4 col-lg-3">
            <!-- Brand -->
            <img src="./assets/conf42/conf42_logo_white_small.png" alt="..." class="footer-brand img-fluid mb-2">
    
            <!-- Text -->
            <p class="text-gray-700 mb-2">
              Online tech events
            </p>
    
            <!-- Social -->
            <ul class="list-unstyled list-inline list-social mb-5">
              <li class="list-inline-item list-social-item me-3">
                <a href="https://www.linkedin.com/company/49110720/" class="text-decoration-none">
                  <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="...">
                </a>
              </li>
              <li class="list-inline-item list-social-item me-3">
                <a href="https://twitter.com/conf42com" class="text-decoration-none">
                  <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="...">
                </a>
              </li>
            </ul>

            <!-- QR Code -->
            <img src="./assets/conf42/CONF42.QR.png" style="width: 100px;" class="mb-5 img-fluid" />
          </div>


          <div class="col-12 col-md-4 col-lg-3">
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2025
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2025">
                  DevOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2025">
                  Chaos Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2025">
                  Python 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2025">
                  Cloud Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2025">
                  Large Language Models (LLMs) 2025
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2024
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2024">
                  DevOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2024">
                  Chaos Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2024">
                  Python 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2024">
                  Cloud Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2024">
                  Large Language Models (LLMs) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2024">
                  Golang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2024">
                  Site Reliability Engineering (SRE) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2024">
                  Machine Learning 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2024">
                  Observability 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2024">
                  Quantum Computing 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2024">
                  Rustlang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2024">
                  Platform Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.sreday.com/">
                  SREday London 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2024">
                  Kube Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2024">
                  Incident Management 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2024">
                  JavaScript 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2024">
                  Prompt Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.sreday.com/">
                  SREday Amsterdam 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2024">
                  DevSecOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2024">
                  Internet of Things (IoT) 2024
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2023
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2023">
                  DevOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2023">
                  Chaos Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2023">
                  Python 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2023">
                  Cloud Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2023">
                  Golang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2023">
                  Site Reliability Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2023">
                  Machine Learning 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2023">
                  Observability 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2023">
                  Quantum Computing 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2023">
                  Rustlang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2023">
                  Platform Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2023">
                  Kube Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2023">
                  Incident Management 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2023">
                  JavaScript 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2023">
                  DevSecOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2023">
                  Internet of Things (IoT) 2023
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2022
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2022">
                  Python 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mobile2022">
                  Mobile 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2022">
                  Chaos Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2022">
                  Golang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2022">
                  Cloud Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2022">
                  Machine Learning 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2022">
                  Site Reliability Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2022">
                  Quantum Computing 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2022">
                  Rustlang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2022">
                  Incident Management 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2022">
                  Kube Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2022">
                  JavaScript 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2022">
                  DevSecOps 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/web2022">
                  Web 3.0 2022
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2021
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2021">
                  Chaos Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/enterprise2021">
                  Enterprise Software 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2021">
                  Cloud Native 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2021">
                  Python 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2021">
                  Golang 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2021">
                  Machine Learning 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2021">
                  Site Reliability Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2021">
                  JavaScript 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2021">
                  DevSecOps 2021
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2020
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2020">
                  Chaos Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/oss2020">
                  Open Source Showcase 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2020">
                  Site Reliability Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2020">
                  JavaScript 2020
                </a>
              </li>
            
            </ul>
          
          </div>

          
          <div class="col-12 col-md-4 offset-md-4 col-lg-3 offset-lg-0">

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Community
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./support" class="text-reset">
                  Support us
                </a>
              </li>
              <li class="mb-3">
                <a href="./speakers" class="text-reset">
                  Speakers
                </a>
              </li>
              <li class="mb-3">
                <a href="./hall-of-fame" class="text-reset">
                  Hall of fame
                </a>
              </li>
              <li class="mb-3">
                <a href="https://discord.gg/DnyHgrC7jC" class="text-reset" target="_blank">
                  Discord
                </a>
              </li>
              <li class="mb-3">
                <a href="./about" class="text-reset">
                  About the team
                </a>
              </li>
            </ul>

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Sponsors
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./sponsor" class="text-reset" target="_blank">
                  Sponsorship
                </a>
              </li>
              <li class="mb-3">
                <a href="mailto:mark@conf42.com?subject=We would like to sponsor" class="text-reset" target="_blank">
                  Request the Prospectus
                </a>
              </li>
              <li class="mb-3">
                <a href="https://drive.google.com/drive/folders/1tT2lspLQgj3sdfxG9FwDVkBUt-TYSPGe?usp=sharing" class="text-reset" target="_blank">
                  Media kit
                </a>
              </li>
            </ul>
    
          </div>


          <div class="col-12 col-md-4 col-lg-3">
    
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Legal
            </h6>
    
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./code-of-conduct" class="text-reset">
                  Code of Conduct
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/terms-and-conditions.pdf" class="text-reset" target="_blank">
                  Terms and Conditions
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/privacy-policy.pdf" class="text-reset" target="_blank">
                  Privacy policy
                </a>
              </li>
            </ul>
          </div>


        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </footer>

    <!-- JAVASCRIPT -->
    <!-- Map JS -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    
    <!-- Vendor JS -->
    <script src="./assets/js/vendor.bundle.js"></script>
    
    <!-- Theme JS -->
    <script src="./assets/js/theme.bundle.js"></script>

    <!-- Various JS -->
    <script src="./assets/js/various.js"></script>

    <script src='https://cdn.jsdelivr.net/npm/@widgetbot/crate@3' async defer>
      new Crate({
          notifications: true,
          indicator: true,
          server: '814240231606714368', // Conf42.com
          channel: '814240231788249115' // #community
      })
    </script>
  </body>
</html>