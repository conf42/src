<!doctype html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-77190356-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-77190356-3');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css" />
    <link rel="stylesheet" href="./assets/css/libs.bundle.css" />
    <link rel="stylesheet" href="./assets/css/theme.bundle.css" />
    <link rel="stylesheet" href="./assets/css/various.css" />

    <title>Conf42: How to Measure PromQL / MetricsQL Expression Complexity</title>
    <meta name="description" content="Observe the unseen, go beyond the code!">

    
    <meta name="image" property="og:image" content="https://www.conf42.com/assets/headshots/https://conf42.github.io/static/headshots/Roman%20Khavronenko_obs.png">
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="How to Measure PromQL / MetricsQL Expression Complexity | Conf42"/>
    <meta property="og:description" content="Dive into the complexities of PromQL/MetricsQL expressions with Roman! Learn about query processing stages, identify bottlenecks, and discover speed optimizations for distributed processing."/>
    <meta property="og:url" content="https://conf42.com/Observability_2024_Roman_Khavronenko_measure_promql_metricsql"/>
    

    <link rel="shortcut icon" href="./assets/favicon/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="./assets/favicon/site.webmanifest">

    

  <!-- Reddit Pixel -->
  <script>
  !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt('init','a2_e019g7ndfhrm', {"optOut":false,"useDecimalCurrencyValues":true,"aaid":"<AAID-HERE>"});rdt('track', 'PageVisit');
  </script>
  <!-- DO NOT MODIFY UNLESS TO REPLACE A USER IDENTIFIER -->
  <!-- End Reddit Pixel -->

  </head>
  <body>

    <!-- NAVBAR -->
    
    <!-- <nav class="navbar navbar-expand-lg navbar-light bg-light"> -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    
      <div class="container">
    
        <!-- Brand -->
        <a class="navbar-brand" href="./">
          <img src="./assets/conf42/conf42_logo_black_small.png" class="navbar-brand-img" alt="...">
        </a>
    
        <!-- Toggler -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    
        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="navbarCollapse">
    
          <!-- Toggler -->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fe fe-x"></i>
          </button>
    
          <!-- Navigation -->
          <ul class="navbar-nav ms-auto">

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Events
              </a>
              <div class="dropdown-menu dropdown-menu-xl p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-6">
                    <!-- <div class="dropdown-img-start" style="background-image: url(./assets/splash/PROMPT2024_Event_Splash.png);"> -->
                    <div class="dropdown-img-start">
                      <!-- Heading -->
                      <h4 class="fw-bold text-white mb-0">
                        Featured event
                      </h4>
                      <!-- Text -->
                      <p class="fs-sm text-white">
                        Prompt Engineering 2024
                      </p>
                      <p class="fs-sm text-white">
                        Premiere 2024-11-14
                      </p>
                      <!-- Button -->
                      <a href="https://www.conf42.com/prompt2024" class="btn btn-sm btn-white shadow-dark fonFt-size-sm">
                        Learn more
                      </a>
                    </div>
                  </div>
                  <div class="col-12 col-lg-6">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
    
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2025
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2025">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2025">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2025">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2025">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2025">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2025">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2025">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2025">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2025">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2025">
                            Quantum Computing
                          </a>
                          
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2024
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2024">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2024">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2024">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2024">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2024">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2024">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2024">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2024">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2024">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2024">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2024">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2024">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2024">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2024">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2024">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2024">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://sreday.com/2024-amsterdam/">
                            SREday Amsterdam
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2024">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2024">
                            Internet of Things (IoT)
                          </a>
                          
                        

                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            Info
                          </h6>
                          <a class="dropdown-item" href="./code-of-conduct">
                            Code of Conduct
                          </a>
    
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Community
              </a>
              <div class="dropdown-menu dropdown-menu-l p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-3">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
                          <a class="dropdown-item" href="./support">
                            Support us
                          </a>
                          <a class="dropdown-item" href="./hall-of-fame">
                            Hall of Fame
                          </a>
                          <a class="dropdown-item" href="./speakers">
                            Speakers
                          </a>
                          <a class="dropdown-item" href="https://www.papercall.io/events?cfps-scope=&keywords=conf42" target="_blank">
                            Become a speaker (CFPs)
                          </a>
                          <a class="dropdown-item" href="https://discord.gg/mvHyZzRGaQ" target="_blank">
                            Discord
                          </a>
                          <a class="dropdown-item" href="./testimonials">
                            Testimonials
                          </a>
                          <a class="dropdown-item" href="./about">
                            About the team
                          </a>
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./podcast">
                Podcast
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./blog">
                Blog
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./sponsor">
                Sponsor
              </a>
            </li>
          </ul>
    
          <!-- Button -->
          <a class="navbar-btn btn btn-sm btn-primary lift ms-auto" href="#register">
            Subscribe for FREE
          </a>
    
        </div>
    
      </div>
    </nav>



<style>
.text-selected {
  background-color: #42ba96!important;
  color: white;
}
</style>
	

    <!-- WELCOME -->
    <section class="py-5 py-md-10" style="background-color: #A8AC51;">

      <!-- Shape -->
      <div class="shape shape-blur-3 svg-shim text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>
      </div>

      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 text-center" data-aos="fade-up">

            <!-- Heading -->
            <h1 class="display-2 fw-bold text-white">
              Conf42 Observability 2024 - Online
            </h1>

            <h2 class="text-white">
              
              Content unlocked! Welcome to the community!
              
            </h2>

            <!-- Text -->
            <p class="lead mb-0 text-white-75">
              
              <!-- Observe the unseen, go beyond the code!
 -->
              <script>
                const event_date = new Date("2024-06-13T17:00:00.000+00:00");
                const local_timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const local_date = new Date("2024-06-13T17:00:00.000+00:00");
                // const local_offset = new Date().getTimezoneOffset() / 60;
                // local_date.setHours(local_date.getHours() + local_offset);
                document.getElementById("localtime").innerHTML = local_date + " in " + local_timezone
              </script>
            </p>

            <!-- Buttons -->
            <div class="text-center mt-5">
              
              
              <a class="btn btn-danger lift mb-3" data-bigpicture='{"ytSrc": "lDyxBqoC_ww"}' href="#">
                <i class="fe fe-youtube me-2"></i>
                Watch this talk
              </a>
              
              
              <a class="btn btn-info lift mb-3" data-bigpicture='{"ytSrc": "dXWedudioKM"}' href="#">
                <i class="fe fe-eye me-2"></i>
                Watch Premiere
              </a>
              
              <!-- 
              <a class="btn btn-danger lift mb-3" href="https://www.youtube.com/playlist?list=PLIuxSyKxlQrC-PX2FgCC65tF4cYubwqxj" target="_blank">
                <i class="fe fe-youtube me-2"></i>
                Playlist
              </a>
               -->
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>
      </div>
    </div>

    
    <!-- VIDEO -->
    <section class="pt-2 sticky">
      <div class="container">
        <div class="row justify-content-center">

          <div id="video-container" class="col-9 col-lg-12 mb-5">

          <!-- Video -->

            <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
            <div id="player" class="sticky"></div>

            <script>
              
              var transcript = [{"text": "Hello everyone and welcome to my talk about measuring", "timestamp": "00:00:27,160", "timestamp_s": 27.0}, {"text": "expression complexity for PromptQL and MetricsQL.", "timestamp": "00:00:31,064", "timestamp_s": 31.0}, {"text": "A few words about me. My name is Roman. I\u0027m software", "timestamp": "00:00:35,624", "timestamp_s": 35.0}, {"text": "engineer with experience in distributed systems", "timestamp": "00:00:39,320", "timestamp_s": 39.0}, {"text": "and lasts five years. I\u0027m working on an open source project", "timestamp": "00:00:43,112", "timestamp_s": 43.0}, {"text": "called Victoria Metrics. Victoria Metrics is an open source time", "timestamp": "00:00:46,872", "timestamp_s": 46.0}, {"text": "series database. It\u0027s available on GitHub under Apache", "timestamp": "00:00:50,672", "timestamp_s": 50.0}, {"text": "two license. So I encourage everyone to check on it.", "timestamp": "00:00:54,072", "timestamp_s": 54.0}, {"text": "Okay, what this talk is about, so maybe many of you know", "timestamp": "00:00:58,644", "timestamp_s": 58.0}, {"text": "what Prometheus is or what euctorium metrics is, but just", "timestamp": "00:01:02,804", "timestamp_s": 62.0}, {"text": "in case, both of them are used for monitoring", "timestamp": "00:01:06,204", "timestamp_s": 66.0}, {"text": "and for alerting, for collecting metrics, storing them and processing.", "timestamp": "00:01:09,684", "timestamp_s": 69.0}, {"text": "Both of them are open source and Prometheus is", "timestamp": "00:01:13,764", "timestamp_s": 73.0}, {"text": "using PromQL as a query language and", "timestamp": "00:01:17,052", "timestamp_s": 77.0}, {"text": "Xtora Matrix uses Matrixql as a query language.", "timestamp": "00:01:20,260", "timestamp_s": 80.0}, {"text": "These two languages are very similar with the same syntax.", "timestamp": "00:01:23,614", "timestamp_s": 83.0}, {"text": "So this talk will be beneficial for if you,", "timestamp": "00:01:26,550", "timestamp_s": 86.0}, {"text": "if you familiar with any of these systems. And both of them", "timestamp": "00:01:30,382", "timestamp_s": 90.0}, {"text": "are well integrated with Grafana. So you can plot dashboards", "timestamp": "00:01:34,326", "timestamp_s": 94.0}, {"text": "with vectoriometrics or Prometheus as data sources.", "timestamp": "00:01:38,334", "timestamp_s": 98.0}, {"text": "And this exactly the case when", "timestamp": "00:01:42,374", "timestamp_s": 102.0}, {"text": "things can go bad. So imagine yourself in the middle of", "timestamp": "00:01:46,214", "timestamp_s": 106.0}, {"text": "the incident trying to understand why your system", "timestamp": "00:01:49,390", "timestamp_s": 109.0}, {"text": "is on fire. You go to Grafana, you open your tarpaulin, and then", "timestamp": "00:01:53,126", "timestamp_s": 113.0}, {"text": "it takes 60 seconds or something like that to load.", "timestamp": "00:01:56,662", "timestamp_s": 116.0}, {"text": "Everything is so slow and this just adds", "timestamp": "00:02:00,974", "timestamp_s": 120.0}, {"text": "more stress to your working day.", "timestamp": "00:02:04,830", "timestamp_s": 124.0}, {"text": "So I hope with this talk we will try to address this", "timestamp": "00:02:08,574", "timestamp_s": 128.0}, {"text": "stress level to reduce it, because hopefully you will", "timestamp": "00:02:12,286", "timestamp_s": 132.0}, {"text": "learn how to make your queries faster or at least to understand", "timestamp": "00:02:16,262", "timestamp_s": 136.0}, {"text": "why they are slow.", "timestamp": "00:02:20,546", "timestamp_s": 140.0}, {"text": "Okay, on the screen we have two examples,", "timestamp": "00:02:23,834", "timestamp_s": 143.0}, {"text": "two similar examples of a slow query and a fast query.", "timestamp": "00:02:27,818", "timestamp_s": 147.0}, {"text": "So the first query on the screen is the slow one.", "timestamp": "00:02:31,514", "timestamp_s": 151.0}, {"text": "It takes 3.5 seconds to execute. And the", "timestamp": "00:02:34,754", "timestamp_s": 154.0}, {"text": "second query is very similar, it\u0027s almost the", "timestamp": "00:02:38,362", "timestamp_s": 158.0}, {"text": "same, but it has a different metric name inside and it takes 50 milliseconds.", "timestamp": "00:02:41,538", "timestamp_s": 161.0}, {"text": "So why it is so", "timestamp": "00:02:45,794", "timestamp_s": 165.0}, {"text": "fast? Or the first query, why it is so slow? Normally I", "timestamp": "00:02:49,212", "timestamp_s": 169.0}, {"text": "will ask on a flying conference, I will ask people to answer in", "timestamp": "00:02:52,788", "timestamp_s": 172.0}, {"text": "the room, but we are online, so I will answer myself.", "timestamp": "00:02:57,148", "timestamp_s": 177.0}, {"text": "Well, because those queries are not identical, they scan", "timestamp": "00:03:00,668", "timestamp_s": 180.0}, {"text": "different amounts of data, those metric names,", "timestamp": "00:03:04,388", "timestamp_s": 184.0}, {"text": "they have different amounts of time series behind them.", "timestamp": "00:03:07,836", "timestamp_s": 187.0}, {"text": "So in order to understand this difference,", "timestamp": "00:03:12,464", "timestamp_s": 192.0}, {"text": "why we scan that much data, or why queries so slow", "timestamp": "00:03:18,264", "timestamp_s": 198.0}, {"text": "because of scanning much data, let\u0027s try", "timestamp": "00:03:21,632", "timestamp_s": 201.0}, {"text": "to build a mental model of what is going on with timesir database.", "timestamp": "00:03:25,312", "timestamp_s": 205.0}, {"text": "And maybe not all of you have this mental model", "timestamp": "00:03:29,504", "timestamp_s": 209.0}, {"text": "already of how Prometheus vector metrics works, but it is very likely", "timestamp": "00:03:32,976", "timestamp_s": 212.0}, {"text": "you understand how traditional relational databases work,", "timestamp": "00:03:37,064", "timestamp_s": 217.0}, {"text": "like MySQL for example. So let\u0027s try to refer to", "timestamp": "00:03:40,112", "timestamp_s": 220.0}, {"text": "that experience of optimizing MySQL queries and", "timestamp": "00:03:43,582", "timestamp_s": 223.0}, {"text": "try to apply them to prompt your metric SQL expression.", "timestamp": "00:03:47,526", "timestamp_s": 227.0}, {"text": "So to do this, I asked ChatGpt,", "timestamp": "00:03:51,574", "timestamp_s": 231.0}, {"text": "how can I optimize this SQL query? And chat", "timestamp": "00:03:54,894", "timestamp_s": 234.0}, {"text": "GPT provided really good advices, so that", "timestamp": "00:03:59,510", "timestamp_s": 239.0}, {"text": "was pretty helpful. So for example, I have this not", "timestamp": "00:04:04,182", "timestamp_s": 244.0}, {"text": "optimized query which selects everything from table,", "timestamp": "00:04:08,106", "timestamp_s": 248.0}, {"text": "bar and chat. GPT gave me these advice.", "timestamp": "00:04:10,938", "timestamp_s": 250.0}, {"text": "So use indexes, but avoid using too much indexes.", "timestamp": "00:04:14,498", "timestamp_s": 254.0}, {"text": "Select only what you need, try to filter data as early as", "timestamp": "00:04:19,154", "timestamp_s": 259.0}, {"text": "possible, think of your database design and maybe apply", "timestamp": "00:04:22,850", "timestamp_s": 262.0}, {"text": "partitioning if you need it. Okay,", "timestamp": "00:04:26,026", "timestamp_s": 266.0}, {"text": "so I follow those advices. I reworked my table.", "timestamp": "00:04:29,634", "timestamp_s": 269.0}, {"text": "I\u0027m selecting only the columns that I need. I partition", "timestamp": "00:04:33,494", "timestamp_s": 273.0}, {"text": "my table by time. So I am adding the filter by date and", "timestamp": "00:04:37,350", "timestamp_s": 277.0}, {"text": "I index my table by user id. So I\u0027m", "timestamp": "00:04:41,246", "timestamp_s": 281.0}, {"text": "selecting only the user I want to and this", "timestamp": "00:04:44,702", "timestamp_s": 284.0}, {"text": "query will become faster after I modified the table, after I modified", "timestamp": "00:04:47,902", "timestamp_s": 287.0}, {"text": "my database design, after I changed", "timestamp": "00:04:52,054", "timestamp_s": 292.0}, {"text": "my query to be efficient.", "timestamp": "00:04:55,422", "timestamp_s": 295.0}, {"text": "Okay, but can I apply the same tips, the same strategy", "timestamp": "00:04:58,474", "timestamp_s": 298.0}, {"text": "to prompt QL and metrics QL expression? Well,", "timestamp": "00:05:02,202", "timestamp_s": 302.0}, {"text": "not really, because neither the Prometheus", "timestamp": "00:05:05,258", "timestamp_s": 305.0}, {"text": "nor Victoria metrics provide you that flexibility,", "timestamp": "00:05:08,402", "timestamp_s": 308.0}, {"text": "actually. In fact, you can use only filtering", "timestamp": "00:05:12,034", "timestamp_s": 312.0}, {"text": "data as your main leverage on improving the performance of the queries.", "timestamp": "00:05:15,426", "timestamp_s": 315.0}, {"text": "Okay, let\u0027s now try to build a mental", "timestamp": "00:05:20,714", "timestamp_s": 320.0}, {"text": "model of how Prometheus vector metrics works.", "timestamp": "00:05:24,818", "timestamp_s": 324.0}, {"text": "Very simplified, sophisticated mental model.", "timestamp": "00:05:29,240", "timestamp_s": 329.0}, {"text": "So on the screen you have four time series", "timestamp": "00:05:32,656", "timestamp_s": 332.0}, {"text": "with the same name metric name foo all time series", "timestamp": "00:05:36,136", "timestamp_s": 336.0}, {"text": "has a value and the timestamp when that value was observed.", "timestamp": "00:05:39,840", "timestamp_s": 339.0}, {"text": "So we talk here about four attributes, the metric", "timestamp": "00:05:44,384", "timestamp_s": 344.0}, {"text": "name and metadata which identifies", "timestamp": "00:05:48,248", "timestamp_s": 348.0}, {"text": "the time series. And then we have a value and a timestamp.", "timestamp": "00:05:51,844", "timestamp_s": 351.0}, {"text": "Basically our observation when it was made and what", "timestamp": "00:05:55,420", "timestamp_s": 355.0}, {"text": "is the observation? If you want to learn more about internals", "timestamp": "00:05:58,924", "timestamp_s": 358.0}, {"text": "of the data model in, please visit docsecterometrics.com", "timestamp": "00:06:02,916", "timestamp_s": 362.0}, {"text": "keyconcepts and I hope you will find many useful information", "timestamp": "00:06:06,788", "timestamp_s": 366.0}, {"text": "there. Okay, when we ingest", "timestamp": "00:06:10,756", "timestamp_s": 370.0}, {"text": "this time series in the database,", "timestamp": "00:06:14,388", "timestamp_s": 374.0}, {"text": "both Prometheus and vector metrics will use metric name and metadata", "timestamp": "00:06:17,544", "timestamp_s": 377.0}, {"text": "combination as an id and that id will be added to", "timestamp": "00:06:21,728", "timestamp_s": 381.0}, {"text": "the index. So next time we can identify if we already", "timestamp": "00:06:25,248", "timestamp_s": 385.0}, {"text": "seen this time series and during read", "timestamp": "00:06:29,016", "timestamp_s": 389.0}, {"text": "time we will also know where to find our data", "timestamp": "00:06:32,624", "timestamp_s": 392.0}, {"text": "that user asked for value in timestamps", "timestamp": "00:06:36,440", "timestamp_s": 396.0}, {"text": "will be stored as a separate columns. Those separate columns", "timestamp": "00:06:40,400", "timestamp_s": 400.0}, {"text": "will be sorted differently. Different compression", "timestamp": "00:06:43,912", "timestamp_s": 403.0}, {"text": "algorithms will be applied to those columns. So this will be", "timestamp": "00:06:47,630", "timestamp_s": 407.0}, {"text": "stored like this automatically by Prometheus or vector metrics.", "timestamp": "00:06:52,494", "timestamp_s": 412.0}, {"text": "And knowing this, now we can say that data model", "timestamp": "00:06:56,694", "timestamp_s": 416.0}, {"text": "in Prometheus vector metrics can be changed. User doesn\u0027t", "timestamp": "00:07:01,166", "timestamp_s": 421.0}, {"text": "have control over this indexes.", "timestamp": "00:07:05,142", "timestamp_s": 425.0}, {"text": "Also no indexes are created automatically. You can\u0027t", "timestamp": "00:07:07,902", "timestamp_s": 427.0}, {"text": "change that. Data blocks already partitioned by time because", "timestamp": "00:07:11,798", "timestamp_s": 431.0}, {"text": "we are talking about time series database and the stored data types.", "timestamp": "00:07:15,136", "timestamp_s": 435.0}, {"text": "Stored data columns are already predefined. Values and", "timestamp": "00:07:19,632", "timestamp_s": 439.0}, {"text": "timestamps, names, metadata, you don\u0027t have control over this.", "timestamp": "00:07:23,704", "timestamp_s": 443.0}, {"text": "This is already predefined. So not", "timestamp": "00:07:27,888", "timestamp_s": 447.0}, {"text": "much we can do. Let\u0027s now understand better what time series", "timestamp": "00:07:31,944", "timestamp_s": 451.0}, {"text": "is. So we have a metric called", "timestamp": "00:07:35,680", "timestamp_s": 455.0}, {"text": "foo and it has four time series. Under these names.", "timestamp": "00:07:39,792", "timestamp_s": 459.0}, {"text": "The different only labels and the dots on", "timestamp": "00:07:44,214", "timestamp_s": 464.0}, {"text": "the screen are basically our data samples.", "timestamp": "00:07:48,038", "timestamp_s": 468.0}, {"text": "So data sample is a pair of value and", "timestamp": "00:07:52,614", "timestamp_s": 472.0}, {"text": "the timestamp when this data sample was", "timestamp": "00:07:56,390", "timestamp_s": 476.0}, {"text": "observed. And this is exactly why timeseries called time", "timestamp": "00:07:59,622", "timestamp_s": 479.0}, {"text": "series because we have a series of these observations. We have a", "timestamp": "00:08:03,126", "timestamp_s": 483.0}, {"text": "series of data samples ordered by time and", "timestamp": "00:08:06,750", "timestamp_s": 486.0}, {"text": "each time series can have arbitrary number of these observations at different", "timestamp": "00:08:10,534", "timestamp_s": 490.0}, {"text": "resolution. Okay,", "timestamp": "00:08:14,134", "timestamp_s": 494.0}, {"text": "and what makes our prom quell and", "timestamp": "00:08:17,270", "timestamp_s": 497.0}, {"text": "metrics QL queries slow?", "timestamp": "00:08:21,814", "timestamp_s": 501.0}, {"text": "There are two main reasons why they can be slow.", "timestamp": "00:08:25,734", "timestamp_s": 505.0}, {"text": "When we select big number of time series", "timestamp": "00:08:29,350", "timestamp_s": 509.0}, {"text": "and when we select big number of data samples within", "timestamp": "00:08:32,974", "timestamp_s": 512.0}, {"text": "those time series. Let\u0027s see it on example.", "timestamp": "00:08:37,008", "timestamp_s": 517.0}, {"text": "So here we have a query which doesn\u0027t", "timestamp": "00:08:40,592", "timestamp_s": 520.0}, {"text": "have any filters in it. No time filter,", "timestamp": "00:08:44,896", "timestamp_s": 524.0}, {"text": "no label filter. So we select everything. So we select all the time series,", "timestamp": "00:08:48,576", "timestamp_s": 528.0}, {"text": "we have all the time samples that we have. This query", "timestamp": "00:08:52,136", "timestamp_s": 532.0}, {"text": "will be slow, likely to be slow.", "timestamp": "00:08:55,680", "timestamp_s": 535.0}, {"text": "Now we add a filter to this query.", "timestamp": "00:08:59,904", "timestamp_s": 539.0}, {"text": "So we want only label one and label two", "timestamp": "00:09:03,344", "timestamp_s": 543.0}, {"text": "to be present in response. So we scan twice less data.", "timestamp": "00:09:07,144", "timestamp_s": 547.0}, {"text": "This query will be faster than the previous. And in this example", "timestamp": "00:09:10,966", "timestamp_s": 550.0}, {"text": "we also had time filter. So we want not all the", "timestamp": "00:09:14,574", "timestamp_s": 554.0}, {"text": "data samples that we want that there are in the database, but only last", "timestamp": "00:09:18,462", "timestamp_s": 558.0}, {"text": "five minutes. So we reduce the number of", "timestamp": "00:09:22,142", "timestamp_s": 562.0}, {"text": "samples we need to select. This query will be faster than the previous", "timestamp": "00:09:25,782", "timestamp_s": 565.0}, {"text": "query. And yeah, the most valuable", "timestamp": "00:09:29,502", "timestamp_s": 569.0}, {"text": "advice I can give you on this talk is selecting less data is", "timestamp": "00:09:33,350", "timestamp_s": 573.0}, {"text": "the most effective way to optimize the query performance.", "timestamp": "00:09:37,540", "timestamp_s": 577.0}, {"text": "If you remember only this from this talk, that already", "timestamp": "00:09:41,164", "timestamp_s": 581.0}, {"text": "will be very good.", "timestamp": "00:09:44,996", "timestamp_s": 584.0}, {"text": "Okay, so the question now is how I, as a developer", "timestamp": "00:09:47,964", "timestamp_s": 587.0}, {"text": "or DevOps can understand the volume,", "timestamp": "00:09:52,404", "timestamp_s": 592.0}, {"text": "the volume of data my query selects. How can,", "timestamp": "00:09:56,004", "timestamp_s": 596.0}, {"text": "how can I estimate complexity of my query?", "timestamp": "00:09:59,724", "timestamp_s": 599.0}, {"text": "Well, for this we need to answer this two questions, how many", "timestamp": "00:10:03,436", "timestamp_s": 603.0}, {"text": "series we select and how many samples we select. So on the screen right now,", "timestamp": "00:10:07,220", "timestamp_s": 607.0}, {"text": "you have advice how you can estimate the number", "timestamp": "00:10:10,900", "timestamp_s": 610.0}, {"text": "of series your query select. For this, you basically need to apply", "timestamp": "00:10:14,684", "timestamp_s": 614.0}, {"text": "a function called count. So you have your series selector and", "timestamp": "00:10:18,140", "timestamp_s": 618.0}, {"text": "you wrap it in the function count. This will calculate the number of time series", "timestamp": "00:10:22,220", "timestamp_s": 622.0}, {"text": "your query will select. Here\u0027s an", "timestamp": "00:10:26,604", "timestamp_s": 626.0}, {"text": "example of our first two queries. In the beginning of", "timestamp": "00:10:29,820", "timestamp_s": 629.0}, {"text": "the presentation, the first query is slow, the second is fast.", "timestamp": "00:10:33,518", "timestamp_s": 633.0}, {"text": "So the slow query selects about", "timestamp": "00:10:36,870", "timestamp_s": 636.0}, {"text": "1000 of time series and", "timestamp": "00:10:40,934", "timestamp_s": 640.0}, {"text": "the second query selects only one. So no", "timestamp": "00:10:44,470", "timestamp_s": 644.0}, {"text": "surprise why the slope query is slow. It selects 1000 more", "timestamp": "00:10:47,982", "timestamp_s": 647.0}, {"text": "time series than the second one. Okay,", "timestamp": "00:10:51,190", "timestamp_s": 651.0}, {"text": "these are serious. What about samples? For samples,", "timestamp": "00:10:54,238", "timestamp_s": 654.0}, {"text": "you need to apply a different function called", "timestamp": "00:10:58,418", "timestamp_s": 658.0}, {"text": "count overtime which calculates the amount of samples", "timestamp": "00:11:01,834", "timestamp_s": 661.0}, {"text": "on specified interval. Now let\u0027s try", "timestamp": "00:11:05,866", "timestamp_s": 665.0}, {"text": "it on example. So our slow and fast query.", "timestamp": "00:11:09,682", "timestamp_s": 669.0}, {"text": "Well, slow query selects 16", "timestamp": "00:11:13,338", "timestamp_s": 673.0}, {"text": "million of samples and the fast query", "timestamp": "00:11:16,610", "timestamp_s": 676.0}, {"text": "selects 17,000. So pretty huge difference.", "timestamp": "00:11:20,074", "timestamp_s": 680.0}, {"text": "Again, no wonder why the first query was", "timestamp": "00:11:23,930", "timestamp_s": 683.0}, {"text": "so slow and the second query was so fast.", "timestamp": "00:11:27,346", "timestamp_s": 687.0}, {"text": "Cool. So conclusion, no matter what your query", "timestamp": "00:11:30,754", "timestamp_s": 690.0}, {"text": "is, the more series you select and the", "timestamp": "00:11:34,402", "timestamp_s": 694.0}, {"text": "more data samples you select and process,", "timestamp": "00:11:37,850", "timestamp_s": 697.0}, {"text": "the slower this query will be. That\u0027s the rule of thumb.", "timestamp": "00:11:41,634", "timestamp_s": 701.0}, {"text": "And one more trick to this.", "timestamp": "00:11:45,754", "timestamp_s": 705.0}, {"text": "So selected samples aren\u0027t always equal", "timestamp": "00:11:48,834", "timestamp_s": 708.0}, {"text": "to processed samples. So, you know,", "timestamp": "00:11:52,164", "timestamp_s": 712.0}, {"text": "in Grafana you use these panels called time series which are plotting", "timestamp": "00:11:55,092", "timestamp_s": 715.0}, {"text": "many data points ordered by time on the time", "timestamp": "00:11:59,164", "timestamp_s": 719.0}, {"text": "series graph and those queries. To plot this", "timestamp": "00:12:03,092", "timestamp_s": 723.0}, {"text": "query, you need to issue range query range", "timestamp": "00:12:07,140", "timestamp_s": 727.0}, {"text": "query executes the given query with the specified", "timestamp": "00:12:11,580", "timestamp_s": 731.0}, {"text": "step paramount. Basically it executes it many", "timestamp": "00:12:15,444", "timestamp_s": 735.0}, {"text": "times on the selecting interval.", "timestamp": "00:12:19,368", "timestamp_s": 739.0}, {"text": "This is how it looks. So here we have an example of", "timestamp": "00:12:23,024", "timestamp_s": 743.0}, {"text": "query max over time over 1 hour interval for", "timestamp": "00:12:27,144", "timestamp_s": 747.0}, {"text": "metric name and we execute it on 1 hour", "timestamp": "00:12:30,400", "timestamp_s": 750.0}, {"text": "time range with 1 second resolution. So what", "timestamp": "00:12:35,184", "timestamp_s": 755.0}, {"text": "it actually means that max over time will be executed", "timestamp": "00:12:39,120", "timestamp_s": 759.0}, {"text": "3600 times and each time it", "timestamp": "00:12:42,964", "timestamp_s": 762.0}, {"text": "will be selecting 1 hour of data what is specified in", "timestamp": "00:12:46,460", "timestamp_s": 766.0}, {"text": "square brackets. So here we will select", "timestamp": "00:12:50,276", "timestamp_s": 770.0}, {"text": "2 hours of data samples but we will", "timestamp": "00:12:54,324", "timestamp_s": 774.0}, {"text": "process them 3000 times. So this is the difference between", "timestamp": "00:12:57,868", "timestamp_s": 777.0}, {"text": "selected samples and processed samples. This query will", "timestamp": "00:13:02,100", "timestamp_s": 782.0}, {"text": "be very slow because of the step param. If we\u0027ll increase", "timestamp": "00:13:05,932", "timestamp_s": 785.0}, {"text": "step paramount, the query will be more lightweight. If we set", "timestamp": "00:13:09,804", "timestamp_s": 789.0}, {"text": "step paramount to 30 minutes it will be pretty lightweight.", "timestamp": "00:13:13,434", "timestamp_s": 793.0}, {"text": "Okay, what about functions?", "timestamp": "00:13:17,994", "timestamp_s": 797.0}, {"text": "How slow are the functions that we use in our expressions?", "timestamp": "00:13:21,458", "timestamp_s": 801.0}, {"text": "Well, on the screen you have ordered list", "timestamp": "00:13:25,322", "timestamp_s": 805.0}, {"text": "from least expensive to the most expensive functions.", "timestamp": "00:13:29,114", "timestamp_s": 809.0}, {"text": "And I also used font size to emphasize", "timestamp": "00:13:32,578", "timestamp_s": 812.0}, {"text": "complexity. So the small font size are lightweight. Function lightweight", "timestamp": "00:13:35,666", "timestamp_s": 815.0}, {"text": "functions, big font size is expensive functions.", "timestamp": "00:13:39,644", "timestamp_s": 819.0}, {"text": "So label manipulation functions are the least", "timestamp": "00:13:44,284", "timestamp_s": 824.0}, {"text": "expensive. They don\u0027t do calculations, they just attach", "timestamp": "00:13:47,916", "timestamp_s": 827.0}, {"text": "meta information to the response. That\u0027s all. Pretty lightweight", "timestamp": "00:13:51,588", "timestamp_s": 831.0}, {"text": "transform functions as well. They\u0027re not doing anything", "timestamp": "00:13:55,332", "timestamp_s": 835.0}, {"text": "complex aggregate functions, more complex. They have some logic logic", "timestamp": "00:13:59,716", "timestamp_s": 839.0}, {"text": "in processing, so they need to calculate mean mux sample for example.", "timestamp": "00:14:03,540", "timestamp_s": 843.0}, {"text": "And the most expensive functions are allowed. Functions such as rate", "timestamp": "00:14:08,574", "timestamp_s": 848.0}, {"text": "increase min over time. Well, the functions that need look", "timestamp": "00:14:12,438", "timestamp_s": 852.0}, {"text": "behind min dup to specify it next to the metric name.", "timestamp": "00:14:16,094", "timestamp_s": 856.0}, {"text": "And by coincidence, rate and increase", "timestamp": "00:14:19,494", "timestamp_s": 859.0}, {"text": "are the most popular functions in the prom queue", "timestamp": "00:14:23,334", "timestamp_s": 863.0}, {"text": "or metrics. Kl it is very likely most of your dashboards", "timestamp": "00:14:26,830", "timestamp_s": 866.0}, {"text": "in grafana they use this function.", "timestamp": "00:14:30,590", "timestamp_s": 870.0}, {"text": "So yeah, rate and increase are the", "timestamp": "00:14:33,764", "timestamp_s": 873.0}, {"text": "most expensive. Oh wait, I forgot.", "timestamp": "00:14:37,060", "timestamp_s": 877.0}, {"text": "Subqueries are so big that they didn\u0027t fit the", "timestamp": "00:14:41,244", "timestamp_s": 881.0}, {"text": "previous slide. So I\u0027m changing my mind.", "timestamp": "00:14:44,900", "timestamp_s": 884.0}, {"text": "Subqueries are the most expensive. What subquery is,", "timestamp": "00:14:48,092", "timestamp_s": 888.0}, {"text": "you can see example how subquery look like.", "timestamp": "00:14:52,076", "timestamp_s": 892.0}, {"text": "So they allow you to use", "timestamp": "00:14:55,364", "timestamp_s": 895.0}, {"text": "to combine functions to calculate the inner query many", "timestamp": "00:14:59,444", "timestamp_s": 899.0}, {"text": "times and then fed results of those calculations to the author", "timestamp": "00:15:02,754", "timestamp_s": 902.0}, {"text": "query. And this is why they are so expensive,", "timestamp": "00:15:06,578", "timestamp_s": 906.0}, {"text": "because the inner query can be calculated many, many times and this inner query", "timestamp": "00:15:10,282", "timestamp_s": 910.0}, {"text": "can be not very lightweight.", "timestamp": "00:15:13,946", "timestamp_s": 913.0}, {"text": "So you will end up with a", "timestamp": "00:15:16,466", "timestamp_s": 916.0}, {"text": "pretty expensive query in the end. And another bad", "timestamp": "00:15:20,010", "timestamp_s": 920.0}, {"text": "thing about subqueries, they are very complicated,", "timestamp": "00:15:23,242", "timestamp_s": 923.0}, {"text": "they are complex to write, they are hard", "timestamp": "00:15:26,602", "timestamp_s": 926.0}, {"text": "to understand, they are hard to read. So if", "timestamp": "00:15:30,094", "timestamp_s": 930.0}, {"text": "you have an option to not use", "timestamp": "00:15:33,622", "timestamp_s": 933.0}, {"text": "subqueries, I would stick to that. If you want", "timestamp": "00:15:36,942", "timestamp_s": 936.0}, {"text": "queries to be fast, don\u0027t use subqueries.", "timestamp": "00:15:40,390", "timestamp_s": 940.0}, {"text": "Okay, what other performance improvement tips can I give you?", "timestamp": "00:15:44,774", "timestamp_s": 944.0}, {"text": "Query caching of course, caching makes everything faster.", "timestamp": "00:15:48,894", "timestamp_s": 948.0}, {"text": "So Prometheus doesn\u0027t support caching out of", "timestamp": "00:15:53,134", "timestamp_s": 953.0}, {"text": "the box. Really? So it is community", "timestamp": "00:15:56,400", "timestamp_s": 956.0}, {"text": "implemented. The fix for that there are reverse proxies to", "timestamp": "00:15:59,864", "timestamp_s": 959.0}, {"text": "the rescue. Reverse proxies such as Promsky or", "timestamp": "00:16:03,688", "timestamp_s": 963.0}, {"text": "tanosquery frontend. What are reverse proxies?", "timestamp": "00:16:07,640", "timestamp_s": 967.0}, {"text": "It\u0027s a middleware between a", "timestamp": "00:16:11,000", "timestamp_s": 971.0}, {"text": "user and Prometheus server. So you", "timestamp": "00:16:14,632", "timestamp_s": 974.0}, {"text": "install it, user communicates with a proxy and proxy sends", "timestamp": "00:16:17,912", "timestamp_s": 977.0}, {"text": "query to the Prometheus and this proxy can", "timestamp": "00:16:21,460", "timestamp_s": 981.0}, {"text": "cache the responses from Prometheus. So the repeatant query will be served", "timestamp": "00:16:24,924", "timestamp_s": 984.0}, {"text": "without touching the Prometheus data source.", "timestamp": "00:16:28,900", "timestamp_s": 988.0}, {"text": "How this looks like in", "timestamp": "00:16:32,924", "timestamp_s": 992.0}, {"text": "reality. So here we have the range query which", "timestamp": "00:16:38,060", "timestamp_s": 998.0}, {"text": "calculates rate over the metric. And in response to this", "timestamp": "00:16:41,172", "timestamp_s": 1001.0}, {"text": "query we get single data points", "timestamp": "00:16:44,404", "timestamp_s": 1004.0}, {"text": "ordered like with 30 minutes or something like that here.", "timestamp": "00:16:48,400", "timestamp_s": 1008.0}, {"text": "So we execute this query and we get this ordered", "timestamp": "00:16:52,384", "timestamp_s": 1012.0}, {"text": "list of values with 30 minutes step okay,", "timestamp": "00:16:55,968", "timestamp_s": 1015.0}, {"text": "if we execute this query one more time,", "timestamp": "00:17:00,792", "timestamp_s": 1020.0}, {"text": "30 minutes later, it is likely that", "timestamp": "00:17:04,024", "timestamp_s": 1024.0}, {"text": "we can reuse our previous result, right? Because those queries", "timestamp": "00:17:07,960", "timestamp_s": 1027.0}, {"text": "in the past, they didn\u0027t change, the time series didn\u0027t change in the", "timestamp": "00:17:11,264", "timestamp_s": 1031.0}, {"text": "past. So what this reverse", "timestamp": "00:17:14,992", "timestamp_s": 1034.0}, {"text": "proxy do they cache those previous", "timestamp": "00:17:18,928", "timestamp_s": 1038.0}, {"text": "data points and when you repeat your query again,", "timestamp": "00:17:22,976", "timestamp_s": 1042.0}, {"text": "they serve the most of these data points from the", "timestamp": "00:17:26,560", "timestamp_s": 1046.0}, {"text": "cache, and then they ask from the data source", "timestamp": "00:17:30,032", "timestamp_s": 1050.0}, {"text": "only for the data points they don\u0027t have yet, because time", "timestamp": "00:17:33,672", "timestamp_s": 1053.0}, {"text": "already shifted a bit like 30 minutes later, we issued the same", "timestamp": "00:17:37,664", "timestamp_s": 1057.0}, {"text": "query, so we don\u0027t have the most recent data point.", "timestamp": "00:17:41,192", "timestamp_s": 1061.0}, {"text": "And those reverse proxies can understand that and they can", "timestamp": "00:17:44,714", "timestamp_s": 1064.0}, {"text": "ask, they can query only this for this missing", "timestamp": "00:17:48,170", "timestamp_s": 1068.0}, {"text": "data point from the database. So that\u0027s cool. For repeating", "timestamp": "00:17:51,602", "timestamp_s": 1071.0}, {"text": "queries, it reduces pressure on your Prometheus server.", "timestamp": "00:17:55,442", "timestamp_s": 1075.0}, {"text": "Very very much so. I recommend using them.", "timestamp": "00:17:59,562", "timestamp_s": 1079.0}, {"text": "They are pretty handy and will improve the query performance.", "timestamp": "00:18:03,314", "timestamp_s": 1083.0}, {"text": "What else? Builders push down so we", "timestamp": "00:18:08,194", "timestamp_s": 1088.0}, {"text": "have two queries on the screen. The first query", "timestamp": "00:18:12,134", "timestamp_s": 1092.0}, {"text": "takes 3 seconds to load, the second query takes 70 milliseconds", "timestamp": "00:18:15,606", "timestamp_s": 1095.0}, {"text": "to load, but they will provide you, they will return you", "timestamp": "00:18:19,822", "timestamp_s": 1099.0}, {"text": "the same equal the same result.", "timestamp": "00:18:23,478", "timestamp_s": 1103.0}, {"text": "And the reason why the first query is expensive and takes", "timestamp": "00:18:26,614", "timestamp_s": 1106.0}, {"text": "too much time is because Prometheus executes the", "timestamp": "00:18:29,822", "timestamp_s": 1109.0}, {"text": "first and the second query one by one.", "timestamp": "00:18:33,310", "timestamp_s": 1113.0}, {"text": "So we execute the first query with the filter and the second query", "timestamp": "00:18:36,852", "timestamp_s": 1116.0}, {"text": "without filter. And then when we do the division,", "timestamp": "00:18:40,244", "timestamp_s": 1120.0}, {"text": "Prometheus will keep only those time series that match by", "timestamp": "00:18:44,404", "timestamp_s": 1124.0}, {"text": "labels perfectly from the first expression and the second expression.", "timestamp": "00:18:48,164", "timestamp_s": 1128.0}, {"text": "So basically it will drop a", "timestamp": "00:18:51,804", "timestamp_s": 1131.0}, {"text": "lot of time series that do not satisfy the filter in denominator.", "timestamp": "00:18:56,100", "timestamp_s": 1136.0}, {"text": "This is why if we specify the filter in both", "timestamp": "00:19:00,204", "timestamp_s": 1140.0}, {"text": "numerator and denominator, the query will be faster because", "timestamp": "00:19:04,560", "timestamp_s": 1144.0}, {"text": "Prometheus will not select the data it doesn\u0027t need for", "timestamp": "00:19:09,544", "timestamp_s": 1149.0}, {"text": "this calculation. This called filters pushdown. So if you have", "timestamp": "00:19:13,608", "timestamp_s": 1153.0}, {"text": "this somewhere in your queries, make sure that you propagate that", "timestamp": "00:19:17,536", "timestamp_s": 1157.0}, {"text": "filter to each part of the", "timestamp": "00:19:21,024", "timestamp_s": 1161.0}, {"text": "query. This will improve the performance.", "timestamp": "00:19:24,672", "timestamp_s": 1164.0}, {"text": "What else? Recording rules this is also a common", "timestamp": "00:19:28,694", "timestamp_s": 1168.0}, {"text": "advice by the Prometheus community that you can for", "timestamp": "00:19:32,894", "timestamp_s": 1172.0}, {"text": "expensive queries. For mission criticals queries, you can precompute", "timestamp": "00:19:36,782", "timestamp_s": 1176.0}, {"text": "some time series via recording rules.", "timestamp": "00:19:41,118", "timestamp_s": 1181.0}, {"text": "So recording rule is usually generating", "timestamp": "00:19:44,374", "timestamp_s": 1184.0}, {"text": "less data in the output than it receives", "timestamp": "00:19:49,030", "timestamp_s": 1189.0}, {"text": "on the input. And this data is also time series.", "timestamp": "00:19:52,214", "timestamp_s": 1192.0}, {"text": "So if you have this less data to", "timestamp": "00:19:55,654", "timestamp_s": 1195.0}, {"text": "query back, then this query over recording rule results will be", "timestamp": "00:19:59,030", "timestamp_s": 1199.0}, {"text": "much faster. It is likely if you didn\u0027t mess up, of course, with recording rule", "timestamp": "00:20:02,230", "timestamp_s": 1202.0}, {"text": "expression. So this is a really cool", "timestamp": "00:20:05,910", "timestamp_s": 1205.0}, {"text": "thing for a dashboard, because dashboards always have the same queries.", "timestamp": "00:20:09,614", "timestamp_s": 1209.0}, {"text": "And if you pre compute those queries,", "timestamp": "00:20:13,638", "timestamp_s": 1213.0}, {"text": "your dashboards will be lowered and faster. But there are also disadvantages", "timestamp": "00:20:16,774", "timestamp_s": 1216.0}, {"text": "of using recording rules. So the", "timestamp": "00:20:20,470", "timestamp_s": 1220.0}, {"text": "first disadvantage is that recording rules, they have a", "timestamp": "00:20:23,932", "timestamp_s": 1223.0}, {"text": "constant pressure on your database because they constantly", "timestamp": "00:20:27,500", "timestamp_s": 1227.0}, {"text": "reevaluate the same expression over and over,", "timestamp": "00:20:30,908", "timestamp_s": 1230.0}, {"text": "and your data source need to calculate it over and over.", "timestamp": "00:20:34,044", "timestamp_s": 1234.0}, {"text": "Also, recording rules produce extra time series in", "timestamp": "00:20:38,164", "timestamp_s": 1238.0}, {"text": "response, and those time series need to be stored in the database.", "timestamp": "00:20:41,764", "timestamp_s": 1241.0}, {"text": "So every time when you apply, when you set up a", "timestamp": "00:20:45,740", "timestamp_s": 1245.0}, {"text": "new recording rule in your prometheus, you will have", "timestamp": "00:20:48,996", "timestamp_s": 1248.0}, {"text": "more time series in the database stored after that.", "timestamp": "00:20:52,706", "timestamp_s": 1252.0}, {"text": "So, and this requires resources, of course. And also", "timestamp": "00:20:56,154", "timestamp_s": 1256.0}, {"text": "recording rules is something that needs to be maintained. You need to define", "timestamp": "00:21:00,690", "timestamp_s": 1260.0}, {"text": "them and you need to remember", "timestamp": "00:21:04,626", "timestamp_s": 1264.0}, {"text": "about them, because if you want to change the query in your", "timestamp": "00:21:07,770", "timestamp_s": 1267.0}, {"text": "dashboard or you want to change metrics in your application which", "timestamp": "00:21:11,362", "timestamp_s": 1271.0}, {"text": "exposes this metrics, you. You need to remember that somewhere you", "timestamp": "00:21:15,234", "timestamp_s": 1275.0}, {"text": "have this recording rule configured, and it is very likely you", "timestamp": "00:21:19,362", "timestamp_s": 1279.0}, {"text": "need to go and change the expression there as well,", "timestamp": "00:21:22,738", "timestamp_s": 1282.0}, {"text": "otherwise it will be not correct. So yeah,", "timestamp": "00:21:26,834", "timestamp_s": 1286.0}, {"text": "recording rules. So let\u0027s sum up", "timestamp": "00:21:30,626", "timestamp_s": 1290.0}, {"text": "quickly what we can do. So, to optimize", "timestamp": "00:21:34,458", "timestamp_s": 1294.0}, {"text": "promql and metrics Ql queries,", "timestamp": "00:21:37,946", "timestamp_s": 1297.0}, {"text": "very good. The strategy will be to measure their complexity to", "timestamp": "00:21:41,674", "timestamp_s": 1301.0}, {"text": "understand how much time series and how many samples we select.", "timestamp": "00:21:45,370", "timestamp_s": 1305.0}, {"text": "Can we select less? Can we optimize this query somehow?", "timestamp": "00:21:49,250", "timestamp_s": 1309.0}, {"text": "We can also use caching frontend to reduce the pressure on the database", "timestamp": "00:21:53,954", "timestamp_s": 1313.0}, {"text": "for queries that are repeating themselves over the time interval.", "timestamp": "00:21:57,738", "timestamp_s": 1317.0}, {"text": "We also need to carefully craft queries", "timestamp": "00:22:01,506", "timestamp_s": 1321.0}, {"text": "to always use the right filters or to not have too", "timestamp": "00:22:07,434", "timestamp_s": 1327.0}, {"text": "small step or too big look behind windows to get", "timestamp": "00:22:11,600", "timestamp_s": 1331.0}, {"text": "the optimal performance for these queries. And of course use recording rules for", "timestamp": "00:22:15,160", "timestamp_s": 1335.0}, {"text": "performance critical queries.", "timestamp": "00:22:19,440", "timestamp_s": 1339.0}, {"text": "Okay, and now the second part. Can Victoria", "timestamp": "00:22:21,944", "timestamp_s": 1341.0}, {"text": "Matrix make it easier for developers?", "timestamp": "00:22:25,280", "timestamp_s": 1345.0}, {"text": "For DevOps for users? Yes, it can.", "timestamp": "00:22:28,888", "timestamp_s": 1348.0}, {"text": "Well, Victoria metrics provide a set of optimizations and", "timestamp": "00:22:32,856", "timestamp_s": 1352.0}, {"text": "instruments which will help you to understand and to", "timestamp": "00:22:36,464", "timestamp_s": 1356.0}, {"text": "understand complexity of the query and improve its performance.", "timestamp": "00:22:40,128", "timestamp_s": 1360.0}, {"text": "And the first thing that Victoriometrics provides is a cardinality explorer.", "timestamp": "00:22:44,744", "timestamp_s": 1364.0}, {"text": "It\u0027s basically built in page in the Vector metrics", "timestamp": "00:22:49,416", "timestamp_s": 1369.0}, {"text": "UI, which shows you the most expensive", "timestamp": "00:22:52,760", "timestamp_s": 1372.0}, {"text": "metric names, the most expensive time series,", "timestamp": "00:22:57,144", "timestamp_s": 1377.0}, {"text": "etcetera. So cardinal Explorer", "timestamp": "00:23:00,760", "timestamp_s": 1380.0}, {"text": "helps you to understand what actually stored in your database,", "timestamp": "00:23:04,144", "timestamp_s": 1384.0}, {"text": "how many time series are behind the metric name.", "timestamp": "00:23:08,464", "timestamp_s": 1388.0}, {"text": "It also can help you to decide whether it\u0027s", "timestamp": "00:23:11,904", "timestamp_s": 1391.0}, {"text": "worth to store those super expensive metrics. Do you actually use", "timestamp": "00:23:15,872", "timestamp_s": 1395.0}, {"text": "them? Because if you get rid of them, your database will just become faster,", "timestamp": "00:23:19,856", "timestamp_s": 1399.0}, {"text": "you will need less resources.", "timestamp": "00:23:23,784", "timestamp_s": 1403.0}, {"text": "Yeah, so this is available in Victoria metrics", "timestamp": "00:23:26,784", "timestamp_s": 1406.0}, {"text": "UI components. And the cool thing about", "timestamp": "00:23:30,488", "timestamp_s": 1410.0}, {"text": "this cardinality Explorer is that you can use it with", "timestamp": "00:23:34,024", "timestamp_s": 1414.0}, {"text": "Prometheus as well. So you can specify Prometheus URL in", "timestamp": "00:23:37,590", "timestamp_s": 1417.0}, {"text": "Cardinality Explorer and it will give you some functionality of this", "timestamp": "00:23:41,470", "timestamp_s": 1421.0}, {"text": "explorer for Prometheus.", "timestamp": "00:23:45,422", "timestamp_s": 1425.0}, {"text": "Okay, query tracing. So there is also a built in", "timestamp": "00:23:48,174", "timestamp_s": 1428.0}, {"text": "feature which helps you to understand what", "timestamp": "00:23:51,998", "timestamp_s": 1431.0}, {"text": "happens on every stage of query execution. This is very", "timestamp": "00:23:55,494", "timestamp_s": 1435.0}, {"text": "similar to what postgres has with explain", "timestamp": "00:23:58,918", "timestamp_s": 1438.0}, {"text": "analyze statement. So here\u0027s how it looks like.", "timestamp": "00:24:02,606", "timestamp_s": 1442.0}, {"text": "You execute the query and you enable trace query button and", "timestamp": "00:24:05,846", "timestamp_s": 1445.0}, {"text": "it will provide you like tree lag structure with", "timestamp": "00:24:09,710", "timestamp_s": 1449.0}, {"text": "every stage of query execution as it was executed", "timestamp": "00:24:13,790", "timestamp_s": 1453.0}, {"text": "inside Victoria metrics. And it will show how much time was", "timestamp": "00:24:17,166", "timestamp_s": 1457.0}, {"text": "spent on each stage, plus additional information about", "timestamp": "00:24:20,478", "timestamp_s": 1460.0}, {"text": "what\u0027s happening on each stage of the execution.", "timestamp": "00:24:24,206", "timestamp_s": 1464.0}, {"text": "So for example, in the query trace", "timestamp": "00:24:28,294", "timestamp_s": 1468.0}, {"text": "you can see how many series", "timestamp": "00:24:31,994", "timestamp_s": 1471.0}, {"text": "and samples it selected for this query. The trace", "timestamp": "00:24:36,122", "timestamp_s": 1476.0}, {"text": "will say well, we selected 500 series,", "timestamp": "00:24:40,114", "timestamp_s": 1480.0}, {"text": "66,000 of samples and 273", "timestamp": "00:24:44,594", "timestamp_s": 1484.0}, {"text": "data in overall. The trace also can contain information", "timestamp": "00:24:51,130", "timestamp_s": 1491.0}, {"text": "like we used that much ram", "timestamp": "00:24:54,538", "timestamp_s": 1494.0}, {"text": "on during processing this query. So that\u0027s the estimation for", "timestamp": "00:24:58,904", "timestamp_s": 1498.0}, {"text": "you. And with query trace you can understand", "timestamp": "00:25:02,600", "timestamp_s": 1502.0}, {"text": "exactly what\u0027s happening when you execute the query.", "timestamp": "00:25:05,816", "timestamp_s": 1505.0}, {"text": "Or for example query caching. Yeah. By the way,", "timestamp": "00:25:09,264", "timestamp_s": 1509.0}, {"text": "the cache thing that I explained a few slides ago,", "timestamp": "00:25:12,512", "timestamp_s": 1512.0}, {"text": "it is built in in vector metrics components.", "timestamp": "00:25:16,256", "timestamp_s": 1516.0}, {"text": "So you don\u0027t need to think of reverse proxies. It is already there.", "timestamp": "00:25:19,968", "timestamp_s": 1519.0}, {"text": "It is already used for range and instant queries. You don\u0027t need to", "timestamp": "00:25:23,928", "timestamp_s": 1523.0}, {"text": "even think about this. And in", "timestamp": "00:25:27,884", "timestamp_s": 1527.0}, {"text": "query trace you can see if your query hit the cache", "timestamp": "00:25:31,332", "timestamp_s": 1531.0}, {"text": "and maybe it hit cache partially. So you will see how", "timestamp": "00:25:35,340", "timestamp_s": 1535.0}, {"text": "many entries exactly was fetched from cache, how many", "timestamp": "00:25:39,372", "timestamp_s": 1539.0}, {"text": "what? The query was sent to the data source to", "timestamp": "00:25:43,372", "timestamp_s": 1543.0}, {"text": "fetch the missing data. So all this information is there in", "timestamp": "00:25:46,828", "timestamp_s": 1546.0}, {"text": "the trace filters pushdown. You don\u0027t", "timestamp": "00:25:50,626", "timestamp_s": 1550.0}, {"text": "need to think about this in victoriometrics as well, because it does,", "timestamp": "00:25:54,322", "timestamp_s": 1554.0}, {"text": "it automatically. It optimizes the query when it can,", "timestamp": "00:25:57,402", "timestamp_s": 1557.0}, {"text": "and trace will show you this as well. So you see the first,", "timestamp": "00:26:01,306", "timestamp_s": 1561.0}, {"text": "in the first row of the trace", "timestamp": "00:26:05,914", "timestamp_s": 1565.0}, {"text": "we see the exact query, how we send it, and on the", "timestamp": "00:26:09,810", "timestamp_s": 1569.0}, {"text": "second step, Vector matrix applied optimization and pushed down", "timestamp": "00:26:14,714", "timestamp_s": 1574.0}, {"text": "the filter to the second part of the expression to make it", "timestamp": "00:26:19,002", "timestamp_s": 1579.0}, {"text": "in the most efficient way.", "timestamp": "00:26:22,298", "timestamp_s": 1582.0}, {"text": "Okay, recording rules so remember this recording rules concept where", "timestamp": "00:26:26,344", "timestamp_s": 1586.0}, {"text": "you need to evaluate expressions and persist results back", "timestamp": "00:26:30,080", "timestamp_s": 1590.0}, {"text": "to the time series database. Vector matrix can do that,", "timestamp": "00:26:35,384", "timestamp_s": 1595.0}, {"text": "but it also can do a better thing. It supports", "timestamp": "00:26:39,224", "timestamp_s": 1599.0}, {"text": "the streaming aggregation concept. So you", "timestamp": "00:26:42,592", "timestamp_s": 1602.0}, {"text": "can do this aggregations these pre calculations of", "timestamp": "00:26:46,768", "timestamp_s": 1606.0}, {"text": "the data before data gets into the", "timestamp": "00:26:50,420", "timestamp_s": 1610.0}, {"text": "time series database. And this is super cool because you", "timestamp": "00:26:54,340", "timestamp_s": 1614.0}, {"text": "don\u0027t need to store raw data if you don\u0027t want to. You can", "timestamp": "00:26:57,828", "timestamp_s": 1617.0}, {"text": "store only aggregates and this will tremendously", "timestamp": "00:27:01,172", "timestamp_s": 1621.0}, {"text": "reduce the amount of resources your time series database need", "timestamp": "00:27:05,444", "timestamp_s": 1625.0}, {"text": "to have. And by the way, this streaming aggregation concept,", "timestamp": "00:27:08,580", "timestamp_s": 1628.0}, {"text": "it is available in the VM agent which one of the", "timestamp": "00:27:12,292", "timestamp_s": 1632.0}, {"text": "Victor metrics tools. And you can use VM agent with your Prometheus.", "timestamp": "00:27:15,788", "timestamp_s": 1635.0}, {"text": "You can use VM agent with other database which supports", "timestamp": "00:27:19,282", "timestamp_s": 1639.0}, {"text": "remote write protocol. So yes,", "timestamp": "00:27:22,554", "timestamp_s": 1642.0}, {"text": "I really like this feature because it helps to reduce pressure on", "timestamp": "00:27:26,562", "timestamp_s": 1646.0}, {"text": "database many many times. It\u0027s super cool.", "timestamp": "00:27:29,770", "timestamp_s": 1649.0}, {"text": "Yeah, so that was mostly it.", "timestamp": "00:27:34,114", "timestamp_s": 1654.0}, {"text": "My talk. You can find more information in", "timestamp": "00:27:37,354", "timestamp_s": 1657.0}, {"text": "this additional materials if you scan the QR code. You will go to the", "timestamp": "00:27:40,850", "timestamp_s": 1660.0}, {"text": "slides of this presentation and all links there will be", "timestamp": "00:27:45,004", "timestamp_s": 1665.0}, {"text": "available for you. So I recommend reading the blog", "timestamp": "00:27:48,420", "timestamp_s": 1668.0}, {"text": "post about optimizing PropQL and metricsQl expressions", "timestamp": "00:27:52,804", "timestamp_s": 1672.0}, {"text": "and also a very detailed blog post about how subqueries works", "timestamp": "00:27:55,948", "timestamp_s": 1675.0}, {"text": "in vector metrics and in Prometheus you can find information about", "timestamp": "00:27:59,956", "timestamp_s": 1679.0}, {"text": "query, trace and stream aggregation, etcetera.", "timestamp": "00:28:03,148", "timestamp_s": 1683.0}, {"text": "Yep, so that\u0027s me. Thank you very much for your attention and", "timestamp": "00:28:06,764", "timestamp_s": 1686.0}, {"text": "I will be happy to answer any questions if you will have them.", "timestamp": "00:28:11,028", "timestamp_s": 1691.0}, {"text": "Thank you.", "timestamp": "00:28:14,452", "timestamp_s": 1694.0}];
              

              var tag = document.createElement('script');

              tag.src = "https://www.youtube.com/iframe_api";
              var firstScriptTag = document.getElementsByTagName('script')[0];
              firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

              // 3. This function creates an <iframe> (and YouTube player)
              //    after the API code downloads.
              var player;
              function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                  height: '100%',
                  width: '100%',
                  videoId: 'lDyxBqoC_ww',
                  playerVars: {
                    'playsinline': 1
                  },
                  events: {
                    'onReady': onPlayerReady,
                    // 'onStateChange': onPlayerStateChange
                  }
                });
              }
              function onPlayerReady(event) {
                console.log("Player ready");
                var sec = Number(location.href.split("#")[1]);
                if (sec){
                  player.seekTo(sec, true);
                }
                player.playVideo();
                highlightParagraph();
              }
              // find the number of the paragraph
              function findParagraph(sec){
                for (var i = 1; i < transcript.length; i++) {
                  if (transcript[i].timestamp_s > sec){
                    return i - 1;
                  }
                }
                return transcript.length - 1;
              }
              // move the video to the desired second
              function seek(sec){
                if(player){
                  player.playVideo();
                  player.seekTo(sec, true);
                }
                location.href = location.href.split("#")[0] + "#" + sec;
                highlightParagraph(sec);
              }
              // highlight the right paragraph
              var prevParagraph;
              function highlightParagraph(sec) {
                var currentTime = sec;
                if (!currentTime && player) {
                  currentTime = player.getCurrentTime();
                }
                if (!currentTime){
                  console.log("No current time")
                  return;
                }
                var currentParagraph = findParagraph(currentTime);
                if (currentParagraph !== prevParagraph){
                  prevParagraph = currentParagraph;
                  Array.from(document.getElementsByClassName("transcript-chunks")).forEach((e) => {
                    e.classList.remove('text-selected');
                  });
                  var body = document.getElementById("chunk-"+currentParagraph);
                  body.classList.add('text-selected');
                }
              }
              time_update_interval = setInterval(highlightParagraph, 1000);
            </script>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>
    

    <!-- CONTENT -->
    <section class="pt-2">
      <div class="container">
        <div class="row justify-content-center">

          <div class="col-12 mb-5">
            <h1>
              How to Measure PromQL / MetricsQL Expression Complexity
            </h1>
            
            <h3 class="bg-white">
              Video size:
              <a href="javascript:void(0);" onclick="resizeVideo(25)"><i class="fe fe-zoom-out me-2"></i></a>
              <a href="javascript:void(0);" onclick="resizeVideo(50)"><i class="fe fe-zoom-in me-2"></i></a>
            </h3>
            
          </div>

          <div class="col-12 mb-5">
            <h3>
              Abstract
            </h3>
<!-- Text -->
<p>Dive into the complexities of PromQL/MetricsQL expressions with Roman! Learn about query processing stages, identify bottlenecks, and discover speed optimizations for distributed processing.</p>
<!-- End Text -->
          </div>

          

          <div class="col-12 mb-5">
            <h3>
              Summary
            </h3>
            <ul>
              
              <li>
                Roman Roman is working on an open source project called Victoria Metrics. The project uses Prometheus and Xtora Matrix query languages. In this talk, Roman explains how to make your queries faster. He also explains why some queries are so slow.

              </li>
              
              <li>
                The more series you select and the more data samples you select, the slower this query will be. And one more trick to this, selected samples aren't always equal to processed samples. No matter what your query is, the more volume it selects, the faster it will work.

              </li>
              
              <li>
                Subqueries are the most expensive. If you want queries to be fast, don't use subqueries. Reverse proxies are a middleware between a user and Prometheus server. They are pretty handy and will improve the query performance.

              </li>
              
              <li>
                Victoria metrics provide a set of optimizations and instruments which will help you to understand and to understand complexity of the query and improve its performance. With query trace you can understand exactly what's happening when you execute the query. This will tremendously reduce the amount of resources your time series database need to have.

              </li>
              
              <li>
                You can find more information in this additional materials if you scan the QR code. You will go to the slides of this presentation and all links there will be available for you. I will be happy to answer any questions if you will have them.
              </li>
              
            </ul>
          </div>

          <div class="col-12 mb-5">
            <h3>
              Transcript
            </h3>
            <span class="text-muted">
              This transcript was autogenerated. To make changes, <a href="https://github.com/conf42/src/edit/main/./assemblyai/lDyxBqoC_ww.srt" target="_blank">submit a PR</a>.
            </span>
            <div>
            
            <span id="chunk-0" class="transcript-chunks" onclick="console.log('00:00:27,160'); seek(27.0)">
              Hello everyone and welcome to my talk about measuring
            </span>
            
            <span id="chunk-1" class="transcript-chunks" onclick="console.log('00:00:31,064'); seek(31.0)">
              expression complexity for PromptQL and MetricsQL.
            </span>
            
            <span id="chunk-2" class="transcript-chunks" onclick="console.log('00:00:35,624'); seek(35.0)">
              A few words about me. My name is Roman. I'm software
            </span>
            
            <span id="chunk-3" class="transcript-chunks" onclick="console.log('00:00:39,320'); seek(39.0)">
              engineer with experience in distributed systems
            </span>
            
            <span id="chunk-4" class="transcript-chunks" onclick="console.log('00:00:43,112'); seek(43.0)">
              and lasts five years. I'm working on an open source project
            </span>
            
            <span id="chunk-5" class="transcript-chunks" onclick="console.log('00:00:46,872'); seek(46.0)">
              called Victoria Metrics. Victoria Metrics is an open source time
            </span>
            
            <span id="chunk-6" class="transcript-chunks" onclick="console.log('00:00:50,672'); seek(50.0)">
              series database. It's available on GitHub under Apache
            </span>
            
            <span id="chunk-7" class="transcript-chunks" onclick="console.log('00:00:54,072'); seek(54.0)">
              two license. So I encourage everyone to check on it.
            </span>
            
            <span id="chunk-8" class="transcript-chunks" onclick="console.log('00:00:58,644'); seek(58.0)">
              Okay, what this talk is about, so maybe many of you know
            </span>
            
            <span id="chunk-9" class="transcript-chunks" onclick="console.log('00:01:02,804'); seek(62.0)">
              what Prometheus is or what euctorium metrics is, but just
            </span>
            
            <span id="chunk-10" class="transcript-chunks" onclick="console.log('00:01:06,204'); seek(66.0)">
              in case, both of them are used for monitoring
            </span>
            
            <span id="chunk-11" class="transcript-chunks" onclick="console.log('00:01:09,684'); seek(69.0)">
              and for alerting, for collecting metrics, storing them and processing.
            </span>
            
            <span id="chunk-12" class="transcript-chunks" onclick="console.log('00:01:13,764'); seek(73.0)">
              Both of them are open source and Prometheus is
            </span>
            
            <span id="chunk-13" class="transcript-chunks" onclick="console.log('00:01:17,052'); seek(77.0)">
              using PromQL as a query language and
            </span>
            
            <span id="chunk-14" class="transcript-chunks" onclick="console.log('00:01:20,260'); seek(80.0)">
              Xtora Matrix uses Matrixql as a query language.
            </span>
            
            <span id="chunk-15" class="transcript-chunks" onclick="console.log('00:01:23,614'); seek(83.0)">
              These two languages are very similar with the same syntax.
            </span>
            
            <span id="chunk-16" class="transcript-chunks" onclick="console.log('00:01:26,550'); seek(86.0)">
              So this talk will be beneficial for if you,
            </span>
            
            <span id="chunk-17" class="transcript-chunks" onclick="console.log('00:01:30,382'); seek(90.0)">
              if you familiar with any of these systems. And both of them
            </span>
            
            <span id="chunk-18" class="transcript-chunks" onclick="console.log('00:01:34,326'); seek(94.0)">
              are well integrated with Grafana. So you can plot dashboards
            </span>
            
            <span id="chunk-19" class="transcript-chunks" onclick="console.log('00:01:38,334'); seek(98.0)">
              with vectoriometrics or Prometheus as data sources.
            </span>
            
            <span id="chunk-20" class="transcript-chunks" onclick="console.log('00:01:42,374'); seek(102.0)">
              And this exactly the case when
            </span>
            
            <span id="chunk-21" class="transcript-chunks" onclick="console.log('00:01:46,214'); seek(106.0)">
              things can go bad. So imagine yourself in the middle of
            </span>
            
            <span id="chunk-22" class="transcript-chunks" onclick="console.log('00:01:49,390'); seek(109.0)">
              the incident trying to understand why your system
            </span>
            
            <span id="chunk-23" class="transcript-chunks" onclick="console.log('00:01:53,126'); seek(113.0)">
              is on fire. You go to Grafana, you open your tarpaulin, and then
            </span>
            
            <span id="chunk-24" class="transcript-chunks" onclick="console.log('00:01:56,662'); seek(116.0)">
              it takes 60 seconds or something like that to load.
            </span>
            
            <span id="chunk-25" class="transcript-chunks" onclick="console.log('00:02:00,974'); seek(120.0)">
              Everything is so slow and this just adds
            </span>
            
            <span id="chunk-26" class="transcript-chunks" onclick="console.log('00:02:04,830'); seek(124.0)">
              more stress to your working day.
            </span>
            
            <span id="chunk-27" class="transcript-chunks" onclick="console.log('00:02:08,574'); seek(128.0)">
              So I hope with this talk we will try to address this
            </span>
            
            <span id="chunk-28" class="transcript-chunks" onclick="console.log('00:02:12,286'); seek(132.0)">
              stress level to reduce it, because hopefully you will
            </span>
            
            <span id="chunk-29" class="transcript-chunks" onclick="console.log('00:02:16,262'); seek(136.0)">
              learn how to make your queries faster or at least to understand
            </span>
            
            <span id="chunk-30" class="transcript-chunks" onclick="console.log('00:02:20,546'); seek(140.0)">
              why they are slow.
            </span>
            
            <span id="chunk-31" class="transcript-chunks" onclick="console.log('00:02:23,834'); seek(143.0)">
              Okay, on the screen we have two examples,
            </span>
            
            <span id="chunk-32" class="transcript-chunks" onclick="console.log('00:02:27,818'); seek(147.0)">
              two similar examples of a slow query and a fast query.
            </span>
            
            <span id="chunk-33" class="transcript-chunks" onclick="console.log('00:02:31,514'); seek(151.0)">
              So the first query on the screen is the slow one.
            </span>
            
            <span id="chunk-34" class="transcript-chunks" onclick="console.log('00:02:34,754'); seek(154.0)">
              It takes 3.5 seconds to execute. And the
            </span>
            
            <span id="chunk-35" class="transcript-chunks" onclick="console.log('00:02:38,362'); seek(158.0)">
              second query is very similar, it's almost the
            </span>
            
            <span id="chunk-36" class="transcript-chunks" onclick="console.log('00:02:41,538'); seek(161.0)">
              same, but it has a different metric name inside and it takes 50 milliseconds.
            </span>
            
            <span id="chunk-37" class="transcript-chunks" onclick="console.log('00:02:45,794'); seek(165.0)">
              So why it is so
            </span>
            
            <span id="chunk-38" class="transcript-chunks" onclick="console.log('00:02:49,212'); seek(169.0)">
              fast? Or the first query, why it is so slow? Normally I
            </span>
            
            <span id="chunk-39" class="transcript-chunks" onclick="console.log('00:02:52,788'); seek(172.0)">
              will ask on a flying conference, I will ask people to answer in
            </span>
            
            <span id="chunk-40" class="transcript-chunks" onclick="console.log('00:02:57,148'); seek(177.0)">
              the room, but we are online, so I will answer myself.
            </span>
            
            <span id="chunk-41" class="transcript-chunks" onclick="console.log('00:03:00,668'); seek(180.0)">
              Well, because those queries are not identical, they scan
            </span>
            
            <span id="chunk-42" class="transcript-chunks" onclick="console.log('00:03:04,388'); seek(184.0)">
              different amounts of data, those metric names,
            </span>
            
            <span id="chunk-43" class="transcript-chunks" onclick="console.log('00:03:07,836'); seek(187.0)">
              they have different amounts of time series behind them.
            </span>
            
            <span id="chunk-44" class="transcript-chunks" onclick="console.log('00:03:12,464'); seek(192.0)">
              So in order to understand this difference,
            </span>
            
            <span id="chunk-45" class="transcript-chunks" onclick="console.log('00:03:18,264'); seek(198.0)">
              why we scan that much data, or why queries so slow
            </span>
            
            <span id="chunk-46" class="transcript-chunks" onclick="console.log('00:03:21,632'); seek(201.0)">
              because of scanning much data, let's try
            </span>
            
            <span id="chunk-47" class="transcript-chunks" onclick="console.log('00:03:25,312'); seek(205.0)">
              to build a mental model of what is going on with timesir database.
            </span>
            
            <span id="chunk-48" class="transcript-chunks" onclick="console.log('00:03:29,504'); seek(209.0)">
              And maybe not all of you have this mental model
            </span>
            
            <span id="chunk-49" class="transcript-chunks" onclick="console.log('00:03:32,976'); seek(212.0)">
              already of how Prometheus vector metrics works, but it is very likely
            </span>
            
            <span id="chunk-50" class="transcript-chunks" onclick="console.log('00:03:37,064'); seek(217.0)">
              you understand how traditional relational databases work,
            </span>
            
            <span id="chunk-51" class="transcript-chunks" onclick="console.log('00:03:40,112'); seek(220.0)">
              like MySQL for example. So let's try to refer to
            </span>
            
            <span id="chunk-52" class="transcript-chunks" onclick="console.log('00:03:43,582'); seek(223.0)">
              that experience of optimizing MySQL queries and
            </span>
            
            <span id="chunk-53" class="transcript-chunks" onclick="console.log('00:03:47,526'); seek(227.0)">
              try to apply them to prompt your metric SQL expression.
            </span>
            
            <span id="chunk-54" class="transcript-chunks" onclick="console.log('00:03:51,574'); seek(231.0)">
              So to do this, I asked ChatGpt,
            </span>
            
            <span id="chunk-55" class="transcript-chunks" onclick="console.log('00:03:54,894'); seek(234.0)">
              how can I optimize this SQL query? And chat
            </span>
            
            <span id="chunk-56" class="transcript-chunks" onclick="console.log('00:03:59,510'); seek(239.0)">
              GPT provided really good advices, so that
            </span>
            
            <span id="chunk-57" class="transcript-chunks" onclick="console.log('00:04:04,182'); seek(244.0)">
              was pretty helpful. So for example, I have this not
            </span>
            
            <span id="chunk-58" class="transcript-chunks" onclick="console.log('00:04:08,106'); seek(248.0)">
              optimized query which selects everything from table,
            </span>
            
            <span id="chunk-59" class="transcript-chunks" onclick="console.log('00:04:10,938'); seek(250.0)">
              bar and chat. GPT gave me these advice.
            </span>
            
            <span id="chunk-60" class="transcript-chunks" onclick="console.log('00:04:14,498'); seek(254.0)">
              So use indexes, but avoid using too much indexes.
            </span>
            
            <span id="chunk-61" class="transcript-chunks" onclick="console.log('00:04:19,154'); seek(259.0)">
              Select only what you need, try to filter data as early as
            </span>
            
            <span id="chunk-62" class="transcript-chunks" onclick="console.log('00:04:22,850'); seek(262.0)">
              possible, think of your database design and maybe apply
            </span>
            
            <span id="chunk-63" class="transcript-chunks" onclick="console.log('00:04:26,026'); seek(266.0)">
              partitioning if you need it. Okay,
            </span>
            
            <span id="chunk-64" class="transcript-chunks" onclick="console.log('00:04:29,634'); seek(269.0)">
              so I follow those advices. I reworked my table.
            </span>
            
            <span id="chunk-65" class="transcript-chunks" onclick="console.log('00:04:33,494'); seek(273.0)">
              I'm selecting only the columns that I need. I partition
            </span>
            
            <span id="chunk-66" class="transcript-chunks" onclick="console.log('00:04:37,350'); seek(277.0)">
              my table by time. So I am adding the filter by date and
            </span>
            
            <span id="chunk-67" class="transcript-chunks" onclick="console.log('00:04:41,246'); seek(281.0)">
              I index my table by user id. So I'm
            </span>
            
            <span id="chunk-68" class="transcript-chunks" onclick="console.log('00:04:44,702'); seek(284.0)">
              selecting only the user I want to and this
            </span>
            
            <span id="chunk-69" class="transcript-chunks" onclick="console.log('00:04:47,902'); seek(287.0)">
              query will become faster after I modified the table, after I modified
            </span>
            
            <span id="chunk-70" class="transcript-chunks" onclick="console.log('00:04:52,054'); seek(292.0)">
              my database design, after I changed
            </span>
            
            <span id="chunk-71" class="transcript-chunks" onclick="console.log('00:04:55,422'); seek(295.0)">
              my query to be efficient.
            </span>
            
            <span id="chunk-72" class="transcript-chunks" onclick="console.log('00:04:58,474'); seek(298.0)">
              Okay, but can I apply the same tips, the same strategy
            </span>
            
            <span id="chunk-73" class="transcript-chunks" onclick="console.log('00:05:02,202'); seek(302.0)">
              to prompt QL and metrics QL expression? Well,
            </span>
            
            <span id="chunk-74" class="transcript-chunks" onclick="console.log('00:05:05,258'); seek(305.0)">
              not really, because neither the Prometheus
            </span>
            
            <span id="chunk-75" class="transcript-chunks" onclick="console.log('00:05:08,402'); seek(308.0)">
              nor Victoria metrics provide you that flexibility,
            </span>
            
            <span id="chunk-76" class="transcript-chunks" onclick="console.log('00:05:12,034'); seek(312.0)">
              actually. In fact, you can use only filtering
            </span>
            
            <span id="chunk-77" class="transcript-chunks" onclick="console.log('00:05:15,426'); seek(315.0)">
              data as your main leverage on improving the performance of the queries.
            </span>
            
            <span id="chunk-78" class="transcript-chunks" onclick="console.log('00:05:20,714'); seek(320.0)">
              Okay, let's now try to build a mental
            </span>
            
            <span id="chunk-79" class="transcript-chunks" onclick="console.log('00:05:24,818'); seek(324.0)">
              model of how Prometheus vector metrics works.
            </span>
            
            <span id="chunk-80" class="transcript-chunks" onclick="console.log('00:05:29,240'); seek(329.0)">
              Very simplified, sophisticated mental model.
            </span>
            
            <span id="chunk-81" class="transcript-chunks" onclick="console.log('00:05:32,656'); seek(332.0)">
              So on the screen you have four time series
            </span>
            
            <span id="chunk-82" class="transcript-chunks" onclick="console.log('00:05:36,136'); seek(336.0)">
              with the same name metric name foo all time series
            </span>
            
            <span id="chunk-83" class="transcript-chunks" onclick="console.log('00:05:39,840'); seek(339.0)">
              has a value and the timestamp when that value was observed.
            </span>
            
            <span id="chunk-84" class="transcript-chunks" onclick="console.log('00:05:44,384'); seek(344.0)">
              So we talk here about four attributes, the metric
            </span>
            
            <span id="chunk-85" class="transcript-chunks" onclick="console.log('00:05:48,248'); seek(348.0)">
              name and metadata which identifies
            </span>
            
            <span id="chunk-86" class="transcript-chunks" onclick="console.log('00:05:51,844'); seek(351.0)">
              the time series. And then we have a value and a timestamp.
            </span>
            
            <span id="chunk-87" class="transcript-chunks" onclick="console.log('00:05:55,420'); seek(355.0)">
              Basically our observation when it was made and what
            </span>
            
            <span id="chunk-88" class="transcript-chunks" onclick="console.log('00:05:58,924'); seek(358.0)">
              is the observation? If you want to learn more about internals
            </span>
            
            <span id="chunk-89" class="transcript-chunks" onclick="console.log('00:06:02,916'); seek(362.0)">
              of the data model in, please visit docsecterometrics.com
            </span>
            
            <span id="chunk-90" class="transcript-chunks" onclick="console.log('00:06:06,788'); seek(366.0)">
              keyconcepts and I hope you will find many useful information
            </span>
            
            <span id="chunk-91" class="transcript-chunks" onclick="console.log('00:06:10,756'); seek(370.0)">
              there. Okay, when we ingest
            </span>
            
            <span id="chunk-92" class="transcript-chunks" onclick="console.log('00:06:14,388'); seek(374.0)">
              this time series in the database,
            </span>
            
            <span id="chunk-93" class="transcript-chunks" onclick="console.log('00:06:17,544'); seek(377.0)">
              both Prometheus and vector metrics will use metric name and metadata
            </span>
            
            <span id="chunk-94" class="transcript-chunks" onclick="console.log('00:06:21,728'); seek(381.0)">
              combination as an id and that id will be added to
            </span>
            
            <span id="chunk-95" class="transcript-chunks" onclick="console.log('00:06:25,248'); seek(385.0)">
              the index. So next time we can identify if we already
            </span>
            
            <span id="chunk-96" class="transcript-chunks" onclick="console.log('00:06:29,016'); seek(389.0)">
              seen this time series and during read
            </span>
            
            <span id="chunk-97" class="transcript-chunks" onclick="console.log('00:06:32,624'); seek(392.0)">
              time we will also know where to find our data
            </span>
            
            <span id="chunk-98" class="transcript-chunks" onclick="console.log('00:06:36,440'); seek(396.0)">
              that user asked for value in timestamps
            </span>
            
            <span id="chunk-99" class="transcript-chunks" onclick="console.log('00:06:40,400'); seek(400.0)">
              will be stored as a separate columns. Those separate columns
            </span>
            
            <span id="chunk-100" class="transcript-chunks" onclick="console.log('00:06:43,912'); seek(403.0)">
              will be sorted differently. Different compression
            </span>
            
            <span id="chunk-101" class="transcript-chunks" onclick="console.log('00:06:47,630'); seek(407.0)">
              algorithms will be applied to those columns. So this will be
            </span>
            
            <span id="chunk-102" class="transcript-chunks" onclick="console.log('00:06:52,494'); seek(412.0)">
              stored like this automatically by Prometheus or vector metrics.
            </span>
            
            <span id="chunk-103" class="transcript-chunks" onclick="console.log('00:06:56,694'); seek(416.0)">
              And knowing this, now we can say that data model
            </span>
            
            <span id="chunk-104" class="transcript-chunks" onclick="console.log('00:07:01,166'); seek(421.0)">
              in Prometheus vector metrics can be changed. User doesn't
            </span>
            
            <span id="chunk-105" class="transcript-chunks" onclick="console.log('00:07:05,142'); seek(425.0)">
              have control over this indexes.
            </span>
            
            <span id="chunk-106" class="transcript-chunks" onclick="console.log('00:07:07,902'); seek(427.0)">
              Also no indexes are created automatically. You can't
            </span>
            
            <span id="chunk-107" class="transcript-chunks" onclick="console.log('00:07:11,798'); seek(431.0)">
              change that. Data blocks already partitioned by time because
            </span>
            
            <span id="chunk-108" class="transcript-chunks" onclick="console.log('00:07:15,136'); seek(435.0)">
              we are talking about time series database and the stored data types.
            </span>
            
            <span id="chunk-109" class="transcript-chunks" onclick="console.log('00:07:19,632'); seek(439.0)">
              Stored data columns are already predefined. Values and
            </span>
            
            <span id="chunk-110" class="transcript-chunks" onclick="console.log('00:07:23,704'); seek(443.0)">
              timestamps, names, metadata, you don't have control over this.
            </span>
            
            <span id="chunk-111" class="transcript-chunks" onclick="console.log('00:07:27,888'); seek(447.0)">
              This is already predefined. So not
            </span>
            
            <span id="chunk-112" class="transcript-chunks" onclick="console.log('00:07:31,944'); seek(451.0)">
              much we can do. Let's now understand better what time series
            </span>
            
            <span id="chunk-113" class="transcript-chunks" onclick="console.log('00:07:35,680'); seek(455.0)">
              is. So we have a metric called
            </span>
            
            <span id="chunk-114" class="transcript-chunks" onclick="console.log('00:07:39,792'); seek(459.0)">
              foo and it has four time series. Under these names.
            </span>
            
            <span id="chunk-115" class="transcript-chunks" onclick="console.log('00:07:44,214'); seek(464.0)">
              The different only labels and the dots on
            </span>
            
            <span id="chunk-116" class="transcript-chunks" onclick="console.log('00:07:48,038'); seek(468.0)">
              the screen are basically our data samples.
            </span>
            
            <span id="chunk-117" class="transcript-chunks" onclick="console.log('00:07:52,614'); seek(472.0)">
              So data sample is a pair of value and
            </span>
            
            <span id="chunk-118" class="transcript-chunks" onclick="console.log('00:07:56,390'); seek(476.0)">
              the timestamp when this data sample was
            </span>
            
            <span id="chunk-119" class="transcript-chunks" onclick="console.log('00:07:59,622'); seek(479.0)">
              observed. And this is exactly why timeseries called time
            </span>
            
            <span id="chunk-120" class="transcript-chunks" onclick="console.log('00:08:03,126'); seek(483.0)">
              series because we have a series of these observations. We have a
            </span>
            
            <span id="chunk-121" class="transcript-chunks" onclick="console.log('00:08:06,750'); seek(486.0)">
              series of data samples ordered by time and
            </span>
            
            <span id="chunk-122" class="transcript-chunks" onclick="console.log('00:08:10,534'); seek(490.0)">
              each time series can have arbitrary number of these observations at different
            </span>
            
            <span id="chunk-123" class="transcript-chunks" onclick="console.log('00:08:14,134'); seek(494.0)">
              resolution. Okay,
            </span>
            
            <span id="chunk-124" class="transcript-chunks" onclick="console.log('00:08:17,270'); seek(497.0)">
              and what makes our prom quell and
            </span>
            
            <span id="chunk-125" class="transcript-chunks" onclick="console.log('00:08:21,814'); seek(501.0)">
              metrics QL queries slow?
            </span>
            
            <span id="chunk-126" class="transcript-chunks" onclick="console.log('00:08:25,734'); seek(505.0)">
              There are two main reasons why they can be slow.
            </span>
            
            <span id="chunk-127" class="transcript-chunks" onclick="console.log('00:08:29,350'); seek(509.0)">
              When we select big number of time series
            </span>
            
            <span id="chunk-128" class="transcript-chunks" onclick="console.log('00:08:32,974'); seek(512.0)">
              and when we select big number of data samples within
            </span>
            
            <span id="chunk-129" class="transcript-chunks" onclick="console.log('00:08:37,008'); seek(517.0)">
              those time series. Let's see it on example.
            </span>
            
            <span id="chunk-130" class="transcript-chunks" onclick="console.log('00:08:40,592'); seek(520.0)">
              So here we have a query which doesn't
            </span>
            
            <span id="chunk-131" class="transcript-chunks" onclick="console.log('00:08:44,896'); seek(524.0)">
              have any filters in it. No time filter,
            </span>
            
            <span id="chunk-132" class="transcript-chunks" onclick="console.log('00:08:48,576'); seek(528.0)">
              no label filter. So we select everything. So we select all the time series,
            </span>
            
            <span id="chunk-133" class="transcript-chunks" onclick="console.log('00:08:52,136'); seek(532.0)">
              we have all the time samples that we have. This query
            </span>
            
            <span id="chunk-134" class="transcript-chunks" onclick="console.log('00:08:55,680'); seek(535.0)">
              will be slow, likely to be slow.
            </span>
            
            <span id="chunk-135" class="transcript-chunks" onclick="console.log('00:08:59,904'); seek(539.0)">
              Now we add a filter to this query.
            </span>
            
            <span id="chunk-136" class="transcript-chunks" onclick="console.log('00:09:03,344'); seek(543.0)">
              So we want only label one and label two
            </span>
            
            <span id="chunk-137" class="transcript-chunks" onclick="console.log('00:09:07,144'); seek(547.0)">
              to be present in response. So we scan twice less data.
            </span>
            
            <span id="chunk-138" class="transcript-chunks" onclick="console.log('00:09:10,966'); seek(550.0)">
              This query will be faster than the previous. And in this example
            </span>
            
            <span id="chunk-139" class="transcript-chunks" onclick="console.log('00:09:14,574'); seek(554.0)">
              we also had time filter. So we want not all the
            </span>
            
            <span id="chunk-140" class="transcript-chunks" onclick="console.log('00:09:18,462'); seek(558.0)">
              data samples that we want that there are in the database, but only last
            </span>
            
            <span id="chunk-141" class="transcript-chunks" onclick="console.log('00:09:22,142'); seek(562.0)">
              five minutes. So we reduce the number of
            </span>
            
            <span id="chunk-142" class="transcript-chunks" onclick="console.log('00:09:25,782'); seek(565.0)">
              samples we need to select. This query will be faster than the previous
            </span>
            
            <span id="chunk-143" class="transcript-chunks" onclick="console.log('00:09:29,502'); seek(569.0)">
              query. And yeah, the most valuable
            </span>
            
            <span id="chunk-144" class="transcript-chunks" onclick="console.log('00:09:33,350'); seek(573.0)">
              advice I can give you on this talk is selecting less data is
            </span>
            
            <span id="chunk-145" class="transcript-chunks" onclick="console.log('00:09:37,540'); seek(577.0)">
              the most effective way to optimize the query performance.
            </span>
            
            <span id="chunk-146" class="transcript-chunks" onclick="console.log('00:09:41,164'); seek(581.0)">
              If you remember only this from this talk, that already
            </span>
            
            <span id="chunk-147" class="transcript-chunks" onclick="console.log('00:09:44,996'); seek(584.0)">
              will be very good.
            </span>
            
            <span id="chunk-148" class="transcript-chunks" onclick="console.log('00:09:47,964'); seek(587.0)">
              Okay, so the question now is how I, as a developer
            </span>
            
            <span id="chunk-149" class="transcript-chunks" onclick="console.log('00:09:52,404'); seek(592.0)">
              or DevOps can understand the volume,
            </span>
            
            <span id="chunk-150" class="transcript-chunks" onclick="console.log('00:09:56,004'); seek(596.0)">
              the volume of data my query selects. How can,
            </span>
            
            <span id="chunk-151" class="transcript-chunks" onclick="console.log('00:09:59,724'); seek(599.0)">
              how can I estimate complexity of my query?
            </span>
            
            <span id="chunk-152" class="transcript-chunks" onclick="console.log('00:10:03,436'); seek(603.0)">
              Well, for this we need to answer this two questions, how many
            </span>
            
            <span id="chunk-153" class="transcript-chunks" onclick="console.log('00:10:07,220'); seek(607.0)">
              series we select and how many samples we select. So on the screen right now,
            </span>
            
            <span id="chunk-154" class="transcript-chunks" onclick="console.log('00:10:10,900'); seek(610.0)">
              you have advice how you can estimate the number
            </span>
            
            <span id="chunk-155" class="transcript-chunks" onclick="console.log('00:10:14,684'); seek(614.0)">
              of series your query select. For this, you basically need to apply
            </span>
            
            <span id="chunk-156" class="transcript-chunks" onclick="console.log('00:10:18,140'); seek(618.0)">
              a function called count. So you have your series selector and
            </span>
            
            <span id="chunk-157" class="transcript-chunks" onclick="console.log('00:10:22,220'); seek(622.0)">
              you wrap it in the function count. This will calculate the number of time series
            </span>
            
            <span id="chunk-158" class="transcript-chunks" onclick="console.log('00:10:26,604'); seek(626.0)">
              your query will select. Here's an
            </span>
            
            <span id="chunk-159" class="transcript-chunks" onclick="console.log('00:10:29,820'); seek(629.0)">
              example of our first two queries. In the beginning of
            </span>
            
            <span id="chunk-160" class="transcript-chunks" onclick="console.log('00:10:33,518'); seek(633.0)">
              the presentation, the first query is slow, the second is fast.
            </span>
            
            <span id="chunk-161" class="transcript-chunks" onclick="console.log('00:10:36,870'); seek(636.0)">
              So the slow query selects about
            </span>
            
            <span id="chunk-162" class="transcript-chunks" onclick="console.log('00:10:40,934'); seek(640.0)">
              1000 of time series and
            </span>
            
            <span id="chunk-163" class="transcript-chunks" onclick="console.log('00:10:44,470'); seek(644.0)">
              the second query selects only one. So no
            </span>
            
            <span id="chunk-164" class="transcript-chunks" onclick="console.log('00:10:47,982'); seek(647.0)">
              surprise why the slope query is slow. It selects 1000 more
            </span>
            
            <span id="chunk-165" class="transcript-chunks" onclick="console.log('00:10:51,190'); seek(651.0)">
              time series than the second one. Okay,
            </span>
            
            <span id="chunk-166" class="transcript-chunks" onclick="console.log('00:10:54,238'); seek(654.0)">
              these are serious. What about samples? For samples,
            </span>
            
            <span id="chunk-167" class="transcript-chunks" onclick="console.log('00:10:58,418'); seek(658.0)">
              you need to apply a different function called
            </span>
            
            <span id="chunk-168" class="transcript-chunks" onclick="console.log('00:11:01,834'); seek(661.0)">
              count overtime which calculates the amount of samples
            </span>
            
            <span id="chunk-169" class="transcript-chunks" onclick="console.log('00:11:05,866'); seek(665.0)">
              on specified interval. Now let's try
            </span>
            
            <span id="chunk-170" class="transcript-chunks" onclick="console.log('00:11:09,682'); seek(669.0)">
              it on example. So our slow and fast query.
            </span>
            
            <span id="chunk-171" class="transcript-chunks" onclick="console.log('00:11:13,338'); seek(673.0)">
              Well, slow query selects 16
            </span>
            
            <span id="chunk-172" class="transcript-chunks" onclick="console.log('00:11:16,610'); seek(676.0)">
              million of samples and the fast query
            </span>
            
            <span id="chunk-173" class="transcript-chunks" onclick="console.log('00:11:20,074'); seek(680.0)">
              selects 17,000. So pretty huge difference.
            </span>
            
            <span id="chunk-174" class="transcript-chunks" onclick="console.log('00:11:23,930'); seek(683.0)">
              Again, no wonder why the first query was
            </span>
            
            <span id="chunk-175" class="transcript-chunks" onclick="console.log('00:11:27,346'); seek(687.0)">
              so slow and the second query was so fast.
            </span>
            
            <span id="chunk-176" class="transcript-chunks" onclick="console.log('00:11:30,754'); seek(690.0)">
              Cool. So conclusion, no matter what your query
            </span>
            
            <span id="chunk-177" class="transcript-chunks" onclick="console.log('00:11:34,402'); seek(694.0)">
              is, the more series you select and the
            </span>
            
            <span id="chunk-178" class="transcript-chunks" onclick="console.log('00:11:37,850'); seek(697.0)">
              more data samples you select and process,
            </span>
            
            <span id="chunk-179" class="transcript-chunks" onclick="console.log('00:11:41,634'); seek(701.0)">
              the slower this query will be. That's the rule of thumb.
            </span>
            
            <span id="chunk-180" class="transcript-chunks" onclick="console.log('00:11:45,754'); seek(705.0)">
              And one more trick to this.
            </span>
            
            <span id="chunk-181" class="transcript-chunks" onclick="console.log('00:11:48,834'); seek(708.0)">
              So selected samples aren't always equal
            </span>
            
            <span id="chunk-182" class="transcript-chunks" onclick="console.log('00:11:52,164'); seek(712.0)">
              to processed samples. So, you know,
            </span>
            
            <span id="chunk-183" class="transcript-chunks" onclick="console.log('00:11:55,092'); seek(715.0)">
              in Grafana you use these panels called time series which are plotting
            </span>
            
            <span id="chunk-184" class="transcript-chunks" onclick="console.log('00:11:59,164'); seek(719.0)">
              many data points ordered by time on the time
            </span>
            
            <span id="chunk-185" class="transcript-chunks" onclick="console.log('00:12:03,092'); seek(723.0)">
              series graph and those queries. To plot this
            </span>
            
            <span id="chunk-186" class="transcript-chunks" onclick="console.log('00:12:07,140'); seek(727.0)">
              query, you need to issue range query range
            </span>
            
            <span id="chunk-187" class="transcript-chunks" onclick="console.log('00:12:11,580'); seek(731.0)">
              query executes the given query with the specified
            </span>
            
            <span id="chunk-188" class="transcript-chunks" onclick="console.log('00:12:15,444'); seek(735.0)">
              step paramount. Basically it executes it many
            </span>
            
            <span id="chunk-189" class="transcript-chunks" onclick="console.log('00:12:19,368'); seek(739.0)">
              times on the selecting interval.
            </span>
            
            <span id="chunk-190" class="transcript-chunks" onclick="console.log('00:12:23,024'); seek(743.0)">
              This is how it looks. So here we have an example of
            </span>
            
            <span id="chunk-191" class="transcript-chunks" onclick="console.log('00:12:27,144'); seek(747.0)">
              query max over time over 1 hour interval for
            </span>
            
            <span id="chunk-192" class="transcript-chunks" onclick="console.log('00:12:30,400'); seek(750.0)">
              metric name and we execute it on 1 hour
            </span>
            
            <span id="chunk-193" class="transcript-chunks" onclick="console.log('00:12:35,184'); seek(755.0)">
              time range with 1 second resolution. So what
            </span>
            
            <span id="chunk-194" class="transcript-chunks" onclick="console.log('00:12:39,120'); seek(759.0)">
              it actually means that max over time will be executed
            </span>
            
            <span id="chunk-195" class="transcript-chunks" onclick="console.log('00:12:42,964'); seek(762.0)">
              3600 times and each time it
            </span>
            
            <span id="chunk-196" class="transcript-chunks" onclick="console.log('00:12:46,460'); seek(766.0)">
              will be selecting 1 hour of data what is specified in
            </span>
            
            <span id="chunk-197" class="transcript-chunks" onclick="console.log('00:12:50,276'); seek(770.0)">
              square brackets. So here we will select
            </span>
            
            <span id="chunk-198" class="transcript-chunks" onclick="console.log('00:12:54,324'); seek(774.0)">
              2 hours of data samples but we will
            </span>
            
            <span id="chunk-199" class="transcript-chunks" onclick="console.log('00:12:57,868'); seek(777.0)">
              process them 3000 times. So this is the difference between
            </span>
            
            <span id="chunk-200" class="transcript-chunks" onclick="console.log('00:13:02,100'); seek(782.0)">
              selected samples and processed samples. This query will
            </span>
            
            <span id="chunk-201" class="transcript-chunks" onclick="console.log('00:13:05,932'); seek(785.0)">
              be very slow because of the step param. If we'll increase
            </span>
            
            <span id="chunk-202" class="transcript-chunks" onclick="console.log('00:13:09,804'); seek(789.0)">
              step paramount, the query will be more lightweight. If we set
            </span>
            
            <span id="chunk-203" class="transcript-chunks" onclick="console.log('00:13:13,434'); seek(793.0)">
              step paramount to 30 minutes it will be pretty lightweight.
            </span>
            
            <span id="chunk-204" class="transcript-chunks" onclick="console.log('00:13:17,994'); seek(797.0)">
              Okay, what about functions?
            </span>
            
            <span id="chunk-205" class="transcript-chunks" onclick="console.log('00:13:21,458'); seek(801.0)">
              How slow are the functions that we use in our expressions?
            </span>
            
            <span id="chunk-206" class="transcript-chunks" onclick="console.log('00:13:25,322'); seek(805.0)">
              Well, on the screen you have ordered list
            </span>
            
            <span id="chunk-207" class="transcript-chunks" onclick="console.log('00:13:29,114'); seek(809.0)">
              from least expensive to the most expensive functions.
            </span>
            
            <span id="chunk-208" class="transcript-chunks" onclick="console.log('00:13:32,578'); seek(812.0)">
              And I also used font size to emphasize
            </span>
            
            <span id="chunk-209" class="transcript-chunks" onclick="console.log('00:13:35,666'); seek(815.0)">
              complexity. So the small font size are lightweight. Function lightweight
            </span>
            
            <span id="chunk-210" class="transcript-chunks" onclick="console.log('00:13:39,644'); seek(819.0)">
              functions, big font size is expensive functions.
            </span>
            
            <span id="chunk-211" class="transcript-chunks" onclick="console.log('00:13:44,284'); seek(824.0)">
              So label manipulation functions are the least
            </span>
            
            <span id="chunk-212" class="transcript-chunks" onclick="console.log('00:13:47,916'); seek(827.0)">
              expensive. They don't do calculations, they just attach
            </span>
            
            <span id="chunk-213" class="transcript-chunks" onclick="console.log('00:13:51,588'); seek(831.0)">
              meta information to the response. That's all. Pretty lightweight
            </span>
            
            <span id="chunk-214" class="transcript-chunks" onclick="console.log('00:13:55,332'); seek(835.0)">
              transform functions as well. They're not doing anything
            </span>
            
            <span id="chunk-215" class="transcript-chunks" onclick="console.log('00:13:59,716'); seek(839.0)">
              complex aggregate functions, more complex. They have some logic logic
            </span>
            
            <span id="chunk-216" class="transcript-chunks" onclick="console.log('00:14:03,540'); seek(843.0)">
              in processing, so they need to calculate mean mux sample for example.
            </span>
            
            <span id="chunk-217" class="transcript-chunks" onclick="console.log('00:14:08,574'); seek(848.0)">
              And the most expensive functions are allowed. Functions such as rate
            </span>
            
            <span id="chunk-218" class="transcript-chunks" onclick="console.log('00:14:12,438'); seek(852.0)">
              increase min over time. Well, the functions that need look
            </span>
            
            <span id="chunk-219" class="transcript-chunks" onclick="console.log('00:14:16,094'); seek(856.0)">
              behind min dup to specify it next to the metric name.
            </span>
            
            <span id="chunk-220" class="transcript-chunks" onclick="console.log('00:14:19,494'); seek(859.0)">
              And by coincidence, rate and increase
            </span>
            
            <span id="chunk-221" class="transcript-chunks" onclick="console.log('00:14:23,334'); seek(863.0)">
              are the most popular functions in the prom queue
            </span>
            
            <span id="chunk-222" class="transcript-chunks" onclick="console.log('00:14:26,830'); seek(866.0)">
              or metrics. Kl it is very likely most of your dashboards
            </span>
            
            <span id="chunk-223" class="transcript-chunks" onclick="console.log('00:14:30,590'); seek(870.0)">
              in grafana they use this function.
            </span>
            
            <span id="chunk-224" class="transcript-chunks" onclick="console.log('00:14:33,764'); seek(873.0)">
              So yeah, rate and increase are the
            </span>
            
            <span id="chunk-225" class="transcript-chunks" onclick="console.log('00:14:37,060'); seek(877.0)">
              most expensive. Oh wait, I forgot.
            </span>
            
            <span id="chunk-226" class="transcript-chunks" onclick="console.log('00:14:41,244'); seek(881.0)">
              Subqueries are so big that they didn't fit the
            </span>
            
            <span id="chunk-227" class="transcript-chunks" onclick="console.log('00:14:44,900'); seek(884.0)">
              previous slide. So I'm changing my mind.
            </span>
            
            <span id="chunk-228" class="transcript-chunks" onclick="console.log('00:14:48,092'); seek(888.0)">
              Subqueries are the most expensive. What subquery is,
            </span>
            
            <span id="chunk-229" class="transcript-chunks" onclick="console.log('00:14:52,076'); seek(892.0)">
              you can see example how subquery look like.
            </span>
            
            <span id="chunk-230" class="transcript-chunks" onclick="console.log('00:14:55,364'); seek(895.0)">
              So they allow you to use
            </span>
            
            <span id="chunk-231" class="transcript-chunks" onclick="console.log('00:14:59,444'); seek(899.0)">
              to combine functions to calculate the inner query many
            </span>
            
            <span id="chunk-232" class="transcript-chunks" onclick="console.log('00:15:02,754'); seek(902.0)">
              times and then fed results of those calculations to the author
            </span>
            
            <span id="chunk-233" class="transcript-chunks" onclick="console.log('00:15:06,578'); seek(906.0)">
              query. And this is why they are so expensive,
            </span>
            
            <span id="chunk-234" class="transcript-chunks" onclick="console.log('00:15:10,282'); seek(910.0)">
              because the inner query can be calculated many, many times and this inner query
            </span>
            
            <span id="chunk-235" class="transcript-chunks" onclick="console.log('00:15:13,946'); seek(913.0)">
              can be not very lightweight.
            </span>
            
            <span id="chunk-236" class="transcript-chunks" onclick="console.log('00:15:16,466'); seek(916.0)">
              So you will end up with a
            </span>
            
            <span id="chunk-237" class="transcript-chunks" onclick="console.log('00:15:20,010'); seek(920.0)">
              pretty expensive query in the end. And another bad
            </span>
            
            <span id="chunk-238" class="transcript-chunks" onclick="console.log('00:15:23,242'); seek(923.0)">
              thing about subqueries, they are very complicated,
            </span>
            
            <span id="chunk-239" class="transcript-chunks" onclick="console.log('00:15:26,602'); seek(926.0)">
              they are complex to write, they are hard
            </span>
            
            <span id="chunk-240" class="transcript-chunks" onclick="console.log('00:15:30,094'); seek(930.0)">
              to understand, they are hard to read. So if
            </span>
            
            <span id="chunk-241" class="transcript-chunks" onclick="console.log('00:15:33,622'); seek(933.0)">
              you have an option to not use
            </span>
            
            <span id="chunk-242" class="transcript-chunks" onclick="console.log('00:15:36,942'); seek(936.0)">
              subqueries, I would stick to that. If you want
            </span>
            
            <span id="chunk-243" class="transcript-chunks" onclick="console.log('00:15:40,390'); seek(940.0)">
              queries to be fast, don't use subqueries.
            </span>
            
            <span id="chunk-244" class="transcript-chunks" onclick="console.log('00:15:44,774'); seek(944.0)">
              Okay, what other performance improvement tips can I give you?
            </span>
            
            <span id="chunk-245" class="transcript-chunks" onclick="console.log('00:15:48,894'); seek(948.0)">
              Query caching of course, caching makes everything faster.
            </span>
            
            <span id="chunk-246" class="transcript-chunks" onclick="console.log('00:15:53,134'); seek(953.0)">
              So Prometheus doesn't support caching out of
            </span>
            
            <span id="chunk-247" class="transcript-chunks" onclick="console.log('00:15:56,400'); seek(956.0)">
              the box. Really? So it is community
            </span>
            
            <span id="chunk-248" class="transcript-chunks" onclick="console.log('00:15:59,864'); seek(959.0)">
              implemented. The fix for that there are reverse proxies to
            </span>
            
            <span id="chunk-249" class="transcript-chunks" onclick="console.log('00:16:03,688'); seek(963.0)">
              the rescue. Reverse proxies such as Promsky or
            </span>
            
            <span id="chunk-250" class="transcript-chunks" onclick="console.log('00:16:07,640'); seek(967.0)">
              tanosquery frontend. What are reverse proxies?
            </span>
            
            <span id="chunk-251" class="transcript-chunks" onclick="console.log('00:16:11,000'); seek(971.0)">
              It's a middleware between a
            </span>
            
            <span id="chunk-252" class="transcript-chunks" onclick="console.log('00:16:14,632'); seek(974.0)">
              user and Prometheus server. So you
            </span>
            
            <span id="chunk-253" class="transcript-chunks" onclick="console.log('00:16:17,912'); seek(977.0)">
              install it, user communicates with a proxy and proxy sends
            </span>
            
            <span id="chunk-254" class="transcript-chunks" onclick="console.log('00:16:21,460'); seek(981.0)">
              query to the Prometheus and this proxy can
            </span>
            
            <span id="chunk-255" class="transcript-chunks" onclick="console.log('00:16:24,924'); seek(984.0)">
              cache the responses from Prometheus. So the repeatant query will be served
            </span>
            
            <span id="chunk-256" class="transcript-chunks" onclick="console.log('00:16:28,900'); seek(988.0)">
              without touching the Prometheus data source.
            </span>
            
            <span id="chunk-257" class="transcript-chunks" onclick="console.log('00:16:32,924'); seek(992.0)">
              How this looks like in
            </span>
            
            <span id="chunk-258" class="transcript-chunks" onclick="console.log('00:16:38,060'); seek(998.0)">
              reality. So here we have the range query which
            </span>
            
            <span id="chunk-259" class="transcript-chunks" onclick="console.log('00:16:41,172'); seek(1001.0)">
              calculates rate over the metric. And in response to this
            </span>
            
            <span id="chunk-260" class="transcript-chunks" onclick="console.log('00:16:44,404'); seek(1004.0)">
              query we get single data points
            </span>
            
            <span id="chunk-261" class="transcript-chunks" onclick="console.log('00:16:48,400'); seek(1008.0)">
              ordered like with 30 minutes or something like that here.
            </span>
            
            <span id="chunk-262" class="transcript-chunks" onclick="console.log('00:16:52,384'); seek(1012.0)">
              So we execute this query and we get this ordered
            </span>
            
            <span id="chunk-263" class="transcript-chunks" onclick="console.log('00:16:55,968'); seek(1015.0)">
              list of values with 30 minutes step okay,
            </span>
            
            <span id="chunk-264" class="transcript-chunks" onclick="console.log('00:17:00,792'); seek(1020.0)">
              if we execute this query one more time,
            </span>
            
            <span id="chunk-265" class="transcript-chunks" onclick="console.log('00:17:04,024'); seek(1024.0)">
              30 minutes later, it is likely that
            </span>
            
            <span id="chunk-266" class="transcript-chunks" onclick="console.log('00:17:07,960'); seek(1027.0)">
              we can reuse our previous result, right? Because those queries
            </span>
            
            <span id="chunk-267" class="transcript-chunks" onclick="console.log('00:17:11,264'); seek(1031.0)">
              in the past, they didn't change, the time series didn't change in the
            </span>
            
            <span id="chunk-268" class="transcript-chunks" onclick="console.log('00:17:14,992'); seek(1034.0)">
              past. So what this reverse
            </span>
            
            <span id="chunk-269" class="transcript-chunks" onclick="console.log('00:17:18,928'); seek(1038.0)">
              proxy do they cache those previous
            </span>
            
            <span id="chunk-270" class="transcript-chunks" onclick="console.log('00:17:22,976'); seek(1042.0)">
              data points and when you repeat your query again,
            </span>
            
            <span id="chunk-271" class="transcript-chunks" onclick="console.log('00:17:26,560'); seek(1046.0)">
              they serve the most of these data points from the
            </span>
            
            <span id="chunk-272" class="transcript-chunks" onclick="console.log('00:17:30,032'); seek(1050.0)">
              cache, and then they ask from the data source
            </span>
            
            <span id="chunk-273" class="transcript-chunks" onclick="console.log('00:17:33,672'); seek(1053.0)">
              only for the data points they don't have yet, because time
            </span>
            
            <span id="chunk-274" class="transcript-chunks" onclick="console.log('00:17:37,664'); seek(1057.0)">
              already shifted a bit like 30 minutes later, we issued the same
            </span>
            
            <span id="chunk-275" class="transcript-chunks" onclick="console.log('00:17:41,192'); seek(1061.0)">
              query, so we don't have the most recent data point.
            </span>
            
            <span id="chunk-276" class="transcript-chunks" onclick="console.log('00:17:44,714'); seek(1064.0)">
              And those reverse proxies can understand that and they can
            </span>
            
            <span id="chunk-277" class="transcript-chunks" onclick="console.log('00:17:48,170'); seek(1068.0)">
              ask, they can query only this for this missing
            </span>
            
            <span id="chunk-278" class="transcript-chunks" onclick="console.log('00:17:51,602'); seek(1071.0)">
              data point from the database. So that's cool. For repeating
            </span>
            
            <span id="chunk-279" class="transcript-chunks" onclick="console.log('00:17:55,442'); seek(1075.0)">
              queries, it reduces pressure on your Prometheus server.
            </span>
            
            <span id="chunk-280" class="transcript-chunks" onclick="console.log('00:17:59,562'); seek(1079.0)">
              Very very much so. I recommend using them.
            </span>
            
            <span id="chunk-281" class="transcript-chunks" onclick="console.log('00:18:03,314'); seek(1083.0)">
              They are pretty handy and will improve the query performance.
            </span>
            
            <span id="chunk-282" class="transcript-chunks" onclick="console.log('00:18:08,194'); seek(1088.0)">
              What else? Builders push down so we
            </span>
            
            <span id="chunk-283" class="transcript-chunks" onclick="console.log('00:18:12,134'); seek(1092.0)">
              have two queries on the screen. The first query
            </span>
            
            <span id="chunk-284" class="transcript-chunks" onclick="console.log('00:18:15,606'); seek(1095.0)">
              takes 3 seconds to load, the second query takes 70 milliseconds
            </span>
            
            <span id="chunk-285" class="transcript-chunks" onclick="console.log('00:18:19,822'); seek(1099.0)">
              to load, but they will provide you, they will return you
            </span>
            
            <span id="chunk-286" class="transcript-chunks" onclick="console.log('00:18:23,478'); seek(1103.0)">
              the same equal the same result.
            </span>
            
            <span id="chunk-287" class="transcript-chunks" onclick="console.log('00:18:26,614'); seek(1106.0)">
              And the reason why the first query is expensive and takes
            </span>
            
            <span id="chunk-288" class="transcript-chunks" onclick="console.log('00:18:29,822'); seek(1109.0)">
              too much time is because Prometheus executes the
            </span>
            
            <span id="chunk-289" class="transcript-chunks" onclick="console.log('00:18:33,310'); seek(1113.0)">
              first and the second query one by one.
            </span>
            
            <span id="chunk-290" class="transcript-chunks" onclick="console.log('00:18:36,852'); seek(1116.0)">
              So we execute the first query with the filter and the second query
            </span>
            
            <span id="chunk-291" class="transcript-chunks" onclick="console.log('00:18:40,244'); seek(1120.0)">
              without filter. And then when we do the division,
            </span>
            
            <span id="chunk-292" class="transcript-chunks" onclick="console.log('00:18:44,404'); seek(1124.0)">
              Prometheus will keep only those time series that match by
            </span>
            
            <span id="chunk-293" class="transcript-chunks" onclick="console.log('00:18:48,164'); seek(1128.0)">
              labels perfectly from the first expression and the second expression.
            </span>
            
            <span id="chunk-294" class="transcript-chunks" onclick="console.log('00:18:51,804'); seek(1131.0)">
              So basically it will drop a
            </span>
            
            <span id="chunk-295" class="transcript-chunks" onclick="console.log('00:18:56,100'); seek(1136.0)">
              lot of time series that do not satisfy the filter in denominator.
            </span>
            
            <span id="chunk-296" class="transcript-chunks" onclick="console.log('00:19:00,204'); seek(1140.0)">
              This is why if we specify the filter in both
            </span>
            
            <span id="chunk-297" class="transcript-chunks" onclick="console.log('00:19:04,560'); seek(1144.0)">
              numerator and denominator, the query will be faster because
            </span>
            
            <span id="chunk-298" class="transcript-chunks" onclick="console.log('00:19:09,544'); seek(1149.0)">
              Prometheus will not select the data it doesn't need for
            </span>
            
            <span id="chunk-299" class="transcript-chunks" onclick="console.log('00:19:13,608'); seek(1153.0)">
              this calculation. This called filters pushdown. So if you have
            </span>
            
            <span id="chunk-300" class="transcript-chunks" onclick="console.log('00:19:17,536'); seek(1157.0)">
              this somewhere in your queries, make sure that you propagate that
            </span>
            
            <span id="chunk-301" class="transcript-chunks" onclick="console.log('00:19:21,024'); seek(1161.0)">
              filter to each part of the
            </span>
            
            <span id="chunk-302" class="transcript-chunks" onclick="console.log('00:19:24,672'); seek(1164.0)">
              query. This will improve the performance.
            </span>
            
            <span id="chunk-303" class="transcript-chunks" onclick="console.log('00:19:28,694'); seek(1168.0)">
              What else? Recording rules this is also a common
            </span>
            
            <span id="chunk-304" class="transcript-chunks" onclick="console.log('00:19:32,894'); seek(1172.0)">
              advice by the Prometheus community that you can for
            </span>
            
            <span id="chunk-305" class="transcript-chunks" onclick="console.log('00:19:36,782'); seek(1176.0)">
              expensive queries. For mission criticals queries, you can precompute
            </span>
            
            <span id="chunk-306" class="transcript-chunks" onclick="console.log('00:19:41,118'); seek(1181.0)">
              some time series via recording rules.
            </span>
            
            <span id="chunk-307" class="transcript-chunks" onclick="console.log('00:19:44,374'); seek(1184.0)">
              So recording rule is usually generating
            </span>
            
            <span id="chunk-308" class="transcript-chunks" onclick="console.log('00:19:49,030'); seek(1189.0)">
              less data in the output than it receives
            </span>
            
            <span id="chunk-309" class="transcript-chunks" onclick="console.log('00:19:52,214'); seek(1192.0)">
              on the input. And this data is also time series.
            </span>
            
            <span id="chunk-310" class="transcript-chunks" onclick="console.log('00:19:55,654'); seek(1195.0)">
              So if you have this less data to
            </span>
            
            <span id="chunk-311" class="transcript-chunks" onclick="console.log('00:19:59,030'); seek(1199.0)">
              query back, then this query over recording rule results will be
            </span>
            
            <span id="chunk-312" class="transcript-chunks" onclick="console.log('00:20:02,230'); seek(1202.0)">
              much faster. It is likely if you didn't mess up, of course, with recording rule
            </span>
            
            <span id="chunk-313" class="transcript-chunks" onclick="console.log('00:20:05,910'); seek(1205.0)">
              expression. So this is a really cool
            </span>
            
            <span id="chunk-314" class="transcript-chunks" onclick="console.log('00:20:09,614'); seek(1209.0)">
              thing for a dashboard, because dashboards always have the same queries.
            </span>
            
            <span id="chunk-315" class="transcript-chunks" onclick="console.log('00:20:13,638'); seek(1213.0)">
              And if you pre compute those queries,
            </span>
            
            <span id="chunk-316" class="transcript-chunks" onclick="console.log('00:20:16,774'); seek(1216.0)">
              your dashboards will be lowered and faster. But there are also disadvantages
            </span>
            
            <span id="chunk-317" class="transcript-chunks" onclick="console.log('00:20:20,470'); seek(1220.0)">
              of using recording rules. So the
            </span>
            
            <span id="chunk-318" class="transcript-chunks" onclick="console.log('00:20:23,932'); seek(1223.0)">
              first disadvantage is that recording rules, they have a
            </span>
            
            <span id="chunk-319" class="transcript-chunks" onclick="console.log('00:20:27,500'); seek(1227.0)">
              constant pressure on your database because they constantly
            </span>
            
            <span id="chunk-320" class="transcript-chunks" onclick="console.log('00:20:30,908'); seek(1230.0)">
              reevaluate the same expression over and over,
            </span>
            
            <span id="chunk-321" class="transcript-chunks" onclick="console.log('00:20:34,044'); seek(1234.0)">
              and your data source need to calculate it over and over.
            </span>
            
            <span id="chunk-322" class="transcript-chunks" onclick="console.log('00:20:38,164'); seek(1238.0)">
              Also, recording rules produce extra time series in
            </span>
            
            <span id="chunk-323" class="transcript-chunks" onclick="console.log('00:20:41,764'); seek(1241.0)">
              response, and those time series need to be stored in the database.
            </span>
            
            <span id="chunk-324" class="transcript-chunks" onclick="console.log('00:20:45,740'); seek(1245.0)">
              So every time when you apply, when you set up a
            </span>
            
            <span id="chunk-325" class="transcript-chunks" onclick="console.log('00:20:48,996'); seek(1248.0)">
              new recording rule in your prometheus, you will have
            </span>
            
            <span id="chunk-326" class="transcript-chunks" onclick="console.log('00:20:52,706'); seek(1252.0)">
              more time series in the database stored after that.
            </span>
            
            <span id="chunk-327" class="transcript-chunks" onclick="console.log('00:20:56,154'); seek(1256.0)">
              So, and this requires resources, of course. And also
            </span>
            
            <span id="chunk-328" class="transcript-chunks" onclick="console.log('00:21:00,690'); seek(1260.0)">
              recording rules is something that needs to be maintained. You need to define
            </span>
            
            <span id="chunk-329" class="transcript-chunks" onclick="console.log('00:21:04,626'); seek(1264.0)">
              them and you need to remember
            </span>
            
            <span id="chunk-330" class="transcript-chunks" onclick="console.log('00:21:07,770'); seek(1267.0)">
              about them, because if you want to change the query in your
            </span>
            
            <span id="chunk-331" class="transcript-chunks" onclick="console.log('00:21:11,362'); seek(1271.0)">
              dashboard or you want to change metrics in your application which
            </span>
            
            <span id="chunk-332" class="transcript-chunks" onclick="console.log('00:21:15,234'); seek(1275.0)">
              exposes this metrics, you. You need to remember that somewhere you
            </span>
            
            <span id="chunk-333" class="transcript-chunks" onclick="console.log('00:21:19,362'); seek(1279.0)">
              have this recording rule configured, and it is very likely you
            </span>
            
            <span id="chunk-334" class="transcript-chunks" onclick="console.log('00:21:22,738'); seek(1282.0)">
              need to go and change the expression there as well,
            </span>
            
            <span id="chunk-335" class="transcript-chunks" onclick="console.log('00:21:26,834'); seek(1286.0)">
              otherwise it will be not correct. So yeah,
            </span>
            
            <span id="chunk-336" class="transcript-chunks" onclick="console.log('00:21:30,626'); seek(1290.0)">
              recording rules. So let's sum up
            </span>
            
            <span id="chunk-337" class="transcript-chunks" onclick="console.log('00:21:34,458'); seek(1294.0)">
              quickly what we can do. So, to optimize
            </span>
            
            <span id="chunk-338" class="transcript-chunks" onclick="console.log('00:21:37,946'); seek(1297.0)">
              promql and metrics Ql queries,
            </span>
            
            <span id="chunk-339" class="transcript-chunks" onclick="console.log('00:21:41,674'); seek(1301.0)">
              very good. The strategy will be to measure their complexity to
            </span>
            
            <span id="chunk-340" class="transcript-chunks" onclick="console.log('00:21:45,370'); seek(1305.0)">
              understand how much time series and how many samples we select.
            </span>
            
            <span id="chunk-341" class="transcript-chunks" onclick="console.log('00:21:49,250'); seek(1309.0)">
              Can we select less? Can we optimize this query somehow?
            </span>
            
            <span id="chunk-342" class="transcript-chunks" onclick="console.log('00:21:53,954'); seek(1313.0)">
              We can also use caching frontend to reduce the pressure on the database
            </span>
            
            <span id="chunk-343" class="transcript-chunks" onclick="console.log('00:21:57,738'); seek(1317.0)">
              for queries that are repeating themselves over the time interval.
            </span>
            
            <span id="chunk-344" class="transcript-chunks" onclick="console.log('00:22:01,506'); seek(1321.0)">
              We also need to carefully craft queries
            </span>
            
            <span id="chunk-345" class="transcript-chunks" onclick="console.log('00:22:07,434'); seek(1327.0)">
              to always use the right filters or to not have too
            </span>
            
            <span id="chunk-346" class="transcript-chunks" onclick="console.log('00:22:11,600'); seek(1331.0)">
              small step or too big look behind windows to get
            </span>
            
            <span id="chunk-347" class="transcript-chunks" onclick="console.log('00:22:15,160'); seek(1335.0)">
              the optimal performance for these queries. And of course use recording rules for
            </span>
            
            <span id="chunk-348" class="transcript-chunks" onclick="console.log('00:22:19,440'); seek(1339.0)">
              performance critical queries.
            </span>
            
            <span id="chunk-349" class="transcript-chunks" onclick="console.log('00:22:21,944'); seek(1341.0)">
              Okay, and now the second part. Can Victoria
            </span>
            
            <span id="chunk-350" class="transcript-chunks" onclick="console.log('00:22:25,280'); seek(1345.0)">
              Matrix make it easier for developers?
            </span>
            
            <span id="chunk-351" class="transcript-chunks" onclick="console.log('00:22:28,888'); seek(1348.0)">
              For DevOps for users? Yes, it can.
            </span>
            
            <span id="chunk-352" class="transcript-chunks" onclick="console.log('00:22:32,856'); seek(1352.0)">
              Well, Victoria metrics provide a set of optimizations and
            </span>
            
            <span id="chunk-353" class="transcript-chunks" onclick="console.log('00:22:36,464'); seek(1356.0)">
              instruments which will help you to understand and to
            </span>
            
            <span id="chunk-354" class="transcript-chunks" onclick="console.log('00:22:40,128'); seek(1360.0)">
              understand complexity of the query and improve its performance.
            </span>
            
            <span id="chunk-355" class="transcript-chunks" onclick="console.log('00:22:44,744'); seek(1364.0)">
              And the first thing that Victoriometrics provides is a cardinality explorer.
            </span>
            
            <span id="chunk-356" class="transcript-chunks" onclick="console.log('00:22:49,416'); seek(1369.0)">
              It's basically built in page in the Vector metrics
            </span>
            
            <span id="chunk-357" class="transcript-chunks" onclick="console.log('00:22:52,760'); seek(1372.0)">
              UI, which shows you the most expensive
            </span>
            
            <span id="chunk-358" class="transcript-chunks" onclick="console.log('00:22:57,144'); seek(1377.0)">
              metric names, the most expensive time series,
            </span>
            
            <span id="chunk-359" class="transcript-chunks" onclick="console.log('00:23:00,760'); seek(1380.0)">
              etcetera. So cardinal Explorer
            </span>
            
            <span id="chunk-360" class="transcript-chunks" onclick="console.log('00:23:04,144'); seek(1384.0)">
              helps you to understand what actually stored in your database,
            </span>
            
            <span id="chunk-361" class="transcript-chunks" onclick="console.log('00:23:08,464'); seek(1388.0)">
              how many time series are behind the metric name.
            </span>
            
            <span id="chunk-362" class="transcript-chunks" onclick="console.log('00:23:11,904'); seek(1391.0)">
              It also can help you to decide whether it's
            </span>
            
            <span id="chunk-363" class="transcript-chunks" onclick="console.log('00:23:15,872'); seek(1395.0)">
              worth to store those super expensive metrics. Do you actually use
            </span>
            
            <span id="chunk-364" class="transcript-chunks" onclick="console.log('00:23:19,856'); seek(1399.0)">
              them? Because if you get rid of them, your database will just become faster,
            </span>
            
            <span id="chunk-365" class="transcript-chunks" onclick="console.log('00:23:23,784'); seek(1403.0)">
              you will need less resources.
            </span>
            
            <span id="chunk-366" class="transcript-chunks" onclick="console.log('00:23:26,784'); seek(1406.0)">
              Yeah, so this is available in Victoria metrics
            </span>
            
            <span id="chunk-367" class="transcript-chunks" onclick="console.log('00:23:30,488'); seek(1410.0)">
              UI components. And the cool thing about
            </span>
            
            <span id="chunk-368" class="transcript-chunks" onclick="console.log('00:23:34,024'); seek(1414.0)">
              this cardinality Explorer is that you can use it with
            </span>
            
            <span id="chunk-369" class="transcript-chunks" onclick="console.log('00:23:37,590'); seek(1417.0)">
              Prometheus as well. So you can specify Prometheus URL in
            </span>
            
            <span id="chunk-370" class="transcript-chunks" onclick="console.log('00:23:41,470'); seek(1421.0)">
              Cardinality Explorer and it will give you some functionality of this
            </span>
            
            <span id="chunk-371" class="transcript-chunks" onclick="console.log('00:23:45,422'); seek(1425.0)">
              explorer for Prometheus.
            </span>
            
            <span id="chunk-372" class="transcript-chunks" onclick="console.log('00:23:48,174'); seek(1428.0)">
              Okay, query tracing. So there is also a built in
            </span>
            
            <span id="chunk-373" class="transcript-chunks" onclick="console.log('00:23:51,998'); seek(1431.0)">
              feature which helps you to understand what
            </span>
            
            <span id="chunk-374" class="transcript-chunks" onclick="console.log('00:23:55,494'); seek(1435.0)">
              happens on every stage of query execution. This is very
            </span>
            
            <span id="chunk-375" class="transcript-chunks" onclick="console.log('00:23:58,918'); seek(1438.0)">
              similar to what postgres has with explain
            </span>
            
            <span id="chunk-376" class="transcript-chunks" onclick="console.log('00:24:02,606'); seek(1442.0)">
              analyze statement. So here's how it looks like.
            </span>
            
            <span id="chunk-377" class="transcript-chunks" onclick="console.log('00:24:05,846'); seek(1445.0)">
              You execute the query and you enable trace query button and
            </span>
            
            <span id="chunk-378" class="transcript-chunks" onclick="console.log('00:24:09,710'); seek(1449.0)">
              it will provide you like tree lag structure with
            </span>
            
            <span id="chunk-379" class="transcript-chunks" onclick="console.log('00:24:13,790'); seek(1453.0)">
              every stage of query execution as it was executed
            </span>
            
            <span id="chunk-380" class="transcript-chunks" onclick="console.log('00:24:17,166'); seek(1457.0)">
              inside Victoria metrics. And it will show how much time was
            </span>
            
            <span id="chunk-381" class="transcript-chunks" onclick="console.log('00:24:20,478'); seek(1460.0)">
              spent on each stage, plus additional information about
            </span>
            
            <span id="chunk-382" class="transcript-chunks" onclick="console.log('00:24:24,206'); seek(1464.0)">
              what's happening on each stage of the execution.
            </span>
            
            <span id="chunk-383" class="transcript-chunks" onclick="console.log('00:24:28,294'); seek(1468.0)">
              So for example, in the query trace
            </span>
            
            <span id="chunk-384" class="transcript-chunks" onclick="console.log('00:24:31,994'); seek(1471.0)">
              you can see how many series
            </span>
            
            <span id="chunk-385" class="transcript-chunks" onclick="console.log('00:24:36,122'); seek(1476.0)">
              and samples it selected for this query. The trace
            </span>
            
            <span id="chunk-386" class="transcript-chunks" onclick="console.log('00:24:40,114'); seek(1480.0)">
              will say well, we selected 500 series,
            </span>
            
            <span id="chunk-387" class="transcript-chunks" onclick="console.log('00:24:44,594'); seek(1484.0)">
              66,000 of samples and 273
            </span>
            
            <span id="chunk-388" class="transcript-chunks" onclick="console.log('00:24:51,130'); seek(1491.0)">
              data in overall. The trace also can contain information
            </span>
            
            <span id="chunk-389" class="transcript-chunks" onclick="console.log('00:24:54,538'); seek(1494.0)">
              like we used that much ram
            </span>
            
            <span id="chunk-390" class="transcript-chunks" onclick="console.log('00:24:58,904'); seek(1498.0)">
              on during processing this query. So that's the estimation for
            </span>
            
            <span id="chunk-391" class="transcript-chunks" onclick="console.log('00:25:02,600'); seek(1502.0)">
              you. And with query trace you can understand
            </span>
            
            <span id="chunk-392" class="transcript-chunks" onclick="console.log('00:25:05,816'); seek(1505.0)">
              exactly what's happening when you execute the query.
            </span>
            
            <span id="chunk-393" class="transcript-chunks" onclick="console.log('00:25:09,264'); seek(1509.0)">
              Or for example query caching. Yeah. By the way,
            </span>
            
            <span id="chunk-394" class="transcript-chunks" onclick="console.log('00:25:12,512'); seek(1512.0)">
              the cache thing that I explained a few slides ago,
            </span>
            
            <span id="chunk-395" class="transcript-chunks" onclick="console.log('00:25:16,256'); seek(1516.0)">
              it is built in in vector metrics components.
            </span>
            
            <span id="chunk-396" class="transcript-chunks" onclick="console.log('00:25:19,968'); seek(1519.0)">
              So you don't need to think of reverse proxies. It is already there.
            </span>
            
            <span id="chunk-397" class="transcript-chunks" onclick="console.log('00:25:23,928'); seek(1523.0)">
              It is already used for range and instant queries. You don't need to
            </span>
            
            <span id="chunk-398" class="transcript-chunks" onclick="console.log('00:25:27,884'); seek(1527.0)">
              even think about this. And in
            </span>
            
            <span id="chunk-399" class="transcript-chunks" onclick="console.log('00:25:31,332'); seek(1531.0)">
              query trace you can see if your query hit the cache
            </span>
            
            <span id="chunk-400" class="transcript-chunks" onclick="console.log('00:25:35,340'); seek(1535.0)">
              and maybe it hit cache partially. So you will see how
            </span>
            
            <span id="chunk-401" class="transcript-chunks" onclick="console.log('00:25:39,372'); seek(1539.0)">
              many entries exactly was fetched from cache, how many
            </span>
            
            <span id="chunk-402" class="transcript-chunks" onclick="console.log('00:25:43,372'); seek(1543.0)">
              what? The query was sent to the data source to
            </span>
            
            <span id="chunk-403" class="transcript-chunks" onclick="console.log('00:25:46,828'); seek(1546.0)">
              fetch the missing data. So all this information is there in
            </span>
            
            <span id="chunk-404" class="transcript-chunks" onclick="console.log('00:25:50,626'); seek(1550.0)">
              the trace filters pushdown. You don't
            </span>
            
            <span id="chunk-405" class="transcript-chunks" onclick="console.log('00:25:54,322'); seek(1554.0)">
              need to think about this in victoriometrics as well, because it does,
            </span>
            
            <span id="chunk-406" class="transcript-chunks" onclick="console.log('00:25:57,402'); seek(1557.0)">
              it automatically. It optimizes the query when it can,
            </span>
            
            <span id="chunk-407" class="transcript-chunks" onclick="console.log('00:26:01,306'); seek(1561.0)">
              and trace will show you this as well. So you see the first,
            </span>
            
            <span id="chunk-408" class="transcript-chunks" onclick="console.log('00:26:05,914'); seek(1565.0)">
              in the first row of the trace
            </span>
            
            <span id="chunk-409" class="transcript-chunks" onclick="console.log('00:26:09,810'); seek(1569.0)">
              we see the exact query, how we send it, and on the
            </span>
            
            <span id="chunk-410" class="transcript-chunks" onclick="console.log('00:26:14,714'); seek(1574.0)">
              second step, Vector matrix applied optimization and pushed down
            </span>
            
            <span id="chunk-411" class="transcript-chunks" onclick="console.log('00:26:19,002'); seek(1579.0)">
              the filter to the second part of the expression to make it
            </span>
            
            <span id="chunk-412" class="transcript-chunks" onclick="console.log('00:26:22,298'); seek(1582.0)">
              in the most efficient way.
            </span>
            
            <span id="chunk-413" class="transcript-chunks" onclick="console.log('00:26:26,344'); seek(1586.0)">
              Okay, recording rules so remember this recording rules concept where
            </span>
            
            <span id="chunk-414" class="transcript-chunks" onclick="console.log('00:26:30,080'); seek(1590.0)">
              you need to evaluate expressions and persist results back
            </span>
            
            <span id="chunk-415" class="transcript-chunks" onclick="console.log('00:26:35,384'); seek(1595.0)">
              to the time series database. Vector matrix can do that,
            </span>
            
            <span id="chunk-416" class="transcript-chunks" onclick="console.log('00:26:39,224'); seek(1599.0)">
              but it also can do a better thing. It supports
            </span>
            
            <span id="chunk-417" class="transcript-chunks" onclick="console.log('00:26:42,592'); seek(1602.0)">
              the streaming aggregation concept. So you
            </span>
            
            <span id="chunk-418" class="transcript-chunks" onclick="console.log('00:26:46,768'); seek(1606.0)">
              can do this aggregations these pre calculations of
            </span>
            
            <span id="chunk-419" class="transcript-chunks" onclick="console.log('00:26:50,420'); seek(1610.0)">
              the data before data gets into the
            </span>
            
            <span id="chunk-420" class="transcript-chunks" onclick="console.log('00:26:54,340'); seek(1614.0)">
              time series database. And this is super cool because you
            </span>
            
            <span id="chunk-421" class="transcript-chunks" onclick="console.log('00:26:57,828'); seek(1617.0)">
              don't need to store raw data if you don't want to. You can
            </span>
            
            <span id="chunk-422" class="transcript-chunks" onclick="console.log('00:27:01,172'); seek(1621.0)">
              store only aggregates and this will tremendously
            </span>
            
            <span id="chunk-423" class="transcript-chunks" onclick="console.log('00:27:05,444'); seek(1625.0)">
              reduce the amount of resources your time series database need
            </span>
            
            <span id="chunk-424" class="transcript-chunks" onclick="console.log('00:27:08,580'); seek(1628.0)">
              to have. And by the way, this streaming aggregation concept,
            </span>
            
            <span id="chunk-425" class="transcript-chunks" onclick="console.log('00:27:12,292'); seek(1632.0)">
              it is available in the VM agent which one of the
            </span>
            
            <span id="chunk-426" class="transcript-chunks" onclick="console.log('00:27:15,788'); seek(1635.0)">
              Victor metrics tools. And you can use VM agent with your Prometheus.
            </span>
            
            <span id="chunk-427" class="transcript-chunks" onclick="console.log('00:27:19,282'); seek(1639.0)">
              You can use VM agent with other database which supports
            </span>
            
            <span id="chunk-428" class="transcript-chunks" onclick="console.log('00:27:22,554'); seek(1642.0)">
              remote write protocol. So yes,
            </span>
            
            <span id="chunk-429" class="transcript-chunks" onclick="console.log('00:27:26,562'); seek(1646.0)">
              I really like this feature because it helps to reduce pressure on
            </span>
            
            <span id="chunk-430" class="transcript-chunks" onclick="console.log('00:27:29,770'); seek(1649.0)">
              database many many times. It's super cool.
            </span>
            
            <span id="chunk-431" class="transcript-chunks" onclick="console.log('00:27:34,114'); seek(1654.0)">
              Yeah, so that was mostly it.
            </span>
            
            <span id="chunk-432" class="transcript-chunks" onclick="console.log('00:27:37,354'); seek(1657.0)">
              My talk. You can find more information in
            </span>
            
            <span id="chunk-433" class="transcript-chunks" onclick="console.log('00:27:40,850'); seek(1660.0)">
              this additional materials if you scan the QR code. You will go to the
            </span>
            
            <span id="chunk-434" class="transcript-chunks" onclick="console.log('00:27:45,004'); seek(1665.0)">
              slides of this presentation and all links there will be
            </span>
            
            <span id="chunk-435" class="transcript-chunks" onclick="console.log('00:27:48,420'); seek(1668.0)">
              available for you. So I recommend reading the blog
            </span>
            
            <span id="chunk-436" class="transcript-chunks" onclick="console.log('00:27:52,804'); seek(1672.0)">
              post about optimizing PropQL and metricsQl expressions
            </span>
            
            <span id="chunk-437" class="transcript-chunks" onclick="console.log('00:27:55,948'); seek(1675.0)">
              and also a very detailed blog post about how subqueries works
            </span>
            
            <span id="chunk-438" class="transcript-chunks" onclick="console.log('00:27:59,956'); seek(1679.0)">
              in vector metrics and in Prometheus you can find information about
            </span>
            
            <span id="chunk-439" class="transcript-chunks" onclick="console.log('00:28:03,148'); seek(1683.0)">
              query, trace and stream aggregation, etcetera.
            </span>
            
            <span id="chunk-440" class="transcript-chunks" onclick="console.log('00:28:06,764'); seek(1686.0)">
              Yep, so that's me. Thank you very much for your attention and
            </span>
            
            <span id="chunk-441" class="transcript-chunks" onclick="console.log('00:28:11,028'); seek(1691.0)">
              I will be happy to answer any questions if you will have them.
            </span>
            
            <span id="chunk-442" class="transcript-chunks" onclick="console.log('00:28:14,452'); seek(1694.0)">
              Thank you.
            </span>
            
            </div>
          </div>
          

          
          <div class="col-12 mb-5">
            <h3>
              Slides
            </h3>
            <iframe src="https://conf42.github.io/static/slides/Roman%20Khavronenko%20-%20Conf42%20Observability%202024.pdf" width="100%" height="500px"></iframe>
            <a href="https://conf42.github.io/static/slides/Roman%20Khavronenko%20-%20Conf42%20Observability%202024.pdf" class="btn btn-xs btn-info shadow lift" style="background-color: #A8AC51;" target="_blank">
              <i class="fe fe-paperclip me-2"></i>
              Download slides (PDF)
            </a>
          </div>
          

          <div class="col-12 mb-2 text-center">
            <div class="text-center mb-5">
              <a href="https://www.conf42.com/obs2024" class="btn btn-sm btn-danger shadow lift" style="background-color: #A8AC51;">
                <i class="fe fe-grid me-2"></i>
                See all 22 talks at this event!
              </a>
            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- PHOTO -->
    <section class="pt-8 pb-6">
      <div class="container">

        <div class="row align-items-center">
          <div class="col-12 col-md-6 col-lg-7">

            <div class="mb-8 mb-md-0">

              <!-- Image -->
              <img src="https://conf42.github.io/static/headshots/Roman%20Khavronenko_obs.png" alt="..." class="screenshot img-fluid mw-md-110 float-end me-md-6 mb-6 mb-md-0">

            </div>

          </div>
          <div class="col-12 col-md-6 col-lg-5">

            <!-- List -->
            <div class="d-flex">

              <!-- Body -->
              <div class="ms-5">

                <!-- Author 1 -->
                <h2 class="me-2">
                  Roman Khavronenko
                </h2>
                <h3 class="me-2">
                  <span class="text-muted">
                    Co-Founder @ VictoriaMetrics
                  </span>
                </h3>

                <p class="text-uppercase text-muted me-2 mb-3">
                  
                  <a href="https://www.linkedin.com/in/roman-khavronenko-47b51a63/" target="_blank" class="mr-3">
                    <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Roman Khavronenko's LinkedIn account" />
                  </a>
                  
                  
                  <a href="https://twitter.com/@hagen1778" target="_blank">
                    <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Roman Khavronenko's twitter account" />
                  </a>
                  
                </p>
                

                <br />

                <a
                  href="https://twitter.com/share?ref_src=twsrc%5Etfw"
                  class="twitter-share-button"

                  data-text="Check out this talk by @hagen1778"
                  data-url="https://www.conf42.com/obs2024"
                  data-via="conf42com"
                  data-related=""
                  data-show-count="false"
                >
                  Tweet
                </a>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

                <br />

                <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
                <script type="IN/Share" data-url="https://www.conf42.com/obs2024"></script>
              </div>

            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>





  <script>
    function gtag_report_conversion(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.location = url;
        }
      };
      gtag('event', 'conversion', {
          'send_to': 'AW-882275635/jLVTCPbt1N8CELPq2aQD',
          'event_callback': callback
      });
      return false;
    }
    </script>
    <!-- SUBSCRIBE -->
    <section class="pt-8 pt-md-11 bg-gradient-light-white" id="register">
        <div class="container">
          <div class="row align-items-center justify-content-between mb-8 mb-md-11">
            <div class="col-12 col-md-6 order-md-2" data-aos="fade-left">
  
              <!-- Heading -->
              <h2>
                Awesome tech events for <br>
                <span class="text-success"><span data-typed='{"strings": ["software engineers.", "tech leaders.", "SREs.", "DevOps.", "CTOs.",  "managers.", "architects.", "QAs.", "developers.", "coders.", "founders.", "CEOs.", "students.", "geeks.", "ethical hackers.", "educators.", "enthusiasts.", "directors.", "researchers.", "PHDs.", "evangelists.", "tech authors."]}'></span></span>
              </h2>
  
              <!-- Text -->
              <p class="fs-lg text-muted mb-6">
  
              </p>
  
              <!-- List -->
              <div class="row">
                <div class="col-12 col-lg-12">
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <!-- Text -->
                    <p class="text-success">
                      Priority access to all content
                    </p>
                  </div>
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Video hallway track
                    </p>
                  </div>

                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Community chat
                    </p>
                  </div>
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Exclusive promotions and giveaways
                    </p>
                  </div>
  
                </div>
              </div> <!-- / .row -->
  
            </div>
            <div class="col-12 col-md-6 col-lg-5 order-md-1">
  
              <!-- Card -->
              <div class="card shadow-light-lg">
  
                <!-- Body -->
                <div class="card-body">
  
                  <!-- Form -->
                  <link rel="stylesheet" href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css">
                  <p class="emailoctopus-success-message text-success"></p>
                  <p class="emailoctopus-error-message text-danger"></p>
                  <form
                    action="https://emailoctopus.com/lists/a3ba0cb5-7524-11eb-a3d0-06b4694bee2a/members/embedded/1.3/add"
                    method="post"
                    data-message-success="Thanks! Check your email for further directions!"
                    data-message-missing-email-address="Your email address is required."
                    data-message-invalid-email-address="Your email address looks incorrect, please try again."
                    data-message-bot-submission-error="This doesn't look like a human submission."
                    data-message-consent-required="Please check the checkbox to indicate your consent."
                    data-message-invalid-parameters-error="This form has missing or invalid fields."
                    data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
                    class="emailoctopus-form"
                    data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
                  >
                    <div class="form-floating emailoctopus-form-row">
                      <input type="email" class="form-control form-control-flush" name="field_0" id="field_0" placeholder="Email" required>
                      <label for="field_0">Email address</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_1" id="field_1" placeholder="First Name" required>
                      <label for="field_1">First Name</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_2" id="field_2" placeholder="Last Name" required>
                      <label for="field_2">Last Name</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_4" id="field_4" placeholder="Company" required>
                      <label for="field_4">Company</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_5" id="field_5" placeholder="Job Title" required>
                      <label for="field_5">Job Title</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_3" id="field_3" placeholder="Phone">
                      <label for="field_3">Phone Number</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <select type="text" class="form-control form-control-flush" name="field_7" id="country-source" required
                        oninput="updateCountry()"
                      >
                        <!-- Country names and Country Name -->
    <option value="">Please select your country</option>
    <option value="Afghanistan">Afghanistan</option>
    <option value="Aland Islands">Aland Islands</option>
    <option value="Albania">Albania</option>
    <option value="Algeria">Algeria</option>
    <option value="American Samoa">American Samoa</option>
    <option value="Andorra">Andorra</option>
    <option value="Angola">Angola</option>
    <option value="Anguilla">Anguilla</option>
    <option value="Antarctica">Antarctica</option>
    <option value="Antigua and Barbuda">Antigua and Barbuda</option>
    <option value="Argentina">Argentina</option>
    <option value="Armenia">Armenia</option>
    <option value="Aruba">Aruba</option>
    <option value="Australia">Australia</option>
    <option value="Austria">Austria</option>
    <option value="Azerbaijan">Azerbaijan</option>
    <option value="Bahamas">Bahamas</option>
    <option value="Bahrain">Bahrain</option>
    <option value="Bangladesh">Bangladesh</option>
    <option value="Barbados">Barbados</option>
    <option value="Belarus">Belarus</option>
    <option value="Belgium">Belgium</option>
    <option value="Belize">Belize</option>
    <option value="Benin">Benin</option>
    <option value="Bermuda">Bermuda</option>
    <option value="Bhutan">Bhutan</option>
    <option value="Bolivia">Bolivia</option>
    <option value="Bonaire, Sint Eustatius and Saba">Bonaire, Sint Eustatius and Saba</option>
    <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
    <option value="Botswana">Botswana</option>
    <option value="Bouvet Island">Bouvet Island</option>
    <option value="Brazil">Brazil</option>
    <option value="British Indian Ocean Territory">British Indian Ocean Territory</option>
    <option value="Brunei Darussalam">Brunei Darussalam</option>
    <option value="Bulgaria">Bulgaria</option>
    <option value="Burkina Faso">Burkina Faso</option>
    <option value="Burundi">Burundi</option>
    <option value="Cambodia">Cambodia</option>
    <option value="Cameroon">Cameroon</option>
    <option value="Canada">Canada</option>
    <option value="Cape Verde">Cape Verde</option>
    <option value="Cayman Islands">Cayman Islands</option>
    <option value="Central African Republic">Central African Republic</option>
    <option value="Chad">Chad</option>
    <option value="Chile">Chile</option>
    <option value="China">China</option>
    <option value="Christmas Island">Christmas Island</option>
    <option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
    <option value="Colombia">Colombia</option>
    <option value="Comoros">Comoros</option>
    <option value="Congo">Congo</option>
    <option value="Congo, Democratic Republic of the Congo">Congo, Democratic Republic of the Congo</option>
    <option value="Cook Islands">Cook Islands</option>
    <option value="Costa Rica">Costa Rica</option>
    <option value="Cote D'Ivoire">Cote D'Ivoire</option>
    <option value="Croatia">Croatia</option>
    <option value="Cuba">Cuba</option>
    <option value="Curacao">Curacao</option>
    <option value="Cyprus">Cyprus</option>
    <option value="Czech Republic">Czech Republic</option>
    <option value="Denmark">Denmark</option>
    <option value="Djibouti">Djibouti</option>
    <option value="Dominica">Dominica</option>
    <option value="Dominican Republic">Dominican Republic</option>
    <option value="Ecuador">Ecuador</option>
    <option value="Egypt">Egypt</option>
    <option value="El Salvador">El Salvador</option>
    <option value="Equatorial Guinea">Equatorial Guinea</option>
    <option value="Eritrea">Eritrea</option>
    <option value="Estonia">Estonia</option>
    <option value="Ethiopia">Ethiopia</option>
    <option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
    <option value="Faroe Islands">Faroe Islands</option>
    <option value="Fiji">Fiji</option>
    <option value="Finland">Finland</option>
    <option value="France">France</option>
    <option value="French Guiana">French Guiana</option>
    <option value="French Polynesia">French Polynesia</option>
    <option value="French Southern Territories">French Southern Territories</option>
    <option value="Gabon">Gabon</option>
    <option value="Gambia">Gambia</option>
    <option value="Georgia">Georgia</option>
    <option value="Germany">Germany</option>
    <option value="Ghana">Ghana</option>
    <option value="Gibraltar">Gibraltar</option>
    <option value="Greece">Greece</option>
    <option value="Greenland">Greenland</option>
    <option value="Grenada">Grenada</option>
    <option value="Guadeloupe">Guadeloupe</option>
    <option value="Guam">Guam</option>
    <option value="Guatemala">Guatemala</option>
    <option value="Guernsey">Guernsey</option>
    <option value="Guinea">Guinea</option>
    <option value="Guinea-Bissau">Guinea-Bissau</option>
    <option value="Guyana">Guyana</option>
    <option value="Haiti">Haiti</option>
    <option value="Heard Island and Mcdonald Islands">Heard Island and Mcdonald Islands</option>
    <option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
    <option value="Honduras">Honduras</option>
    <option value="Hong Kong">Hong Kong</option>
    <option value="Hungary">Hungary</option>
    <option value="Iceland">Iceland</option>
    <option value="India">India</option>
    <option value="Indonesia">Indonesia</option>
    <option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
    <option value="Iraq">Iraq</option>
    <option value="Ireland">Ireland</option>
    <option value="Isle of Man">Isle of Man</option>
    <option value="Israel">Israel</option>
    <option value="Italy">Italy</option>
    <option value="Jamaica">Jamaica</option>
    <option value="Japan">Japan</option>
    <option value="Jersey">Jersey</option>
    <option value="Jordan">Jordan</option>
    <option value="Kazakhstan">Kazakhstan</option>
    <option value="Kenya">Kenya</option>
    <option value="Kiribati">Kiribati</option>
    <option value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
    <option value="Korea, Republic of">Korea, Republic of</option>
    <option value="Kosovo">Kosovo</option>
    <option value="Kuwait">Kuwait</option>
    <option value="Kyrgyzstan">Kyrgyzstan</option>
    <option value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
    <option value="Latvia">Latvia</option>
    <option value="Lebanon">Lebanon</option>
    <option value="Lesotho">Lesotho</option>
    <option value="Liberia">Liberia</option>
    <option value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option>
    <option value="Liechtenstein">Liechtenstein</option>
    <option value="Lithuania">Lithuania</option>
    <option value="Luxembourg">Luxembourg</option>
    <option value="Macao">Macao</option>
    <option value="Macedonia, the Former Yugoslav Republic of">Macedonia, the Former Yugoslav Republic of</option>
    <option value="Madagascar">Madagascar</option>
    <option value="Malawi">Malawi</option>
    <option value="Malaysia">Malaysia</option>
    <option value="Maldives">Maldives</option>
    <option value="Mali">Mali</option>
    <option value="Malta">Malta</option>
    <option value="Marshall Islands">Marshall Islands</option>
    <option value="Martinique">Martinique</option>
    <option value="Mauritania">Mauritania</option>
    <option value="Mauritius">Mauritius</option>
    <option value="Mayotte">Mayotte</option>
    <option value="Mexico">Mexico</option>
    <option value="Micronesia, Federated States of">Micronesia, Federated States of</option>
    <option value="Moldova, Republic of">Moldova, Republic of</option>
    <option value="Monaco">Monaco</option>
    <option value="Mongolia">Mongolia</option>
    <option value="Montenegro">Montenegro</option>
    <option value="Montserrat">Montserrat</option>
    <option value="Morocco">Morocco</option>
    <option value="Mozambique">Mozambique</option>
    <option value="Myanmar">Myanmar</option>
    <option value="Namibia">Namibia</option>
    <option value="Nauru">Nauru</option>
    <option value="Nepal">Nepal</option>
    <option value="Netherlands">Netherlands</option>
    <option value="Netherlands Antilles">Netherlands Antilles</option>
    <option value="New Caledonia">New Caledonia</option>
    <option value="New Zealand">New Zealand</option>
    <option value="Nicaragua">Nicaragua</option>
    <option value="Niger">Niger</option>
    <option value="Nigeria">Nigeria</option>
    <option value="Niue">Niue</option>
    <option value="Norfolk Island">Norfolk Island</option>
    <option value="Northern Mariana Islands">Northern Mariana Islands</option>
    <option value="Norway">Norway</option>
    <option value="Oman">Oman</option>
    <option value="Pakistan">Pakistan</option>
    <option value="Palau">Palau</option>
    <option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option>
    <option value="Panama">Panama</option>
    <option value="Papua New Guinea">Papua New Guinea</option>
    <option value="Paraguay">Paraguay</option>
    <option value="Peru">Peru</option>
    <option value="Philippines">Philippines</option>
    <option value="Pitcairn">Pitcairn</option>
    <option value="Poland">Poland</option>
    <option value="Portugal">Portugal</option>
    <option value="Puerto Rico">Puerto Rico</option>
    <option value="Qatar">Qatar</option>
    <option value="Reunion">Reunion</option>
    <option value="Romania">Romania</option>
    <option value="Russian Federation">Russian Federation</option>
    <option value="Rwanda">Rwanda</option>
    <option value="Saint Barthelemy">Saint Barthelemy</option>
    <option value="Saint Helena">Saint Helena</option>
    <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
    <option value="Saint Lucia">Saint Lucia</option>
    <option value="Saint Martin">Saint Martin</option>
    <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
    <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
    <option value="Samoa">Samoa</option>
    <option value="San Marino">San Marino</option>
    <option value="Sao Tome and Principe">Sao Tome and Principe</option>
    <option value="Saudi Arabia">Saudi Arabia</option>
    <option value="Senegal">Senegal</option>
    <option value="Serbia">Serbia</option>
    <option value="Serbia and Montenegro">Serbia and Montenegro</option>
    <option value="Seychelles">Seychelles</option>
    <option value="Sierra Leone">Sierra Leone</option>
    <option value="Singapore">Singapore</option>
    <option value="Sint Maarten">Sint Maarten</option>
    <option value="Slovakia">Slovakia</option>
    <option value="Slovenia">Slovenia</option>
    <option value="Solomon Islands">Solomon Islands</option>
    <option value="Somalia">Somalia</option>
    <option value="South Africa">South Africa</option>
    <option value="South Georgia and the South Sandwich Islands">South Georgia and the South Sandwich Islands</option>
    <option value="South Sudan">South Sudan</option>
    <option value="Spain">Spain</option>
    <option value="Sri Lanka">Sri Lanka</option>
    <option value="Sudan">Sudan</option>
    <option value="Suriname">Suriname</option>
    <option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
    <option value="Swaziland">Swaziland</option>
    <option value="Sweden">Sweden</option>
    <option value="Switzerland">Switzerland</option>
    <option value="Syrian Arab Republic">Syrian Arab Republic</option>
    <option value="Taiwan, Province of China">Taiwan, Province of China</option>
    <option value="Tajikistan">Tajikistan</option>
    <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
    <option value="Thailand">Thailand</option>
    <option value="Timor-Leste">Timor-Leste</option>
    <option value="Togo">Togo</option>
    <option value="Tokelau">Tokelau</option>
    <option value="Tonga">Tonga</option>
    <option value="Trinidad and Tobago">Trinidad and Tobago</option>
    <option value="Tunisia">Tunisia</option>
    <option value="Turkey">Turkey</option>
    <option value="Turkmenistan">Turkmenistan</option>
    <option value="Turks and Caicos Islands">Turks and Caicos Islands</option>
    <option value="Tuvalu">Tuvalu</option>
    <option value="Uganda">Uganda</option>
    <option value="Ukraine">Ukraine</option>
    <option value="United Arab Emirates">United Arab Emirates</option>
    <option value="United Kingdom">United Kingdom</option>
    <option value="United States">United States</option>
    <option value="United States Minor Outlying Islands">United States Minor Outlying Islands</option>
    <option value="Uruguay">Uruguay</option>
    <option value="Uzbekistan">Uzbekistan</option>
    <option value="Vanuatu">Vanuatu</option>
    <option value="Venezuela">Venezuela</option>
    <option value="Viet Nam">Viet Nam</option>
    <option value="Virgin Islands, British">Virgin Islands, British</option>
    <option value="Virgin Islands, U.s.">Virgin Islands, U.s.</option>
    <option value="Wallis and Futuna">Wallis and Futuna</option>
    <option value="Western Sahara">Western Sahara</option>
    <option value="Yemen">Yemen</option>
    <option value="Zambia">Zambia</option>
    <option value="Zimbabwe">Zimbabwe</option>
                      </select>
                      <label for="field_7">Country</label>
                    </div>
                    <input id="country-destination" name="field_7" type="hidden">
                    <input id="tz-country" name="field_8" type="hidden">
                    
                    <input
                      name="field_6"
                      type="hidden"
                      value="Observability"
                    >
                    
                    <div class="emailoctopus-form-row-consent">
                      <input
                        type="checkbox"
                        id="consent"
                        name="consent"
                      >
                      <label for="consent">
                        I consent to the following terms:
                      </label>
                      <a href="https://www.conf42.com/terms-and-conditions.pdf" target="_blank">
                        Terms and Conditions
                      </a>
                      &amp;
                      <a href="./code-of-conduct" target="_blank">
                        Code of Conduct
                      </a>
                    </div>
                    <div
                      aria-hidden="true"
                      class="emailoctopus-form-row-hp"
                    >
                      <input
                        type="text"
                        name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
                        tabindex="-1"
                        autocomplete="nope"
                      >
                    </div>
                    <div class="mt-6 emailoctopus-form-row-subscribe">
                      <input
                        type="hidden"
                        name="successRedirectUrl"
                      >
                      <button class="btn w-100 btn-success lift" type="submit" onclick="gtag_report_conversion(); rdt('track', 'SignUp');">
                        Subscribe
                      </button>
                    </div>
                  </form>
  
                </div>
  
              </div>
  
            </div>
  
          </div> <!-- / .row -->
        </div> <!-- / .container -->
      </section>

      <!-- <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js"></script> -->
      <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js"></script>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-dark">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- FOOTER -->
    <footer class="py-8 py-md-11 bg-dark">
      <div class="container">
        <div class="row">

          <div class="col-12 col-md-4 col-lg-3">
            <!-- Brand -->
            <img src="./assets/conf42/conf42_logo_white_small.png" alt="..." class="footer-brand img-fluid mb-2">
    
            <!-- Text -->
            <p class="text-gray-700 mb-2">
              Online tech events
            </p>
    
            <!-- Social -->
            <ul class="list-unstyled list-inline list-social mb-5">
              <li class="list-inline-item list-social-item me-3">
                <a href="https://www.linkedin.com/company/49110720/" class="text-decoration-none">
                  <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="...">
                </a>
              </li>
              <li class="list-inline-item list-social-item me-3">
                <a href="https://twitter.com/conf42com" class="text-decoration-none">
                  <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="...">
                </a>
              </li>
            </ul>

            <!-- QR Code -->
            <img src="./assets/conf42/CONF42.QR.png" style="width: 100px;" class="mb-5 img-fluid" />
          </div>


          <div class="col-12 col-md-4 col-lg-3">
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2025
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2025">
                  DevOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2025">
                  Chaos Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2025">
                  Python 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2025">
                  Cloud Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2025">
                  Large Language Models (LLMs) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2025">
                  Golang 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2025">
                  Site Reliability Engineering (SRE) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2025">
                  Machine Learning 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2025">
                  Observability 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2025">
                  Quantum Computing 2025
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2024
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2024">
                  DevOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2024">
                  Chaos Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2024">
                  Python 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2024">
                  Cloud Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2024">
                  Large Language Models (LLMs) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2024">
                  Golang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2024">
                  Site Reliability Engineering (SRE) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2024">
                  Machine Learning 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2024">
                  Observability 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2024">
                  Quantum Computing 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2024">
                  Rustlang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2024">
                  Platform Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2024">
                  Kube Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2024">
                  Incident Management 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2024">
                  JavaScript 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2024">
                  Prompt Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://sreday.com/2024-amsterdam/">
                  SREday Amsterdam 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2024">
                  DevSecOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2024">
                  Internet of Things (IoT) 2024
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2023
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2023">
                  DevOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2023">
                  Chaos Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2023">
                  Python 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2023">
                  Cloud Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2023">
                  Golang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2023">
                  Site Reliability Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2023">
                  Machine Learning 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2023">
                  Observability 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2023">
                  Quantum Computing 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2023">
                  Rustlang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2023">
                  Platform Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2023">
                  Kube Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2023">
                  Incident Management 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2023">
                  JavaScript 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2023">
                  DevSecOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2023">
                  Internet of Things (IoT) 2023
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2022
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2022">
                  Python 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mobile2022">
                  Mobile 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2022">
                  Chaos Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2022">
                  Golang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2022">
                  Cloud Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2022">
                  Machine Learning 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2022">
                  Site Reliability Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2022">
                  Quantum Computing 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2022">
                  Rustlang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2022">
                  Incident Management 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2022">
                  Kube Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2022">
                  JavaScript 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2022">
                  DevSecOps 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/web2022">
                  Web 3.0 2022
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2021
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2021">
                  Chaos Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/enterprise2021">
                  Enterprise Software 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2021">
                  Cloud Native 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2021">
                  Python 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2021">
                  Golang 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2021">
                  Machine Learning 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2021">
                  Site Reliability Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2021">
                  JavaScript 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2021">
                  DevSecOps 2021
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2020
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2020">
                  Chaos Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/oss2020">
                  Open Source Showcase 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2020">
                  Site Reliability Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2020">
                  JavaScript 2020
                </a>
              </li>
            
            </ul>
          
          </div>

          
          <div class="col-12 col-md-4 offset-md-4 col-lg-3 offset-lg-0">

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Community
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./support" class="text-reset">
                  Support us
                </a>
              </li>
              <li class="mb-3">
                <a href="./speakers" class="text-reset">
                  Speakers
                </a>
              </li>
              <li class="mb-3">
                <a href="./hall-of-fame" class="text-reset">
                  Hall of fame
                </a>
              </li>
              <li class="mb-3">
                <a href="https://discord.gg/DnyHgrC7jC" class="text-reset" target="_blank">
                  Discord
                </a>
              </li>
              <li class="mb-3">
                <a href="./about" class="text-reset">
                  About the team
                </a>
              </li>
            </ul>

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Sponsors
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./sponsor" class="text-reset" target="_blank">
                  Sponsorship
                </a>
              </li>
              <li class="mb-3">
                <a href="mailto:mark@conf42.com?subject=We would like to sponsor" class="text-reset" target="_blank">
                  Request the Prospectus
                </a>
              </li>
              <li class="mb-3">
                <a href="https://drive.google.com/drive/folders/1tT2lspLQgj3sdfxG9FwDVkBUt-TYSPGe?usp=sharing" class="text-reset" target="_blank">
                  Media kit
                </a>
              </li>
            </ul>
    
          </div>


          <div class="col-12 col-md-4 col-lg-3">
    
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Legal
            </h6>
    
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./code-of-conduct" class="text-reset">
                  Code of Conduct
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/terms-and-conditions.pdf" class="text-reset" target="_blank">
                  Terms and Conditions
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/privacy-policy.pdf" class="text-reset" target="_blank">
                  Privacy policy
                </a>
              </li>
            </ul>
          </div>


        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </footer>

    <!-- JAVASCRIPT -->
    <!-- Map JS -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    
    <!-- Vendor JS -->
    <script src="./assets/js/vendor.bundle.js"></script>
    
    <!-- Theme JS -->
    <script src="./assets/js/theme.bundle.js"></script>

    <!-- Various JS -->
    <script src="./assets/js/various.js"></script>

    <script src='https://cdn.jsdelivr.net/npm/@widgetbot/crate@3' async defer>
      new Crate({
          notifications: true,
          indicator: true,
          server: '814240231606714368', // Conf42.com
          channel: '814240231788249115' // #community
      })
    </script>
  </body>
</html>