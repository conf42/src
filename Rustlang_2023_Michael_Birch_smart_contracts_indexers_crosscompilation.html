<!doctype html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-77190356-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-77190356-3');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css" />
    <link rel="stylesheet" href="./assets/css/libs.bundle.css" />
    <link rel="stylesheet" href="./assets/css/theme.bundle.css" />
    <link rel="stylesheet" href="./assets/css/various.css" />

    <title>Conf42: Turning smart contracts into indexers with cross-compilation in Rust</title>
    <meta name="description" content="Unleash your inner Rustacean!">

    
    <meta name="image" property="og:image" content="https://www.conf42.com/assets/headshots/https://conf42.github.io/static/headshots/Michael%20Birch_rustlang.png">
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Turning smart contracts into indexers with cross-compilation in Rust | Conf42"/>
    <meta property="og:description" content="In this talk I describe how functional programming patterns and conditional compilation in Rust can result in the same code being compiled to both native and wasm targets. This has applications in some blockchain-powered software because smart contracts can be reused as indexers."/>
    <meta property="og:url" content="https://conf42.com/Rustlang_2023_Michael_Birch_smart_contracts_indexers_crosscompilation"/>
    

    <link rel="shortcut icon" href="./assets/favicon/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="./assets/favicon/site.webmanifest">

    

  <!-- Reddit Pixel -->
  <script>
  !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt('init','a2_e019g7ndfhrm', {"optOut":false,"useDecimalCurrencyValues":true,"aaid":"<AAID-HERE>"});rdt('track', 'PageVisit');
  </script>
  <!-- DO NOT MODIFY UNLESS TO REPLACE A USER IDENTIFIER -->
  <!-- End Reddit Pixel -->

  </head>
  <body>

    <!-- NAVBAR -->
    
    <!-- <nav class="navbar navbar-expand-lg navbar-light bg-light"> -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    
      <div class="container">
    
        <!-- Brand -->
        <a class="navbar-brand" href="./">
          <img src="./assets/conf42/conf42_logo_black_small.png" class="navbar-brand-img" alt="...">
        </a>
    
        <!-- Toggler -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    
        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="navbarCollapse">
    
          <!-- Toggler -->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fe fe-x"></i>
          </button>
    
          <!-- Navigation -->
          <ul class="navbar-nav ms-auto">

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Events
              </a>
              <div class="dropdown-menu dropdown-menu-xl p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-6">
                    <!-- <div class="dropdown-img-start" style="background-image: url(./assets/splash/PROMPT2024_Event_Splash.png);"> -->
                    <div class="dropdown-img-start">
                      <!-- Heading -->
                      <h4 class="fw-bold text-white mb-0">
                        Featured event
                      </h4>
                      <!-- Text -->
                      <p class="fs-sm text-white">
                        Prompt Engineering 2024
                      </p>
                      <p class="fs-sm text-white">
                        Premiere 2024-11-14
                      </p>
                      <!-- Button -->
                      <a href="https://www.conf42.com/prompt2024" class="btn btn-sm btn-white shadow-dark fonFt-size-sm">
                        Learn more
                      </a>
                    </div>
                  </div>
                  <div class="col-12 col-lg-6">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
    
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2025
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2025">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2025">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2025">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2025">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2025">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2025">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2025">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2025">
                            Machine Learning
                          </a>
                          
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2024
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2024">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2024">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2024">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2024">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2024">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2024">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2024">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2024">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2024">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2024">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2024">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2024">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2024">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2024">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2024">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2024">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://sreday.com/2024-amsterdam/">
                            SREday Amsterdam
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2024">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2024">
                            Internet of Things (IoT)
                          </a>
                          
                        

                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            Info
                          </h6>
                          <a class="dropdown-item" href="./code-of-conduct">
                            Code of Conduct
                          </a>
    
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Community
              </a>
              <div class="dropdown-menu dropdown-menu-l p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-3">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
                          <a class="dropdown-item" href="./support">
                            Support us
                          </a>
                          <a class="dropdown-item" href="./hall-of-fame">
                            Hall of Fame
                          </a>
                          <a class="dropdown-item" href="./speakers">
                            Speakers
                          </a>
                          <a class="dropdown-item" href="https://www.papercall.io/events?cfps-scope=&keywords=conf42" target="_blank">
                            Become a speaker (CFPs)
                          </a>
                          <a class="dropdown-item" href="https://discord.gg/mvHyZzRGaQ" target="_blank">
                            Discord
                          </a>
                          <a class="dropdown-item" href="./testimonials">
                            Testimonials
                          </a>
                          <a class="dropdown-item" href="./about">
                            About the team
                          </a>
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./podcast">
                Podcast
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./blog">
                Blog
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./sponsor">
                Sponsor
              </a>
            </li>
          </ul>
    
          <!-- Button -->
          <a class="navbar-btn btn btn-sm btn-primary lift ms-auto" href="#register">
            Subscribe for FREE
          </a>
    
        </div>
    
      </div>
    </nav>



<style>
.text-selected {
  background-color: #42ba96!important;
  color: white;
}
</style>
	

    <!-- WELCOME -->
    <section class="py-5 py-md-10" style="background-color: #C79716;">

      <!-- Shape -->
      <div class="shape shape-blur-3 svg-shim text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>
      </div>

      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 text-center" data-aos="fade-up">

            <!-- Heading -->
            <h1 class="display-2 fw-bold text-white">
              Conf42 Rustlang 2023 - Online
            </h1>

            <h2 class="text-white">
              
              <time datetime="2023-08-24">August 24 2023</time>
              
              
            </h2>

            <!-- Text -->
            <p class="lead mb-0 text-white-75">
              
              <!-- Unleash your inner Rustacean!
 -->
              <script>
                const event_date = new Date("2023-08-24T17:00:00.000+00:00");
                const local_timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const local_date = new Date("2023-08-24T17:00:00.000+00:00");
                // const local_offset = new Date().getTimezoneOffset() / 60;
                // local_date.setHours(local_date.getHours() + local_offset);
                document.getElementById("localtime").innerHTML = local_date + " in " + local_timezone
              </script>
            </p>

            <!-- Buttons -->
            <div class="text-center mt-5">
              
              <a href="#register" class="btn btn-primary shadow lift me-1 mb-3">
                <i class="fe fe-user-check me-2"></i>
                Subscribe to watch
              </a>
              
              
              <a class="btn btn-danger lift mb-3" data-bigpicture='{"ytSrc": "2keh5BniAes"}' href="#">
                <i class="fe fe-youtube me-2"></i>
                Watch this talk
              </a>
              
              
              <a class="btn btn-info lift mb-3" data-bigpicture='{"ytSrc": "Ja41H7RWY7I"}' href="#">
                <i class="fe fe-eye me-2"></i>
                Watch Premiere
              </a>
              
              <!-- 
              <a class="btn btn-danger lift mb-3" href="https://youtube.com/playlist?list=PLIuxSyKxlQrAK-qfMuIkOnIAqOu3Snij7" target="_blank">
                <i class="fe fe-youtube me-2"></i>
                Playlist
              </a>
               -->
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>
      </div>
    </div>

    
    <!-- VIDEO -->
    <section class="pt-2 sticky">
      <div class="container">
        <div class="row justify-content-center">

          <div id="video-container" class="col-9 col-lg-12 mb-5">

          <!-- Video -->

            <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
            <div id="player" class="sticky"></div>

            <script>
              
              var transcript = [{"text": "Hello and welcome to my talk. My name is Michael Birch. I\u0027m a senior Rust", "timestamp": "00:00:20,330", "timestamp_s": 20.0}, {"text": "engineer working at Aurora Labs. I\u0027ve been working with Rust since 2018,", "timestamp": "00:00:23,658", "timestamp_s": 23.0}, {"text": "but before that I was doing functional programming in Scala. I love", "timestamp": "00:00:27,970", "timestamp_s": 27.0}, {"text": "how Rust is an imperative programming language, but takes inspiration from some", "timestamp": "00:00:31,372", "timestamp_s": 31.0}, {"text": "of the best features of functional programming, some of which we\u0027ll talk about today.", "timestamp": "00:00:34,828", "timestamp_s": 34.0}, {"text": "My goal with this talk is to show how patterns in functional programming can be", "timestamp": "00:00:39,450", "timestamp_s": 39.0}, {"text": "used in rust to write code that is easier to test,", "timestamp": "00:00:42,928", "timestamp_s": 42.0}, {"text": "maintain, and reused in multiple applications. In your tech stack.", "timestamp": "00:00:46,096", "timestamp_s": 46.0}, {"text": "In particular, I\u0027m focusing on how we applied these ideas at Aurora to", "timestamp": "00:00:50,038", "timestamp_s": 50.0}, {"text": "do what it says in the title, turn our main smart contract into", "timestamp": "00:00:53,908", "timestamp_s": 53.0}, {"text": "an indexer. I hope this talk will be both accessible", "timestamp": "00:00:57,476", "timestamp_s": 57.0}, {"text": "and interesting to blockchain developers, rust experts, and functional programming", "timestamp": "00:01:01,242", "timestamp_s": 61.0}, {"text": "enthusiasts. Though each group may find different parts of the talk more", "timestamp": "00:01:05,518", "timestamp_s": 65.0}, {"text": "or less informative in terms of an outline, I\u0027ll begin", "timestamp": "00:01:09,048", "timestamp_s": 69.0}, {"text": "by getting everyone up to speed on the basics of blockchain", "timestamp": "00:01:13,510", "timestamp_s": 73.0}, {"text": "technology. Only what you need to understand what I mean when I\u0027m talking", "timestamp": "00:01:16,862", "timestamp_s": 76.0}, {"text": "about smart contracts, indexers, and how they relate to one another.", "timestamp": "00:01:20,412", "timestamp_s": 80.0}, {"text": "Next, I\u0027ll talk about the key features of the rest programming language", "timestamp": "00:01:24,330", "timestamp_s": 84.0}, {"text": "that enable us to do this smart contracts into indexers trick.", "timestamp": "00:01:28,050", "timestamp_s": 88.0}, {"text": "And finally, we\u0027ll do a deep dive into some real code that showcases", "timestamp": "00:01:32,454", "timestamp_s": 92.0}, {"text": "how these ideas were applied at Aurora.", "timestamp": "00:01:36,006", "timestamp_s": 96.0}, {"text": "So, to get started, let\u0027s talk about blockchain basics. What is", "timestamp": "00:01:39,470", "timestamp_s": 99.0}, {"text": "a blockchain? A blockchain is an appendonly data structure", "timestamp": "00:01:43,008", "timestamp_s": 103.0}, {"text": "with immutable history. What I mean by this is", "timestamp": "00:01:46,794", "timestamp_s": 106.0}, {"text": "the data structure can only have additional data added to", "timestamp": "00:01:50,356", "timestamp_s": 110.0}, {"text": "it, and once something has been added to the blockchain, it cannot", "timestamp": "00:01:53,892", "timestamp_s": 113.0}, {"text": "be changed. Up on the slide, we have sort of the classic", "timestamp": "00:01:57,438", "timestamp_s": 117.0}, {"text": "depiction of a blockchain. The squares in the diagram", "timestamp": "00:02:01,182", "timestamp_s": 121.0}, {"text": "are the so called blocks which represent the individual chunks", "timestamp": "00:02:04,702", "timestamp_s": 124.0}, {"text": "of data in the data structure, and the arrows show how the", "timestamp": "00:02:08,258", "timestamp_s": 128.0}, {"text": "blocks are connected to one another. Hence blockchain.", "timestamp": "00:02:11,628", "timestamp_s": 131.0}, {"text": "This data structure you can imagine extending infinitely to the", "timestamp": "00:02:15,530", "timestamp_s": 135.0}, {"text": "right by adding a new block with can arrow pointing to the previous block.", "timestamp": "00:02:19,328", "timestamp_s": 139.0}, {"text": "As I mentioned, the history is immutable because the connections", "timestamp": "00:02:23,974", "timestamp_s": 143.0}, {"text": "actually depend on what data came before it.", "timestamp": "00:02:27,734", "timestamp_s": 147.0}, {"text": "So you cannot change that earlier data and still maintain that", "timestamp": "00:02:30,912", "timestamp_s": 150.0}, {"text": "connection. This is cryptographically secured, but the details", "timestamp": "00:02:34,836", "timestamp_s": 154.0}, {"text": "are not important for what we\u0027re talking about today. So you", "timestamp": "00:02:38,362", "timestamp_s": 158.0}, {"text": "might ask, what goes into these blocks? And the answer is", "timestamp": "00:02:42,388", "timestamp_s": 162.0}, {"text": "transactions. For typical blockchain applications,", "timestamp": "00:02:46,072", "timestamp_s": 166.0}, {"text": "you have transactions that are interpreted in some kind", "timestamp": "00:02:50,142", "timestamp_s": 170.0}, {"text": "of virtual machine, which causes some kind of global state to change.", "timestamp": "00:02:53,288", "timestamp_s": 173.0}, {"text": "For example, in the case of Ethereum, which is a relatively large", "timestamp": "00:02:58,150", "timestamp_s": 178.0}, {"text": "blockchain platform you may have heard of before, the state consists of all", "timestamp": "00:03:01,292", "timestamp_s": 181.0}, {"text": "of the accounts and contracts that exist on the platform,", "timestamp": "00:03:05,068", "timestamp_s": 185.0}, {"text": "and the virtual machine is the ethereum virtual machine. The EVM", "timestamp": "00:03:08,688", "timestamp_s": 188.0}, {"text": "transactions can be things like send three ETh to some address", "timestamp": "00:03:13,310", "timestamp_s": 193.0}, {"text": "or call some method on a contract", "timestamp": "00:03:17,504", "timestamp_s": 197.0}, {"text": "that was previously deployed. And speaking of smart", "timestamp": "00:03:21,066", "timestamp_s": 201.0}, {"text": "contracts, let\u0027s talk about those. A smart contract", "timestamp": "00:03:24,858", "timestamp_s": 204.0}, {"text": "is a program that can run in the virtual", "timestamp": "00:03:28,170", "timestamp_s": 208.0}, {"text": "machine of whatever blockchain you\u0027re talking about. Up on", "timestamp": "00:03:31,738", "timestamp_s": 211.0}, {"text": "the slide. I\u0027ve got sort of a simple example where", "timestamp": "00:03:35,064", "timestamp_s": 215.0}, {"text": "in the first transaction you deploy some contract,", "timestamp": "00:03:39,272", "timestamp_s": 219.0}, {"text": "it gets included into the state, and then in a later", "timestamp": "00:03:43,678", "timestamp_s": 223.0}, {"text": "block you have a new transaction that is calling a method,", "timestamp": "00:03:47,160", "timestamp_s": 227.0}, {"text": "in this case, the method foo on that contract.", "timestamp": "00:03:50,514", "timestamp_s": 230.0}, {"text": "Smart contracts can do all kinds of things. They\u0027re limited only by the", "timestamp": "00:03:54,250", "timestamp_s": 234.0}, {"text": "power of the virtual machine that they operate in. For example,", "timestamp": "00:03:57,548", "timestamp_s": 237.0}, {"text": "smart contracts can represent tokens, maybe even tokens", "timestamp": "00:04:00,960", "timestamp_s": 240.0}, {"text": "that are tied to some real world currency, so called stablecoins.", "timestamp": "00:04:04,134", "timestamp_s": 244.0}, {"text": "Smart contracts can be marketplaces where you can trade", "timestamp": "00:04:08,110", "timestamp_s": 248.0}, {"text": "between those different tokens, or they can be escrow lockers", "timestamp": "00:04:11,674", "timestamp_s": 251.0}, {"text": "to facilitate some kind of exchange. Maybe even in the real world,", "timestamp": "00:04:15,738", "timestamp_s": 255.0}, {"text": "smart contracts can be validated storages", "timestamp": "00:04:19,330", "timestamp_s": 259.0}, {"text": "where you can prove that off can events happened,", "timestamp": "00:04:23,322", "timestamp_s": 263.0}, {"text": "say for example in the leaderboard for blockchain enabled games.", "timestamp": "00:04:26,344", "timestamp_s": 266.0}, {"text": "Or even a smart contract could be the", "timestamp": "00:04:30,870", "timestamp_s": 270.0}, {"text": "entire virtual machine of some other blockchain platform.", "timestamp": "00:04:34,712", "timestamp_s": 274.0}, {"text": "And this might sound crazy, but it\u0027s an important part of this story", "timestamp": "00:04:38,204", "timestamp_s": 278.0}, {"text": "that we\u0027ll come back to later. For now, let\u0027s keep being with our blockchain", "timestamp": "00:04:41,676", "timestamp_s": 281.0}, {"text": "basics. All of this is just about a single copy", "timestamp": "00:04:45,522", "timestamp_s": 285.0}, {"text": "of the blockchain and how it evolves. But in a real blockchain", "timestamp": "00:04:49,590", "timestamp_s": 289.0}, {"text": "platform, the blockchain is distributed and", "timestamp": "00:04:52,982", "timestamp_s": 292.0}, {"text": "continuously built by multiple participants that are", "timestamp": "00:04:56,768", "timestamp_s": 296.0}, {"text": "decentralized, the so called nodes of the network,", "timestamp": "00:05:00,484", "timestamp_s": 300.0}, {"text": "and the transactions are submitted by users.", "timestamp": "00:05:04,050", "timestamp_s": 304.0}, {"text": "The nodes eventually agree on the blockchain that they\u0027re all collectively", "timestamp": "00:05:08,130", "timestamp_s": 308.0}, {"text": "building up to some point using a consensus algorithm.", "timestamp": "00:05:11,498", "timestamp_s": 311.0}, {"text": "Again, the details are not very important for what we\u0027re talking about here,", "timestamp": "00:05:15,294", "timestamp_s": 315.0}, {"text": "but suffice it to say the blockchain is", "timestamp": "00:05:18,472", "timestamp_s": 318.0}, {"text": "only eventually consistent, and getting data about", "timestamp": "00:05:21,912", "timestamp_s": 321.0}, {"text": "the blockchain off of the network is slow because of the decentralized nature.", "timestamp": "00:05:25,496", "timestamp_s": 325.0}, {"text": "So how do users actually get the data off of the", "timestamp": "00:05:29,930", "timestamp_s": 329.0}, {"text": "blockchain? They interact with some kind of RPC.", "timestamp": "00:05:33,788", "timestamp_s": 333.0}, {"text": "Usually that RPC is run by a third party service, but users", "timestamp": "00:05:37,930", "timestamp_s": 337.0}, {"text": "can choose to run their own code that are a part of the network and", "timestamp": "00:05:41,958", "timestamp_s": 341.0}, {"text": "still expose an RPC interface to themselves. The key point", "timestamp": "00:05:44,992", "timestamp_s": 344.0}, {"text": "here is that getting data off of the blockchain is slow because", "timestamp": "00:05:48,672", "timestamp_s": 348.0}, {"text": "it requires multiple network calls, and even still", "timestamp": "00:05:51,968", "timestamp_s": 351.0}, {"text": "because of the decentralized nature, it\u0027s only eventually consistent.", "timestamp": "00:05:55,396", "timestamp_s": 355.0}, {"text": "So something that happens in one node may take a long time to propagate and", "timestamp": "00:05:59,226", "timestamp_s": 359.0}, {"text": "be visible by any given RPC for a particular user.", "timestamp": "00:06:03,188", "timestamp_s": 363.0}, {"text": "So to help address that problem, we have this idea of an indexer.", "timestamp": "00:06:07,430", "timestamp_s": 367.0}, {"text": "Given the wide range of functionality of smart contracts,", "timestamp": "00:06:12,094", "timestamp_s": 372.0}, {"text": "it\u0027s not always efficient to query a blockchain platform directly", "timestamp": "00:06:16,014", "timestamp_s": 376.0}, {"text": "against its RPC. There\u0027s just no way for a single RPC", "timestamp": "00:06:19,490", "timestamp_s": 379.0}, {"text": "to capture all of the different possible variations on", "timestamp": "00:06:23,394", "timestamp_s": 383.0}, {"text": "the states that different smart contracts could hold. And indexers", "timestamp": "00:06:27,420", "timestamp_s": 387.0}, {"text": "help address this by having a specialized view of the blockchain state which", "timestamp": "00:06:30,838", "timestamp_s": 390.0}, {"text": "is optimized for particular queries.", "timestamp": "00:06:34,832", "timestamp_s": 394.0}, {"text": "For example, a block Explorer like Etherscan, which is", "timestamp": "00:06:38,030", "timestamp_s": 398.0}, {"text": "the biggest block explorer for the Ethereum blockchain.", "timestamp": "00:06:42,670", "timestamp_s": 402.0}, {"text": "It\u0027ll show you all of the tokens that are held by", "timestamp": "00:06:46,290", "timestamp_s": 406.0}, {"text": "each user. Up on the slide, I\u0027ve taken a screenshot of ether scan where", "timestamp": "00:06:49,732", "timestamp_s": 409.0}, {"text": "I\u0027ve selected some random account and you can see it holds 23", "timestamp": "00:06:52,948", "timestamp_s": 412.0}, {"text": "different kinds of tokens. This kind", "timestamp": "00:06:56,696", "timestamp_s": 416.0}, {"text": "of query would be very difficult or maybe even impossible", "timestamp": "00:07:00,408", "timestamp_s": 420.0}, {"text": "to do with just the RPC because the mapping", "timestamp": "00:07:04,382", "timestamp_s": 424.0}, {"text": "is actually reversed on chain. Each token knows", "timestamp": "00:07:07,698", "timestamp_s": 427.0}, {"text": "the list of balance holders, but there is no", "timestamp": "00:07:12,082", "timestamp_s": 432.0}, {"text": "index for all of the tokens held by each of the", "timestamp": "00:07:15,628", "timestamp_s": 435.0}, {"text": "addresses. So to solve that problem, Etherscan has", "timestamp": "00:07:19,008", "timestamp_s": 439.0}, {"text": "an indexer which maintains that reverse lookup and makes", "timestamp": "00:07:22,992", "timestamp_s": 442.0}, {"text": "the queries efficient when a user visits their website.", "timestamp": "00:07:26,576", "timestamp_s": 446.0}, {"text": "So the way to think about how indexers fit into the", "timestamp": "00:07:32,450", "timestamp_s": 452.0}, {"text": "story here is you have some user talking to some", "timestamp": "00:07:36,548", "timestamp_s": 456.0}, {"text": "application UI which is talking to an indexer,", "timestamp": "00:07:39,828", "timestamp_s": 459.0}, {"text": "and the indexer is fed data from an RPC and the indexer", "timestamp": "00:07:43,210", "timestamp_s": 463.0}, {"text": "is maintaining its own internal specialized view of the state.", "timestamp": "00:07:46,878", "timestamp_s": 466.0}, {"text": "Indexers, like I\u0027ve been saying, help create low latency experience for", "timestamp": "00:07:51,350", "timestamp_s": 471.0}, {"text": "users or web, two experiences in the sort of blockchain", "timestamp": "00:07:55,208", "timestamp_s": 475.0}, {"text": "jargon. Since the indexer needs to populate the", "timestamp": "00:07:59,250", "timestamp_s": 479.0}, {"text": "database from blockchain data, it needs to understand what state", "timestamp": "00:08:02,748", "timestamp_s": 482.0}, {"text": "of the smart contract is important. Therefore,", "timestamp": "00:08:06,476", "timestamp_s": 486.0}, {"text": "smart contracts and their indexers are always related to", "timestamp": "00:08:09,558", "timestamp_s": 489.0}, {"text": "one another. So can idea we might have is", "timestamp": "00:08:12,768", "timestamp_s": 492.0}, {"text": "to have a single source code, single code base", "timestamp": "00:08:17,312", "timestamp_s": 497.0}, {"text": "that contributes both to our smart contract and our", "timestamp": "00:08:20,784", "timestamp_s": 500.0}, {"text": "indexers. Again, because they\u0027re so closely related to one another,", "timestamp": "00:08:24,292", "timestamp_s": 504.0}, {"text": "this would be great since it would mean less maintenance.", "timestamp": "00:08:27,652", "timestamp_s": 507.0}, {"text": "There\u0027s just less code overall to maintain. And even better", "timestamp": "00:08:30,842", "timestamp_s": 510.0}, {"text": "still, it would make our indexer more powerful than your average indexer,", "timestamp": "00:08:34,756", "timestamp_s": 514.0}, {"text": "because it would have access to all of the smart contract\u0027s logic,", "timestamp": "00:08:38,702", "timestamp_s": 518.0}, {"text": "and it would be able to do things like simulate an entire transaction", "timestamp": "00:08:41,854", "timestamp_s": 521.0}, {"text": "off chain, and that gives you free low latency", "timestamp": "00:08:45,566", "timestamp_s": 525.0}, {"text": "feedback to users about potential errors. So this is", "timestamp": "00:08:48,866", "timestamp_s": 528.0}, {"text": "what we\u0027re aiming for. This is our idea. How are we going to accomplish", "timestamp": "00:08:52,796", "timestamp_s": 532.0}, {"text": "that using rust? So there\u0027s a few key concepts that", "timestamp": "00:08:56,082", "timestamp_s": 536.0}, {"text": "we want to take a look at. First of all is different compilation", "timestamp": "00:08:59,888", "timestamp_s": 539.0}, {"text": "targets. So up on the slide I\u0027ve got links", "timestamp": "00:09:03,542", "timestamp_s": 543.0}, {"text": "to the official rust documentation if you want to sort of take", "timestamp": "00:09:08,022", "timestamp_s": 548.0}, {"text": "a deep dive and read more about this yourself. But at a high level", "timestamp": "00:09:11,488", "timestamp_s": 551.0}, {"text": "you have the rest compiler giving you some kind of", "timestamp": "00:09:15,220", "timestamp_s": 555.0}, {"text": "output from your code, some kind of executable output from your code.", "timestamp": "00:09:18,404", "timestamp_s": 558.0}, {"text": "In the typical case, it\u0027s an executable for whatever", "timestamp": "00:09:22,610", "timestamp_s": 562.0}, {"text": "operating system you\u0027re running on Linux, Windows, Mac,", "timestamp": "00:09:26,280", "timestamp_s": 566.0}, {"text": "and maybe even specialized to the specific hardware of your machine,", "timestamp": "00:09:29,662", "timestamp_s": 569.0}, {"text": "say it\u0027s an arm or x 86. But there are", "timestamp": "00:09:33,262", "timestamp_s": 573.0}, {"text": "more executable targets than just these. In particular,", "timestamp": "00:09:37,228", "timestamp_s": 577.0}, {"text": "webassembly is an important one for this story, because the", "timestamp": "00:09:41,532", "timestamp_s": 581.0}, {"text": "blockchain platform that Aurora uses has webassembly", "timestamp": "00:09:45,196", "timestamp_s": 585.0}, {"text": "as its virtual machine. So on the slide", "timestamp": "00:09:48,710", "timestamp_s": 588.0}, {"text": "I include the commands that you would use in rust to", "timestamp": "00:09:52,422", "timestamp_s": 592.0}, {"text": "install the webassembly target compilation", "timestamp": "00:09:56,336", "timestamp_s": 596.0}, {"text": "target, and then how you would select that targets to build", "timestamp": "00:09:59,702", "timestamp_s": 599.0}, {"text": "your project.", "timestamp": "00:10:04,228", "timestamp_s": 604.0}, {"text": "Now, given that you can have these different", "timestamp": "00:10:07,490", "timestamp_s": 607.0}, {"text": "targets, it\u0027s useful to be able to write code that selects", "timestamp": "00:10:10,996", "timestamp_s": 610.0}, {"text": "or is specialized to a particular compilation target.", "timestamp": "00:10:16,550", "timestamp_s": 616.0}, {"text": "Conditional compilation allows us to do this.", "timestamp": "00:10:20,686", "timestamp_s": 620.0}, {"text": "Again, I\u0027ve got a link up on the slide which you", "timestamp": "00:10:24,184", "timestamp_s": 624.0}, {"text": "can do some further reading on if you\u0027re interested. But long", "timestamp": "00:10:28,040", "timestamp_s": 628.0}, {"text": "story short, the syntax looks like the example I\u0027ve got", "timestamp": "00:10:31,452", "timestamp_s": 631.0}, {"text": "up there. So we have some function Foo, and the implementation", "timestamp": "00:10:34,668", "timestamp_s": 634.0}, {"text": "of Foo depends on if we\u0027re compiling to wasm or not.", "timestamp": "00:10:38,262", "timestamp_s": 638.0}, {"text": "Again, this is useful because it lets us make specific choices", "timestamp": "00:10:42,750", "timestamp_s": 642.0}, {"text": "that only work on that architecture. So in the case of webassembly,", "timestamp": "00:10:47,510", "timestamp_s": 647.0}, {"text": "you have this notion of host functions, which we\u0027ll talk a lot about later.", "timestamp": "00:10:51,222", "timestamp_s": 651.0}, {"text": "But host functions are functions that the host, that is the computer", "timestamp": "00:10:55,348", "timestamp_s": 655.0}, {"text": "running your webassembly virtual machine exposes for", "timestamp": "00:10:59,524", "timestamp_s": 659.0}, {"text": "the WASM module to use, whereas in a normal application", "timestamp": "00:11:03,460", "timestamp_s": 663.0}, {"text": "those don\u0027t exist. But in a normal application you do have", "timestamp": "00:11:07,750", "timestamp_s": 667.0}, {"text": "access to disk, for example, so you could use that to access storage.", "timestamp": "00:11:11,560", "timestamp_s": 671.0}, {"text": "Now, the drawback of conditional compilation is that it\u0027s", "timestamp": "00:11:16,550", "timestamp_s": 676.0}, {"text": "a little verbose, and it makes the implementation a little hard to", "timestamp": "00:11:20,354", "timestamp_s": 680.0}, {"text": "read, right. You can see, the function foo maybe looks", "timestamp": "00:11:24,172", "timestamp_s": 684.0}, {"text": "a little awkward because there are these two totally separate branches.", "timestamp": "00:11:27,532", "timestamp_s": 687.0}, {"text": "Additionally, because you have these separate branches, it\u0027s a little tedious to", "timestamp": "00:11:31,150", "timestamp_s": 691.0}, {"text": "use inside of an IDE. Your iDe will usually", "timestamp": "00:11:34,448", "timestamp_s": 694.0}, {"text": "only show you one branch of the conditional compilation at a time,", "timestamp": "00:11:38,080", "timestamp_s": 698.0}, {"text": "so you have to sort of switch back and forth between them when you\u0027re trying", "timestamp": "00:11:41,680", "timestamp_s": 701.0}, {"text": "to write code for it. But fortunately,", "timestamp": "00:11:44,836", "timestamp_s": 704.0}, {"text": "we can minimize the amount of conditional compilation that we\u0027re doing by", "timestamp": "00:11:48,442", "timestamp_s": 708.0}, {"text": "abstracting most of our code over the", "timestamp": "00:11:53,112", "timestamp_s": 713.0}, {"text": "platform specific effects.", "timestamp": "00:11:57,112", "timestamp_s": 717.0}, {"text": "And to do that, we have this idea in rust called type generics.", "timestamp": "00:12:00,790", "timestamp_s": 720.0}, {"text": "So the whole point of a type generic is you", "timestamp": "00:12:05,438", "timestamp_s": 725.0}, {"text": "write a function, in this case get balance,", "timestamp": "00:12:09,100", "timestamp_s": 729.0}, {"text": "which takes in some type, but we don\u0027t care what it is,", "timestamp": "00:12:12,570", "timestamp_s": 732.0}, {"text": "we only care that it has a particular interface,", "timestamp": "00:12:16,556", "timestamp_s": 736.0}, {"text": "and that interface is defined using a trait,", "timestamp": "00:12:20,774", "timestamp_s": 740.0}, {"text": "and indicated in the syntax they are using a so called trait bound.", "timestamp": "00:12:24,214", "timestamp_s": 744.0}, {"text": "So we have in the brackets", "timestamp": "00:12:28,086", "timestamp_s": 748.0}, {"text": "between there the angle brackets I O", "timestamp": "00:12:31,926", "timestamp_s": 751.0}, {"text": "says that whatever this type I is, it must implement", "timestamp": "00:12:35,152", "timestamp_s": 755.0}, {"text": "the IO interface defined by the IO trait.", "timestamp": "00:12:38,458", "timestamp_s": 758.0}, {"text": "In this example, I\u0027m keeping it pretty simple with just the read and write methods,", "timestamp": "00:12:42,090", "timestamp_s": 762.0}, {"text": "and the type signatures are maybe a little suspect. You can imagine maybe that there", "timestamp": "00:12:46,770", "timestamp_s": 766.0}, {"text": "should be some kind of option or result involved in the read, but for", "timestamp": "00:12:50,488", "timestamp_s": 770.0}, {"text": "the sake of example, let\u0027s suppose this is what it looks like. The point", "timestamp": "00:12:54,408", "timestamp_s": 774.0}, {"text": "is that when you have this type generic, you don\u0027t care what the specifics of", "timestamp": "00:12:58,072", "timestamp_s": 778.0}, {"text": "the implementation are, you can still make use of those methods in the", "timestamp": "00:13:01,388", "timestamp_s": 781.0}, {"text": "implementation of your function. So in the case of get balance, we\u0027re imagining reading", "timestamp": "00:13:05,068", "timestamp_s": 785.0}, {"text": "some bytes out of the state and interpreting them as a", "timestamp": "00:13:09,378", "timestamp_s": 789.0}, {"text": "U 128 value. So this get balance", "timestamp": "00:13:13,088", "timestamp_s": 793.0}, {"text": "function is now totally generic over anything", "timestamp": "00:13:16,918", "timestamp_s": 796.0}, {"text": "that implements I o. And in particular we can imagine implementing", "timestamp": "00:13:20,096", "timestamp_s": 800.0}, {"text": "this for webassembly as well as native", "timestamp": "00:13:23,882", "timestamp_s": 803.0}, {"text": "code. And these would look a little bit different because of the different", "timestamp": "00:13:28,106", "timestamp_s": 808.0}, {"text": "implementations that are possible in those targets.", "timestamp": "00:13:32,530", "timestamp_s": 812.0}, {"text": "So for example, on the indexer side maybe our implementation would be reading", "timestamp": "00:13:37,590", "timestamp_s": 817.0}, {"text": "to a database on the disk, while on the webassembly side it", "timestamp": "00:13:41,518", "timestamp_s": 821.0}, {"text": "would be calling to a host function like I mentioned before. But either way,", "timestamp": "00:13:45,080", "timestamp_s": 825.0}, {"text": "after we\u0027ve done those implementations, the getbalance function", "timestamp": "00:13:49,548", "timestamp_s": 829.0}, {"text": "is now available and identical in", "timestamp": "00:13:53,644", "timestamp_s": 833.0}, {"text": "both situations. So this code is generic and", "timestamp": "00:13:57,356", "timestamp_s": 837.0}, {"text": "reusable in both cases. Now,", "timestamp": "00:14:01,216", "timestamp_s": 841.0}, {"text": "of course, this particular example is a little bit silly, because get", "timestamp": "00:14:04,688", "timestamp_s": 844.0}, {"text": "balance is just a one liner function, so you", "timestamp": "00:14:08,272", "timestamp_s": 848.0}, {"text": "probably would imagine it wouldn\u0027t be that big of a deal to duplicate that logic", "timestamp": "00:14:11,712", "timestamp_s": 851.0}, {"text": "in the two places instead of jumping through all of these type", "timestamp": "00:14:15,178", "timestamp_s": 855.0}, {"text": "generic hoops. But this idea", "timestamp": "00:14:18,292", "timestamp_s": 858.0}, {"text": "scales, right? It doesn\u0027t matter how complicated the get balance function is,", "timestamp": "00:14:21,668", "timestamp_s": 861.0}, {"text": "and at some point it\u0027s complicated enough that you don\u0027t want to have to duplicate", "timestamp": "00:14:25,352", "timestamp_s": 865.0}, {"text": "it into both places.", "timestamp": "00:14:28,702", "timestamp_s": 868.0}, {"text": "So this is the whole point of the", "timestamp": "00:14:32,630", "timestamp_s": 872.0}, {"text": "functional programming patterns. Let\u0027s take a step back and just", "timestamp": "00:14:36,008", "timestamp_s": 876.0}, {"text": "talk about the big ideas here, because this really isn\u0027t about just rust", "timestamp": "00:14:39,468", "timestamp_s": 879.0}, {"text": "or just blockchain. This is programming style in general.", "timestamp": "00:14:43,490", "timestamp_s": 883.0}, {"text": "The code concept is when you\u0027re writing code", "timestamp": "00:14:47,870", "timestamp_s": 887.0}, {"text": "for environment specific effects like reading and writing from state,", "timestamp": "00:14:53,070", "timestamp_s": 893.0}, {"text": "you can abstract over them in your core", "timestamp": "00:14:57,070", "timestamp_s": 897.0}, {"text": "business logic to make it pure. That is to", "timestamp": "00:15:00,602", "timestamp_s": 900.0}, {"text": "say, it doesn\u0027t depend on the particular environment, it doesn\u0027t depend on", "timestamp": "00:15:03,972", "timestamp_s": 903.0}, {"text": "any compilation target specific effects,", "timestamp": "00:15:07,908", "timestamp_s": 907.0}, {"text": "and by factoring those things out, pushing them into", "timestamp": "00:15:11,418", "timestamp_s": 911.0}, {"text": "a trait, and only having those trait implementations has the boundaries of your applications.", "timestamp": "00:15:15,028", "timestamp_s": 915.0}, {"text": "The result is most of your code is easier to", "timestamp": "00:15:19,838", "timestamp_s": 919.0}, {"text": "test and easier to maintain because it can", "timestamp": "00:15:23,272", "timestamp_s": 923.0}, {"text": "be tested using in memory", "timestamp": "00:15:27,532", "timestamp_s": 927.0}, {"text": "structures, right? Just different implementations of those traits", "timestamp": "00:15:31,442", "timestamp_s": 931.0}, {"text": "that don\u0027t even actually do the effects.", "timestamp": "00:15:35,794", "timestamp_s": 935.0}, {"text": "So in the case of storage, right, you could have", "timestamp": "00:15:40,110", "timestamp_s": 940.0}, {"text": "just a simple hash map in memory that you\u0027re reading", "timestamp": "00:15:43,744", "timestamp_s": 943.0}, {"text": "and writing for your", "timestamp": "00:15:47,174", "timestamp_s": 947.0}, {"text": "tests, but still be able to test all of your business logic code,", "timestamp": "00:15:50,832", "timestamp_s": 950.0}, {"text": "because again, it is agnostic to the details of that implementation,", "timestamp": "00:15:54,340", "timestamp_s": 954.0}, {"text": "while in the production implementation you\u0027re actually using", "timestamp": "00:15:58,450", "timestamp_s": 958.0}, {"text": "a real database. And again, all of the code", "timestamp": "00:16:01,956", "timestamp_s": 961.0}, {"text": "that is being used with that database has still already", "timestamp": "00:16:05,688", "timestamp_s": 965.0}, {"text": "been tested in this in memory environment.", "timestamp": "00:16:09,176", "timestamp_s": 969.0}, {"text": "The other nice thing about all of this is", "timestamp": "00:16:14,078", "timestamp_s": 974.0}, {"text": "this code is easier to reason about. You don\u0027t have to worry", "timestamp": "00:16:18,108", "timestamp_s": 978.0}, {"text": "about are there going to be random side effects", "timestamp": "00:16:21,266", "timestamp_s": 981.0}, {"text": "in particular parts of the code because they\u0027re all", "timestamp": "00:16:25,410", "timestamp_s": 985.0}, {"text": "explicitly given in the type signatures. You can\u0027t", "timestamp": "00:16:29,360", "timestamp_s": 989.0}, {"text": "do I O without having the I O trait", "timestamp": "00:16:33,710", "timestamp_s": 993.0}, {"text": "present. If you\u0027re writing code that is generic,", "timestamp": "00:16:37,430", "timestamp_s": 997.0}, {"text": "overall possible compilation target. So whenever", "timestamp": "00:16:41,062", "timestamp_s": 1001.0}, {"text": "you see a piece of code that doesn\u0027t have the I O", "timestamp": "00:16:44,298", "timestamp_s": 1004.0}, {"text": "trait on it, you know it\u0027s not doing any I O.", "timestamp": "00:16:47,892", "timestamp_s": 1007.0}, {"text": "And conversely, when you do see a function that has the I", "timestamp": "00:16:51,252", "timestamp_s": 1011.0}, {"text": "O trait, you know that some state is being used by that function.", "timestamp": "00:16:54,868", "timestamp_s": 1014.0}, {"text": "This is something that you might have heard before, has the principle of", "timestamp": "00:16:59,350", "timestamp_s": 1019.0}, {"text": "least authority, where the idea is that code should only have access", "timestamp": "00:17:03,048", "timestamp_s": 1023.0}, {"text": "to the minimum amount of capabilities that it actually", "timestamp": "00:17:07,032", "timestamp_s": 1027.0}, {"text": "needs to function. So code that doesn\u0027t need I O doesn\u0027t have", "timestamp": "00:17:10,396", "timestamp_s": 1030.0}, {"text": "I O, and similarly for other effects. Finally,", "timestamp": "00:17:13,692", "timestamp_s": 1033.0}, {"text": "this code is easier to reuse, and that is kind of", "timestamp": "00:17:17,420", "timestamp_s": 1037.0}, {"text": "the whole point of this talk. Once your code is", "timestamp": "00:17:20,544", "timestamp_s": 1040.0}, {"text": "written in this abstract way, you can use the same code", "timestamp": "00:17:23,808", "timestamp_s": 1043.0}, {"text": "for any different application that", "timestamp": "00:17:27,792", "timestamp_s": 1047.0}, {"text": "you need. So in the case that we\u0027re talking about, it\u0027s a smart contract and", "timestamp": "00:17:31,568", "timestamp_s": 1051.0}, {"text": "an indexer, but you can imagine that the same kind of thing would work.", "timestamp": "00:17:35,332", "timestamp_s": 1055.0}, {"text": "Say, if you had a web application and a mobile", "timestamp": "00:17:38,964", "timestamp_s": 1058.0}, {"text": "application, you could have the same rust code base at its", "timestamp": "00:17:42,442", "timestamp_s": 1062.0}, {"text": "core and compile it to webassembly. That gets used", "timestamp": "00:17:45,592", "timestamp_s": 1065.0}, {"text": "as part of a web app or down into", "timestamp": "00:17:49,032", "timestamp_s": 1069.0}, {"text": "a mobile code and used in your mobile app as well.", "timestamp": "00:17:53,830", "timestamp_s": 1073.0}, {"text": "And again, it would be the same idea where if you\u0027re abstracting over", "timestamp": "00:17:57,372", "timestamp_s": 1077.0}, {"text": "the FX, you don\u0027t need to worry about whether you\u0027re talking", "timestamp": "00:18:01,068", "timestamp_s": 1081.0}, {"text": "to a javascript wrapper in the browser or an", "timestamp": "00:18:05,260", "timestamp_s": 1085.0}, {"text": "Android operating system, for example. But all", "timestamp": "00:18:09,488", "timestamp_s": 1089.0}, {"text": "of that aside, let\u0027s get back to our", "timestamp": "00:18:13,328", "timestamp_s": 1093.0}, {"text": "main topic here. So at Aurora, we made", "timestamp": "00:18:16,608", "timestamp_s": 1096.0}, {"text": "use of these ideas, like I\u0027ve been saying, to make an", "timestamp": "00:18:20,112", "timestamp_s": 1100.0}, {"text": "indexer out of a smart contract. So what is Aurora?", "timestamp": "00:18:23,988", "timestamp_s": 1103.0}, {"text": "Aurora is an ethereum scaling solution built on top of the near blockchain", "timestamp": "00:18:27,546", "timestamp_s": 1107.0}, {"text": "platform. I\u0027ve got a couple links up on the slide if you want to", "timestamp": "00:18:31,386", "timestamp_s": 1111.0}, {"text": "read more about that and dig deeper.", "timestamp": "00:18:35,080", "timestamp_s": 1115.0}, {"text": "That\u0027s available. But for today\u0027s story,", "timestamp": "00:18:38,542", "timestamp_s": 1118.0}, {"text": "the part that is most important is Aurora\u0027s", "timestamp": "00:18:42,520", "timestamp_s": 1122.0}, {"text": "core product is this EVM, the Ethereum virtual machine we talked about before.", "timestamp": "00:18:47,690", "timestamp_s": 1127.0}, {"text": "But it\u0027s deployed as a smart contract on top of near uses", "timestamp": "00:18:51,756", "timestamp_s": 1131.0}, {"text": "webassembly as its blockchain VM,", "timestamp": "00:18:56,146", "timestamp_s": 1136.0}, {"text": "which means it\u0027s super powerful. Rust compiles to it,", "timestamp": "00:18:59,186", "timestamp_s": 1139.0}, {"text": "no problem, like we saw earlier. And you can write an implementation", "timestamp": "00:19:02,368", "timestamp_s": 1142.0}, {"text": "of the EVM in Rust, compile it to Webassembly. Now you have", "timestamp": "00:19:06,358", "timestamp_s": 1146.0}, {"text": "it as a smart contract on Nier, and that enables", "timestamp": "00:19:09,744", "timestamp_s": 1149.0}, {"text": "this whole scaling solution where now you\u0027re using Nier to run", "timestamp": "00:19:13,354", "timestamp_s": 1153.0}, {"text": "the EVM transactions instead of Ethereum itself.", "timestamp": "00:19:17,588", "timestamp_s": 1157.0}, {"text": "So you\u0027re benefiting from near\u0027s better", "timestamp": "00:19:21,108", "timestamp_s": 1161.0}, {"text": "scaling, the sharding and consensus and all this stuff.", "timestamp": "00:19:25,016", "timestamp_s": 1165.0}, {"text": "But again, out of scope for today,", "timestamp": "00:19:28,440", "timestamp_s": 1168.0}, {"text": "the most important detail to continue our story is Aurora", "timestamp": "00:19:32,870", "timestamp_s": 1172.0}, {"text": "claims to be compatible with Ethereum tooling,", "timestamp": "00:19:36,930", "timestamp_s": 1176.0}, {"text": "including the metamask wallet, the hard", "timestamp": "00:19:41,370", "timestamp_s": 1181.0}, {"text": "hat developer tool. And if these", "timestamp": "00:19:45,116", "timestamp_s": 1185.0}, {"text": "are not familiar to you, don\u0027t worry about it. Suffice it to say, these are", "timestamp": "00:19:48,812", "timestamp_s": 1188.0}, {"text": "tools that are very common in the Ethereum ecosystem,", "timestamp": "00:19:52,192", "timestamp_s": 1192.0}, {"text": "and they rely on a particular RPC, right? They rely on the", "timestamp": "00:19:56,678", "timestamp_s": 1196.0}, {"text": "RPC that Ethereum nodes would expose. So for Aurora to", "timestamp": "00:20:00,368", "timestamp_s": 1200.0}, {"text": "be compatible with them, it must also expose that same RPC interface.", "timestamp": "00:20:03,764", "timestamp_s": 1203.0}, {"text": "So there\u0027s sort of an obvious implementation on how to do this.", "timestamp": "00:20:08,930", "timestamp_s": 1208.0}, {"text": "We know that this thing is deployed on Nier, and Nier has its own RPC.", "timestamp": "00:20:12,500", "timestamp_s": 1212.0}, {"text": "So you can imagine a proxy which translates Ethereum", "timestamp": "00:20:15,918", "timestamp_s": 1215.0}, {"text": "RPC requests into the", "timestamp": "00:20:20,414", "timestamp_s": 1220.0}, {"text": "corresponding near RPC request that\u0027s talking to the Aurora contract,", "timestamp": "00:20:24,232", "timestamp_s": 1224.0}, {"text": "and then translates the response back. But as we\u0027ve mentioned,", "timestamp": "00:20:28,290", "timestamp_s": 1228.0}, {"text": "this is quite slow. It involves multiple network hops,", "timestamp": "00:20:32,810", "timestamp_s": 1232.0}, {"text": "and so you may end up with lower latency with a higher latency", "timestamp": "00:20:37,290", "timestamp_s": 1237.0}, {"text": "than you want. The other issue is some of the RPC", "timestamp": "00:20:40,902", "timestamp_s": 1240.0}, {"text": "requests on Ethereum are fairly beefy.", "timestamp": "00:20:44,726", "timestamp_s": 1244.0}, {"text": "You can ask an Ethereum RPC node to simulate entire", "timestamp": "00:20:48,134", "timestamp_s": 1248.0}, {"text": "transactions, and if you\u0027re trying to do that on", "timestamp": "00:20:51,908", "timestamp_s": 1251.0}, {"text": "a network node inside of webassembly,", "timestamp": "00:20:55,332", "timestamp_s": 1255.0}, {"text": "it can be additional latency on top of the", "timestamp": "00:20:58,290", "timestamp_s": 1258.0}, {"text": "just simple network latency.", "timestamp": "00:21:02,550", "timestamp_s": 1262.0}, {"text": "So getting to the main point here,", "timestamp": "00:21:05,030", "timestamp_s": 1265.0}, {"text": "the way we can solve this is by writing an indexer", "timestamp": "00:21:08,790", "timestamp_s": 1268.0}, {"text": "that is actually able to function has this ethereum", "timestamp": "00:21:13,030", "timestamp_s": 1273.0}, {"text": "RPC. So again, because it needs to do", "timestamp": "00:21:16,882", "timestamp_s": 1276.0}, {"text": "this whole transaction simulation, needs to have", "timestamp": "00:21:20,268", "timestamp_s": 1280.0}, {"text": "all of the functionality of the aurora contract baked into", "timestamp": "00:21:23,900", "timestamp_s": 1283.0}, {"text": "it, and we\u0027re going to use the", "timestamp": "00:21:27,372", "timestamp_s": 1287.0}, {"text": "exact methods that we\u0027ve just been talking about to make this possible.", "timestamp": "00:21:30,960", "timestamp_s": 1290.0}, {"text": "So all of this code is available on GitHub, it\u0027s all", "timestamp": "00:21:35,470", "timestamp_s": 1295.0}, {"text": "open source. I\u0027ve got a link up on the slide if you ever want to", "timestamp": "00:21:38,944", "timestamp_s": 1298.0}, {"text": "go and take a look at it yourself. But we\u0027ll take a look at a", "timestamp": "00:21:42,000", "timestamp_s": 1302.0}, {"text": "few snippets and get a sense of what\u0027s going on here. So the", "timestamp": "00:21:44,884", "timestamp_s": 1304.0}, {"text": "code that\u0027s up on the screen right now is the", "timestamp": "00:21:48,148", "timestamp_s": 1308.0}, {"text": "real code out of the actual Aurora engine. So here\u0027s the", "timestamp": "00:21:51,716", "timestamp_s": 1311.0}, {"text": "actual implementation of get balance that I sort of gave a toy", "timestamp": "00:21:55,528", "timestamp_s": 1315.0}, {"text": "example of earlier. It\u0027s pretty similar to the toy example,", "timestamp": "00:21:58,798", "timestamp_s": 1318.0}, {"text": "with a few extra error handling things going on.", "timestamp": "00:22:02,264", "timestamp_s": 1322.0}, {"text": "And similarly for the setbalance,", "timestamp": "00:22:06,230", "timestamp_s": 1326.0}, {"text": "again, notice the IO type generic,", "timestamp": "00:22:10,390", "timestamp_s": 1330.0}, {"text": "right. We are using a read and a write on type", "timestamp": "00:22:13,826", "timestamp_s": 1333.0}, {"text": "that we don\u0027t actually know its concrete value, we only know its interface,", "timestamp": "00:22:18,476", "timestamp_s": 1338.0}, {"text": "and we can compose these together into more complicated functionality.", "timestamp": "00:22:22,230", "timestamp_s": 1342.0}, {"text": "So the add balance function uses both get and set together", "timestamp": "00:22:25,478", "timestamp_s": 1345.0}, {"text": "to add an amount to a balance. But again, you can see the", "timestamp": "00:22:29,120", "timestamp_s": 1349.0}, {"text": "I o trait is present so that it can be passed along to", "timestamp": "00:22:32,468", "timestamp_s": 1352.0}, {"text": "the other smaller functions.", "timestamp": "00:22:36,292", "timestamp_s": 1356.0}, {"text": "So let\u0027s look at what the implementation of this I o trait actually looks", "timestamp": "00:22:40,610", "timestamp_s": 1360.0}, {"text": "like. So this is for the webassembly side. Notice that", "timestamp": "00:22:44,692", "timestamp_s": 1364.0}, {"text": "the main struct we\u0027re interested in is just a singleton struct. It\u0027s just called", "timestamp": "00:22:48,376", "timestamp_s": 1368.0}, {"text": "runtime, as in the near runtime, as in it is running inside", "timestamp": "00:22:52,152", "timestamp_s": 1372.0}, {"text": "of wasm, and it\u0027s a singleton because it doesn\u0027t", "timestamp": "00:22:55,672", "timestamp_s": 1375.0}, {"text": "actually have any fields or state that are important. The implementation", "timestamp": "00:22:58,818", "timestamp_s": 1378.0}, {"text": "comes from the host functions that the near runtime", "timestamp": "00:23:02,946", "timestamp_s": 1382.0}, {"text": "exposes to us. So you can see in this implementation we\u0027re calling this storage read", "timestamp": "00:23:06,338", "timestamp_s": 1386.0}, {"text": "function. It\u0027s all fairly low level and the details", "timestamp": "00:23:10,416", "timestamp_s": 1390.0}, {"text": "aren\u0027t super important. The point is that we know that this host function", "timestamp": "00:23:14,118", "timestamp_s": 1394.0}, {"text": "exists and we can call it, and that gives us access to", "timestamp": "00:23:17,936", "timestamp_s": 1397.0}, {"text": "the storage. And the same thing, on the", "timestamp": "00:23:21,744", "timestamp_s": 1401.0}, {"text": "right side, there\u0027s a host function we can call it. We\u0027re passing in some pointers", "timestamp": "00:23:25,124", "timestamp_s": 1405.0}, {"text": "because it has to do with the host, reading out values from", "timestamp": "00:23:29,450", "timestamp_s": 1409.0}, {"text": "the WASM memory and writing the value", "timestamp": "00:23:33,188", "timestamp_s": 1413.0}, {"text": "into the actual underlying storage that the near node has.", "timestamp": "00:23:37,320", "timestamp_s": 1417.0}, {"text": "But again, details aside, it is implemented", "timestamp": "00:23:41,590", "timestamp_s": 1421.0}, {"text": "using these host functions and it satisfies the interface that we\u0027ve", "timestamp": "00:23:45,614", "timestamp_s": 1425.0}, {"text": "defined. Now on the other side,", "timestamp": "00:23:49,218", "timestamp_s": 1429.0}, {"text": "the indexer side, this is native code, and it\u0027s a little more", "timestamp": "00:23:53,164", "timestamp_s": 1433.0}, {"text": "complicated. We have the last field, there is a database", "timestamp": "00:23:56,748", "timestamp_s": 1436.0}, {"text": "handle to a RocksDB database, because that\u0027s where the storage", "timestamp": "00:24:00,658", "timestamp_s": 1440.0}, {"text": "is actually going to be located in the case of the indexers. And I see", "timestamp": "00:24:04,502", "timestamp_s": 1444.0}, {"text": "a few other fields as well, because we want there to be conditional features", "timestamp": "00:24:07,488", "timestamp_s": 1447.0}, {"text": "that the RPC implementation has as", "timestamp": "00:24:13,126", "timestamp_s": 1453.0}, {"text": "compared to just smart contract. So for example,", "timestamp": "00:24:16,512", "timestamp_s": 1456.0}, {"text": "we needed to have access to the whole history of the state,", "timestamp": "00:24:20,196", "timestamp_s": 1460.0}, {"text": "not just the state, at any given moment in time. The reason is because", "timestamp": "00:24:23,524", "timestamp_s": 1463.0}, {"text": "when a user is accessing the Ethereum RPC, they can", "timestamp": "00:24:27,800", "timestamp_s": 1467.0}, {"text": "actually specify previous blocks to simulate their transaction against.", "timestamp": "00:24:31,064", "timestamp_s": 1471.0}, {"text": "And similarly, because we are interested in the", "timestamp": "00:24:36,010", "timestamp_s": 1476.0}, {"text": "potential of simulating transactions without actually committing them to the state,", "timestamp": "00:24:39,644", "timestamp_s": 1479.0}, {"text": "we need all of the changes to happen in memory instead", "timestamp": "00:24:43,516", "timestamp_s": 1483.0}, {"text": "of being eagerly written to the database. So that\u0027s what the", "timestamp": "00:24:47,516", "timestamp_s": 1487.0}, {"text": "transaction diff and output parts of the structure for.", "timestamp": "00:24:50,912", "timestamp_s": 1490.0}, {"text": "So this is what the read storage implementation looks", "timestamp": "00:24:55,630", "timestamp_s": 1495.0}, {"text": "like. Again, the details are not super important.", "timestamp": "00:25:00,016", "timestamp_s": 1500.0}, {"text": "What matters is that this is satisfying. Exactly the same interface,", "timestamp": "00:25:04,450", "timestamp_s": 1504.0}, {"text": "but the implementation details are different. So in this case we are taking", "timestamp": "00:25:08,298", "timestamp_s": 1508.0}, {"text": "a look at the in memory changes first.", "timestamp": "00:25:12,436", "timestamp_s": 1512.0}, {"text": "Again, because they weren\u0027t committed to the database, and if it\u0027s not", "timestamp": "00:25:15,732", "timestamp_s": 1515.0}, {"text": "present in there, that is, the key hasn\u0027t been written before in", "timestamp": "00:25:19,352", "timestamp_s": 1519.0}, {"text": "this transaction. Then we have to go back and look at the database. And the", "timestamp": "00:25:22,808", "timestamp_s": 1522.0}, {"text": "database has an iterator in it, because we are going backwards", "timestamp": "00:25:26,684", "timestamp_s": 1526.0}, {"text": "through the history to find the key value pair that\u0027s", "timestamp": "00:25:30,194", "timestamp_s": 1530.0}, {"text": "relevant. Similarly, on the right storage side,", "timestamp": "00:25:33,874", "timestamp_s": 1533.0}, {"text": "same kind of same point,", "timestamp": "00:25:38,510", "timestamp_s": 1538.0}, {"text": "right. It implements the interface that we\u0027ve defined, but in", "timestamp": "00:25:41,936", "timestamp_s": 1541.0}, {"text": "this case it\u0027s writing to this in memory diff instead of writing to the", "timestamp": "00:25:45,792", "timestamp_s": 1545.0}, {"text": "database, or in the case of the webassembly calling", "timestamp": "00:25:49,344", "timestamp_s": 1549.0}, {"text": "a host function. But what\u0027s very", "timestamp": "00:25:53,412", "timestamp_s": 1553.0}, {"text": "cool about this, and you might be", "timestamp": "00:25:56,852", "timestamp_s": 1556.0}, {"text": "know Michael, there are webassembly", "timestamp": "00:26:00,770", "timestamp_s": 1560.0}, {"text": "standards that tell you what interfaces should look like for interacting", "timestamp": "00:26:05,590", "timestamp_s": 1565.0}, {"text": "with storage. You don\u0027t necessarily have to jump through all these hoops. But the point", "timestamp": "00:26:09,694", "timestamp_s": 1569.0}, {"text": "is that this isn\u0027t just about storage,", "timestamp": "00:26:12,952", "timestamp_s": 1572.0}, {"text": "it\u0027s about any kind of environment", "timestamp": "00:26:16,482", "timestamp_s": 1576.0}, {"text": "specific effect. Storage is one that we commonly think", "timestamp": "00:26:19,826", "timestamp_s": 1579.0}, {"text": "about. But in the blockchain world there are other effects", "timestamp": "00:26:23,612", "timestamp_s": 1583.0}, {"text": "that we care about as well, and they have analogies in other", "timestamp": "00:26:26,978", "timestamp_s": 1586.0}, {"text": "contexts too. So for example, the environment variables", "timestamp": "00:26:31,296", "timestamp_s": 1591.0}, {"text": "are things like what block height are we executing in, who signed", "timestamp": "00:26:35,414", "timestamp_s": 1595.0}, {"text": "this transaction, what time is it? All this kind of stuff is all set in", "timestamp": "00:26:38,758", "timestamp_s": 1598.0}, {"text": "the environment of the transaction\u0027s execution and is", "timestamp": "00:26:43,028", "timestamp_s": 1603.0}, {"text": "available in the webassembly contracts from host functions.", "timestamp": "00:26:47,092", "timestamp_s": 1607.0}, {"text": "But we still need to be able to access that stuff when we\u0027re simulating", "timestamp": "00:26:50,770", "timestamp_s": 1610.0}, {"text": "the transaction locally. So we have a trait that exposes all", "timestamp": "00:26:54,122", "timestamp_s": 1614.0}, {"text": "of the things that a user could potentially ask for,", "timestamp": "00:26:57,464", "timestamp_s": 1617.0}, {"text": "and we have a separate implementation for the indexer.", "timestamp": "00:27:01,112", "timestamp_s": 1621.0}, {"text": "In that implementation, the information comes out of", "timestamp": "00:27:04,302", "timestamp_s": 1624.0}, {"text": "the actual block that we\u0027re consuming. Or in the case of", "timestamp": "00:27:08,252", "timestamp_s": 1628.0}, {"text": "a user submitted simulated transaction, we just fill in default", "timestamp": "00:27:12,170", "timestamp_s": 1632.0}, {"text": "values for these. But you could also imagine an", "timestamp": "00:27:15,922", "timestamp_s": 1635.0}, {"text": "implementation where these were literally environment variables, as in system", "timestamp": "00:27:19,168", "timestamp_s": 1639.0}, {"text": "environment variables, right. Say we were writing some kind of CLI", "timestamp": "00:27:23,600", "timestamp_s": 1643.0}, {"text": "application to interact with this instead of making it as an RPC.", "timestamp": "00:27:27,606", "timestamp_s": 1647.0}, {"text": "Then you could read environment variables as part of that", "timestamp": "00:27:31,270", "timestamp_s": 1651.0}, {"text": "command line call to fill in this as well. Right.", "timestamp": "00:27:34,532", "timestamp_s": 1654.0}, {"text": "And that would be another implementation, which again our sort", "timestamp": "00:27:37,908", "timestamp_s": 1657.0}, {"text": "of core business logic is agnostic to, but opens up the opportunity", "timestamp": "00:27:41,524", "timestamp_s": 1661.0}, {"text": "for making these other applications. Similarly,", "timestamp": "00:27:45,224", "timestamp_s": 1665.0}, {"text": "there\u0027s this idea of promises, which is actually a near", "timestamp": "00:27:48,878", "timestamp_s": 1668.0}, {"text": "specific concept on", "timestamp": "00:27:52,760", "timestamp_s": 1672.0}, {"text": "most blockchains. Well, specifically on Ethereum,", "timestamp": "00:27:56,072", "timestamp_s": 1676.0}, {"text": "calls to other contracts are synchronous. They happen all in", "timestamp": "00:27:59,450", "timestamp_s": 1679.0}, {"text": "the same transaction and all at the same time in the same block.", "timestamp": "00:28:02,684", "timestamp_s": 1682.0}, {"text": "But on Nier, calls to other contracts are asynchronous.", "timestamp": "00:28:06,546", "timestamp_s": 1686.0}, {"text": "This has to do with the sharding model. Again, the details aren\u0027t super important,", "timestamp": "00:28:10,182", "timestamp_s": 1690.0}, {"text": "but suffice to say, this is another kind of effect that", "timestamp": "00:28:13,664", "timestamp_s": 1693.0}, {"text": "exists in the webassembly smart contract context,", "timestamp": "00:28:17,488", "timestamp_s": 1697.0}, {"text": "but doesn\u0027t exist in the case that we\u0027re running an indexer,", "timestamp": "00:28:21,466", "timestamp_s": 1701.0}, {"text": "right? Because the indexer only looks at the", "timestamp": "00:28:25,802", "timestamp_s": 1705.0}, {"text": "Aurora smart contract itself, it doesn\u0027t index the whole", "timestamp": "00:28:30,210", "timestamp_s": 1710.0}, {"text": "near environment. So it\u0027s actually not able to simulate these", "timestamp": "00:28:33,672", "timestamp_s": 1713.0}, {"text": "cross contract calls, but we can still factor them", "timestamp": "00:28:37,784", "timestamp_s": 1717.0}, {"text": "out as a trait and put in no op implementations", "timestamp": "00:28:41,528", "timestamp_s": 1721.0}, {"text": "for the case of the indexer. And this also works fine because", "timestamp": "00:28:45,150", "timestamp_s": 1725.0}, {"text": "most transactions on Aurora are contained within the EVM.", "timestamp": "00:28:49,052", "timestamp_s": 1729.0}, {"text": "Like I mentioned, the EVM tends to be this synchronous", "timestamp": "00:28:52,802", "timestamp_s": 1732.0}, {"text": "all in one block type transaction. So most of the time we", "timestamp": "00:28:56,914", "timestamp_s": 1736.0}, {"text": "don\u0027t actually need these, but sometimes we do,", "timestamp": "00:29:00,188", "timestamp_s": 1740.0}, {"text": "and therefore we need the code to handle it and we\u0027re still", "timestamp": "00:29:03,456", "timestamp_s": 1743.0}, {"text": "able to factor it out and do it sort of for real in quotation marks", "timestamp": "00:29:06,928", "timestamp_s": 1746.0}, {"text": "and webassembly and just no ops in the indexer,", "timestamp": "00:29:10,874", "timestamp_s": 1750.0}, {"text": "and have it also work totally fine.", "timestamp": "00:29:14,378", "timestamp_s": 1754.0}, {"text": "And all of this sort of builds up to huge", "timestamp": "00:29:19,090", "timestamp_s": 1759.0}, {"text": "complicated functions, right? So this is just the interface", "timestamp": "00:29:22,884", "timestamp_s": 1762.0}, {"text": "of the submit function. This is sort of the main entry point", "timestamp": "00:29:27,150", "timestamp_s": 1767.0}, {"text": "for users when they send an EVM transaction", "timestamp": "00:29:30,680", "timestamp_s": 1770.0}, {"text": "to Aurora. And so you can see we\u0027ve composed together all these", "timestamp": "00:29:34,398", "timestamp_s": 1774.0}, {"text": "different kinds of effects. We\u0027ve got the I O for storage access,", "timestamp": "00:29:38,012", "timestamp_s": 1778.0}, {"text": "the environment variables that are present, and the possibility", "timestamp": "00:29:41,868", "timestamp_s": 1781.0}, {"text": "of calling other near contracts.", "timestamp": "00:29:45,874", "timestamp_s": 1785.0}, {"text": "Now if I left the implementation off, because again", "timestamp": "00:29:48,918", "timestamp_s": 1788.0}, {"text": "the details aren\u0027t really what\u0027s important here, but the", "timestamp": "00:29:52,272", "timestamp_s": 1792.0}, {"text": "point is that this is a relatively large,", "timestamp": "00:29:55,568", "timestamp_s": 1795.0}, {"text": "relatively complicated function with multiple lines of code, and having", "timestamp": "00:29:58,064", "timestamp_s": 1798.0}, {"text": "to duplicate it between both the indexer", "timestamp": "00:30:02,100", "timestamp_s": 1802.0}, {"text": "and the smart contract would have been too big of", "timestamp": "00:30:06,042", "timestamp_s": 1806.0}, {"text": "a maintenance burden and wouldn\u0027t have made sense. But because", "timestamp": "00:30:09,668", "timestamp_s": 1809.0}, {"text": "we can write this abstract code that is reusable for both,", "timestamp": "00:30:13,416", "timestamp_s": 1813.0}, {"text": "it enables us to have this indexer as", "timestamp": "00:30:16,776", "timestamp_s": 1816.0}, {"text": "RPC. So as a final", "timestamp": "00:30:20,904", "timestamp_s": 1820.0}, {"text": "point here, this is what the actual RPC", "timestamp": "00:30:24,360", "timestamp_s": 1824.0}, {"text": "code looks like, or part of it anyways.", "timestamp": "00:30:28,146", "timestamp_s": 1828.0}, {"text": "So there\u0027s a particular RPC method for Ethereum RPCs called", "timestamp": "00:30:31,042", "timestamp_s": 1831.0}, {"text": "ETh underscore estimate gas. This is one of those transaction", "timestamp": "00:30:34,972", "timestamp_s": 1834.0}, {"text": "simulation RPC methods that I\u0027ve been referring to.", "timestamp": "00:30:38,434", "timestamp_s": 1838.0}, {"text": "And this is sort of, it\u0027s only", "timestamp": "00:30:42,110", "timestamp_s": 1842.0}, {"text": "a snippet, it\u0027s not the full implementation, but this is sort of the main points", "timestamp": "00:30:45,872", "timestamp_s": 1845.0}, {"text": "of what\u0027s going on. We have to set up the", "timestamp": "00:30:50,612", "timestamp_s": 1850.0}, {"text": "structs that implement the traits that we\u0027ve set out,", "timestamp": "00:30:54,530", "timestamp_s": 1854.0}, {"text": "right. So this is the environment", "timestamp": "00:30:58,452", "timestamp_s": 1858.0}, {"text": "variables. You can see we\u0027re setting default values because it\u0027s", "timestamp": "00:31:01,978", "timestamp_s": 1861.0}, {"text": "just fixed. In this case it\u0027s just a simulation. And then", "timestamp": "00:31:06,462", "timestamp_s": 1866.0}, {"text": "we also have the engine access struct", "timestamp": "00:31:10,408", "timestamp_s": 1870.0}, {"text": "that we saw on an earlier slide, and we\u0027re accessing it at a particular", "timestamp": "00:31:14,366", "timestamp_s": 1874.0}, {"text": "block height and transaction position because again the user can specify", "timestamp": "00:31:18,060", "timestamp_s": 1878.0}, {"text": "those things in their request. And the actual implementation", "timestamp": "00:31:21,906", "timestamp_s": 1881.0}, {"text": "of this, which I\u0027ve left off the slide because again the details", "timestamp": "00:31:26,082", "timestamp_s": 1886.0}, {"text": "aren\u0027t important is a closure", "timestamp": "00:31:29,298", "timestamp_s": 1889.0}, {"text": "that accepts this I O object. So now it\u0027s got access to the MV object", "timestamp": "00:31:33,126", "timestamp_s": 1893.0}, {"text": "and the I O object, and it can call methods like submit. And again,", "timestamp": "00:31:36,752", "timestamp_s": 1896.0}, {"text": "the point is that it\u0027s not duplicating any", "timestamp": "00:31:40,756", "timestamp_s": 1900.0}, {"text": "of that complicated logic that exists in", "timestamp": "00:31:44,388", "timestamp_s": 1904.0}, {"text": "sort of our functional programming generic core.", "timestamp": "00:31:47,732", "timestamp_s": 1907.0}, {"text": "It just calls the method submit and then does something with the result.", "timestamp": "00:31:51,354", "timestamp_s": 1911.0}, {"text": "So in conclusion,", "timestamp": "00:31:57,030", "timestamp_s": 1917.0}, {"text": "at the highest level, the thing that", "timestamp": "00:32:00,390", "timestamp_s": 1920.0}, {"text": "I want you to take away from this talk is that you can write your", "timestamp": "00:32:03,768", "timestamp_s": 1923.0}, {"text": "business logic in a way that uses pure", "timestamp": "00:32:06,588", "timestamp_s": 1926.0}, {"text": "reusable code by abstracting away platform specific", "timestamp": "00:32:10,578", "timestamp_s": 1930.0}, {"text": "effects. And as a nice side effect, this code is", "timestamp": "00:32:14,140", "timestamp_s": 1934.0}, {"text": "actually easier to test and to maintain.", "timestamp": "00:32:17,388", "timestamp_s": 1937.0}, {"text": "In this particular talk, we were using Rust as our programming", "timestamp": "00:32:20,670", "timestamp_s": 1940.0}, {"text": "language of choice, and Rust can accomplish this using traits", "timestamp": "00:32:24,278", "timestamp_s": 1944.0}, {"text": "and type generics along with a little bit of conditional compilation.", "timestamp": "00:32:28,054", "timestamp_s": 1948.0}, {"text": "And for the specific example of this that we talked about today,", "timestamp": "00:32:32,450", "timestamp_s": 1952.0}, {"text": "it was in the blockchain context where Aurora has", "timestamp": "00:32:36,500", "timestamp_s": 1956.0}, {"text": "the EVM smart contracts that is able to also be", "timestamp": "00:32:40,244", "timestamp_s": 1960.0}, {"text": "an indexer and share a code base, and this enables", "timestamp": "00:32:43,592", "timestamp_s": 1963.0}, {"text": "their low latency RPC", "timestamp": "00:32:47,038", "timestamp_s": 1967.0}, {"text": "for Ethereum compatibility. But as I mentioned before,", "timestamp": "00:32:50,382", "timestamp_s": 1970.0}, {"text": "there are other possible applications for this. For example, using the same", "timestamp": "00:32:54,328", "timestamp_s": 1974.0}, {"text": "code in web and mobile applications, I\u0027m sure you can come up with", "timestamp": "00:32:57,752", "timestamp_s": 1977.0}, {"text": "other examples based on your own fields of interest.", "timestamp": "00:33:01,612", "timestamp_s": 1981.0}, {"text": "Maybe you\u0027re working in embedded devices and you want to share a code base between", "timestamp": "00:33:05,004", "timestamp_s": 1985.0}, {"text": "the embedded version and say, the simulated", "timestamp": "00:33:08,800", "timestamp_s": 1988.0}, {"text": "version of your hardware, et cetera.", "timestamp": "00:33:12,070", "timestamp_s": 1992.0}, {"text": "Again, the main point is functional programming patterns", "timestamp": "00:33:15,390", "timestamp_s": 1995.0}, {"text": "enable you to reuse code in a way you may not be able", "timestamp": "00:33:19,510", "timestamp_s": 1999.0}, {"text": "to otherwise. Thank you all", "timestamp": "00:33:22,788", "timestamp_s": 2002.0}, {"text": "for your attention. Got some links up on the slide here. If you", "timestamp": "00:33:26,308", "timestamp_s": 2006.0}, {"text": "want to read more about near or Aurora. If you want to learn more about", "timestamp": "00:33:29,828", "timestamp_s": 2009.0}, {"text": "me, you can get in touch with me directly on Telegram at BirchMD.", "timestamp": "00:33:33,636", "timestamp_s": 2013.0}, {"text": "Or if you want to take a look at other code that I\u0027ve worked on,", "timestamp": "00:33:37,834", "timestamp_s": 2017.0}, {"text": "you can check out my GitHub under that same username. And I also have", "timestamp": "00:33:40,788", "timestamp_s": 2020.0}, {"text": "a blog that I occasionally write to on my website,", "timestamp": "00:33:44,516", "timestamp_s": 2024.0}, {"text": "Typedriven CA, and I write about mostly rust and", "timestamp": "00:33:48,060", "timestamp_s": 2028.0}, {"text": "mirror, but some other stuff occasionally as well.", "timestamp": "00:33:51,468", "timestamp_s": 2031.0}, {"text": "Thank you for your time. See you later.", "timestamp": "00:33:54,490", "timestamp_s": 2034.0}];
              

              var tag = document.createElement('script');

              tag.src = "https://www.youtube.com/iframe_api";
              var firstScriptTag = document.getElementsByTagName('script')[0];
              firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

              // 3. This function creates an <iframe> (and YouTube player)
              //    after the API code downloads.
              var player;
              function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                  height: '100%',
                  width: '100%',
                  videoId: '2keh5BniAes',
                  playerVars: {
                    'playsinline': 1
                  },
                  events: {
                    'onReady': onPlayerReady,
                    // 'onStateChange': onPlayerStateChange
                  }
                });
              }
              function onPlayerReady(event) {
                console.log("Player ready");
                var sec = Number(location.href.split("#")[1]);
                if (sec){
                  player.seekTo(sec, true);
                }
                player.playVideo();
                highlightParagraph();
              }
              // find the number of the paragraph
              function findParagraph(sec){
                for (var i = 1; i < transcript.length; i++) {
                  if (transcript[i].timestamp_s > sec){
                    return i - 1;
                  }
                }
                return transcript.length - 1;
              }
              // move the video to the desired second
              function seek(sec){
                if(player){
                  player.playVideo();
                  player.seekTo(sec, true);
                }
                location.href = location.href.split("#")[0] + "#" + sec;
                highlightParagraph(sec);
              }
              // highlight the right paragraph
              var prevParagraph;
              function highlightParagraph(sec) {
                var currentTime = sec;
                if (!currentTime && player) {
                  currentTime = player.getCurrentTime();
                }
                if (!currentTime){
                  console.log("No current time")
                  return;
                }
                var currentParagraph = findParagraph(currentTime);
                if (currentParagraph !== prevParagraph){
                  prevParagraph = currentParagraph;
                  Array.from(document.getElementsByClassName("transcript-chunks")).forEach((e) => {
                    e.classList.remove('text-selected');
                  });
                  var body = document.getElementById("chunk-"+currentParagraph);
                  body.classList.add('text-selected');
                }
              }
              time_update_interval = setInterval(highlightParagraph, 1000);
            </script>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>
    

    <!-- CONTENT -->
    <section class="pt-2">
      <div class="container">
        <div class="row justify-content-center">

          <div class="col-12 mb-5">
            <h1>
              Turning smart contracts into indexers with cross-compilation in Rust
            </h1>
            
            <h3 class="bg-white">
              Video size:
              <a href="javascript:void(0);" onclick="resizeVideo(25)"><i class="fe fe-zoom-out me-2"></i></a>
              <a href="javascript:void(0);" onclick="resizeVideo(50)"><i class="fe fe-zoom-in me-2"></i></a>
            </h3>
            
          </div>

          <div class="col-12 mb-5">
            <h3>
              Abstract
            </h3>
<!-- Text -->
<p>In this talk I describe how functional programming patterns and conditional compilation in Rust can result in the same code being compiled to both native and wasm targets. This has applications in some blockchain-powered software because smart contracts can be reused as indexers.</p>
<!-- End Text -->
          </div>

          

          <div class="col-12 mb-5">
            <h3>
              Summary
            </h3>
            <ul>
              
              <li>
                Michael Birch is a senior Rust engineer working at Aurora Labs. His goal is to show how patterns in functional programming can be used in rust to write code that is easier to test, maintain, and reused in multiple applications. He hopes this talk will be both accessible and interesting to blockchain developers, rust experts, and functional programming enthusiasts.

              </li>
              
              <li>
                A blockchain is an appendonly data structure with immutable history. Once something has been added to the blockchain, it cannot be changed. A smart contract is a program that can run in the virtual machine of whatever blockchain you're talking about.

              </li>
              
              <li>
                Getting data off of the blockchain is slow because it requires multiple network calls. Indexers help address this by having a specialized view of the state which is optimized for particular queries. How are we going to accomplish that using rust?

              </li>
              
              <li>
                Aurora is an ethereum scaling solution built on top of the near blockchain platform. Aurora claims to be compatible with many tools in the Ethereum ecosystem. All of the code is available on GitHub, it's all open source.

              </li>
              
              <li>
                On most blockchains, calls to other contracts are synchronous, but on Nier, they are asynchronous. Rust can accomplish this using traits and type generics along with a little bit of conditional compilation. You can write business logic in a way that uses pure reusable code by abstracting away platform specific effects.
              </li>
              
            </ul>
          </div>

          <div class="col-12 mb-5">
            <h3>
              Transcript
            </h3>
            <span class="text-muted">
              This transcript was autogenerated. To make changes, <a href="https://github.com/conf42/src/edit/main/./assemblyai/2keh5BniAes.srt" target="_blank">submit a PR</a>.
            </span>
            <div>
            
            <span id="chunk-0" class="transcript-chunks" onclick="console.log('00:00:20,330'); seek(20.0)">
              Hello and welcome to my talk. My name is Michael Birch. I'm a senior Rust
            </span>
            
            <span id="chunk-1" class="transcript-chunks" onclick="console.log('00:00:23,658'); seek(23.0)">
              engineer working at Aurora Labs. I've been working with Rust since 2018,
            </span>
            
            <span id="chunk-2" class="transcript-chunks" onclick="console.log('00:00:27,970'); seek(27.0)">
              but before that I was doing functional programming in Scala. I love
            </span>
            
            <span id="chunk-3" class="transcript-chunks" onclick="console.log('00:00:31,372'); seek(31.0)">
              how Rust is an imperative programming language, but takes inspiration from some
            </span>
            
            <span id="chunk-4" class="transcript-chunks" onclick="console.log('00:00:34,828'); seek(34.0)">
              of the best features of functional programming, some of which we'll talk about today.
            </span>
            
            <span id="chunk-5" class="transcript-chunks" onclick="console.log('00:00:39,450'); seek(39.0)">
              My goal with this talk is to show how patterns in functional programming can be
            </span>
            
            <span id="chunk-6" class="transcript-chunks" onclick="console.log('00:00:42,928'); seek(42.0)">
              used in rust to write code that is easier to test,
            </span>
            
            <span id="chunk-7" class="transcript-chunks" onclick="console.log('00:00:46,096'); seek(46.0)">
              maintain, and reused in multiple applications. In your tech stack.
            </span>
            
            <span id="chunk-8" class="transcript-chunks" onclick="console.log('00:00:50,038'); seek(50.0)">
              In particular, I'm focusing on how we applied these ideas at Aurora to
            </span>
            
            <span id="chunk-9" class="transcript-chunks" onclick="console.log('00:00:53,908'); seek(53.0)">
              do what it says in the title, turn our main smart contract into
            </span>
            
            <span id="chunk-10" class="transcript-chunks" onclick="console.log('00:00:57,476'); seek(57.0)">
              an indexer. I hope this talk will be both accessible
            </span>
            
            <span id="chunk-11" class="transcript-chunks" onclick="console.log('00:01:01,242'); seek(61.0)">
              and interesting to blockchain developers, rust experts, and functional programming
            </span>
            
            <span id="chunk-12" class="transcript-chunks" onclick="console.log('00:01:05,518'); seek(65.0)">
              enthusiasts. Though each group may find different parts of the talk more
            </span>
            
            <span id="chunk-13" class="transcript-chunks" onclick="console.log('00:01:09,048'); seek(69.0)">
              or less informative in terms of an outline, I'll begin
            </span>
            
            <span id="chunk-14" class="transcript-chunks" onclick="console.log('00:01:13,510'); seek(73.0)">
              by getting everyone up to speed on the basics of blockchain
            </span>
            
            <span id="chunk-15" class="transcript-chunks" onclick="console.log('00:01:16,862'); seek(76.0)">
              technology. Only what you need to understand what I mean when I'm talking
            </span>
            
            <span id="chunk-16" class="transcript-chunks" onclick="console.log('00:01:20,412'); seek(80.0)">
              about smart contracts, indexers, and how they relate to one another.
            </span>
            
            <span id="chunk-17" class="transcript-chunks" onclick="console.log('00:01:24,330'); seek(84.0)">
              Next, I'll talk about the key features of the rest programming language
            </span>
            
            <span id="chunk-18" class="transcript-chunks" onclick="console.log('00:01:28,050'); seek(88.0)">
              that enable us to do this smart contracts into indexers trick.
            </span>
            
            <span id="chunk-19" class="transcript-chunks" onclick="console.log('00:01:32,454'); seek(92.0)">
              And finally, we'll do a deep dive into some real code that showcases
            </span>
            
            <span id="chunk-20" class="transcript-chunks" onclick="console.log('00:01:36,006'); seek(96.0)">
              how these ideas were applied at Aurora.
            </span>
            
            <span id="chunk-21" class="transcript-chunks" onclick="console.log('00:01:39,470'); seek(99.0)">
              So, to get started, let's talk about blockchain basics. What is
            </span>
            
            <span id="chunk-22" class="transcript-chunks" onclick="console.log('00:01:43,008'); seek(103.0)">
              a blockchain? A blockchain is an appendonly data structure
            </span>
            
            <span id="chunk-23" class="transcript-chunks" onclick="console.log('00:01:46,794'); seek(106.0)">
              with immutable history. What I mean by this is
            </span>
            
            <span id="chunk-24" class="transcript-chunks" onclick="console.log('00:01:50,356'); seek(110.0)">
              the data structure can only have additional data added to
            </span>
            
            <span id="chunk-25" class="transcript-chunks" onclick="console.log('00:01:53,892'); seek(113.0)">
              it, and once something has been added to the blockchain, it cannot
            </span>
            
            <span id="chunk-26" class="transcript-chunks" onclick="console.log('00:01:57,438'); seek(117.0)">
              be changed. Up on the slide, we have sort of the classic
            </span>
            
            <span id="chunk-27" class="transcript-chunks" onclick="console.log('00:02:01,182'); seek(121.0)">
              depiction of a blockchain. The squares in the diagram
            </span>
            
            <span id="chunk-28" class="transcript-chunks" onclick="console.log('00:02:04,702'); seek(124.0)">
              are the so called blocks which represent the individual chunks
            </span>
            
            <span id="chunk-29" class="transcript-chunks" onclick="console.log('00:02:08,258'); seek(128.0)">
              of data in the data structure, and the arrows show how the
            </span>
            
            <span id="chunk-30" class="transcript-chunks" onclick="console.log('00:02:11,628'); seek(131.0)">
              blocks are connected to one another. Hence blockchain.
            </span>
            
            <span id="chunk-31" class="transcript-chunks" onclick="console.log('00:02:15,530'); seek(135.0)">
              This data structure you can imagine extending infinitely to the
            </span>
            
            <span id="chunk-32" class="transcript-chunks" onclick="console.log('00:02:19,328'); seek(139.0)">
              right by adding a new block with can arrow pointing to the previous block.
            </span>
            
            <span id="chunk-33" class="transcript-chunks" onclick="console.log('00:02:23,974'); seek(143.0)">
              As I mentioned, the history is immutable because the connections
            </span>
            
            <span id="chunk-34" class="transcript-chunks" onclick="console.log('00:02:27,734'); seek(147.0)">
              actually depend on what data came before it.
            </span>
            
            <span id="chunk-35" class="transcript-chunks" onclick="console.log('00:02:30,912'); seek(150.0)">
              So you cannot change that earlier data and still maintain that
            </span>
            
            <span id="chunk-36" class="transcript-chunks" onclick="console.log('00:02:34,836'); seek(154.0)">
              connection. This is cryptographically secured, but the details
            </span>
            
            <span id="chunk-37" class="transcript-chunks" onclick="console.log('00:02:38,362'); seek(158.0)">
              are not important for what we're talking about today. So you
            </span>
            
            <span id="chunk-38" class="transcript-chunks" onclick="console.log('00:02:42,388'); seek(162.0)">
              might ask, what goes into these blocks? And the answer is
            </span>
            
            <span id="chunk-39" class="transcript-chunks" onclick="console.log('00:02:46,072'); seek(166.0)">
              transactions. For typical blockchain applications,
            </span>
            
            <span id="chunk-40" class="transcript-chunks" onclick="console.log('00:02:50,142'); seek(170.0)">
              you have transactions that are interpreted in some kind
            </span>
            
            <span id="chunk-41" class="transcript-chunks" onclick="console.log('00:02:53,288'); seek(173.0)">
              of virtual machine, which causes some kind of global state to change.
            </span>
            
            <span id="chunk-42" class="transcript-chunks" onclick="console.log('00:02:58,150'); seek(178.0)">
              For example, in the case of Ethereum, which is a relatively large
            </span>
            
            <span id="chunk-43" class="transcript-chunks" onclick="console.log('00:03:01,292'); seek(181.0)">
              blockchain platform you may have heard of before, the state consists of all
            </span>
            
            <span id="chunk-44" class="transcript-chunks" onclick="console.log('00:03:05,068'); seek(185.0)">
              of the accounts and contracts that exist on the platform,
            </span>
            
            <span id="chunk-45" class="transcript-chunks" onclick="console.log('00:03:08,688'); seek(188.0)">
              and the virtual machine is the ethereum virtual machine. The EVM
            </span>
            
            <span id="chunk-46" class="transcript-chunks" onclick="console.log('00:03:13,310'); seek(193.0)">
              transactions can be things like send three ETh to some address
            </span>
            
            <span id="chunk-47" class="transcript-chunks" onclick="console.log('00:03:17,504'); seek(197.0)">
              or call some method on a contract
            </span>
            
            <span id="chunk-48" class="transcript-chunks" onclick="console.log('00:03:21,066'); seek(201.0)">
              that was previously deployed. And speaking of smart
            </span>
            
            <span id="chunk-49" class="transcript-chunks" onclick="console.log('00:03:24,858'); seek(204.0)">
              contracts, let's talk about those. A smart contract
            </span>
            
            <span id="chunk-50" class="transcript-chunks" onclick="console.log('00:03:28,170'); seek(208.0)">
              is a program that can run in the virtual
            </span>
            
            <span id="chunk-51" class="transcript-chunks" onclick="console.log('00:03:31,738'); seek(211.0)">
              machine of whatever blockchain you're talking about. Up on
            </span>
            
            <span id="chunk-52" class="transcript-chunks" onclick="console.log('00:03:35,064'); seek(215.0)">
              the slide. I've got sort of a simple example where
            </span>
            
            <span id="chunk-53" class="transcript-chunks" onclick="console.log('00:03:39,272'); seek(219.0)">
              in the first transaction you deploy some contract,
            </span>
            
            <span id="chunk-54" class="transcript-chunks" onclick="console.log('00:03:43,678'); seek(223.0)">
              it gets included into the state, and then in a later
            </span>
            
            <span id="chunk-55" class="transcript-chunks" onclick="console.log('00:03:47,160'); seek(227.0)">
              block you have a new transaction that is calling a method,
            </span>
            
            <span id="chunk-56" class="transcript-chunks" onclick="console.log('00:03:50,514'); seek(230.0)">
              in this case, the method foo on that contract.
            </span>
            
            <span id="chunk-57" class="transcript-chunks" onclick="console.log('00:03:54,250'); seek(234.0)">
              Smart contracts can do all kinds of things. They're limited only by the
            </span>
            
            <span id="chunk-58" class="transcript-chunks" onclick="console.log('00:03:57,548'); seek(237.0)">
              power of the virtual machine that they operate in. For example,
            </span>
            
            <span id="chunk-59" class="transcript-chunks" onclick="console.log('00:04:00,960'); seek(240.0)">
              smart contracts can represent tokens, maybe even tokens
            </span>
            
            <span id="chunk-60" class="transcript-chunks" onclick="console.log('00:04:04,134'); seek(244.0)">
              that are tied to some real world currency, so called stablecoins.
            </span>
            
            <span id="chunk-61" class="transcript-chunks" onclick="console.log('00:04:08,110'); seek(248.0)">
              Smart contracts can be marketplaces where you can trade
            </span>
            
            <span id="chunk-62" class="transcript-chunks" onclick="console.log('00:04:11,674'); seek(251.0)">
              between those different tokens, or they can be escrow lockers
            </span>
            
            <span id="chunk-63" class="transcript-chunks" onclick="console.log('00:04:15,738'); seek(255.0)">
              to facilitate some kind of exchange. Maybe even in the real world,
            </span>
            
            <span id="chunk-64" class="transcript-chunks" onclick="console.log('00:04:19,330'); seek(259.0)">
              smart contracts can be validated storages
            </span>
            
            <span id="chunk-65" class="transcript-chunks" onclick="console.log('00:04:23,322'); seek(263.0)">
              where you can prove that off can events happened,
            </span>
            
            <span id="chunk-66" class="transcript-chunks" onclick="console.log('00:04:26,344'); seek(266.0)">
              say for example in the leaderboard for blockchain enabled games.
            </span>
            
            <span id="chunk-67" class="transcript-chunks" onclick="console.log('00:04:30,870'); seek(270.0)">
              Or even a smart contract could be the
            </span>
            
            <span id="chunk-68" class="transcript-chunks" onclick="console.log('00:04:34,712'); seek(274.0)">
              entire virtual machine of some other blockchain platform.
            </span>
            
            <span id="chunk-69" class="transcript-chunks" onclick="console.log('00:04:38,204'); seek(278.0)">
              And this might sound crazy, but it's an important part of this story
            </span>
            
            <span id="chunk-70" class="transcript-chunks" onclick="console.log('00:04:41,676'); seek(281.0)">
              that we'll come back to later. For now, let's keep being with our blockchain
            </span>
            
            <span id="chunk-71" class="transcript-chunks" onclick="console.log('00:04:45,522'); seek(285.0)">
              basics. All of this is just about a single copy
            </span>
            
            <span id="chunk-72" class="transcript-chunks" onclick="console.log('00:04:49,590'); seek(289.0)">
              of the blockchain and how it evolves. But in a real blockchain
            </span>
            
            <span id="chunk-73" class="transcript-chunks" onclick="console.log('00:04:52,982'); seek(292.0)">
              platform, the blockchain is distributed and
            </span>
            
            <span id="chunk-74" class="transcript-chunks" onclick="console.log('00:04:56,768'); seek(296.0)">
              continuously built by multiple participants that are
            </span>
            
            <span id="chunk-75" class="transcript-chunks" onclick="console.log('00:05:00,484'); seek(300.0)">
              decentralized, the so called nodes of the network,
            </span>
            
            <span id="chunk-76" class="transcript-chunks" onclick="console.log('00:05:04,050'); seek(304.0)">
              and the transactions are submitted by users.
            </span>
            
            <span id="chunk-77" class="transcript-chunks" onclick="console.log('00:05:08,130'); seek(308.0)">
              The nodes eventually agree on the blockchain that they're all collectively
            </span>
            
            <span id="chunk-78" class="transcript-chunks" onclick="console.log('00:05:11,498'); seek(311.0)">
              building up to some point using a consensus algorithm.
            </span>
            
            <span id="chunk-79" class="transcript-chunks" onclick="console.log('00:05:15,294'); seek(315.0)">
              Again, the details are not very important for what we're talking about here,
            </span>
            
            <span id="chunk-80" class="transcript-chunks" onclick="console.log('00:05:18,472'); seek(318.0)">
              but suffice it to say the blockchain is
            </span>
            
            <span id="chunk-81" class="transcript-chunks" onclick="console.log('00:05:21,912'); seek(321.0)">
              only eventually consistent, and getting data about
            </span>
            
            <span id="chunk-82" class="transcript-chunks" onclick="console.log('00:05:25,496'); seek(325.0)">
              the blockchain off of the network is slow because of the decentralized nature.
            </span>
            
            <span id="chunk-83" class="transcript-chunks" onclick="console.log('00:05:29,930'); seek(329.0)">
              So how do users actually get the data off of the
            </span>
            
            <span id="chunk-84" class="transcript-chunks" onclick="console.log('00:05:33,788'); seek(333.0)">
              blockchain? They interact with some kind of RPC.
            </span>
            
            <span id="chunk-85" class="transcript-chunks" onclick="console.log('00:05:37,930'); seek(337.0)">
              Usually that RPC is run by a third party service, but users
            </span>
            
            <span id="chunk-86" class="transcript-chunks" onclick="console.log('00:05:41,958'); seek(341.0)">
              can choose to run their own code that are a part of the network and
            </span>
            
            <span id="chunk-87" class="transcript-chunks" onclick="console.log('00:05:44,992'); seek(344.0)">
              still expose an RPC interface to themselves. The key point
            </span>
            
            <span id="chunk-88" class="transcript-chunks" onclick="console.log('00:05:48,672'); seek(348.0)">
              here is that getting data off of the blockchain is slow because
            </span>
            
            <span id="chunk-89" class="transcript-chunks" onclick="console.log('00:05:51,968'); seek(351.0)">
              it requires multiple network calls, and even still
            </span>
            
            <span id="chunk-90" class="transcript-chunks" onclick="console.log('00:05:55,396'); seek(355.0)">
              because of the decentralized nature, it's only eventually consistent.
            </span>
            
            <span id="chunk-91" class="transcript-chunks" onclick="console.log('00:05:59,226'); seek(359.0)">
              So something that happens in one node may take a long time to propagate and
            </span>
            
            <span id="chunk-92" class="transcript-chunks" onclick="console.log('00:06:03,188'); seek(363.0)">
              be visible by any given RPC for a particular user.
            </span>
            
            <span id="chunk-93" class="transcript-chunks" onclick="console.log('00:06:07,430'); seek(367.0)">
              So to help address that problem, we have this idea of an indexer.
            </span>
            
            <span id="chunk-94" class="transcript-chunks" onclick="console.log('00:06:12,094'); seek(372.0)">
              Given the wide range of functionality of smart contracts,
            </span>
            
            <span id="chunk-95" class="transcript-chunks" onclick="console.log('00:06:16,014'); seek(376.0)">
              it's not always efficient to query a blockchain platform directly
            </span>
            
            <span id="chunk-96" class="transcript-chunks" onclick="console.log('00:06:19,490'); seek(379.0)">
              against its RPC. There's just no way for a single RPC
            </span>
            
            <span id="chunk-97" class="transcript-chunks" onclick="console.log('00:06:23,394'); seek(383.0)">
              to capture all of the different possible variations on
            </span>
            
            <span id="chunk-98" class="transcript-chunks" onclick="console.log('00:06:27,420'); seek(387.0)">
              the states that different smart contracts could hold. And indexers
            </span>
            
            <span id="chunk-99" class="transcript-chunks" onclick="console.log('00:06:30,838'); seek(390.0)">
              help address this by having a specialized view of the blockchain state which
            </span>
            
            <span id="chunk-100" class="transcript-chunks" onclick="console.log('00:06:34,832'); seek(394.0)">
              is optimized for particular queries.
            </span>
            
            <span id="chunk-101" class="transcript-chunks" onclick="console.log('00:06:38,030'); seek(398.0)">
              For example, a block Explorer like Etherscan, which is
            </span>
            
            <span id="chunk-102" class="transcript-chunks" onclick="console.log('00:06:42,670'); seek(402.0)">
              the biggest block explorer for the Ethereum blockchain.
            </span>
            
            <span id="chunk-103" class="transcript-chunks" onclick="console.log('00:06:46,290'); seek(406.0)">
              It'll show you all of the tokens that are held by
            </span>
            
            <span id="chunk-104" class="transcript-chunks" onclick="console.log('00:06:49,732'); seek(409.0)">
              each user. Up on the slide, I've taken a screenshot of ether scan where
            </span>
            
            <span id="chunk-105" class="transcript-chunks" onclick="console.log('00:06:52,948'); seek(412.0)">
              I've selected some random account and you can see it holds 23
            </span>
            
            <span id="chunk-106" class="transcript-chunks" onclick="console.log('00:06:56,696'); seek(416.0)">
              different kinds of tokens. This kind
            </span>
            
            <span id="chunk-107" class="transcript-chunks" onclick="console.log('00:07:00,408'); seek(420.0)">
              of query would be very difficult or maybe even impossible
            </span>
            
            <span id="chunk-108" class="transcript-chunks" onclick="console.log('00:07:04,382'); seek(424.0)">
              to do with just the RPC because the mapping
            </span>
            
            <span id="chunk-109" class="transcript-chunks" onclick="console.log('00:07:07,698'); seek(427.0)">
              is actually reversed on chain. Each token knows
            </span>
            
            <span id="chunk-110" class="transcript-chunks" onclick="console.log('00:07:12,082'); seek(432.0)">
              the list of balance holders, but there is no
            </span>
            
            <span id="chunk-111" class="transcript-chunks" onclick="console.log('00:07:15,628'); seek(435.0)">
              index for all of the tokens held by each of the
            </span>
            
            <span id="chunk-112" class="transcript-chunks" onclick="console.log('00:07:19,008'); seek(439.0)">
              addresses. So to solve that problem, Etherscan has
            </span>
            
            <span id="chunk-113" class="transcript-chunks" onclick="console.log('00:07:22,992'); seek(442.0)">
              an indexer which maintains that reverse lookup and makes
            </span>
            
            <span id="chunk-114" class="transcript-chunks" onclick="console.log('00:07:26,576'); seek(446.0)">
              the queries efficient when a user visits their website.
            </span>
            
            <span id="chunk-115" class="transcript-chunks" onclick="console.log('00:07:32,450'); seek(452.0)">
              So the way to think about how indexers fit into the
            </span>
            
            <span id="chunk-116" class="transcript-chunks" onclick="console.log('00:07:36,548'); seek(456.0)">
              story here is you have some user talking to some
            </span>
            
            <span id="chunk-117" class="transcript-chunks" onclick="console.log('00:07:39,828'); seek(459.0)">
              application UI which is talking to an indexer,
            </span>
            
            <span id="chunk-118" class="transcript-chunks" onclick="console.log('00:07:43,210'); seek(463.0)">
              and the indexer is fed data from an RPC and the indexer
            </span>
            
            <span id="chunk-119" class="transcript-chunks" onclick="console.log('00:07:46,878'); seek(466.0)">
              is maintaining its own internal specialized view of the state.
            </span>
            
            <span id="chunk-120" class="transcript-chunks" onclick="console.log('00:07:51,350'); seek(471.0)">
              Indexers, like I've been saying, help create low latency experience for
            </span>
            
            <span id="chunk-121" class="transcript-chunks" onclick="console.log('00:07:55,208'); seek(475.0)">
              users or web, two experiences in the sort of blockchain
            </span>
            
            <span id="chunk-122" class="transcript-chunks" onclick="console.log('00:07:59,250'); seek(479.0)">
              jargon. Since the indexer needs to populate the
            </span>
            
            <span id="chunk-123" class="transcript-chunks" onclick="console.log('00:08:02,748'); seek(482.0)">
              database from blockchain data, it needs to understand what state
            </span>
            
            <span id="chunk-124" class="transcript-chunks" onclick="console.log('00:08:06,476'); seek(486.0)">
              of the smart contract is important. Therefore,
            </span>
            
            <span id="chunk-125" class="transcript-chunks" onclick="console.log('00:08:09,558'); seek(489.0)">
              smart contracts and their indexers are always related to
            </span>
            
            <span id="chunk-126" class="transcript-chunks" onclick="console.log('00:08:12,768'); seek(492.0)">
              one another. So can idea we might have is
            </span>
            
            <span id="chunk-127" class="transcript-chunks" onclick="console.log('00:08:17,312'); seek(497.0)">
              to have a single source code, single code base
            </span>
            
            <span id="chunk-128" class="transcript-chunks" onclick="console.log('00:08:20,784'); seek(500.0)">
              that contributes both to our smart contract and our
            </span>
            
            <span id="chunk-129" class="transcript-chunks" onclick="console.log('00:08:24,292'); seek(504.0)">
              indexers. Again, because they're so closely related to one another,
            </span>
            
            <span id="chunk-130" class="transcript-chunks" onclick="console.log('00:08:27,652'); seek(507.0)">
              this would be great since it would mean less maintenance.
            </span>
            
            <span id="chunk-131" class="transcript-chunks" onclick="console.log('00:08:30,842'); seek(510.0)">
              There's just less code overall to maintain. And even better
            </span>
            
            <span id="chunk-132" class="transcript-chunks" onclick="console.log('00:08:34,756'); seek(514.0)">
              still, it would make our indexer more powerful than your average indexer,
            </span>
            
            <span id="chunk-133" class="transcript-chunks" onclick="console.log('00:08:38,702'); seek(518.0)">
              because it would have access to all of the smart contract's logic,
            </span>
            
            <span id="chunk-134" class="transcript-chunks" onclick="console.log('00:08:41,854'); seek(521.0)">
              and it would be able to do things like simulate an entire transaction
            </span>
            
            <span id="chunk-135" class="transcript-chunks" onclick="console.log('00:08:45,566'); seek(525.0)">
              off chain, and that gives you free low latency
            </span>
            
            <span id="chunk-136" class="transcript-chunks" onclick="console.log('00:08:48,866'); seek(528.0)">
              feedback to users about potential errors. So this is
            </span>
            
            <span id="chunk-137" class="transcript-chunks" onclick="console.log('00:08:52,796'); seek(532.0)">
              what we're aiming for. This is our idea. How are we going to accomplish
            </span>
            
            <span id="chunk-138" class="transcript-chunks" onclick="console.log('00:08:56,082'); seek(536.0)">
              that using rust? So there's a few key concepts that
            </span>
            
            <span id="chunk-139" class="transcript-chunks" onclick="console.log('00:08:59,888'); seek(539.0)">
              we want to take a look at. First of all is different compilation
            </span>
            
            <span id="chunk-140" class="transcript-chunks" onclick="console.log('00:09:03,542'); seek(543.0)">
              targets. So up on the slide I've got links
            </span>
            
            <span id="chunk-141" class="transcript-chunks" onclick="console.log('00:09:08,022'); seek(548.0)">
              to the official rust documentation if you want to sort of take
            </span>
            
            <span id="chunk-142" class="transcript-chunks" onclick="console.log('00:09:11,488'); seek(551.0)">
              a deep dive and read more about this yourself. But at a high level
            </span>
            
            <span id="chunk-143" class="transcript-chunks" onclick="console.log('00:09:15,220'); seek(555.0)">
              you have the rest compiler giving you some kind of
            </span>
            
            <span id="chunk-144" class="transcript-chunks" onclick="console.log('00:09:18,404'); seek(558.0)">
              output from your code, some kind of executable output from your code.
            </span>
            
            <span id="chunk-145" class="transcript-chunks" onclick="console.log('00:09:22,610'); seek(562.0)">
              In the typical case, it's an executable for whatever
            </span>
            
            <span id="chunk-146" class="transcript-chunks" onclick="console.log('00:09:26,280'); seek(566.0)">
              operating system you're running on Linux, Windows, Mac,
            </span>
            
            <span id="chunk-147" class="transcript-chunks" onclick="console.log('00:09:29,662'); seek(569.0)">
              and maybe even specialized to the specific hardware of your machine,
            </span>
            
            <span id="chunk-148" class="transcript-chunks" onclick="console.log('00:09:33,262'); seek(573.0)">
              say it's an arm or x 86. But there are
            </span>
            
            <span id="chunk-149" class="transcript-chunks" onclick="console.log('00:09:37,228'); seek(577.0)">
              more executable targets than just these. In particular,
            </span>
            
            <span id="chunk-150" class="transcript-chunks" onclick="console.log('00:09:41,532'); seek(581.0)">
              webassembly is an important one for this story, because the
            </span>
            
            <span id="chunk-151" class="transcript-chunks" onclick="console.log('00:09:45,196'); seek(585.0)">
              blockchain platform that Aurora uses has webassembly
            </span>
            
            <span id="chunk-152" class="transcript-chunks" onclick="console.log('00:09:48,710'); seek(588.0)">
              as its virtual machine. So on the slide
            </span>
            
            <span id="chunk-153" class="transcript-chunks" onclick="console.log('00:09:52,422'); seek(592.0)">
              I include the commands that you would use in rust to
            </span>
            
            <span id="chunk-154" class="transcript-chunks" onclick="console.log('00:09:56,336'); seek(596.0)">
              install the webassembly target compilation
            </span>
            
            <span id="chunk-155" class="transcript-chunks" onclick="console.log('00:09:59,702'); seek(599.0)">
              target, and then how you would select that targets to build
            </span>
            
            <span id="chunk-156" class="transcript-chunks" onclick="console.log('00:10:04,228'); seek(604.0)">
              your project.
            </span>
            
            <span id="chunk-157" class="transcript-chunks" onclick="console.log('00:10:07,490'); seek(607.0)">
              Now, given that you can have these different
            </span>
            
            <span id="chunk-158" class="transcript-chunks" onclick="console.log('00:10:10,996'); seek(610.0)">
              targets, it's useful to be able to write code that selects
            </span>
            
            <span id="chunk-159" class="transcript-chunks" onclick="console.log('00:10:16,550'); seek(616.0)">
              or is specialized to a particular compilation target.
            </span>
            
            <span id="chunk-160" class="transcript-chunks" onclick="console.log('00:10:20,686'); seek(620.0)">
              Conditional compilation allows us to do this.
            </span>
            
            <span id="chunk-161" class="transcript-chunks" onclick="console.log('00:10:24,184'); seek(624.0)">
              Again, I've got a link up on the slide which you
            </span>
            
            <span id="chunk-162" class="transcript-chunks" onclick="console.log('00:10:28,040'); seek(628.0)">
              can do some further reading on if you're interested. But long
            </span>
            
            <span id="chunk-163" class="transcript-chunks" onclick="console.log('00:10:31,452'); seek(631.0)">
              story short, the syntax looks like the example I've got
            </span>
            
            <span id="chunk-164" class="transcript-chunks" onclick="console.log('00:10:34,668'); seek(634.0)">
              up there. So we have some function Foo, and the implementation
            </span>
            
            <span id="chunk-165" class="transcript-chunks" onclick="console.log('00:10:38,262'); seek(638.0)">
              of Foo depends on if we're compiling to wasm or not.
            </span>
            
            <span id="chunk-166" class="transcript-chunks" onclick="console.log('00:10:42,750'); seek(642.0)">
              Again, this is useful because it lets us make specific choices
            </span>
            
            <span id="chunk-167" class="transcript-chunks" onclick="console.log('00:10:47,510'); seek(647.0)">
              that only work on that architecture. So in the case of webassembly,
            </span>
            
            <span id="chunk-168" class="transcript-chunks" onclick="console.log('00:10:51,222'); seek(651.0)">
              you have this notion of host functions, which we'll talk a lot about later.
            </span>
            
            <span id="chunk-169" class="transcript-chunks" onclick="console.log('00:10:55,348'); seek(655.0)">
              But host functions are functions that the host, that is the computer
            </span>
            
            <span id="chunk-170" class="transcript-chunks" onclick="console.log('00:10:59,524'); seek(659.0)">
              running your webassembly virtual machine exposes for
            </span>
            
            <span id="chunk-171" class="transcript-chunks" onclick="console.log('00:11:03,460'); seek(663.0)">
              the WASM module to use, whereas in a normal application
            </span>
            
            <span id="chunk-172" class="transcript-chunks" onclick="console.log('00:11:07,750'); seek(667.0)">
              those don't exist. But in a normal application you do have
            </span>
            
            <span id="chunk-173" class="transcript-chunks" onclick="console.log('00:11:11,560'); seek(671.0)">
              access to disk, for example, so you could use that to access storage.
            </span>
            
            <span id="chunk-174" class="transcript-chunks" onclick="console.log('00:11:16,550'); seek(676.0)">
              Now, the drawback of conditional compilation is that it's
            </span>
            
            <span id="chunk-175" class="transcript-chunks" onclick="console.log('00:11:20,354'); seek(680.0)">
              a little verbose, and it makes the implementation a little hard to
            </span>
            
            <span id="chunk-176" class="transcript-chunks" onclick="console.log('00:11:24,172'); seek(684.0)">
              read, right. You can see, the function foo maybe looks
            </span>
            
            <span id="chunk-177" class="transcript-chunks" onclick="console.log('00:11:27,532'); seek(687.0)">
              a little awkward because there are these two totally separate branches.
            </span>
            
            <span id="chunk-178" class="transcript-chunks" onclick="console.log('00:11:31,150'); seek(691.0)">
              Additionally, because you have these separate branches, it's a little tedious to
            </span>
            
            <span id="chunk-179" class="transcript-chunks" onclick="console.log('00:11:34,448'); seek(694.0)">
              use inside of an IDE. Your iDe will usually
            </span>
            
            <span id="chunk-180" class="transcript-chunks" onclick="console.log('00:11:38,080'); seek(698.0)">
              only show you one branch of the conditional compilation at a time,
            </span>
            
            <span id="chunk-181" class="transcript-chunks" onclick="console.log('00:11:41,680'); seek(701.0)">
              so you have to sort of switch back and forth between them when you're trying
            </span>
            
            <span id="chunk-182" class="transcript-chunks" onclick="console.log('00:11:44,836'); seek(704.0)">
              to write code for it. But fortunately,
            </span>
            
            <span id="chunk-183" class="transcript-chunks" onclick="console.log('00:11:48,442'); seek(708.0)">
              we can minimize the amount of conditional compilation that we're doing by
            </span>
            
            <span id="chunk-184" class="transcript-chunks" onclick="console.log('00:11:53,112'); seek(713.0)">
              abstracting most of our code over the
            </span>
            
            <span id="chunk-185" class="transcript-chunks" onclick="console.log('00:11:57,112'); seek(717.0)">
              platform specific effects.
            </span>
            
            <span id="chunk-186" class="transcript-chunks" onclick="console.log('00:12:00,790'); seek(720.0)">
              And to do that, we have this idea in rust called type generics.
            </span>
            
            <span id="chunk-187" class="transcript-chunks" onclick="console.log('00:12:05,438'); seek(725.0)">
              So the whole point of a type generic is you
            </span>
            
            <span id="chunk-188" class="transcript-chunks" onclick="console.log('00:12:09,100'); seek(729.0)">
              write a function, in this case get balance,
            </span>
            
            <span id="chunk-189" class="transcript-chunks" onclick="console.log('00:12:12,570'); seek(732.0)">
              which takes in some type, but we don't care what it is,
            </span>
            
            <span id="chunk-190" class="transcript-chunks" onclick="console.log('00:12:16,556'); seek(736.0)">
              we only care that it has a particular interface,
            </span>
            
            <span id="chunk-191" class="transcript-chunks" onclick="console.log('00:12:20,774'); seek(740.0)">
              and that interface is defined using a trait,
            </span>
            
            <span id="chunk-192" class="transcript-chunks" onclick="console.log('00:12:24,214'); seek(744.0)">
              and indicated in the syntax they are using a so called trait bound.
            </span>
            
            <span id="chunk-193" class="transcript-chunks" onclick="console.log('00:12:28,086'); seek(748.0)">
              So we have in the brackets
            </span>
            
            <span id="chunk-194" class="transcript-chunks" onclick="console.log('00:12:31,926'); seek(751.0)">
              between there the angle brackets I O
            </span>
            
            <span id="chunk-195" class="transcript-chunks" onclick="console.log('00:12:35,152'); seek(755.0)">
              says that whatever this type I is, it must implement
            </span>
            
            <span id="chunk-196" class="transcript-chunks" onclick="console.log('00:12:38,458'); seek(758.0)">
              the IO interface defined by the IO trait.
            </span>
            
            <span id="chunk-197" class="transcript-chunks" onclick="console.log('00:12:42,090'); seek(762.0)">
              In this example, I'm keeping it pretty simple with just the read and write methods,
            </span>
            
            <span id="chunk-198" class="transcript-chunks" onclick="console.log('00:12:46,770'); seek(766.0)">
              and the type signatures are maybe a little suspect. You can imagine maybe that there
            </span>
            
            <span id="chunk-199" class="transcript-chunks" onclick="console.log('00:12:50,488'); seek(770.0)">
              should be some kind of option or result involved in the read, but for
            </span>
            
            <span id="chunk-200" class="transcript-chunks" onclick="console.log('00:12:54,408'); seek(774.0)">
              the sake of example, let's suppose this is what it looks like. The point
            </span>
            
            <span id="chunk-201" class="transcript-chunks" onclick="console.log('00:12:58,072'); seek(778.0)">
              is that when you have this type generic, you don't care what the specifics of
            </span>
            
            <span id="chunk-202" class="transcript-chunks" onclick="console.log('00:13:01,388'); seek(781.0)">
              the implementation are, you can still make use of those methods in the
            </span>
            
            <span id="chunk-203" class="transcript-chunks" onclick="console.log('00:13:05,068'); seek(785.0)">
              implementation of your function. So in the case of get balance, we're imagining reading
            </span>
            
            <span id="chunk-204" class="transcript-chunks" onclick="console.log('00:13:09,378'); seek(789.0)">
              some bytes out of the state and interpreting them as a
            </span>
            
            <span id="chunk-205" class="transcript-chunks" onclick="console.log('00:13:13,088'); seek(793.0)">
              U 128 value. So this get balance
            </span>
            
            <span id="chunk-206" class="transcript-chunks" onclick="console.log('00:13:16,918'); seek(796.0)">
              function is now totally generic over anything
            </span>
            
            <span id="chunk-207" class="transcript-chunks" onclick="console.log('00:13:20,096'); seek(800.0)">
              that implements I o. And in particular we can imagine implementing
            </span>
            
            <span id="chunk-208" class="transcript-chunks" onclick="console.log('00:13:23,882'); seek(803.0)">
              this for webassembly as well as native
            </span>
            
            <span id="chunk-209" class="transcript-chunks" onclick="console.log('00:13:28,106'); seek(808.0)">
              code. And these would look a little bit different because of the different
            </span>
            
            <span id="chunk-210" class="transcript-chunks" onclick="console.log('00:13:32,530'); seek(812.0)">
              implementations that are possible in those targets.
            </span>
            
            <span id="chunk-211" class="transcript-chunks" onclick="console.log('00:13:37,590'); seek(817.0)">
              So for example, on the indexer side maybe our implementation would be reading
            </span>
            
            <span id="chunk-212" class="transcript-chunks" onclick="console.log('00:13:41,518'); seek(821.0)">
              to a database on the disk, while on the webassembly side it
            </span>
            
            <span id="chunk-213" class="transcript-chunks" onclick="console.log('00:13:45,080'); seek(825.0)">
              would be calling to a host function like I mentioned before. But either way,
            </span>
            
            <span id="chunk-214" class="transcript-chunks" onclick="console.log('00:13:49,548'); seek(829.0)">
              after we've done those implementations, the getbalance function
            </span>
            
            <span id="chunk-215" class="transcript-chunks" onclick="console.log('00:13:53,644'); seek(833.0)">
              is now available and identical in
            </span>
            
            <span id="chunk-216" class="transcript-chunks" onclick="console.log('00:13:57,356'); seek(837.0)">
              both situations. So this code is generic and
            </span>
            
            <span id="chunk-217" class="transcript-chunks" onclick="console.log('00:14:01,216'); seek(841.0)">
              reusable in both cases. Now,
            </span>
            
            <span id="chunk-218" class="transcript-chunks" onclick="console.log('00:14:04,688'); seek(844.0)">
              of course, this particular example is a little bit silly, because get
            </span>
            
            <span id="chunk-219" class="transcript-chunks" onclick="console.log('00:14:08,272'); seek(848.0)">
              balance is just a one liner function, so you
            </span>
            
            <span id="chunk-220" class="transcript-chunks" onclick="console.log('00:14:11,712'); seek(851.0)">
              probably would imagine it wouldn't be that big of a deal to duplicate that logic
            </span>
            
            <span id="chunk-221" class="transcript-chunks" onclick="console.log('00:14:15,178'); seek(855.0)">
              in the two places instead of jumping through all of these type
            </span>
            
            <span id="chunk-222" class="transcript-chunks" onclick="console.log('00:14:18,292'); seek(858.0)">
              generic hoops. But this idea
            </span>
            
            <span id="chunk-223" class="transcript-chunks" onclick="console.log('00:14:21,668'); seek(861.0)">
              scales, right? It doesn't matter how complicated the get balance function is,
            </span>
            
            <span id="chunk-224" class="transcript-chunks" onclick="console.log('00:14:25,352'); seek(865.0)">
              and at some point it's complicated enough that you don't want to have to duplicate
            </span>
            
            <span id="chunk-225" class="transcript-chunks" onclick="console.log('00:14:28,702'); seek(868.0)">
              it into both places.
            </span>
            
            <span id="chunk-226" class="transcript-chunks" onclick="console.log('00:14:32,630'); seek(872.0)">
              So this is the whole point of the
            </span>
            
            <span id="chunk-227" class="transcript-chunks" onclick="console.log('00:14:36,008'); seek(876.0)">
              functional programming patterns. Let's take a step back and just
            </span>
            
            <span id="chunk-228" class="transcript-chunks" onclick="console.log('00:14:39,468'); seek(879.0)">
              talk about the big ideas here, because this really isn't about just rust
            </span>
            
            <span id="chunk-229" class="transcript-chunks" onclick="console.log('00:14:43,490'); seek(883.0)">
              or just blockchain. This is programming style in general.
            </span>
            
            <span id="chunk-230" class="transcript-chunks" onclick="console.log('00:14:47,870'); seek(887.0)">
              The code concept is when you're writing code
            </span>
            
            <span id="chunk-231" class="transcript-chunks" onclick="console.log('00:14:53,070'); seek(893.0)">
              for environment specific effects like reading and writing from state,
            </span>
            
            <span id="chunk-232" class="transcript-chunks" onclick="console.log('00:14:57,070'); seek(897.0)">
              you can abstract over them in your core
            </span>
            
            <span id="chunk-233" class="transcript-chunks" onclick="console.log('00:15:00,602'); seek(900.0)">
              business logic to make it pure. That is to
            </span>
            
            <span id="chunk-234" class="transcript-chunks" onclick="console.log('00:15:03,972'); seek(903.0)">
              say, it doesn't depend on the particular environment, it doesn't depend on
            </span>
            
            <span id="chunk-235" class="transcript-chunks" onclick="console.log('00:15:07,908'); seek(907.0)">
              any compilation target specific effects,
            </span>
            
            <span id="chunk-236" class="transcript-chunks" onclick="console.log('00:15:11,418'); seek(911.0)">
              and by factoring those things out, pushing them into
            </span>
            
            <span id="chunk-237" class="transcript-chunks" onclick="console.log('00:15:15,028'); seek(915.0)">
              a trait, and only having those trait implementations has the boundaries of your applications.
            </span>
            
            <span id="chunk-238" class="transcript-chunks" onclick="console.log('00:15:19,838'); seek(919.0)">
              The result is most of your code is easier to
            </span>
            
            <span id="chunk-239" class="transcript-chunks" onclick="console.log('00:15:23,272'); seek(923.0)">
              test and easier to maintain because it can
            </span>
            
            <span id="chunk-240" class="transcript-chunks" onclick="console.log('00:15:27,532'); seek(927.0)">
              be tested using in memory
            </span>
            
            <span id="chunk-241" class="transcript-chunks" onclick="console.log('00:15:31,442'); seek(931.0)">
              structures, right? Just different implementations of those traits
            </span>
            
            <span id="chunk-242" class="transcript-chunks" onclick="console.log('00:15:35,794'); seek(935.0)">
              that don't even actually do the effects.
            </span>
            
            <span id="chunk-243" class="transcript-chunks" onclick="console.log('00:15:40,110'); seek(940.0)">
              So in the case of storage, right, you could have
            </span>
            
            <span id="chunk-244" class="transcript-chunks" onclick="console.log('00:15:43,744'); seek(943.0)">
              just a simple hash map in memory that you're reading
            </span>
            
            <span id="chunk-245" class="transcript-chunks" onclick="console.log('00:15:47,174'); seek(947.0)">
              and writing for your
            </span>
            
            <span id="chunk-246" class="transcript-chunks" onclick="console.log('00:15:50,832'); seek(950.0)">
              tests, but still be able to test all of your business logic code,
            </span>
            
            <span id="chunk-247" class="transcript-chunks" onclick="console.log('00:15:54,340'); seek(954.0)">
              because again, it is agnostic to the details of that implementation,
            </span>
            
            <span id="chunk-248" class="transcript-chunks" onclick="console.log('00:15:58,450'); seek(958.0)">
              while in the production implementation you're actually using
            </span>
            
            <span id="chunk-249" class="transcript-chunks" onclick="console.log('00:16:01,956'); seek(961.0)">
              a real database. And again, all of the code
            </span>
            
            <span id="chunk-250" class="transcript-chunks" onclick="console.log('00:16:05,688'); seek(965.0)">
              that is being used with that database has still already
            </span>
            
            <span id="chunk-251" class="transcript-chunks" onclick="console.log('00:16:09,176'); seek(969.0)">
              been tested in this in memory environment.
            </span>
            
            <span id="chunk-252" class="transcript-chunks" onclick="console.log('00:16:14,078'); seek(974.0)">
              The other nice thing about all of this is
            </span>
            
            <span id="chunk-253" class="transcript-chunks" onclick="console.log('00:16:18,108'); seek(978.0)">
              this code is easier to reason about. You don't have to worry
            </span>
            
            <span id="chunk-254" class="transcript-chunks" onclick="console.log('00:16:21,266'); seek(981.0)">
              about are there going to be random side effects
            </span>
            
            <span id="chunk-255" class="transcript-chunks" onclick="console.log('00:16:25,410'); seek(985.0)">
              in particular parts of the code because they're all
            </span>
            
            <span id="chunk-256" class="transcript-chunks" onclick="console.log('00:16:29,360'); seek(989.0)">
              explicitly given in the type signatures. You can't
            </span>
            
            <span id="chunk-257" class="transcript-chunks" onclick="console.log('00:16:33,710'); seek(993.0)">
              do I O without having the I O trait
            </span>
            
            <span id="chunk-258" class="transcript-chunks" onclick="console.log('00:16:37,430'); seek(997.0)">
              present. If you're writing code that is generic,
            </span>
            
            <span id="chunk-259" class="transcript-chunks" onclick="console.log('00:16:41,062'); seek(1001.0)">
              overall possible compilation target. So whenever
            </span>
            
            <span id="chunk-260" class="transcript-chunks" onclick="console.log('00:16:44,298'); seek(1004.0)">
              you see a piece of code that doesn't have the I O
            </span>
            
            <span id="chunk-261" class="transcript-chunks" onclick="console.log('00:16:47,892'); seek(1007.0)">
              trait on it, you know it's not doing any I O.
            </span>
            
            <span id="chunk-262" class="transcript-chunks" onclick="console.log('00:16:51,252'); seek(1011.0)">
              And conversely, when you do see a function that has the I
            </span>
            
            <span id="chunk-263" class="transcript-chunks" onclick="console.log('00:16:54,868'); seek(1014.0)">
              O trait, you know that some state is being used by that function.
            </span>
            
            <span id="chunk-264" class="transcript-chunks" onclick="console.log('00:16:59,350'); seek(1019.0)">
              This is something that you might have heard before, has the principle of
            </span>
            
            <span id="chunk-265" class="transcript-chunks" onclick="console.log('00:17:03,048'); seek(1023.0)">
              least authority, where the idea is that code should only have access
            </span>
            
            <span id="chunk-266" class="transcript-chunks" onclick="console.log('00:17:07,032'); seek(1027.0)">
              to the minimum amount of capabilities that it actually
            </span>
            
            <span id="chunk-267" class="transcript-chunks" onclick="console.log('00:17:10,396'); seek(1030.0)">
              needs to function. So code that doesn't need I O doesn't have
            </span>
            
            <span id="chunk-268" class="transcript-chunks" onclick="console.log('00:17:13,692'); seek(1033.0)">
              I O, and similarly for other effects. Finally,
            </span>
            
            <span id="chunk-269" class="transcript-chunks" onclick="console.log('00:17:17,420'); seek(1037.0)">
              this code is easier to reuse, and that is kind of
            </span>
            
            <span id="chunk-270" class="transcript-chunks" onclick="console.log('00:17:20,544'); seek(1040.0)">
              the whole point of this talk. Once your code is
            </span>
            
            <span id="chunk-271" class="transcript-chunks" onclick="console.log('00:17:23,808'); seek(1043.0)">
              written in this abstract way, you can use the same code
            </span>
            
            <span id="chunk-272" class="transcript-chunks" onclick="console.log('00:17:27,792'); seek(1047.0)">
              for any different application that
            </span>
            
            <span id="chunk-273" class="transcript-chunks" onclick="console.log('00:17:31,568'); seek(1051.0)">
              you need. So in the case that we're talking about, it's a smart contract and
            </span>
            
            <span id="chunk-274" class="transcript-chunks" onclick="console.log('00:17:35,332'); seek(1055.0)">
              an indexer, but you can imagine that the same kind of thing would work.
            </span>
            
            <span id="chunk-275" class="transcript-chunks" onclick="console.log('00:17:38,964'); seek(1058.0)">
              Say, if you had a web application and a mobile
            </span>
            
            <span id="chunk-276" class="transcript-chunks" onclick="console.log('00:17:42,442'); seek(1062.0)">
              application, you could have the same rust code base at its
            </span>
            
            <span id="chunk-277" class="transcript-chunks" onclick="console.log('00:17:45,592'); seek(1065.0)">
              core and compile it to webassembly. That gets used
            </span>
            
            <span id="chunk-278" class="transcript-chunks" onclick="console.log('00:17:49,032'); seek(1069.0)">
              as part of a web app or down into
            </span>
            
            <span id="chunk-279" class="transcript-chunks" onclick="console.log('00:17:53,830'); seek(1073.0)">
              a mobile code and used in your mobile app as well.
            </span>
            
            <span id="chunk-280" class="transcript-chunks" onclick="console.log('00:17:57,372'); seek(1077.0)">
              And again, it would be the same idea where if you're abstracting over
            </span>
            
            <span id="chunk-281" class="transcript-chunks" onclick="console.log('00:18:01,068'); seek(1081.0)">
              the FX, you don't need to worry about whether you're talking
            </span>
            
            <span id="chunk-282" class="transcript-chunks" onclick="console.log('00:18:05,260'); seek(1085.0)">
              to a javascript wrapper in the browser or an
            </span>
            
            <span id="chunk-283" class="transcript-chunks" onclick="console.log('00:18:09,488'); seek(1089.0)">
              Android operating system, for example. But all
            </span>
            
            <span id="chunk-284" class="transcript-chunks" onclick="console.log('00:18:13,328'); seek(1093.0)">
              of that aside, let's get back to our
            </span>
            
            <span id="chunk-285" class="transcript-chunks" onclick="console.log('00:18:16,608'); seek(1096.0)">
              main topic here. So at Aurora, we made
            </span>
            
            <span id="chunk-286" class="transcript-chunks" onclick="console.log('00:18:20,112'); seek(1100.0)">
              use of these ideas, like I've been saying, to make an
            </span>
            
            <span id="chunk-287" class="transcript-chunks" onclick="console.log('00:18:23,988'); seek(1103.0)">
              indexer out of a smart contract. So what is Aurora?
            </span>
            
            <span id="chunk-288" class="transcript-chunks" onclick="console.log('00:18:27,546'); seek(1107.0)">
              Aurora is an ethereum scaling solution built on top of the near blockchain
            </span>
            
            <span id="chunk-289" class="transcript-chunks" onclick="console.log('00:18:31,386'); seek(1111.0)">
              platform. I've got a couple links up on the slide if you want to
            </span>
            
            <span id="chunk-290" class="transcript-chunks" onclick="console.log('00:18:35,080'); seek(1115.0)">
              read more about that and dig deeper.
            </span>
            
            <span id="chunk-291" class="transcript-chunks" onclick="console.log('00:18:38,542'); seek(1118.0)">
              That's available. But for today's story,
            </span>
            
            <span id="chunk-292" class="transcript-chunks" onclick="console.log('00:18:42,520'); seek(1122.0)">
              the part that is most important is Aurora's
            </span>
            
            <span id="chunk-293" class="transcript-chunks" onclick="console.log('00:18:47,690'); seek(1127.0)">
              core product is this EVM, the Ethereum virtual machine we talked about before.
            </span>
            
            <span id="chunk-294" class="transcript-chunks" onclick="console.log('00:18:51,756'); seek(1131.0)">
              But it's deployed as a smart contract on top of near uses
            </span>
            
            <span id="chunk-295" class="transcript-chunks" onclick="console.log('00:18:56,146'); seek(1136.0)">
              webassembly as its blockchain VM,
            </span>
            
            <span id="chunk-296" class="transcript-chunks" onclick="console.log('00:18:59,186'); seek(1139.0)">
              which means it's super powerful. Rust compiles to it,
            </span>
            
            <span id="chunk-297" class="transcript-chunks" onclick="console.log('00:19:02,368'); seek(1142.0)">
              no problem, like we saw earlier. And you can write an implementation
            </span>
            
            <span id="chunk-298" class="transcript-chunks" onclick="console.log('00:19:06,358'); seek(1146.0)">
              of the EVM in Rust, compile it to Webassembly. Now you have
            </span>
            
            <span id="chunk-299" class="transcript-chunks" onclick="console.log('00:19:09,744'); seek(1149.0)">
              it as a smart contract on Nier, and that enables
            </span>
            
            <span id="chunk-300" class="transcript-chunks" onclick="console.log('00:19:13,354'); seek(1153.0)">
              this whole scaling solution where now you're using Nier to run
            </span>
            
            <span id="chunk-301" class="transcript-chunks" onclick="console.log('00:19:17,588'); seek(1157.0)">
              the EVM transactions instead of Ethereum itself.
            </span>
            
            <span id="chunk-302" class="transcript-chunks" onclick="console.log('00:19:21,108'); seek(1161.0)">
              So you're benefiting from near's better
            </span>
            
            <span id="chunk-303" class="transcript-chunks" onclick="console.log('00:19:25,016'); seek(1165.0)">
              scaling, the sharding and consensus and all this stuff.
            </span>
            
            <span id="chunk-304" class="transcript-chunks" onclick="console.log('00:19:28,440'); seek(1168.0)">
              But again, out of scope for today,
            </span>
            
            <span id="chunk-305" class="transcript-chunks" onclick="console.log('00:19:32,870'); seek(1172.0)">
              the most important detail to continue our story is Aurora
            </span>
            
            <span id="chunk-306" class="transcript-chunks" onclick="console.log('00:19:36,930'); seek(1176.0)">
              claims to be compatible with Ethereum tooling,
            </span>
            
            <span id="chunk-307" class="transcript-chunks" onclick="console.log('00:19:41,370'); seek(1181.0)">
              including the metamask wallet, the hard
            </span>
            
            <span id="chunk-308" class="transcript-chunks" onclick="console.log('00:19:45,116'); seek(1185.0)">
              hat developer tool. And if these
            </span>
            
            <span id="chunk-309" class="transcript-chunks" onclick="console.log('00:19:48,812'); seek(1188.0)">
              are not familiar to you, don't worry about it. Suffice it to say, these are
            </span>
            
            <span id="chunk-310" class="transcript-chunks" onclick="console.log('00:19:52,192'); seek(1192.0)">
              tools that are very common in the Ethereum ecosystem,
            </span>
            
            <span id="chunk-311" class="transcript-chunks" onclick="console.log('00:19:56,678'); seek(1196.0)">
              and they rely on a particular RPC, right? They rely on the
            </span>
            
            <span id="chunk-312" class="transcript-chunks" onclick="console.log('00:20:00,368'); seek(1200.0)">
              RPC that Ethereum nodes would expose. So for Aurora to
            </span>
            
            <span id="chunk-313" class="transcript-chunks" onclick="console.log('00:20:03,764'); seek(1203.0)">
              be compatible with them, it must also expose that same RPC interface.
            </span>
            
            <span id="chunk-314" class="transcript-chunks" onclick="console.log('00:20:08,930'); seek(1208.0)">
              So there's sort of an obvious implementation on how to do this.
            </span>
            
            <span id="chunk-315" class="transcript-chunks" onclick="console.log('00:20:12,500'); seek(1212.0)">
              We know that this thing is deployed on Nier, and Nier has its own RPC.
            </span>
            
            <span id="chunk-316" class="transcript-chunks" onclick="console.log('00:20:15,918'); seek(1215.0)">
              So you can imagine a proxy which translates Ethereum
            </span>
            
            <span id="chunk-317" class="transcript-chunks" onclick="console.log('00:20:20,414'); seek(1220.0)">
              RPC requests into the
            </span>
            
            <span id="chunk-318" class="transcript-chunks" onclick="console.log('00:20:24,232'); seek(1224.0)">
              corresponding near RPC request that's talking to the Aurora contract,
            </span>
            
            <span id="chunk-319" class="transcript-chunks" onclick="console.log('00:20:28,290'); seek(1228.0)">
              and then translates the response back. But as we've mentioned,
            </span>
            
            <span id="chunk-320" class="transcript-chunks" onclick="console.log('00:20:32,810'); seek(1232.0)">
              this is quite slow. It involves multiple network hops,
            </span>
            
            <span id="chunk-321" class="transcript-chunks" onclick="console.log('00:20:37,290'); seek(1237.0)">
              and so you may end up with lower latency with a higher latency
            </span>
            
            <span id="chunk-322" class="transcript-chunks" onclick="console.log('00:20:40,902'); seek(1240.0)">
              than you want. The other issue is some of the RPC
            </span>
            
            <span id="chunk-323" class="transcript-chunks" onclick="console.log('00:20:44,726'); seek(1244.0)">
              requests on Ethereum are fairly beefy.
            </span>
            
            <span id="chunk-324" class="transcript-chunks" onclick="console.log('00:20:48,134'); seek(1248.0)">
              You can ask an Ethereum RPC node to simulate entire
            </span>
            
            <span id="chunk-325" class="transcript-chunks" onclick="console.log('00:20:51,908'); seek(1251.0)">
              transactions, and if you're trying to do that on
            </span>
            
            <span id="chunk-326" class="transcript-chunks" onclick="console.log('00:20:55,332'); seek(1255.0)">
              a network node inside of webassembly,
            </span>
            
            <span id="chunk-327" class="transcript-chunks" onclick="console.log('00:20:58,290'); seek(1258.0)">
              it can be additional latency on top of the
            </span>
            
            <span id="chunk-328" class="transcript-chunks" onclick="console.log('00:21:02,550'); seek(1262.0)">
              just simple network latency.
            </span>
            
            <span id="chunk-329" class="transcript-chunks" onclick="console.log('00:21:05,030'); seek(1265.0)">
              So getting to the main point here,
            </span>
            
            <span id="chunk-330" class="transcript-chunks" onclick="console.log('00:21:08,790'); seek(1268.0)">
              the way we can solve this is by writing an indexer
            </span>
            
            <span id="chunk-331" class="transcript-chunks" onclick="console.log('00:21:13,030'); seek(1273.0)">
              that is actually able to function has this ethereum
            </span>
            
            <span id="chunk-332" class="transcript-chunks" onclick="console.log('00:21:16,882'); seek(1276.0)">
              RPC. So again, because it needs to do
            </span>
            
            <span id="chunk-333" class="transcript-chunks" onclick="console.log('00:21:20,268'); seek(1280.0)">
              this whole transaction simulation, needs to have
            </span>
            
            <span id="chunk-334" class="transcript-chunks" onclick="console.log('00:21:23,900'); seek(1283.0)">
              all of the functionality of the aurora contract baked into
            </span>
            
            <span id="chunk-335" class="transcript-chunks" onclick="console.log('00:21:27,372'); seek(1287.0)">
              it, and we're going to use the
            </span>
            
            <span id="chunk-336" class="transcript-chunks" onclick="console.log('00:21:30,960'); seek(1290.0)">
              exact methods that we've just been talking about to make this possible.
            </span>
            
            <span id="chunk-337" class="transcript-chunks" onclick="console.log('00:21:35,470'); seek(1295.0)">
              So all of this code is available on GitHub, it's all
            </span>
            
            <span id="chunk-338" class="transcript-chunks" onclick="console.log('00:21:38,944'); seek(1298.0)">
              open source. I've got a link up on the slide if you ever want to
            </span>
            
            <span id="chunk-339" class="transcript-chunks" onclick="console.log('00:21:42,000'); seek(1302.0)">
              go and take a look at it yourself. But we'll take a look at a
            </span>
            
            <span id="chunk-340" class="transcript-chunks" onclick="console.log('00:21:44,884'); seek(1304.0)">
              few snippets and get a sense of what's going on here. So the
            </span>
            
            <span id="chunk-341" class="transcript-chunks" onclick="console.log('00:21:48,148'); seek(1308.0)">
              code that's up on the screen right now is the
            </span>
            
            <span id="chunk-342" class="transcript-chunks" onclick="console.log('00:21:51,716'); seek(1311.0)">
              real code out of the actual Aurora engine. So here's the
            </span>
            
            <span id="chunk-343" class="transcript-chunks" onclick="console.log('00:21:55,528'); seek(1315.0)">
              actual implementation of get balance that I sort of gave a toy
            </span>
            
            <span id="chunk-344" class="transcript-chunks" onclick="console.log('00:21:58,798'); seek(1318.0)">
              example of earlier. It's pretty similar to the toy example,
            </span>
            
            <span id="chunk-345" class="transcript-chunks" onclick="console.log('00:22:02,264'); seek(1322.0)">
              with a few extra error handling things going on.
            </span>
            
            <span id="chunk-346" class="transcript-chunks" onclick="console.log('00:22:06,230'); seek(1326.0)">
              And similarly for the setbalance,
            </span>
            
            <span id="chunk-347" class="transcript-chunks" onclick="console.log('00:22:10,390'); seek(1330.0)">
              again, notice the IO type generic,
            </span>
            
            <span id="chunk-348" class="transcript-chunks" onclick="console.log('00:22:13,826'); seek(1333.0)">
              right. We are using a read and a write on type
            </span>
            
            <span id="chunk-349" class="transcript-chunks" onclick="console.log('00:22:18,476'); seek(1338.0)">
              that we don't actually know its concrete value, we only know its interface,
            </span>
            
            <span id="chunk-350" class="transcript-chunks" onclick="console.log('00:22:22,230'); seek(1342.0)">
              and we can compose these together into more complicated functionality.
            </span>
            
            <span id="chunk-351" class="transcript-chunks" onclick="console.log('00:22:25,478'); seek(1345.0)">
              So the add balance function uses both get and set together
            </span>
            
            <span id="chunk-352" class="transcript-chunks" onclick="console.log('00:22:29,120'); seek(1349.0)">
              to add an amount to a balance. But again, you can see the
            </span>
            
            <span id="chunk-353" class="transcript-chunks" onclick="console.log('00:22:32,468'); seek(1352.0)">
              I o trait is present so that it can be passed along to
            </span>
            
            <span id="chunk-354" class="transcript-chunks" onclick="console.log('00:22:36,292'); seek(1356.0)">
              the other smaller functions.
            </span>
            
            <span id="chunk-355" class="transcript-chunks" onclick="console.log('00:22:40,610'); seek(1360.0)">
              So let's look at what the implementation of this I o trait actually looks
            </span>
            
            <span id="chunk-356" class="transcript-chunks" onclick="console.log('00:22:44,692'); seek(1364.0)">
              like. So this is for the webassembly side. Notice that
            </span>
            
            <span id="chunk-357" class="transcript-chunks" onclick="console.log('00:22:48,376'); seek(1368.0)">
              the main struct we're interested in is just a singleton struct. It's just called
            </span>
            
            <span id="chunk-358" class="transcript-chunks" onclick="console.log('00:22:52,152'); seek(1372.0)">
              runtime, as in the near runtime, as in it is running inside
            </span>
            
            <span id="chunk-359" class="transcript-chunks" onclick="console.log('00:22:55,672'); seek(1375.0)">
              of wasm, and it's a singleton because it doesn't
            </span>
            
            <span id="chunk-360" class="transcript-chunks" onclick="console.log('00:22:58,818'); seek(1378.0)">
              actually have any fields or state that are important. The implementation
            </span>
            
            <span id="chunk-361" class="transcript-chunks" onclick="console.log('00:23:02,946'); seek(1382.0)">
              comes from the host functions that the near runtime
            </span>
            
            <span id="chunk-362" class="transcript-chunks" onclick="console.log('00:23:06,338'); seek(1386.0)">
              exposes to us. So you can see in this implementation we're calling this storage read
            </span>
            
            <span id="chunk-363" class="transcript-chunks" onclick="console.log('00:23:10,416'); seek(1390.0)">
              function. It's all fairly low level and the details
            </span>
            
            <span id="chunk-364" class="transcript-chunks" onclick="console.log('00:23:14,118'); seek(1394.0)">
              aren't super important. The point is that we know that this host function
            </span>
            
            <span id="chunk-365" class="transcript-chunks" onclick="console.log('00:23:17,936'); seek(1397.0)">
              exists and we can call it, and that gives us access to
            </span>
            
            <span id="chunk-366" class="transcript-chunks" onclick="console.log('00:23:21,744'); seek(1401.0)">
              the storage. And the same thing, on the
            </span>
            
            <span id="chunk-367" class="transcript-chunks" onclick="console.log('00:23:25,124'); seek(1405.0)">
              right side, there's a host function we can call it. We're passing in some pointers
            </span>
            
            <span id="chunk-368" class="transcript-chunks" onclick="console.log('00:23:29,450'); seek(1409.0)">
              because it has to do with the host, reading out values from
            </span>
            
            <span id="chunk-369" class="transcript-chunks" onclick="console.log('00:23:33,188'); seek(1413.0)">
              the WASM memory and writing the value
            </span>
            
            <span id="chunk-370" class="transcript-chunks" onclick="console.log('00:23:37,320'); seek(1417.0)">
              into the actual underlying storage that the near node has.
            </span>
            
            <span id="chunk-371" class="transcript-chunks" onclick="console.log('00:23:41,590'); seek(1421.0)">
              But again, details aside, it is implemented
            </span>
            
            <span id="chunk-372" class="transcript-chunks" onclick="console.log('00:23:45,614'); seek(1425.0)">
              using these host functions and it satisfies the interface that we've
            </span>
            
            <span id="chunk-373" class="transcript-chunks" onclick="console.log('00:23:49,218'); seek(1429.0)">
              defined. Now on the other side,
            </span>
            
            <span id="chunk-374" class="transcript-chunks" onclick="console.log('00:23:53,164'); seek(1433.0)">
              the indexer side, this is native code, and it's a little more
            </span>
            
            <span id="chunk-375" class="transcript-chunks" onclick="console.log('00:23:56,748'); seek(1436.0)">
              complicated. We have the last field, there is a database
            </span>
            
            <span id="chunk-376" class="transcript-chunks" onclick="console.log('00:24:00,658'); seek(1440.0)">
              handle to a RocksDB database, because that's where the storage
            </span>
            
            <span id="chunk-377" class="transcript-chunks" onclick="console.log('00:24:04,502'); seek(1444.0)">
              is actually going to be located in the case of the indexers. And I see
            </span>
            
            <span id="chunk-378" class="transcript-chunks" onclick="console.log('00:24:07,488'); seek(1447.0)">
              a few other fields as well, because we want there to be conditional features
            </span>
            
            <span id="chunk-379" class="transcript-chunks" onclick="console.log('00:24:13,126'); seek(1453.0)">
              that the RPC implementation has as
            </span>
            
            <span id="chunk-380" class="transcript-chunks" onclick="console.log('00:24:16,512'); seek(1456.0)">
              compared to just smart contract. So for example,
            </span>
            
            <span id="chunk-381" class="transcript-chunks" onclick="console.log('00:24:20,196'); seek(1460.0)">
              we needed to have access to the whole history of the state,
            </span>
            
            <span id="chunk-382" class="transcript-chunks" onclick="console.log('00:24:23,524'); seek(1463.0)">
              not just the state, at any given moment in time. The reason is because
            </span>
            
            <span id="chunk-383" class="transcript-chunks" onclick="console.log('00:24:27,800'); seek(1467.0)">
              when a user is accessing the Ethereum RPC, they can
            </span>
            
            <span id="chunk-384" class="transcript-chunks" onclick="console.log('00:24:31,064'); seek(1471.0)">
              actually specify previous blocks to simulate their transaction against.
            </span>
            
            <span id="chunk-385" class="transcript-chunks" onclick="console.log('00:24:36,010'); seek(1476.0)">
              And similarly, because we are interested in the
            </span>
            
            <span id="chunk-386" class="transcript-chunks" onclick="console.log('00:24:39,644'); seek(1479.0)">
              potential of simulating transactions without actually committing them to the state,
            </span>
            
            <span id="chunk-387" class="transcript-chunks" onclick="console.log('00:24:43,516'); seek(1483.0)">
              we need all of the changes to happen in memory instead
            </span>
            
            <span id="chunk-388" class="transcript-chunks" onclick="console.log('00:24:47,516'); seek(1487.0)">
              of being eagerly written to the database. So that's what the
            </span>
            
            <span id="chunk-389" class="transcript-chunks" onclick="console.log('00:24:50,912'); seek(1490.0)">
              transaction diff and output parts of the structure for.
            </span>
            
            <span id="chunk-390" class="transcript-chunks" onclick="console.log('00:24:55,630'); seek(1495.0)">
              So this is what the read storage implementation looks
            </span>
            
            <span id="chunk-391" class="transcript-chunks" onclick="console.log('00:25:00,016'); seek(1500.0)">
              like. Again, the details are not super important.
            </span>
            
            <span id="chunk-392" class="transcript-chunks" onclick="console.log('00:25:04,450'); seek(1504.0)">
              What matters is that this is satisfying. Exactly the same interface,
            </span>
            
            <span id="chunk-393" class="transcript-chunks" onclick="console.log('00:25:08,298'); seek(1508.0)">
              but the implementation details are different. So in this case we are taking
            </span>
            
            <span id="chunk-394" class="transcript-chunks" onclick="console.log('00:25:12,436'); seek(1512.0)">
              a look at the in memory changes first.
            </span>
            
            <span id="chunk-395" class="transcript-chunks" onclick="console.log('00:25:15,732'); seek(1515.0)">
              Again, because they weren't committed to the database, and if it's not
            </span>
            
            <span id="chunk-396" class="transcript-chunks" onclick="console.log('00:25:19,352'); seek(1519.0)">
              present in there, that is, the key hasn't been written before in
            </span>
            
            <span id="chunk-397" class="transcript-chunks" onclick="console.log('00:25:22,808'); seek(1522.0)">
              this transaction. Then we have to go back and look at the database. And the
            </span>
            
            <span id="chunk-398" class="transcript-chunks" onclick="console.log('00:25:26,684'); seek(1526.0)">
              database has an iterator in it, because we are going backwards
            </span>
            
            <span id="chunk-399" class="transcript-chunks" onclick="console.log('00:25:30,194'); seek(1530.0)">
              through the history to find the key value pair that's
            </span>
            
            <span id="chunk-400" class="transcript-chunks" onclick="console.log('00:25:33,874'); seek(1533.0)">
              relevant. Similarly, on the right storage side,
            </span>
            
            <span id="chunk-401" class="transcript-chunks" onclick="console.log('00:25:38,510'); seek(1538.0)">
              same kind of same point,
            </span>
            
            <span id="chunk-402" class="transcript-chunks" onclick="console.log('00:25:41,936'); seek(1541.0)">
              right. It implements the interface that we've defined, but in
            </span>
            
            <span id="chunk-403" class="transcript-chunks" onclick="console.log('00:25:45,792'); seek(1545.0)">
              this case it's writing to this in memory diff instead of writing to the
            </span>
            
            <span id="chunk-404" class="transcript-chunks" onclick="console.log('00:25:49,344'); seek(1549.0)">
              database, or in the case of the webassembly calling
            </span>
            
            <span id="chunk-405" class="transcript-chunks" onclick="console.log('00:25:53,412'); seek(1553.0)">
              a host function. But what's very
            </span>
            
            <span id="chunk-406" class="transcript-chunks" onclick="console.log('00:25:56,852'); seek(1556.0)">
              cool about this, and you might be
            </span>
            
            <span id="chunk-407" class="transcript-chunks" onclick="console.log('00:26:00,770'); seek(1560.0)">
              know Michael, there are webassembly
            </span>
            
            <span id="chunk-408" class="transcript-chunks" onclick="console.log('00:26:05,590'); seek(1565.0)">
              standards that tell you what interfaces should look like for interacting
            </span>
            
            <span id="chunk-409" class="transcript-chunks" onclick="console.log('00:26:09,694'); seek(1569.0)">
              with storage. You don't necessarily have to jump through all these hoops. But the point
            </span>
            
            <span id="chunk-410" class="transcript-chunks" onclick="console.log('00:26:12,952'); seek(1572.0)">
              is that this isn't just about storage,
            </span>
            
            <span id="chunk-411" class="transcript-chunks" onclick="console.log('00:26:16,482'); seek(1576.0)">
              it's about any kind of environment
            </span>
            
            <span id="chunk-412" class="transcript-chunks" onclick="console.log('00:26:19,826'); seek(1579.0)">
              specific effect. Storage is one that we commonly think
            </span>
            
            <span id="chunk-413" class="transcript-chunks" onclick="console.log('00:26:23,612'); seek(1583.0)">
              about. But in the blockchain world there are other effects
            </span>
            
            <span id="chunk-414" class="transcript-chunks" onclick="console.log('00:26:26,978'); seek(1586.0)">
              that we care about as well, and they have analogies in other
            </span>
            
            <span id="chunk-415" class="transcript-chunks" onclick="console.log('00:26:31,296'); seek(1591.0)">
              contexts too. So for example, the environment variables
            </span>
            
            <span id="chunk-416" class="transcript-chunks" onclick="console.log('00:26:35,414'); seek(1595.0)">
              are things like what block height are we executing in, who signed
            </span>
            
            <span id="chunk-417" class="transcript-chunks" onclick="console.log('00:26:38,758'); seek(1598.0)">
              this transaction, what time is it? All this kind of stuff is all set in
            </span>
            
            <span id="chunk-418" class="transcript-chunks" onclick="console.log('00:26:43,028'); seek(1603.0)">
              the environment of the transaction's execution and is
            </span>
            
            <span id="chunk-419" class="transcript-chunks" onclick="console.log('00:26:47,092'); seek(1607.0)">
              available in the webassembly contracts from host functions.
            </span>
            
            <span id="chunk-420" class="transcript-chunks" onclick="console.log('00:26:50,770'); seek(1610.0)">
              But we still need to be able to access that stuff when we're simulating
            </span>
            
            <span id="chunk-421" class="transcript-chunks" onclick="console.log('00:26:54,122'); seek(1614.0)">
              the transaction locally. So we have a trait that exposes all
            </span>
            
            <span id="chunk-422" class="transcript-chunks" onclick="console.log('00:26:57,464'); seek(1617.0)">
              of the things that a user could potentially ask for,
            </span>
            
            <span id="chunk-423" class="transcript-chunks" onclick="console.log('00:27:01,112'); seek(1621.0)">
              and we have a separate implementation for the indexer.
            </span>
            
            <span id="chunk-424" class="transcript-chunks" onclick="console.log('00:27:04,302'); seek(1624.0)">
              In that implementation, the information comes out of
            </span>
            
            <span id="chunk-425" class="transcript-chunks" onclick="console.log('00:27:08,252'); seek(1628.0)">
              the actual block that we're consuming. Or in the case of
            </span>
            
            <span id="chunk-426" class="transcript-chunks" onclick="console.log('00:27:12,170'); seek(1632.0)">
              a user submitted simulated transaction, we just fill in default
            </span>
            
            <span id="chunk-427" class="transcript-chunks" onclick="console.log('00:27:15,922'); seek(1635.0)">
              values for these. But you could also imagine an
            </span>
            
            <span id="chunk-428" class="transcript-chunks" onclick="console.log('00:27:19,168'); seek(1639.0)">
              implementation where these were literally environment variables, as in system
            </span>
            
            <span id="chunk-429" class="transcript-chunks" onclick="console.log('00:27:23,600'); seek(1643.0)">
              environment variables, right. Say we were writing some kind of CLI
            </span>
            
            <span id="chunk-430" class="transcript-chunks" onclick="console.log('00:27:27,606'); seek(1647.0)">
              application to interact with this instead of making it as an RPC.
            </span>
            
            <span id="chunk-431" class="transcript-chunks" onclick="console.log('00:27:31,270'); seek(1651.0)">
              Then you could read environment variables as part of that
            </span>
            
            <span id="chunk-432" class="transcript-chunks" onclick="console.log('00:27:34,532'); seek(1654.0)">
              command line call to fill in this as well. Right.
            </span>
            
            <span id="chunk-433" class="transcript-chunks" onclick="console.log('00:27:37,908'); seek(1657.0)">
              And that would be another implementation, which again our sort
            </span>
            
            <span id="chunk-434" class="transcript-chunks" onclick="console.log('00:27:41,524'); seek(1661.0)">
              of core business logic is agnostic to, but opens up the opportunity
            </span>
            
            <span id="chunk-435" class="transcript-chunks" onclick="console.log('00:27:45,224'); seek(1665.0)">
              for making these other applications. Similarly,
            </span>
            
            <span id="chunk-436" class="transcript-chunks" onclick="console.log('00:27:48,878'); seek(1668.0)">
              there's this idea of promises, which is actually a near
            </span>
            
            <span id="chunk-437" class="transcript-chunks" onclick="console.log('00:27:52,760'); seek(1672.0)">
              specific concept on
            </span>
            
            <span id="chunk-438" class="transcript-chunks" onclick="console.log('00:27:56,072'); seek(1676.0)">
              most blockchains. Well, specifically on Ethereum,
            </span>
            
            <span id="chunk-439" class="transcript-chunks" onclick="console.log('00:27:59,450'); seek(1679.0)">
              calls to other contracts are synchronous. They happen all in
            </span>
            
            <span id="chunk-440" class="transcript-chunks" onclick="console.log('00:28:02,684'); seek(1682.0)">
              the same transaction and all at the same time in the same block.
            </span>
            
            <span id="chunk-441" class="transcript-chunks" onclick="console.log('00:28:06,546'); seek(1686.0)">
              But on Nier, calls to other contracts are asynchronous.
            </span>
            
            <span id="chunk-442" class="transcript-chunks" onclick="console.log('00:28:10,182'); seek(1690.0)">
              This has to do with the sharding model. Again, the details aren't super important,
            </span>
            
            <span id="chunk-443" class="transcript-chunks" onclick="console.log('00:28:13,664'); seek(1693.0)">
              but suffice to say, this is another kind of effect that
            </span>
            
            <span id="chunk-444" class="transcript-chunks" onclick="console.log('00:28:17,488'); seek(1697.0)">
              exists in the webassembly smart contract context,
            </span>
            
            <span id="chunk-445" class="transcript-chunks" onclick="console.log('00:28:21,466'); seek(1701.0)">
              but doesn't exist in the case that we're running an indexer,
            </span>
            
            <span id="chunk-446" class="transcript-chunks" onclick="console.log('00:28:25,802'); seek(1705.0)">
              right? Because the indexer only looks at the
            </span>
            
            <span id="chunk-447" class="transcript-chunks" onclick="console.log('00:28:30,210'); seek(1710.0)">
              Aurora smart contract itself, it doesn't index the whole
            </span>
            
            <span id="chunk-448" class="transcript-chunks" onclick="console.log('00:28:33,672'); seek(1713.0)">
              near environment. So it's actually not able to simulate these
            </span>
            
            <span id="chunk-449" class="transcript-chunks" onclick="console.log('00:28:37,784'); seek(1717.0)">
              cross contract calls, but we can still factor them
            </span>
            
            <span id="chunk-450" class="transcript-chunks" onclick="console.log('00:28:41,528'); seek(1721.0)">
              out as a trait and put in no op implementations
            </span>
            
            <span id="chunk-451" class="transcript-chunks" onclick="console.log('00:28:45,150'); seek(1725.0)">
              for the case of the indexer. And this also works fine because
            </span>
            
            <span id="chunk-452" class="transcript-chunks" onclick="console.log('00:28:49,052'); seek(1729.0)">
              most transactions on Aurora are contained within the EVM.
            </span>
            
            <span id="chunk-453" class="transcript-chunks" onclick="console.log('00:28:52,802'); seek(1732.0)">
              Like I mentioned, the EVM tends to be this synchronous
            </span>
            
            <span id="chunk-454" class="transcript-chunks" onclick="console.log('00:28:56,914'); seek(1736.0)">
              all in one block type transaction. So most of the time we
            </span>
            
            <span id="chunk-455" class="transcript-chunks" onclick="console.log('00:29:00,188'); seek(1740.0)">
              don't actually need these, but sometimes we do,
            </span>
            
            <span id="chunk-456" class="transcript-chunks" onclick="console.log('00:29:03,456'); seek(1743.0)">
              and therefore we need the code to handle it and we're still
            </span>
            
            <span id="chunk-457" class="transcript-chunks" onclick="console.log('00:29:06,928'); seek(1746.0)">
              able to factor it out and do it sort of for real in quotation marks
            </span>
            
            <span id="chunk-458" class="transcript-chunks" onclick="console.log('00:29:10,874'); seek(1750.0)">
              and webassembly and just no ops in the indexer,
            </span>
            
            <span id="chunk-459" class="transcript-chunks" onclick="console.log('00:29:14,378'); seek(1754.0)">
              and have it also work totally fine.
            </span>
            
            <span id="chunk-460" class="transcript-chunks" onclick="console.log('00:29:19,090'); seek(1759.0)">
              And all of this sort of builds up to huge
            </span>
            
            <span id="chunk-461" class="transcript-chunks" onclick="console.log('00:29:22,884'); seek(1762.0)">
              complicated functions, right? So this is just the interface
            </span>
            
            <span id="chunk-462" class="transcript-chunks" onclick="console.log('00:29:27,150'); seek(1767.0)">
              of the submit function. This is sort of the main entry point
            </span>
            
            <span id="chunk-463" class="transcript-chunks" onclick="console.log('00:29:30,680'); seek(1770.0)">
              for users when they send an EVM transaction
            </span>
            
            <span id="chunk-464" class="transcript-chunks" onclick="console.log('00:29:34,398'); seek(1774.0)">
              to Aurora. And so you can see we've composed together all these
            </span>
            
            <span id="chunk-465" class="transcript-chunks" onclick="console.log('00:29:38,012'); seek(1778.0)">
              different kinds of effects. We've got the I O for storage access,
            </span>
            
            <span id="chunk-466" class="transcript-chunks" onclick="console.log('00:29:41,868'); seek(1781.0)">
              the environment variables that are present, and the possibility
            </span>
            
            <span id="chunk-467" class="transcript-chunks" onclick="console.log('00:29:45,874'); seek(1785.0)">
              of calling other near contracts.
            </span>
            
            <span id="chunk-468" class="transcript-chunks" onclick="console.log('00:29:48,918'); seek(1788.0)">
              Now if I left the implementation off, because again
            </span>
            
            <span id="chunk-469" class="transcript-chunks" onclick="console.log('00:29:52,272'); seek(1792.0)">
              the details aren't really what's important here, but the
            </span>
            
            <span id="chunk-470" class="transcript-chunks" onclick="console.log('00:29:55,568'); seek(1795.0)">
              point is that this is a relatively large,
            </span>
            
            <span id="chunk-471" class="transcript-chunks" onclick="console.log('00:29:58,064'); seek(1798.0)">
              relatively complicated function with multiple lines of code, and having
            </span>
            
            <span id="chunk-472" class="transcript-chunks" onclick="console.log('00:30:02,100'); seek(1802.0)">
              to duplicate it between both the indexer
            </span>
            
            <span id="chunk-473" class="transcript-chunks" onclick="console.log('00:30:06,042'); seek(1806.0)">
              and the smart contract would have been too big of
            </span>
            
            <span id="chunk-474" class="transcript-chunks" onclick="console.log('00:30:09,668'); seek(1809.0)">
              a maintenance burden and wouldn't have made sense. But because
            </span>
            
            <span id="chunk-475" class="transcript-chunks" onclick="console.log('00:30:13,416'); seek(1813.0)">
              we can write this abstract code that is reusable for both,
            </span>
            
            <span id="chunk-476" class="transcript-chunks" onclick="console.log('00:30:16,776'); seek(1816.0)">
              it enables us to have this indexer as
            </span>
            
            <span id="chunk-477" class="transcript-chunks" onclick="console.log('00:30:20,904'); seek(1820.0)">
              RPC. So as a final
            </span>
            
            <span id="chunk-478" class="transcript-chunks" onclick="console.log('00:30:24,360'); seek(1824.0)">
              point here, this is what the actual RPC
            </span>
            
            <span id="chunk-479" class="transcript-chunks" onclick="console.log('00:30:28,146'); seek(1828.0)">
              code looks like, or part of it anyways.
            </span>
            
            <span id="chunk-480" class="transcript-chunks" onclick="console.log('00:30:31,042'); seek(1831.0)">
              So there's a particular RPC method for Ethereum RPCs called
            </span>
            
            <span id="chunk-481" class="transcript-chunks" onclick="console.log('00:30:34,972'); seek(1834.0)">
              ETh underscore estimate gas. This is one of those transaction
            </span>
            
            <span id="chunk-482" class="transcript-chunks" onclick="console.log('00:30:38,434'); seek(1838.0)">
              simulation RPC methods that I've been referring to.
            </span>
            
            <span id="chunk-483" class="transcript-chunks" onclick="console.log('00:30:42,110'); seek(1842.0)">
              And this is sort of, it's only
            </span>
            
            <span id="chunk-484" class="transcript-chunks" onclick="console.log('00:30:45,872'); seek(1845.0)">
              a snippet, it's not the full implementation, but this is sort of the main points
            </span>
            
            <span id="chunk-485" class="transcript-chunks" onclick="console.log('00:30:50,612'); seek(1850.0)">
              of what's going on. We have to set up the
            </span>
            
            <span id="chunk-486" class="transcript-chunks" onclick="console.log('00:30:54,530'); seek(1854.0)">
              structs that implement the traits that we've set out,
            </span>
            
            <span id="chunk-487" class="transcript-chunks" onclick="console.log('00:30:58,452'); seek(1858.0)">
              right. So this is the environment
            </span>
            
            <span id="chunk-488" class="transcript-chunks" onclick="console.log('00:31:01,978'); seek(1861.0)">
              variables. You can see we're setting default values because it's
            </span>
            
            <span id="chunk-489" class="transcript-chunks" onclick="console.log('00:31:06,462'); seek(1866.0)">
              just fixed. In this case it's just a simulation. And then
            </span>
            
            <span id="chunk-490" class="transcript-chunks" onclick="console.log('00:31:10,408'); seek(1870.0)">
              we also have the engine access struct
            </span>
            
            <span id="chunk-491" class="transcript-chunks" onclick="console.log('00:31:14,366'); seek(1874.0)">
              that we saw on an earlier slide, and we're accessing it at a particular
            </span>
            
            <span id="chunk-492" class="transcript-chunks" onclick="console.log('00:31:18,060'); seek(1878.0)">
              block height and transaction position because again the user can specify
            </span>
            
            <span id="chunk-493" class="transcript-chunks" onclick="console.log('00:31:21,906'); seek(1881.0)">
              those things in their request. And the actual implementation
            </span>
            
            <span id="chunk-494" class="transcript-chunks" onclick="console.log('00:31:26,082'); seek(1886.0)">
              of this, which I've left off the slide because again the details
            </span>
            
            <span id="chunk-495" class="transcript-chunks" onclick="console.log('00:31:29,298'); seek(1889.0)">
              aren't important is a closure
            </span>
            
            <span id="chunk-496" class="transcript-chunks" onclick="console.log('00:31:33,126'); seek(1893.0)">
              that accepts this I O object. So now it's got access to the MV object
            </span>
            
            <span id="chunk-497" class="transcript-chunks" onclick="console.log('00:31:36,752'); seek(1896.0)">
              and the I O object, and it can call methods like submit. And again,
            </span>
            
            <span id="chunk-498" class="transcript-chunks" onclick="console.log('00:31:40,756'); seek(1900.0)">
              the point is that it's not duplicating any
            </span>
            
            <span id="chunk-499" class="transcript-chunks" onclick="console.log('00:31:44,388'); seek(1904.0)">
              of that complicated logic that exists in
            </span>
            
            <span id="chunk-500" class="transcript-chunks" onclick="console.log('00:31:47,732'); seek(1907.0)">
              sort of our functional programming generic core.
            </span>
            
            <span id="chunk-501" class="transcript-chunks" onclick="console.log('00:31:51,354'); seek(1911.0)">
              It just calls the method submit and then does something with the result.
            </span>
            
            <span id="chunk-502" class="transcript-chunks" onclick="console.log('00:31:57,030'); seek(1917.0)">
              So in conclusion,
            </span>
            
            <span id="chunk-503" class="transcript-chunks" onclick="console.log('00:32:00,390'); seek(1920.0)">
              at the highest level, the thing that
            </span>
            
            <span id="chunk-504" class="transcript-chunks" onclick="console.log('00:32:03,768'); seek(1923.0)">
              I want you to take away from this talk is that you can write your
            </span>
            
            <span id="chunk-505" class="transcript-chunks" onclick="console.log('00:32:06,588'); seek(1926.0)">
              business logic in a way that uses pure
            </span>
            
            <span id="chunk-506" class="transcript-chunks" onclick="console.log('00:32:10,578'); seek(1930.0)">
              reusable code by abstracting away platform specific
            </span>
            
            <span id="chunk-507" class="transcript-chunks" onclick="console.log('00:32:14,140'); seek(1934.0)">
              effects. And as a nice side effect, this code is
            </span>
            
            <span id="chunk-508" class="transcript-chunks" onclick="console.log('00:32:17,388'); seek(1937.0)">
              actually easier to test and to maintain.
            </span>
            
            <span id="chunk-509" class="transcript-chunks" onclick="console.log('00:32:20,670'); seek(1940.0)">
              In this particular talk, we were using Rust as our programming
            </span>
            
            <span id="chunk-510" class="transcript-chunks" onclick="console.log('00:32:24,278'); seek(1944.0)">
              language of choice, and Rust can accomplish this using traits
            </span>
            
            <span id="chunk-511" class="transcript-chunks" onclick="console.log('00:32:28,054'); seek(1948.0)">
              and type generics along with a little bit of conditional compilation.
            </span>
            
            <span id="chunk-512" class="transcript-chunks" onclick="console.log('00:32:32,450'); seek(1952.0)">
              And for the specific example of this that we talked about today,
            </span>
            
            <span id="chunk-513" class="transcript-chunks" onclick="console.log('00:32:36,500'); seek(1956.0)">
              it was in the blockchain context where Aurora has
            </span>
            
            <span id="chunk-514" class="transcript-chunks" onclick="console.log('00:32:40,244'); seek(1960.0)">
              the EVM smart contracts that is able to also be
            </span>
            
            <span id="chunk-515" class="transcript-chunks" onclick="console.log('00:32:43,592'); seek(1963.0)">
              an indexer and share a code base, and this enables
            </span>
            
            <span id="chunk-516" class="transcript-chunks" onclick="console.log('00:32:47,038'); seek(1967.0)">
              their low latency RPC
            </span>
            
            <span id="chunk-517" class="transcript-chunks" onclick="console.log('00:32:50,382'); seek(1970.0)">
              for Ethereum compatibility. But as I mentioned before,
            </span>
            
            <span id="chunk-518" class="transcript-chunks" onclick="console.log('00:32:54,328'); seek(1974.0)">
              there are other possible applications for this. For example, using the same
            </span>
            
            <span id="chunk-519" class="transcript-chunks" onclick="console.log('00:32:57,752'); seek(1977.0)">
              code in web and mobile applications, I'm sure you can come up with
            </span>
            
            <span id="chunk-520" class="transcript-chunks" onclick="console.log('00:33:01,612'); seek(1981.0)">
              other examples based on your own fields of interest.
            </span>
            
            <span id="chunk-521" class="transcript-chunks" onclick="console.log('00:33:05,004'); seek(1985.0)">
              Maybe you're working in embedded devices and you want to share a code base between
            </span>
            
            <span id="chunk-522" class="transcript-chunks" onclick="console.log('00:33:08,800'); seek(1988.0)">
              the embedded version and say, the simulated
            </span>
            
            <span id="chunk-523" class="transcript-chunks" onclick="console.log('00:33:12,070'); seek(1992.0)">
              version of your hardware, et cetera.
            </span>
            
            <span id="chunk-524" class="transcript-chunks" onclick="console.log('00:33:15,390'); seek(1995.0)">
              Again, the main point is functional programming patterns
            </span>
            
            <span id="chunk-525" class="transcript-chunks" onclick="console.log('00:33:19,510'); seek(1999.0)">
              enable you to reuse code in a way you may not be able
            </span>
            
            <span id="chunk-526" class="transcript-chunks" onclick="console.log('00:33:22,788'); seek(2002.0)">
              to otherwise. Thank you all
            </span>
            
            <span id="chunk-527" class="transcript-chunks" onclick="console.log('00:33:26,308'); seek(2006.0)">
              for your attention. Got some links up on the slide here. If you
            </span>
            
            <span id="chunk-528" class="transcript-chunks" onclick="console.log('00:33:29,828'); seek(2009.0)">
              want to read more about near or Aurora. If you want to learn more about
            </span>
            
            <span id="chunk-529" class="transcript-chunks" onclick="console.log('00:33:33,636'); seek(2013.0)">
              me, you can get in touch with me directly on Telegram at BirchMD.
            </span>
            
            <span id="chunk-530" class="transcript-chunks" onclick="console.log('00:33:37,834'); seek(2017.0)">
              Or if you want to take a look at other code that I've worked on,
            </span>
            
            <span id="chunk-531" class="transcript-chunks" onclick="console.log('00:33:40,788'); seek(2020.0)">
              you can check out my GitHub under that same username. And I also have
            </span>
            
            <span id="chunk-532" class="transcript-chunks" onclick="console.log('00:33:44,516'); seek(2024.0)">
              a blog that I occasionally write to on my website,
            </span>
            
            <span id="chunk-533" class="transcript-chunks" onclick="console.log('00:33:48,060'); seek(2028.0)">
              Typedriven CA, and I write about mostly rust and
            </span>
            
            <span id="chunk-534" class="transcript-chunks" onclick="console.log('00:33:51,468'); seek(2031.0)">
              mirror, but some other stuff occasionally as well.
            </span>
            
            <span id="chunk-535" class="transcript-chunks" onclick="console.log('00:33:54,490'); seek(2034.0)">
              Thank you for your time. See you later.
            </span>
            
            </div>
          </div>
          

          
          <div class="col-12 mb-5">
            <h3>
              Slides
            </h3>
            <iframe src="https://conf42.github.io/static/slides/Conf42%20Rustlang%202023%20-%20Michael%20Birch.pdf" width="100%" height="500px"></iframe>
            <a href="https://conf42.github.io/static/slides/Conf42%20Rustlang%202023%20-%20Michael%20Birch.pdf" class="btn btn-xs btn-info shadow lift" style="background-color: #C79716;" target="_blank">
              <i class="fe fe-paperclip me-2"></i>
              Download slides (PDF)
            </a>
          </div>
          

          <div class="col-12 mb-2 text-center">
            <div class="text-center mb-5">
              <a href="https://www.conf42.com/rustlang2023" class="btn btn-sm btn-danger shadow lift" style="background-color: #C79716;">
                <i class="fe fe-grid me-2"></i>
                See all 14 talks at this event!
              </a>
            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- PHOTO -->
    <section class="pt-8 pb-6">
      <div class="container">

        <div class="row align-items-center">
          <div class="col-12 col-md-6 col-lg-7">

            <div class="mb-8 mb-md-0">

              <!-- Image -->
              <img src="https://conf42.github.io/static/headshots/Michael%20Birch_rustlang.png" alt="..." class="screenshot img-fluid mw-md-110 float-end me-md-6 mb-6 mb-md-0">

            </div>

          </div>
          <div class="col-12 col-md-6 col-lg-5">

            <!-- List -->
            <div class="d-flex">

              <!-- Body -->
              <div class="ms-5">

                <!-- Author 1 -->
                <h2 class="me-2">
                  Michael Birch
                </h2>
                <h3 class="me-2">
                  <span class="text-muted">
                    Senior Software Engineer @ Aurora Labs
                  </span>
                </h3>

                <p class="text-uppercase text-muted me-2 mb-3">
                  
                  <a href="https://www.linkedin.com/in/michael-birch-ab76a958/" target="_blank" class="mr-3">
                    <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Michael Birch's LinkedIn account" />
                  </a>
                  
                  
                </p>
                

                <br />

                <a
                  href="https://twitter.com/share?ref_src=twsrc%5Etfw"
                  class="twitter-share-button"

                  data-text="Check out this talk by Michael Birch"
                  data-url="https://www.conf42.com/rustlang2023"
                  data-via="conf42com"
                  data-related=""
                  data-show-count="false"
                >
                  Tweet
                </a>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

                <br />

                <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
                <script type="IN/Share" data-url="https://www.conf42.com/rustlang2023"></script>
              </div>

            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>





  <script>
    function gtag_report_conversion(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.location = url;
        }
      };
      gtag('event', 'conversion', {
          'send_to': 'AW-882275635/jLVTCPbt1N8CELPq2aQD',
          'event_callback': callback
      });
      return false;
    }
    </script>
    <!-- SUBSCRIBE -->
    <section class="pt-8 pt-md-11 bg-gradient-light-white" id="register">
        <div class="container">
          <div class="row align-items-center justify-content-between mb-8 mb-md-11">
            <div class="col-12 col-md-6 order-md-2" data-aos="fade-left">
  
              <!-- Heading -->
              <h2>
                Awesome tech events for <br>
                <span class="text-success"><span data-typed='{"strings": ["software engineers.", "tech leaders.", "SREs.", "DevOps.", "CTOs.",  "managers.", "architects.", "QAs.", "developers.", "coders.", "founders.", "CEOs.", "students.", "geeks.", "ethical hackers.", "educators.", "enthusiasts.", "directors.", "researchers.", "PHDs.", "evangelists.", "tech authors."]}'></span></span>
              </h2>
  
              <!-- Text -->
              <p class="fs-lg text-muted mb-6">
  
              </p>
  
              <!-- List -->
              <div class="row">
                <div class="col-12 col-lg-12">
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <!-- Text -->
                    <p class="text-success">
                      Priority access to all content
                    </p>
                  </div>
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Video hallway track
                    </p>
                  </div>

                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Community chat
                    </p>
                  </div>
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Exclusive promotions and giveaways
                    </p>
                  </div>
  
                </div>
              </div> <!-- / .row -->
  
            </div>
            <div class="col-12 col-md-6 col-lg-5 order-md-1">
  
              <!-- Card -->
              <div class="card shadow-light-lg">
  
                <!-- Body -->
                <div class="card-body">
  
                  <!-- Form -->
                  <link rel="stylesheet" href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css">
                  <p class="emailoctopus-success-message text-success"></p>
                  <p class="emailoctopus-error-message text-danger"></p>
                  <form
                    action="https://emailoctopus.com/lists/a3ba0cb5-7524-11eb-a3d0-06b4694bee2a/members/embedded/1.3/add"
                    method="post"
                    data-message-success="Thanks! Check your email for further directions!"
                    data-message-missing-email-address="Your email address is required."
                    data-message-invalid-email-address="Your email address looks incorrect, please try again."
                    data-message-bot-submission-error="This doesn't look like a human submission."
                    data-message-consent-required="Please check the checkbox to indicate your consent."
                    data-message-invalid-parameters-error="This form has missing or invalid fields."
                    data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
                    class="emailoctopus-form"
                    data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
                  >
                    <div class="form-floating emailoctopus-form-row">
                      <input type="email" class="form-control form-control-flush" name="field_0" id="field_0" placeholder="Email" required>
                      <label for="field_0">Email address</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_1" id="field_1" placeholder="First Name" required>
                      <label for="field_1">First Name</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_2" id="field_2" placeholder="Last Name" required>
                      <label for="field_2">Last Name</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_4" id="field_4" placeholder="Company" required>
                      <label for="field_4">Company</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_5" id="field_5" placeholder="Job Title" required>
                      <label for="field_5">Job Title</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_3" id="field_3" placeholder="Phone">
                      <label for="field_3">Phone Number</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <select type="text" class="form-control form-control-flush" name="field_7" id="country-source" required
                        oninput="updateCountry()"
                      >
                        <!-- Country names and Country Name -->
    <option value="">Please select your country</option>
    <option value="Afghanistan">Afghanistan</option>
    <option value="Aland Islands">Aland Islands</option>
    <option value="Albania">Albania</option>
    <option value="Algeria">Algeria</option>
    <option value="American Samoa">American Samoa</option>
    <option value="Andorra">Andorra</option>
    <option value="Angola">Angola</option>
    <option value="Anguilla">Anguilla</option>
    <option value="Antarctica">Antarctica</option>
    <option value="Antigua and Barbuda">Antigua and Barbuda</option>
    <option value="Argentina">Argentina</option>
    <option value="Armenia">Armenia</option>
    <option value="Aruba">Aruba</option>
    <option value="Australia">Australia</option>
    <option value="Austria">Austria</option>
    <option value="Azerbaijan">Azerbaijan</option>
    <option value="Bahamas">Bahamas</option>
    <option value="Bahrain">Bahrain</option>
    <option value="Bangladesh">Bangladesh</option>
    <option value="Barbados">Barbados</option>
    <option value="Belarus">Belarus</option>
    <option value="Belgium">Belgium</option>
    <option value="Belize">Belize</option>
    <option value="Benin">Benin</option>
    <option value="Bermuda">Bermuda</option>
    <option value="Bhutan">Bhutan</option>
    <option value="Bolivia">Bolivia</option>
    <option value="Bonaire, Sint Eustatius and Saba">Bonaire, Sint Eustatius and Saba</option>
    <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
    <option value="Botswana">Botswana</option>
    <option value="Bouvet Island">Bouvet Island</option>
    <option value="Brazil">Brazil</option>
    <option value="British Indian Ocean Territory">British Indian Ocean Territory</option>
    <option value="Brunei Darussalam">Brunei Darussalam</option>
    <option value="Bulgaria">Bulgaria</option>
    <option value="Burkina Faso">Burkina Faso</option>
    <option value="Burundi">Burundi</option>
    <option value="Cambodia">Cambodia</option>
    <option value="Cameroon">Cameroon</option>
    <option value="Canada">Canada</option>
    <option value="Cape Verde">Cape Verde</option>
    <option value="Cayman Islands">Cayman Islands</option>
    <option value="Central African Republic">Central African Republic</option>
    <option value="Chad">Chad</option>
    <option value="Chile">Chile</option>
    <option value="China">China</option>
    <option value="Christmas Island">Christmas Island</option>
    <option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
    <option value="Colombia">Colombia</option>
    <option value="Comoros">Comoros</option>
    <option value="Congo">Congo</option>
    <option value="Congo, Democratic Republic of the Congo">Congo, Democratic Republic of the Congo</option>
    <option value="Cook Islands">Cook Islands</option>
    <option value="Costa Rica">Costa Rica</option>
    <option value="Cote D'Ivoire">Cote D'Ivoire</option>
    <option value="Croatia">Croatia</option>
    <option value="Cuba">Cuba</option>
    <option value="Curacao">Curacao</option>
    <option value="Cyprus">Cyprus</option>
    <option value="Czech Republic">Czech Republic</option>
    <option value="Denmark">Denmark</option>
    <option value="Djibouti">Djibouti</option>
    <option value="Dominica">Dominica</option>
    <option value="Dominican Republic">Dominican Republic</option>
    <option value="Ecuador">Ecuador</option>
    <option value="Egypt">Egypt</option>
    <option value="El Salvador">El Salvador</option>
    <option value="Equatorial Guinea">Equatorial Guinea</option>
    <option value="Eritrea">Eritrea</option>
    <option value="Estonia">Estonia</option>
    <option value="Ethiopia">Ethiopia</option>
    <option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
    <option value="Faroe Islands">Faroe Islands</option>
    <option value="Fiji">Fiji</option>
    <option value="Finland">Finland</option>
    <option value="France">France</option>
    <option value="French Guiana">French Guiana</option>
    <option value="French Polynesia">French Polynesia</option>
    <option value="French Southern Territories">French Southern Territories</option>
    <option value="Gabon">Gabon</option>
    <option value="Gambia">Gambia</option>
    <option value="Georgia">Georgia</option>
    <option value="Germany">Germany</option>
    <option value="Ghana">Ghana</option>
    <option value="Gibraltar">Gibraltar</option>
    <option value="Greece">Greece</option>
    <option value="Greenland">Greenland</option>
    <option value="Grenada">Grenada</option>
    <option value="Guadeloupe">Guadeloupe</option>
    <option value="Guam">Guam</option>
    <option value="Guatemala">Guatemala</option>
    <option value="Guernsey">Guernsey</option>
    <option value="Guinea">Guinea</option>
    <option value="Guinea-Bissau">Guinea-Bissau</option>
    <option value="Guyana">Guyana</option>
    <option value="Haiti">Haiti</option>
    <option value="Heard Island and Mcdonald Islands">Heard Island and Mcdonald Islands</option>
    <option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
    <option value="Honduras">Honduras</option>
    <option value="Hong Kong">Hong Kong</option>
    <option value="Hungary">Hungary</option>
    <option value="Iceland">Iceland</option>
    <option value="India">India</option>
    <option value="Indonesia">Indonesia</option>
    <option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
    <option value="Iraq">Iraq</option>
    <option value="Ireland">Ireland</option>
    <option value="Isle of Man">Isle of Man</option>
    <option value="Israel">Israel</option>
    <option value="Italy">Italy</option>
    <option value="Jamaica">Jamaica</option>
    <option value="Japan">Japan</option>
    <option value="Jersey">Jersey</option>
    <option value="Jordan">Jordan</option>
    <option value="Kazakhstan">Kazakhstan</option>
    <option value="Kenya">Kenya</option>
    <option value="Kiribati">Kiribati</option>
    <option value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
    <option value="Korea, Republic of">Korea, Republic of</option>
    <option value="Kosovo">Kosovo</option>
    <option value="Kuwait">Kuwait</option>
    <option value="Kyrgyzstan">Kyrgyzstan</option>
    <option value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
    <option value="Latvia">Latvia</option>
    <option value="Lebanon">Lebanon</option>
    <option value="Lesotho">Lesotho</option>
    <option value="Liberia">Liberia</option>
    <option value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option>
    <option value="Liechtenstein">Liechtenstein</option>
    <option value="Lithuania">Lithuania</option>
    <option value="Luxembourg">Luxembourg</option>
    <option value="Macao">Macao</option>
    <option value="Macedonia, the Former Yugoslav Republic of">Macedonia, the Former Yugoslav Republic of</option>
    <option value="Madagascar">Madagascar</option>
    <option value="Malawi">Malawi</option>
    <option value="Malaysia">Malaysia</option>
    <option value="Maldives">Maldives</option>
    <option value="Mali">Mali</option>
    <option value="Malta">Malta</option>
    <option value="Marshall Islands">Marshall Islands</option>
    <option value="Martinique">Martinique</option>
    <option value="Mauritania">Mauritania</option>
    <option value="Mauritius">Mauritius</option>
    <option value="Mayotte">Mayotte</option>
    <option value="Mexico">Mexico</option>
    <option value="Micronesia, Federated States of">Micronesia, Federated States of</option>
    <option value="Moldova, Republic of">Moldova, Republic of</option>
    <option value="Monaco">Monaco</option>
    <option value="Mongolia">Mongolia</option>
    <option value="Montenegro">Montenegro</option>
    <option value="Montserrat">Montserrat</option>
    <option value="Morocco">Morocco</option>
    <option value="Mozambique">Mozambique</option>
    <option value="Myanmar">Myanmar</option>
    <option value="Namibia">Namibia</option>
    <option value="Nauru">Nauru</option>
    <option value="Nepal">Nepal</option>
    <option value="Netherlands">Netherlands</option>
    <option value="Netherlands Antilles">Netherlands Antilles</option>
    <option value="New Caledonia">New Caledonia</option>
    <option value="New Zealand">New Zealand</option>
    <option value="Nicaragua">Nicaragua</option>
    <option value="Niger">Niger</option>
    <option value="Nigeria">Nigeria</option>
    <option value="Niue">Niue</option>
    <option value="Norfolk Island">Norfolk Island</option>
    <option value="Northern Mariana Islands">Northern Mariana Islands</option>
    <option value="Norway">Norway</option>
    <option value="Oman">Oman</option>
    <option value="Pakistan">Pakistan</option>
    <option value="Palau">Palau</option>
    <option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option>
    <option value="Panama">Panama</option>
    <option value="Papua New Guinea">Papua New Guinea</option>
    <option value="Paraguay">Paraguay</option>
    <option value="Peru">Peru</option>
    <option value="Philippines">Philippines</option>
    <option value="Pitcairn">Pitcairn</option>
    <option value="Poland">Poland</option>
    <option value="Portugal">Portugal</option>
    <option value="Puerto Rico">Puerto Rico</option>
    <option value="Qatar">Qatar</option>
    <option value="Reunion">Reunion</option>
    <option value="Romania">Romania</option>
    <option value="Russian Federation">Russian Federation</option>
    <option value="Rwanda">Rwanda</option>
    <option value="Saint Barthelemy">Saint Barthelemy</option>
    <option value="Saint Helena">Saint Helena</option>
    <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
    <option value="Saint Lucia">Saint Lucia</option>
    <option value="Saint Martin">Saint Martin</option>
    <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
    <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
    <option value="Samoa">Samoa</option>
    <option value="San Marino">San Marino</option>
    <option value="Sao Tome and Principe">Sao Tome and Principe</option>
    <option value="Saudi Arabia">Saudi Arabia</option>
    <option value="Senegal">Senegal</option>
    <option value="Serbia">Serbia</option>
    <option value="Serbia and Montenegro">Serbia and Montenegro</option>
    <option value="Seychelles">Seychelles</option>
    <option value="Sierra Leone">Sierra Leone</option>
    <option value="Singapore">Singapore</option>
    <option value="Sint Maarten">Sint Maarten</option>
    <option value="Slovakia">Slovakia</option>
    <option value="Slovenia">Slovenia</option>
    <option value="Solomon Islands">Solomon Islands</option>
    <option value="Somalia">Somalia</option>
    <option value="South Africa">South Africa</option>
    <option value="South Georgia and the South Sandwich Islands">South Georgia and the South Sandwich Islands</option>
    <option value="South Sudan">South Sudan</option>
    <option value="Spain">Spain</option>
    <option value="Sri Lanka">Sri Lanka</option>
    <option value="Sudan">Sudan</option>
    <option value="Suriname">Suriname</option>
    <option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
    <option value="Swaziland">Swaziland</option>
    <option value="Sweden">Sweden</option>
    <option value="Switzerland">Switzerland</option>
    <option value="Syrian Arab Republic">Syrian Arab Republic</option>
    <option value="Taiwan, Province of China">Taiwan, Province of China</option>
    <option value="Tajikistan">Tajikistan</option>
    <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
    <option value="Thailand">Thailand</option>
    <option value="Timor-Leste">Timor-Leste</option>
    <option value="Togo">Togo</option>
    <option value="Tokelau">Tokelau</option>
    <option value="Tonga">Tonga</option>
    <option value="Trinidad and Tobago">Trinidad and Tobago</option>
    <option value="Tunisia">Tunisia</option>
    <option value="Turkey">Turkey</option>
    <option value="Turkmenistan">Turkmenistan</option>
    <option value="Turks and Caicos Islands">Turks and Caicos Islands</option>
    <option value="Tuvalu">Tuvalu</option>
    <option value="Uganda">Uganda</option>
    <option value="Ukraine">Ukraine</option>
    <option value="United Arab Emirates">United Arab Emirates</option>
    <option value="United Kingdom">United Kingdom</option>
    <option value="United States">United States</option>
    <option value="United States Minor Outlying Islands">United States Minor Outlying Islands</option>
    <option value="Uruguay">Uruguay</option>
    <option value="Uzbekistan">Uzbekistan</option>
    <option value="Vanuatu">Vanuatu</option>
    <option value="Venezuela">Venezuela</option>
    <option value="Viet Nam">Viet Nam</option>
    <option value="Virgin Islands, British">Virgin Islands, British</option>
    <option value="Virgin Islands, U.s.">Virgin Islands, U.s.</option>
    <option value="Wallis and Futuna">Wallis and Futuna</option>
    <option value="Western Sahara">Western Sahara</option>
    <option value="Yemen">Yemen</option>
    <option value="Zambia">Zambia</option>
    <option value="Zimbabwe">Zimbabwe</option>
                      </select>
                      <label for="field_7">Country</label>
                    </div>
                    <input id="country-destination" name="field_7" type="hidden">
                    <input id="tz-country" name="field_8" type="hidden">
                    
                    <input
                      name="field_6"
                      type="hidden"
                      value="Rustlang"
                    >
                    
                    <div class="emailoctopus-form-row-consent">
                      <input
                        type="checkbox"
                        id="consent"
                        name="consent"
                      >
                      <label for="consent">
                        I consent to the following terms:
                      </label>
                      <a href="https://www.conf42.com/terms-and-conditions.pdf" target="_blank">
                        Terms and Conditions
                      </a>
                      &amp;
                      <a href="./code-of-conduct" target="_blank">
                        Code of Conduct
                      </a>
                    </div>
                    <div
                      aria-hidden="true"
                      class="emailoctopus-form-row-hp"
                    >
                      <input
                        type="text"
                        name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
                        tabindex="-1"
                        autocomplete="nope"
                      >
                    </div>
                    <div class="mt-6 emailoctopus-form-row-subscribe">
                      <input
                        type="hidden"
                        name="successRedirectUrl"
                      >
                      <button class="btn w-100 btn-success lift" type="submit" onclick="gtag_report_conversion(); rdt('track', 'SignUp');">
                        Subscribe
                      </button>
                    </div>
                  </form>
  
                </div>
  
              </div>
  
            </div>
  
          </div> <!-- / .row -->
        </div> <!-- / .container -->
      </section>

      <!-- <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js"></script> -->
      <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js"></script>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-dark">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- FOOTER -->
    <footer class="py-8 py-md-11 bg-dark">
      <div class="container">
        <div class="row">

          <div class="col-12 col-md-4 col-lg-3">
            <!-- Brand -->
            <img src="./assets/conf42/conf42_logo_white_small.png" alt="..." class="footer-brand img-fluid mb-2">
    
            <!-- Text -->
            <p class="text-gray-700 mb-2">
              Online tech events
            </p>
    
            <!-- Social -->
            <ul class="list-unstyled list-inline list-social mb-5">
              <li class="list-inline-item list-social-item me-3">
                <a href="https://www.linkedin.com/company/49110720/" class="text-decoration-none">
                  <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="...">
                </a>
              </li>
              <li class="list-inline-item list-social-item me-3">
                <a href="https://twitter.com/conf42com" class="text-decoration-none">
                  <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="...">
                </a>
              </li>
            </ul>

            <!-- QR Code -->
            <img src="./assets/conf42/CONF42.QR.png" style="width: 100px;" class="mb-5 img-fluid" />
          </div>


          <div class="col-12 col-md-4 col-lg-3">
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2025
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2025">
                  DevOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2025">
                  Chaos Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2025">
                  Python 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2025">
                  Cloud Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2025">
                  Large Language Models (LLMs) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2025">
                  Golang 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2025">
                  Site Reliability Engineering (SRE) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2025">
                  Machine Learning 2025
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2024
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2024">
                  DevOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2024">
                  Chaos Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2024">
                  Python 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2024">
                  Cloud Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2024">
                  Large Language Models (LLMs) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2024">
                  Golang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2024">
                  Site Reliability Engineering (SRE) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2024">
                  Machine Learning 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2024">
                  Observability 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2024">
                  Quantum Computing 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2024">
                  Rustlang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2024">
                  Platform Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2024">
                  Kube Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2024">
                  Incident Management 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2024">
                  JavaScript 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2024">
                  Prompt Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://sreday.com/2024-amsterdam/">
                  SREday Amsterdam 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2024">
                  DevSecOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2024">
                  Internet of Things (IoT) 2024
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2023
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2023">
                  DevOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2023">
                  Chaos Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2023">
                  Python 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2023">
                  Cloud Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2023">
                  Golang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2023">
                  Site Reliability Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2023">
                  Machine Learning 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2023">
                  Observability 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2023">
                  Quantum Computing 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2023">
                  Rustlang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2023">
                  Platform Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2023">
                  Kube Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2023">
                  Incident Management 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2023">
                  JavaScript 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2023">
                  DevSecOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2023">
                  Internet of Things (IoT) 2023
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2022
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2022">
                  Python 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mobile2022">
                  Mobile 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2022">
                  Chaos Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2022">
                  Golang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2022">
                  Cloud Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2022">
                  Machine Learning 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2022">
                  Site Reliability Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2022">
                  Quantum Computing 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2022">
                  Rustlang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2022">
                  Incident Management 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2022">
                  Kube Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2022">
                  JavaScript 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2022">
                  DevSecOps 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/web2022">
                  Web 3.0 2022
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2021
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2021">
                  Chaos Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/enterprise2021">
                  Enterprise Software 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2021">
                  Cloud Native 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2021">
                  Python 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2021">
                  Golang 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2021">
                  Machine Learning 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2021">
                  Site Reliability Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2021">
                  JavaScript 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2021">
                  DevSecOps 2021
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2020
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2020">
                  Chaos Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/oss2020">
                  Open Source Showcase 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2020">
                  Site Reliability Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2020">
                  JavaScript 2020
                </a>
              </li>
            
            </ul>
          
          </div>

          
          <div class="col-12 col-md-4 offset-md-4 col-lg-3 offset-lg-0">

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Community
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./support" class="text-reset">
                  Support us
                </a>
              </li>
              <li class="mb-3">
                <a href="./speakers" class="text-reset">
                  Speakers
                </a>
              </li>
              <li class="mb-3">
                <a href="./hall-of-fame" class="text-reset">
                  Hall of fame
                </a>
              </li>
              <li class="mb-3">
                <a href="https://discord.gg/DnyHgrC7jC" class="text-reset" target="_blank">
                  Discord
                </a>
              </li>
              <li class="mb-3">
                <a href="./about" class="text-reset">
                  About the team
                </a>
              </li>
            </ul>

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Sponsors
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./sponsor" class="text-reset" target="_blank">
                  Sponsorship
                </a>
              </li>
              <li class="mb-3">
                <a href="mailto:mark@conf42.com?subject=We would like to sponsor" class="text-reset" target="_blank">
                  Request the Prospectus
                </a>
              </li>
              <li class="mb-3">
                <a href="https://drive.google.com/drive/folders/1tT2lspLQgj3sdfxG9FwDVkBUt-TYSPGe?usp=sharing" class="text-reset" target="_blank">
                  Media kit
                </a>
              </li>
            </ul>
    
          </div>


          <div class="col-12 col-md-4 col-lg-3">
    
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Legal
            </h6>
    
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./code-of-conduct" class="text-reset">
                  Code of Conduct
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/terms-and-conditions.pdf" class="text-reset" target="_blank">
                  Terms and Conditions
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/privacy-policy.pdf" class="text-reset" target="_blank">
                  Privacy policy
                </a>
              </li>
            </ul>
          </div>


        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </footer>

    <!-- JAVASCRIPT -->
    <!-- Map JS -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    
    <!-- Vendor JS -->
    <script src="./assets/js/vendor.bundle.js"></script>
    
    <!-- Theme JS -->
    <script src="./assets/js/theme.bundle.js"></script>

    <!-- Various JS -->
    <script src="./assets/js/various.js"></script>

    <script src='https://cdn.jsdelivr.net/npm/@widgetbot/crate@3' async defer>
      new Crate({
          notifications: true,
          indicator: true,
          server: '814240231606714368', // Conf42.com
          channel: '814240231788249115' // #community
      })
    </script>
  </body>
</html>