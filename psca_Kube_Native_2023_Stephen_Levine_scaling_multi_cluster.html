<!doctype html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-77190356-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-77190356-3');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css" />
    <link rel="stylesheet" href="./assets/css/libs.bundle.css" />
    <link rel="stylesheet" href="./assets/css/theme.bundle.css" />
    <link rel="stylesheet" href="./assets/css/various.css" />

    <title>Conf42: Scaling Multi-cluster Kubernetes at Teleport Cloud</title>
    <meta name="description" content="Explore the amazing world of K8s!">

    
    <meta name="image" property="og:image" content="https://www.conf42.com/assets/headshots/https://conf42.github.io/static/headshots/Stephen%20Levine_kube.png">
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Scaling Multi-cluster Kubernetes at Teleport Cloud | Conf42"/>
    <meta property="og:description" content="Resilient multi-cluster Kubernetes architecture is challenging to nail down, especially for applications that require complex and coordinated deployment strategies.  At Teleport Cloud, we manage dedicated instances of Teleport using Kubernetes clusters (EKS) in six regions that maintain more than 100k reverse tunnels.  This talk covers our strategy for configuration management, multi-cluster coordination, and zero-downtime deployment with ultra-long-lived TCP connections on Kubernetes."/>
    <meta property="og:url" content="https://conf42.com/Kube_Native_2023_Stephen_Levine_scaling_multi_cluster"/>
    

    <link rel="shortcut icon" href="./assets/favicon/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="./assets/favicon/site.webmanifest">

    

  <!-- Reddit Pixel -->
  <script>
  !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt('init','a2_e019g7ndfhrm', {"optOut":false,"useDecimalCurrencyValues":true,"aaid":"<AAID-HERE>"});rdt('track', 'PageVisit');
  </script>
  <!-- DO NOT MODIFY UNLESS TO REPLACE A USER IDENTIFIER -->
  <!-- End Reddit Pixel -->

  </head>
  <body>

    <!-- NAVBAR -->
    
    <!-- <nav class="navbar navbar-expand-lg navbar-light bg-light"> -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    
      <div class="container">
    
        <!-- Brand -->
        <a class="navbar-brand" href="./">
          <img src="./assets/conf42/conf42_logo_black_small.png" class="navbar-brand-img" alt="...">
        </a>
    
        <!-- Toggler -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    
        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="navbarCollapse">
    
          <!-- Toggler -->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fe fe-x"></i>
          </button>
    
          <!-- Navigation -->
          <ul class="navbar-nav ms-auto">

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Events
              </a>
              <div class="dropdown-menu dropdown-menu-xl p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-6">
                    <!-- <div class="dropdown-img-start" style="background-image: url(./assets/splash/DEVSECOPS2024_Event_Splash.png);"> -->
                    <div class="dropdown-img-start">
                      <!-- Heading -->
                      <h4 class="fw-bold text-white mb-0">
                        Featured event
                      </h4>
                      <!-- Text -->
                      <p class="fs-sm text-white">
                        DevSecOps 2024
                      </p>
                      <p class="fs-sm text-white">
                        Premiere 2024-12-05
                      </p>
                      <!-- Button -->
                      <a href="https://www.conf42.com/devsecops2024" class="btn btn-sm btn-white shadow-dark fonFt-size-sm">
                        Learn more
                      </a>
                    </div>
                  </div>
                  <div class="col-12 col-lg-6">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
    
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2025
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2025">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2025">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2025">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2025">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2025">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2025">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2025">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2025">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2025">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2025">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2025">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2025">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/mlops2025">
                            MLOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2025">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2025">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2025">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2025">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/robotics2025">
                            Robotics
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2025">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2025">
                            Internet of Things (IoT)
                          </a>
                          
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2024
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2024">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2024">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2024">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2024">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2024">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2024">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2024">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2024">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2024">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2024">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2024">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2024">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2024">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2024">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2024">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2024">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2024">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2024">
                            Internet of Things (IoT)
                          </a>
                          
                        

                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            Info
                          </h6>
                          <a class="dropdown-item" href="./code-of-conduct">
                            Code of Conduct
                          </a>
    
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Community
              </a>
              <div class="dropdown-menu dropdown-menu-l p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-3">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
                          <a class="dropdown-item" href="https://conf42.circle.so/">
                            <b>Community platform login</b>
                          </a>
                          <a class="dropdown-item" href="https://discord.gg/mvHyZzRGaQ" target="_blank">
                            Discord
                          </a>
                          <a class="dropdown-item" href="./hall-of-fame">
                            Hall of Fame
                          </a>
                          <a class="dropdown-item" href="./speakers">
                            Speakers
                          </a>
                          <a class="dropdown-item" href="https://www.papercall.io/events?cfps-scope=&keywords=conf42" target="_blank">
                            Become a speaker (CFPs)
                          </a>
                          <a class="dropdown-item" href="./testimonials">
                            Testimonials
                          </a>
                          <a class="dropdown-item" href="./about">
                            About the team
                          </a>
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./podcast">
                Podcast
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./blog">
                Blog
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./sponsor">
                Sponsor
              </a>
            </li>
          </ul>
    
          <!-- Button -->
          <a class="navbar-btn btn btn-sm btn-primary lift ms-auto" href="#register">
            Join the community!
          </a>
    
        </div>
    
      </div>
    </nav>



<style>
.text-selected {
  background-color: #42ba96!important;
  color: white;
}
</style>
	

    <!-- WELCOME -->
    <section class="py-5 py-md-10" style="background-color: #CA6B46;">

      <!-- Shape -->
      <div class="shape shape-blur-3 svg-shim text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>
      </div>

      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 text-center" data-aos="fade-up">

            <!-- Heading -->
            <h1 class="display-2 fw-bold text-white">
              Conf42 Kube Native 2023 - Online
            </h1>

            <h2 class="text-white">
              
              Content unlocked! Welcome to the community!
              
            </h2>

            <!-- Text -->
            <p class="lead mb-0 text-white-75">
              
              <!-- Explore the amazing world of K8s!
 -->
              <script>
                const event_date = new Date("2023-09-28T17:00:00.000+00:00");
                const local_timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const local_date = new Date("2023-09-28T17:00:00.000+00:00");
                // const local_offset = new Date().getTimezoneOffset() / 60;
                // local_date.setHours(local_date.getHours() + local_offset);
                document.getElementById("localtime").innerHTML = local_date + " in " + local_timezone
              </script>
            </p>

            <!-- Buttons -->
            <div class="text-center mt-5">
              
              
              <a class="btn btn-danger lift mb-3" data-bigpicture='{"ytSrc": "f4qxdG79QrI"}' href="#">
                <i class="fe fe-youtube me-2"></i>
                Watch this talk
              </a>
              
              
              <a class="btn btn-info lift mb-3" data-bigpicture='{"ytSrc": "O-k-chlFdO8"}' href="#">
                <i class="fe fe-eye me-2"></i>
                Watch Premiere
              </a>
              
              <!-- 
              <a class="btn btn-danger lift mb-3" href="https://youtube.com/playlist?list=PLIuxSyKxlQrAsq4jEk8yDtEYUPWqyqZa5" target="_blank">
                <i class="fe fe-youtube me-2"></i>
                Playlist
              </a>
               -->
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>
      </div>
    </div>

    
    <!-- VIDEO -->
    <section class="pt-2 sticky">
      <div class="container">
        <div class="row justify-content-center">

          <div id="video-container" class="col-9 col-lg-12 mb-5">

          <!-- Video -->

            <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
            <div id="player" class="sticky"></div>

            <script>
              
              var transcript = [{"text": "Hi everyone. Today I\u0027m going to talk about how we scaled multi cluster kubernetes at", "timestamp": "00:00:27,330", "timestamp_s": 27.0}, {"text": "teleport cloud. So what is teleport? So, if you don\u0027t know, teleport is", "timestamp": "00:00:31,084", "timestamp_s": 31.0}, {"text": "an open source infrastructure access platform that makes use of", "timestamp": "00:00:35,068", "timestamp_s": 35.0}, {"text": "reverse tunnels, like for example SSH tunnels, to provide", "timestamp": "00:00:38,492", "timestamp_s": 38.0}, {"text": "audited access to infrastructure for developers, also for CI", "timestamp": "00:00:42,284", "timestamp_s": 42.0}, {"text": "CD systems or other use cases like Internet", "timestamp": "00:00:46,018", "timestamp_s": 46.0}, {"text": "of things. And so Teleport provides access to Kubernetes", "timestamp": "00:00:49,378", "timestamp_s": 49.0}, {"text": "SSH database, like postgres, for example,", "timestamp": "00:00:53,290", "timestamp_s": 53.0}, {"text": "web application and Windows desktop resources.", "timestamp": "00:00:57,330", "timestamp_s": 57.0}, {"text": "It understands the different protocols behind those", "timestamp": "00:01:02,210", "timestamp_s": 62.0}, {"text": "resource types so that it can provide application", "timestamp": "00:01:05,992", "timestamp_s": 65.0}, {"text": "level auditing, right? It understands what Kubernetes", "timestamp": "00:01:10,488", "timestamp_s": 70.0}, {"text": "commands look like, what SSH commands look like,", "timestamp": "00:01:13,902", "timestamp_s": 73.0}, {"text": "to be able to audit the connections to those different", "timestamp": "00:01:16,716", "timestamp_s": 76.0}, {"text": "resources that you might be wrong. And so if you look at teleport\u0027s architecture,", "timestamp": "00:01:21,930", "timestamp_s": 81.0}, {"text": "the kind of key components that run on the server side are the", "timestamp": "00:01:26,226", "timestamp_s": 86.0}, {"text": "teleport proxy, which provides connectivity,", "timestamp": "00:01:30,128", "timestamp_s": 90.0}, {"text": "like for instance, managing reverse tunnels. And the Teleport", "timestamp": "00:01:33,638", "timestamp_s": 93.0}, {"text": "auth server, which does authentication and authorization,", "timestamp": "00:01:37,078", "timestamp_s": 97.0}, {"text": "manages like user roles, provides the kind of back", "timestamp": "00:01:40,670", "timestamp_s": 100.0}, {"text": "end logic. And so if", "timestamp": "00:01:44,592", "timestamp_s": 104.0}, {"text": "you might imagine what a client connection to a resource that\u0027s managed by", "timestamp": "00:01:48,708", "timestamp_s": 108.0}, {"text": "teleport would look like, say you\u0027re connecting to a Kubernetes cluster,", "timestamp": "00:01:51,988", "timestamp_s": 111.0}, {"text": "you might run Kubecontrol get pods, and you\u0027re", "timestamp": "00:01:55,342", "timestamp_s": 115.0}, {"text": "not connected to directly to a Kubernetes cluster, but instead you\u0027re pointed at", "timestamp": "00:01:59,422", "timestamp_s": 119.0}, {"text": "a teleport proxy through an mtls connection.", "timestamp": "00:02:03,272", "timestamp_s": 123.0}, {"text": "And then the teleport proxy also has a reverse tunnel", "timestamp": "00:02:06,970", "timestamp_s": 126.0}, {"text": "coming from that Kubernetes cluster egressing", "timestamp": "00:02:10,642", "timestamp_s": 130.0}, {"text": "out through a firewall. And the", "timestamp": "00:02:14,338", "timestamp_s": 134.0}, {"text": "connection is coming from a teleport agent that\u0027s running in a pod in that cluster.", "timestamp": "00:02:18,828", "timestamp_s": 138.0}, {"text": "And so your Kubecontroll", "timestamp": "00:02:22,214", "timestamp_s": 142.0}, {"text": "get pods command goes through the proxy through the reverse tunnel", "timestamp": "00:02:26,198", "timestamp_s": 146.0}, {"text": "and reaches the cluster on the other end to provide access. And so", "timestamp": "00:02:29,398", "timestamp_s": 149.0}, {"text": "Teleport cloud is a kind of hosted", "timestamp": "00:02:33,092", "timestamp_s": 153.0}, {"text": "version of teleport that\u0027s offered by teleport", "timestamp": "00:02:37,178", "timestamp_s": 157.0}, {"text": "as a company. And for teleport cloud,", "timestamp": "00:02:41,274", "timestamp_s": 161.0}, {"text": "we run a dedicated instance of teleport for every", "timestamp": "00:02:44,472", "timestamp_s": 164.0}, {"text": "customer. And so that means we\u0027re running a deployment of teleport,", "timestamp": "00:02:47,736", "timestamp_s": 167.0}, {"text": "many deployments of teleport,", "timestamp": "00:02:51,750", "timestamp_s": 171.0}, {"text": "where we\u0027re operating over 10,000 pods, we\u0027re operating over 100,000", "timestamp": "00:02:56,250", "timestamp_s": 176.0}, {"text": "reverse tunnels at a given time. And this", "timestamp": "00:03:00,316", "timestamp_s": 180.0}, {"text": "happens across six regions to provide global availability", "timestamp": "00:03:04,828", "timestamp_s": 184.0}, {"text": "anytime any of those tunnels are disrupted, that would", "timestamp": "00:03:08,590", "timestamp_s": 188.0}, {"text": "disrupt access to the underlying resources. And so it\u0027s really, really important that", "timestamp": "00:03:12,864", "timestamp_s": 192.0}, {"text": "we provide a very stable network stack for this", "timestamp": "00:03:18,030", "timestamp_s": 198.0}, {"text": "platform. Another kind", "timestamp": "00:03:21,332", "timestamp_s": 201.0}, {"text": "of important detail here is that those proxies, they\u0027re running each of", "timestamp": "00:03:25,524", "timestamp_s": 205.0}, {"text": "those separate kubernetes clusters in each region,", "timestamp": "00:03:29,124", "timestamp_s": 209.0}, {"text": "peered connections. So a client might connect to a proxy in one region,", "timestamp": "00:03:32,370", "timestamp_s": 212.0}, {"text": "and a peered GRPC connection between the proxy", "timestamp": "00:03:37,190", "timestamp_s": 217.0}, {"text": "from that proxy to a proxy that the resource they\u0027re trying to access", "timestamp": "00:03:41,750", "timestamp_s": 221.0}, {"text": "is running in happens, and then the connection", "timestamp": "00:03:45,240", "timestamp_s": 225.0}, {"text": "goes through the reverse tunnels to that resource. For a long", "timestamp": "00:03:49,122", "timestamp_s": 229.0}, {"text": "time we ran teleport cloud on gravity. We\u0027ve recently switched to eks,", "timestamp": "00:03:52,812", "timestamp_s": 232.0}, {"text": "where we have an eks cluster in each of the regions that we provide connectivity", "timestamp": "00:03:56,786", "timestamp_s": 236.0}, {"text": "for. And so if you break down the kind", "timestamp": "00:04:01,302", "timestamp_s": 241.0}, {"text": "of major needs that we had when putting together this platform,", "timestamp": "00:04:04,624", "timestamp_s": 244.0}, {"text": "I\u0027ll just kind of focus on three really important things.", "timestamp": "00:04:09,630", "timestamp_s": 249.0}, {"text": "Ingress. So maintaining", "timestamp": "00:04:13,330", "timestamp_s": 253.0}, {"text": "highly available, ultra long lived reverse tunnels to the resources", "timestamp": "00:04:17,018", "timestamp_s": 257.0}, {"text": "that people need access to is a top thing.", "timestamp": "00:04:20,538", "timestamp_s": 260.0}, {"text": "It was really important that we be able to do coordinated rollouts across these regional", "timestamp": "00:04:24,950", "timestamp_s": 264.0}, {"text": "clusters. And so we", "timestamp": "00:04:28,958", "timestamp_s": 268.0}, {"text": "often want to update auth servers when we do an upgrade of teleport first,", "timestamp": "00:04:33,464", "timestamp_s": 273.0}, {"text": "and then upgrade the proxies because of", "timestamp": "00:04:37,420", "timestamp_s": 277.0}, {"text": "how the Auth servers cache proxy heartbeats, or we", "timestamp": "00:04:41,052", "timestamp_s": 281.0}, {"text": "might want to not roll the proxies in every single region. At the same time,", "timestamp": "00:04:44,908", "timestamp_s": 284.0}, {"text": "we might need a more coordinated deployment strategies", "timestamp": "00:04:48,416", "timestamp_s": 288.0}, {"text": "for some different customer", "timestamp": "00:04:52,406", "timestamp_s": 292.0}, {"text": "use cases. And finally, container networking.", "timestamp": "00:04:56,080", "timestamp_s": 296.0}, {"text": "All these clusters have to speak to each other. The proxies need to peer.", "timestamp": "00:04:59,622", "timestamp_s": 299.0}, {"text": "Everything needs connectivity to auth servers, but AutH servers don\u0027t", "timestamp": "00:05:02,710", "timestamp_s": 302.0}, {"text": "run in every region. And so just focusing on ingress first,", "timestamp": "00:05:06,234", "timestamp_s": 306.0}, {"text": "I\u0027ll kind of go through a journey of things. We tried for all of these", "timestamp": "00:05:09,970", "timestamp_s": 309.0}, {"text": "and how we arrived at the architecture that we have", "timestamp": "00:05:14,232", "timestamp_s": 314.0}, {"text": "today. So first we tried anycast, actually,", "timestamp": "00:05:20,568", "timestamp_s": 320.0}, {"text": "and you might imagine how this went.", "timestamp": "00:05:24,296", "timestamp_s": 324.0}, {"text": "Anycast, we really liked any cast. We tried out anycast", "timestamp": "00:05:27,370", "timestamp_s": 327.0}, {"text": "through AWS global accelerator.", "timestamp": "00:05:30,722", "timestamp_s": 330.0}, {"text": "We liked it because it provided really stable ip", "timestamp": "00:05:33,858", "timestamp_s": 333.0}, {"text": "addresses. DNS never had to change. We could give everybody in the world a single", "timestamp": "00:05:39,942", "timestamp_s": 339.0}, {"text": "ip address for teleport cloud,", "timestamp": "00:05:44,176", "timestamp_s": 344.0}, {"text": "and they\u0027d be able to really reliably connect to that. But at the", "timestamp": "00:05:47,648", "timestamp_s": 347.0}, {"text": "same time, as you might imagine, anycast didn\u0027t quite provide stable", "timestamp": "00:05:51,088", "timestamp_s": 351.0}, {"text": "enough routing. I think there have been a lot of success stories", "timestamp": "00:05:54,442", "timestamp_s": 354.0}, {"text": "with anycast and streaming video,", "timestamp": "00:05:58,042", "timestamp_s": 358.0}, {"text": "like kind of long lived TCP connections in that context. But we found that", "timestamp": "00:06:01,140", "timestamp_s": 361.0}, {"text": "even with a lot of logic, that would resume reverse tunnels quickly if", "timestamp": "00:06:05,256", "timestamp_s": 365.0}, {"text": "they dropped. It really just wasn\u0027t stable", "timestamp": "00:06:08,824", "timestamp_s": 368.0}, {"text": "enough to provide really consistent,", "timestamp": "00:06:12,126", "timestamp_s": 372.0}, {"text": "really highly available connectivity.", "timestamp": "00:06:16,710", "timestamp_s": 376.0}, {"text": "And so any cast didn\u0027t work out for us. We also tried", "timestamp": "00:06:20,390", "timestamp_s": 380.0}, {"text": "open source Nginx as a kind", "timestamp": "00:06:24,732", "timestamp_s": 384.0}, {"text": "of ingress routing layer in each of the clusters.", "timestamp": "00:06:30,288", "timestamp_s": 390.0}, {"text": "And we really liked Nginx because it supported ALPN", "timestamp": "00:06:34,350", "timestamp_s": 394.0}, {"text": "routing. So Nginx", "timestamp": "00:06:39,542", "timestamp_s": 399.0}, {"text": "will let you route connections from different clients using.", "timestamp": "00:06:42,858", "timestamp_s": 402.0}, {"text": "So ALPN is kind of similar to SNI. It\u0027s some metadata", "timestamp": "00:06:47,764", "timestamp_s": 407.0}, {"text": "in a TLS connection that\u0027ll let you make decisions about how to route that", "timestamp": "00:06:51,674", "timestamp_s": 411.0}, {"text": "connection without terminating", "timestamp": "00:06:55,528", "timestamp_s": 415.0}, {"text": "it, without decrypting it. And so the ingress stack could", "timestamp": "00:06:59,598", "timestamp_s": 419.0}, {"text": "separate client connections from agent connections and route to the correct proxies", "timestamp": "00:07:03,432", "timestamp_s": 423.0}, {"text": "using that metadata. And Nginx did", "timestamp": "00:07:07,842", "timestamp_s": 427.0}, {"text": "a great job with that, but it had no in process configuration reloading.", "timestamp": "00:07:11,564", "timestamp_s": 431.0}, {"text": "And so anytime we\u0027d need to make a change to these routes,", "timestamp": "00:07:15,522", "timestamp_s": 435.0}, {"text": "we\u0027d need to start a new instance of NginX. And eventually the memory usage", "timestamp": "00:07:18,946", "timestamp_s": 438.0}, {"text": "got really high. It just didn\u0027t work well for", "timestamp": "00:07:22,902", "timestamp_s": 442.0}, {"text": "how often we needed to change the ingress configuration. And so", "timestamp": "00:07:26,592", "timestamp_s": 446.0}, {"text": "we didn\u0027t go with Nginx either. And so now I\u0027ll talk about what we did", "timestamp": "00:07:30,624", "timestamp_s": 450.0}, {"text": "do. So our ingress stack", "timestamp": "00:07:34,068", "timestamp_s": 454.0}, {"text": "at the DNF level, we used route 53 latency records", "timestamp": "00:07:39,730", "timestamp_s": 459.0}, {"text": "with the external DNS operator. And so", "timestamp": "00:07:43,822", "timestamp_s": 463.0}, {"text": "the external DNS operator would publish latency records", "timestamp": "00:07:47,750", "timestamp_s": 467.0}, {"text": "to route 53 based on the", "timestamp": "00:07:51,214", "timestamp_s": 471.0}, {"text": "nlbs that separate", "timestamp": "00:07:56,810", "timestamp_s": 476.0}, {"text": "network load balancers that would sit in each region.", "timestamp": "00:08:01,122", "timestamp_s": 481.0}, {"text": "And we use network load balancers instead of", "timestamp": "00:08:04,330", "timestamp_s": 484.0}, {"text": "any cast because they\u0027re kind of stateless.", "timestamp": "00:08:07,628", "timestamp_s": 487.0}, {"text": "So when there are changes to them underneath, they don\u0027t necessarily drop connections.", "timestamp": "00:08:12,030", "timestamp_s": 492.0}, {"text": "And they let us provide really stable reverse", "timestamp": "00:08:17,070", "timestamp_s": 497.0}, {"text": "tunnels. Instead of NgINX, we went with", "timestamp": "00:08:21,274", "timestamp_s": 501.0}, {"text": "envoy proxy, which also supports ALPN routing,", "timestamp": "00:08:24,916", "timestamp_s": 504.0}, {"text": "which is great. And we configuration it using Gateway API,", "timestamp": "00:08:28,490", "timestamp_s": 508.0}, {"text": "which is a kind of new set of APIs for", "timestamp": "00:08:32,506", "timestamp_s": 512.0}, {"text": "ingress in Kubernetes that aims", "timestamp": "00:08:36,136", "timestamp_s": 516.0}, {"text": "to replace ingress resources", "timestamp": "00:08:41,054", "timestamp_s": 521.0}, {"text": "that have existed in the past. And we used our", "timestamp": "00:08:45,374", "timestamp_s": 525.0}, {"text": "own fork of envoy gateway that had some. For one,", "timestamp": "00:08:49,084", "timestamp_s": 529.0}, {"text": "it supports using annotations to do ALPN routing", "timestamp": "00:08:53,212", "timestamp_s": 533.0}, {"text": "on TLS routes, but we also made some kind of stabilizing", "timestamp": "00:08:56,674", "timestamp_s": 536.0}, {"text": "changes there that we\u0027re working to get upstream.", "timestamp": "00:09:00,118", "timestamp_s": 540.0}, {"text": "And finally we have a little hack for doing zero downtime deployments", "timestamp": "00:09:03,390", "timestamp_s": 543.0}, {"text": "using min ready seconds on top of deployments that", "timestamp": "00:09:07,990", "timestamp_s": 547.0}, {"text": "I\u0027ll talk. And so, to kind of break down what this looks like,", "timestamp": "00:09:11,124", "timestamp_s": 551.0}, {"text": "imagine you\u0027re", "timestamp": "00:09:14,100", "timestamp_s": 554.0}, {"text": "trying to connect to your Kubernetes cluster using Kubecontrol and", "timestamp": "00:09:18,458", "timestamp_s": 558.0}, {"text": "the teleport agents running in the Kubernetes cluster, which is behind a firewall.", "timestamp": "00:09:23,012", "timestamp_s": 563.0}, {"text": "So the relevant pieces of teleport", "timestamp": "00:09:26,830", "timestamp_s": 566.0}, {"text": "you\u0027ll see here are the proxy pods running in each of in this case,", "timestamp": "00:09:30,238", "timestamp_s": 570.0}, {"text": "we\u0027ll just talk about three regions where the client is connecting", "timestamp": "00:09:33,496", "timestamp_s": 573.0}, {"text": "through proxies in us east one to", "timestamp": "00:09:36,882", "timestamp_s": 576.0}, {"text": "proxies in AP southeast one where the Kubernetes cluster is running.", "timestamp": "00:09:41,370", "timestamp_s": 581.0}, {"text": "All the proxy pods have a kind", "timestamp": "00:09:45,690", "timestamp_s": 585.0}, {"text": "of streaming connections to the auth server,", "timestamp": "00:09:49,024", "timestamp_s": 589.0}, {"text": "so they get up to date information on roles", "timestamp": "00:09:52,230", "timestamp_s": 592.0}, {"text": "and information needed to make", "timestamp": "00:09:56,294", "timestamp_s": 596.0}, {"text": "authorization decisions. All the", "timestamp": "00:10:00,830", "timestamp_s": 600.0}, {"text": "proxies cache this information so that they can really quickly", "timestamp": "00:10:04,724", "timestamp_s": 604.0}, {"text": "make these decisions without having to reach out to auth for all of it.", "timestamp": "00:10:08,356", "timestamp_s": 608.0}, {"text": "So we have the reverse tunnel that\u0027s coming from the Kubernetes", "timestamp": "00:10:11,460", "timestamp_s": 611.0}, {"text": "cluster, and we have the agent connections,", "timestamp": "00:10:14,846", "timestamp_s": 614.0}, {"text": "these Goop control, that get routed to the closest proxy", "timestamp": "00:10:18,558", "timestamp_s": 618.0}, {"text": "through a peered connection between the proxies and then finally back up to", "timestamp": "00:10:22,238", "timestamp_s": 622.0}, {"text": "the Kubernetes cluster. So if we take auth out of this for a second and", "timestamp": "00:10:25,480", "timestamp_s": 625.0}, {"text": "just look at the connectivity piece, what this looks like is we", "timestamp": "00:10:28,904", "timestamp_s": 628.0}, {"text": "have the external DNS controller running in each cluster,", "timestamp": "00:10:32,972", "timestamp_s": 632.0}, {"text": "and we have nlbs sitting in front of", "timestamp": "00:10:36,978", "timestamp_s": 636.0}, {"text": "the nodes that run the", "timestamp": "00:10:40,336", "timestamp_s": 640.0}, {"text": "proxy pods in each of the clusters. And external DNS is", "timestamp": "00:10:43,968", "timestamp_s": 643.0}, {"text": "reading the ips of those nlbs and reporting them back", "timestamp": "00:10:47,488", "timestamp_s": 647.0}, {"text": "to route 53 so that it can report the ip of the closest", "timestamp": "00:10:50,868", "timestamp_s": 650.0}, {"text": "proxy when your end user,", "timestamp": "00:10:55,730", "timestamp_s": 655.0}, {"text": "client or agent needs to connect to a proxy so that", "timestamp": "00:10:59,354", "timestamp_s": 659.0}, {"text": "it gets the closest regions.", "timestamp": "00:11:03,044", "timestamp_s": 663.0}, {"text": "And so how do we do a zero downtime deploy on top of this", "timestamp": "00:11:07,430", "timestamp_s": 667.0}, {"text": "architecture? And this gets a little coordinated because we have", "timestamp": "00:11:10,872", "timestamp_s": 670.0}, {"text": "these reverse tunnels that are open all the time connected to proxies,", "timestamp": "00:11:14,776", "timestamp_s": 674.0}, {"text": "but we need to update those proxies, right?", "timestamp": "00:11:18,482", "timestamp_s": 678.0}, {"text": "So if you look at the architecture we had before, what this looks", "timestamp": "00:11:21,596", "timestamp_s": 681.0}, {"text": "like is that we have envoy running in each cluster,", "timestamp": "00:11:25,052", "timestamp_s": 685.0}, {"text": "configured by Envoy gateway routing to different", "timestamp": "00:11:28,438", "timestamp_s": 688.0}, {"text": "proxy pods for different customers.", "timestamp": "00:11:32,032", "timestamp_s": 692.0}, {"text": "And when we want to do a deploy, we use", "timestamp": "00:11:35,390", "timestamp_s": 695.0}, {"text": "the ALPN routing feature in envoy in order to", "timestamp": "00:11:39,312", "timestamp_s": 699.0}, {"text": "control whether connections", "timestamp": "00:11:45,570", "timestamp_s": 705.0}, {"text": "land on the old pods or the new pods. So an interesting thing we did", "timestamp": "00:11:49,722", "timestamp_s": 709.0}, {"text": "here is that we used a feature of Kubernetes deployments", "timestamp": "00:11:52,932", "timestamp_s": 712.0}, {"text": "that you might not know about called min ready seconds.", "timestamp": "00:11:57,006", "timestamp_s": 717.0}, {"text": "And so this is kind of similar to a termination grace", "timestamp": "00:12:00,126", "timestamp_s": 720.0}, {"text": "period where you keep multiple sets of", "timestamp": "00:12:03,422", "timestamp_s": 723.0}, {"text": "pods running at a time, old generation and new generation", "timestamp": "00:12:07,932", "timestamp_s": 727.0}, {"text": "running at the same time. But with min ready seconds, you can keep both generations", "timestamp": "00:12:11,442", "timestamp_s": 731.0}, {"text": "responding to new network requests at the same time for", "timestamp": "00:12:15,890", "timestamp_s": 735.0}, {"text": "a certain period of time until the new set of", "timestamp": "00:12:19,084", "timestamp_s": 739.0}, {"text": "proxy pods is not just considered ready,", "timestamp": "00:12:22,928", "timestamp_s": 742.0}, {"text": "but after the min ready seconds is considered fully available, and then the old", "timestamp": "00:12:26,672", "timestamp_s": 746.0}, {"text": "pods will terminate. So we use this period of availability of", "timestamp": "00:12:30,372", "timestamp_s": 750.0}, {"text": "readiness at the same time for both generations", "timestamp": "00:12:34,148", "timestamp_s": 754.0}, {"text": "of pods to allow new", "timestamp": "00:12:37,882", "timestamp_s": 757.0}, {"text": "tunnels to come from the existing agents and", "timestamp": "00:12:42,290", "timestamp_s": 762.0}, {"text": "hit the newly spun up pods until", "timestamp": "00:12:46,168", "timestamp_s": 766.0}, {"text": "all the new tunnels are fully established before we make", "timestamp": "00:12:49,656", "timestamp_s": 769.0}, {"text": "the ingress changes that start routing connections through the new set of pods.", "timestamp": "00:12:53,256", "timestamp_s": 773.0}, {"text": "And then after that happens, and after old connections", "timestamp": "00:12:56,990", "timestamp_s": 776.0}, {"text": "drain off through the old network pathway,", "timestamp": "00:13:00,946", "timestamp_s": 780.0}, {"text": "then we shut down the old set of proxy pods. And the way we do", "timestamp": "00:13:04,514", "timestamp_s": 784.0}, {"text": "this flip from one set of pods to another is that", "timestamp": "00:13:07,628", "timestamp_s": 787.0}, {"text": "we have a custom controller that changes the labels", "timestamp": "00:13:11,088", "timestamp_s": 791.0}, {"text": "on a service to point from the old generation to the new generation", "timestamp": "00:13:14,422", "timestamp_s": 794.0}, {"text": "of pods using our own custom controller logic underneath.", "timestamp": "00:13:17,702", "timestamp_s": 797.0}, {"text": "And so that\u0027s basically an overview of", "timestamp": "00:13:21,654", "timestamp_s": 801.0}, {"text": "our ingress stack for how we route really", "timestamp": "00:13:24,948", "timestamp_s": 804.0}, {"text": "ultra long lived tunnels. We route client connections through those", "timestamp": "00:13:28,436", "timestamp_s": 808.0}, {"text": "long lived tunnels for Kubernetes clusters in six", "timestamp": "00:13:31,988", "timestamp_s": 811.0}, {"text": "regions. The next thing", "timestamp": "00:13:35,576", "timestamp_s": 815.0}, {"text": "I\u0027ll talk about is deployment. So when we need", "timestamp": "00:13:38,888", "timestamp_s": 818.0}, {"text": "to upgrade teleport, I talked about how we do it like a zero downtime upgrade", "timestamp": "00:13:42,728", "timestamp_s": 822.0}, {"text": "for an individual cluster for proxies, but how do we", "timestamp": "00:13:47,070", "timestamp_s": 827.0}, {"text": "upgrade teleport, auth and proxy across six regions", "timestamp": "00:13:50,588", "timestamp_s": 830.0}, {"text": "in a coordinated way? And so we tried a couple of", "timestamp": "00:13:53,938", "timestamp_s": 833.0}, {"text": "different options here. The first thing we tried was Gitops.", "timestamp": "00:13:57,164", "timestamp_s": 837.0}, {"text": "So what\u0027s the most you\u0027re doing? Deployment to Kubernetes clusters. What\u0027s the first thing", "timestamp": "00:14:00,770", "timestamp_s": 840.0}, {"text": "you think of? Right, use flux CD or a similar tool to deploy it", "timestamp": "00:14:04,528", "timestamp_s": 844.0}, {"text": "from a git repo. And so we had our", "timestamp": "00:14:07,984", "timestamp_s": 847.0}, {"text": "own custom controller, a CRD that\u0027s reconciled by", "timestamp": "00:14:12,530", "timestamp_s": 852.0}, {"text": "a controller we have called tenant controller, and the CRD is of course called tenant.", "timestamp": "00:14:16,676", "timestamp_s": 856.0}, {"text": "And we thought about storing that configuration in git for", "timestamp": "00:14:20,850", "timestamp_s": 860.0}, {"text": "each customer and then applying that to all of the clusters.", "timestamp": "00:14:24,068", "timestamp_s": 864.0}, {"text": "And a disadvantage of this approach we found, number one was", "timestamp": "00:14:28,558", "timestamp_s": 868.0}, {"text": "we really wanted all the data to stay in postgres. We didn\u0027t want to", "timestamp": "00:14:32,632", "timestamp_s": 872.0}, {"text": "start writing a bunch of customer data into a git repo and having to manage", "timestamp": "00:14:36,776", "timestamp_s": 876.0}, {"text": "that git repo over time. Another need we", "timestamp": "00:14:39,996", "timestamp_s": 879.0}, {"text": "had there, another thing didn\u0027t work. Sorry about the Gitops approach with Flux,", "timestamp": "00:14:43,228", "timestamp_s": 883.0}, {"text": "was that flux is very unidirectional. So we didn\u0027t just want information synced from", "timestamp": "00:14:47,330", "timestamp_s": 887.0}, {"text": "a git repo into clusters, we wanted to pull information out", "timestamp": "00:14:51,244", "timestamp_s": 891.0}, {"text": "of those clusters in order to be able to progress the deploy to more", "timestamp": "00:14:54,288", "timestamp_s": 894.0}, {"text": "steps. So auth servers finished deploying. Now we want to update proxies,", "timestamp": "00:14:57,648", "timestamp_s": 897.0}, {"text": "maybe we want to update proxies. We don\u0027t want to update every region at the", "timestamp": "00:15:02,090", "timestamp_s": 902.0}, {"text": "same time.", "timestamp": "00:15:04,868", "timestamp_s": 904.0}, {"text": "So that approach didn\u0027t work. We didn\u0027t go with Gitops.", "timestamp": "00:15:07,970", "timestamp_s": 907.0}, {"text": "We tried cross cluster reconcilers after that,", "timestamp": "00:15:12,266", "timestamp_s": 912.0}, {"text": "where we had a controller running in each regions,", "timestamp": "00:15:15,752", "timestamp_s": 915.0}, {"text": "but we didn\u0027t have a CRD in each of those regions. They all", "timestamp": "00:15:19,710", "timestamp_s": 919.0}, {"text": "reconciled against a custom resource, that tenant custom", "timestamp": "00:15:23,032", "timestamp_s": 923.0}, {"text": "resource in a namespace in the management cluster.", "timestamp": "00:15:26,476", "timestamp_s": 926.0}, {"text": "So we have a namespace for each customer in every cluster,", "timestamp": "00:15:30,066", "timestamp_s": 930.0}, {"text": "but the custom resource", "timestamp": "00:15:34,018", "timestamp_s": 934.0}, {"text": "only lives in the management cluster. In this proposal,", "timestamp": "00:15:37,218", "timestamp_s": 937.0}, {"text": "this didn\u0027t work very well either. So if", "timestamp": "00:15:42,510", "timestamp_s": 942.0}, {"text": "we\u0027d gone with this, we would have created a big single point of failure for", "timestamp": "00:15:46,304", "timestamp_s": 946.0}, {"text": "the whole platform in that one cluster. We didn\u0027t like that. We wanted everything to", "timestamp": "00:15:49,552", "timestamp_s": 949.0}, {"text": "be able to operate without management.", "timestamp": "00:15:52,724", "timestamp_s": 952.0}, {"text": "And there were some difficulties in,", "timestamp": "00:15:55,410", "timestamp_s": 955.0}, {"text": "like we\u0027d have to have all of the regional clusters write", "timestamp": "00:15:59,348", "timestamp_s": 959.0}, {"text": "to the same status field of that", "timestamp": "00:16:03,336", "timestamp_s": 963.0}, {"text": "shared tenancy are, and it leads to conflicts and other problems.", "timestamp": "00:16:09,000", "timestamp_s": 969.0}, {"text": "And so what we arrived at was", "timestamp": "00:16:12,888", "timestamp_s": 972.0}, {"text": "neither of those things. We really liked kubefed. We thought Kubefed kind", "timestamp": "00:16:16,220", "timestamp_s": 976.0}, {"text": "of maybe was on the right track with exposing", "timestamp": "00:16:20,188", "timestamp_s": 980.0}, {"text": "APIs from one cluster into another cluster, so you could have a controller", "timestamp": "00:16:24,730", "timestamp_s": 984.0}, {"text": "that understands how to operate custom resources that", "timestamp": "00:16:28,658", "timestamp_s": 988.0}, {"text": "it\u0027s not reconciling, which are reconciled somewhere else.", "timestamp": "00:16:32,384", "timestamp_s": 992.0}, {"text": "We really like that model, but the project isn\u0027t active anymore,", "timestamp": "00:16:35,550", "timestamp_s": 995.0}, {"text": "and it seems like it\u0027d be a big risk to pick up Kubefed", "timestamp": "00:16:38,582", "timestamp_s": 998.0}, {"text": "if there really wasn\u0027t a lot of activity there. And so we built something that", "timestamp": "00:16:42,618", "timestamp_s": 1002.0}, {"text": "just solves this problem in a really narrow way.", "timestamp": "00:16:46,132", "timestamp_s": 1006.0}, {"text": "It\u0027s called sync controller. We just open sourced it a couple of days", "timestamp": "00:16:51,730", "timestamp_s": 1011.0}, {"text": "ago, so you can check it out if you want to. The way", "timestamp": "00:16:54,872", "timestamp_s": 1014.0}, {"text": "sync controller works is it let us build this architecture", "timestamp": "00:16:58,632", "timestamp_s": 1018.0}, {"text": "where we could have a management cluster that", "timestamp": "00:17:02,446", "timestamp_s": 1022.0}, {"text": "is driven by that tenant custom resource inside of a customer", "timestamp": "00:17:06,316", "timestamp_s": 1026.0}, {"text": "namespace. But the controller for the tenant", "timestamp": "00:17:10,220", "timestamp_s": 1030.0}, {"text": "resource is just responsible for creating additional teleport", "timestamp": "00:17:13,778", "timestamp_s": 1033.0}, {"text": "deployment resources, one for each regions that the", "timestamp": "00:17:17,698", "timestamp_s": 1037.0}, {"text": "teleport needs to operate in for that customer. And then", "timestamp": "00:17:22,240", "timestamp_s": 1042.0}, {"text": "that custom resource is synced", "timestamp": "00:17:25,872", "timestamp_s": 1045.0}, {"text": "just to an individual instance of the", "timestamp": "00:17:29,970", "timestamp_s": 1049.0}, {"text": "same resource that lives in each of the different", "timestamp": "00:17:34,420", "timestamp_s": 1054.0}, {"text": "regions. And so tenant CR might create, if there\u0027s customers", "timestamp": "00:17:37,956", "timestamp_s": 1057.0}, {"text": "in three regions, US west two, US east one, and AP Southeast", "timestamp": "00:17:41,860", "timestamp_s": 1061.0}, {"text": "one, and each of those are then picked", "timestamp": "00:17:46,478", "timestamp_s": 1066.0}, {"text": "up by sync controller running in those regions, which then creates a namespace,", "timestamp": "00:17:49,998", "timestamp_s": 1069.0}, {"text": "creates the resources, and then reconciles that resource", "timestamp": "00:17:53,582", "timestamp_s": 1073.0}, {"text": "there. And so to kind of dig into what that looks like really in", "timestamp": "00:17:58,866", "timestamp_s": 1078.0}, {"text": "more detail in the management cluster,", "timestamp": "00:18:03,132", "timestamp_s": 1083.0}, {"text": "this diagram here isn\u0027t specific to teleport,", "timestamp": "00:18:06,570", "timestamp_s": 1086.0}, {"text": "just generally how you use sync controller. I\u0027ll show you a teleport specific version in", "timestamp": "00:18:09,906", "timestamp_s": 1089.0}, {"text": "a second but in this instance", "timestamp": "00:18:13,504", "timestamp_s": 1093.0}, {"text": "you have synccontroller running regionally. It watches the", "timestamp": "00:18:17,366", "timestamp_s": 1097.0}, {"text": "spec of the resource in the management cluster. It copies", "timestamp": "00:18:21,088", "timestamp_s": 1101.0}, {"text": "any changes that it sees to the spec", "timestamp": "00:18:24,682", "timestamp_s": 1104.0}, {"text": "of that resource into the instance of the resource in the regional", "timestamp": "00:18:28,356", "timestamp_s": 1108.0}, {"text": "cluster, where it\u0027s then reconciled. The reconciler", "timestamp": "00:18:31,818", "timestamp_s": 1111.0}, {"text": "then writes the latest status of that resource in the", "timestamp": "00:18:35,438", "timestamp_s": 1115.0}, {"text": "regional cluster, and then sync controller is also watching", "timestamp": "00:18:39,368", "timestamp_s": 1119.0}, {"text": "that regional status and copying that back", "timestamp": "00:18:43,016", "timestamp_s": 1123.0}, {"text": "to the management cluster. So that from both the", "timestamp": "00:18:46,332", "timestamp_s": 1126.0}, {"text": "regional cluster\u0027s perspective and the management cluster\u0027s perspective, you have", "timestamp": "00:18:49,628", "timestamp_s": 1129.0}, {"text": "the same resource,", "timestamp": "00:18:53,468", "timestamp_s": 1133.0}, {"text": "but the management cluster can create and", "timestamp": "00:18:56,010", "timestamp_s": 1136.0}, {"text": "kind of operate a selection of these resources from the outside,", "timestamp": "00:18:59,870", "timestamp_s": 1139.0}, {"text": "whereas the regional cluster can do the actual reconciliation of the resource", "timestamp": "00:19:03,984", "timestamp_s": 1143.0}, {"text": "and create the necessary pods. And so for teleport.", "timestamp": "00:19:07,382", "timestamp_s": 1147.0}, {"text": "So here\u0027s the kind of teleport specific version of what", "timestamp": "00:19:11,110", "timestamp_s": 1151.0}, {"text": "this architecture looks like. We have sync controller", "timestamp": "00:19:14,548", "timestamp_s": 1154.0}, {"text": "running in the regional cluster. It\u0027s copying the teleport deployment", "timestamp": "00:19:18,218", "timestamp_s": 1158.0}, {"text": "spec into the regional cluster for management, and where it\u0027s being reconciled", "timestamp": "00:19:21,482", "timestamp_s": 1161.0}, {"text": "by the teleport controller that creates the auth server and proxy", "timestamp": "00:19:25,322", "timestamp_s": 1165.0}, {"text": "pods, and then any changes to the status are sent back", "timestamp": "00:19:29,102", "timestamp_s": 1169.0}, {"text": "to the management cluster. And then in the management cluster we have a tenant controller", "timestamp": "00:19:32,728", "timestamp_s": 1172.0}, {"text": "that\u0027s for one, it\u0027s creating, doing any", "timestamp": "00:19:36,642", "timestamp_s": 1176.0}, {"text": "centralized work. So it creates the dynamodB tables or", "timestamp": "00:19:40,252", "timestamp_s": 1180.0}, {"text": "Athena resources for audit logging, all of", "timestamp": "00:19:43,884", "timestamp_s": 1183.0}, {"text": "those things that are shared. And then it creates a selection of", "timestamp": "00:19:47,564", "timestamp_s": 1187.0}, {"text": "teleport deployment resources that configure each region. And the nice thing", "timestamp": "00:19:51,216", "timestamp_s": 1191.0}, {"text": "is that it can react to changes in those, so it can listen to the,", "timestamp": "00:19:54,864", "timestamp_s": 1194.0}, {"text": "it can watch for status changes in us west two know when", "timestamp": "00:20:00,430", "timestamp_s": 1200.0}, {"text": "auth is finished deploying and tell regions that", "timestamp": "00:20:04,180", "timestamp_s": 1204.0}, {"text": "they can update their proxies, for example. So it can make decisions based on the", "timestamp": "00:20:07,908", "timestamp_s": 1207.0}, {"text": "challenging state in the different clusters. And this architecture", "timestamp": "00:20:11,988", "timestamp_s": 1211.0}, {"text": "worked really, really well for us. It\u0027s really nice because we can lose the entire", "timestamp": "00:20:16,062", "timestamp_s": 1216.0}, {"text": "management cluster, and all of our regional clusters", "timestamp": "00:20:19,496", "timestamp_s": 1219.0}, {"text": "are still operatable.", "timestamp": "00:20:23,406", "timestamp_s": 1223.0}, {"text": "We have to change the teleport deployments manually in", "timestamp": "00:20:26,150", "timestamp_s": 1226.0}, {"text": "the different regions, but they can keep reconciling forever in that state.", "timestamp": "00:20:29,564", "timestamp_s": 1229.0}, {"text": "So on top of this,", "timestamp": "00:20:34,410", "timestamp_s": 1234.0}, {"text": "I mentioned earlier that we wanted to store customer data in postgres,", "timestamp": "00:20:37,390", "timestamp_s": 1237.0}, {"text": "right? So we", "timestamp": "00:20:40,806", "timestamp_s": 1240.0}, {"text": "kind of built the configuration storage into our customer portal.", "timestamp": "00:20:44,768", "timestamp_s": 1244.0}, {"text": "And so when customers sign up or when employees want", "timestamp": "00:20:49,254", "timestamp_s": 1249.0}, {"text": "to manage customer information, obviously through teleport,", "timestamp": "00:20:53,092", "timestamp_s": 1253.0}, {"text": "all the data is stored in postgres, but the data that", "timestamp": "00:21:00,610", "timestamp_s": 1260.0}, {"text": "needs to live on the cluster as well is stored as", "timestamp": "00:21:04,244", "timestamp_s": 1264.0}, {"text": "a custom resource, as a tenant custom resource in", "timestamp": "00:21:08,280", "timestamp_s": 1268.0}, {"text": "JSON B and postgres. And then whenever there\u0027s a change to", "timestamp": "00:21:12,072", "timestamp_s": 1272.0}, {"text": "that data. In postgres we have a sync service that", "timestamp": "00:21:15,324", "timestamp_s": 1275.0}, {"text": "reads that change and sends", "timestamp": "00:21:18,956", "timestamp_s": 1278.0}, {"text": "the change version of that to the management cluster. A really cool thing", "timestamp": "00:21:24,018", "timestamp_s": 1284.0}, {"text": "we did here is we took the open API schema validations", "timestamp": "00:21:27,548", "timestamp_s": 1287.0}, {"text": "that the cluster uses for that CRD, and we also apply", "timestamp": "00:21:31,286", "timestamp_s": 1291.0}, {"text": "them to validate the request to", "timestamp": "00:21:34,976", "timestamp_s": 1294.0}, {"text": "change customer data at the portal level so we don\u0027t end up with a", "timestamp": "00:21:40,912", "timestamp_s": 1300.0}, {"text": "CRD that wouldn\u0027t apply to the cluster getting stored in the database. That was", "timestamp": "00:21:44,548", "timestamp_s": 1304.0}, {"text": "surprisingly easy to do, using kind of the open source tooling", "timestamp": "00:21:48,612", "timestamp_s": 1308.0}, {"text": "for open API available on GitHub. And so that", "timestamp": "00:21:51,834", "timestamp_s": 1311.0}, {"text": "covers the way we do our coordinated rollouts across", "timestamp": "00:21:56,168", "timestamp_s": 1316.0}, {"text": "clusters. The next kind", "timestamp": "00:21:59,896", "timestamp_s": 1319.0}, {"text": "of big important piece of all this is how did we do container networking?", "timestamp": "00:22:03,208", "timestamp_s": 1323.0}, {"text": "How do we let proxies talk to auth servers?", "timestamp": "00:22:06,638", "timestamp_s": 1326.0}, {"text": "How do we let proxies peer with each other across regions for", "timestamp": "00:22:09,778", "timestamp_s": 1329.0}, {"text": "this massive multi cluster deployment? And what", "timestamp": "00:22:13,228", "timestamp_s": 1333.0}, {"text": "we found was that Psyllium Global services worked really,", "timestamp": "00:22:16,604", "timestamp_s": 1336.0}, {"text": "really well. We tried some different deployment architectures", "timestamp": "00:22:20,672", "timestamp_s": 1340.0}, {"text": "with psyllium. We found that having a dedicated", "timestamp": "00:22:24,830", "timestamp_s": 1344.0}, {"text": "ETCD can perform the best. It let", "timestamp": "00:22:29,126", "timestamp_s": 1349.0}, {"text": "us deal with a lot of pod churn. So whenever we do a big update", "timestamp": "00:22:34,864", "timestamp_s": 1354.0}, {"text": "for many tenants at the same time, and we have a lot of new pods", "timestamp": "00:22:38,442", "timestamp_s": 1358.0}, {"text": "spinning up and shutting down,", "timestamp": "00:22:42,138", "timestamp_s": 1362.0}, {"text": "or also when we update selenium itself, and there\u0027s a", "timestamp": "00:22:46,210", "timestamp_s": 1366.0}, {"text": "lot of things that get reconfigured, a dedicated ETCD", "timestamp": "00:22:49,304", "timestamp_s": 1369.0}, {"text": "ended up performing the best. There are some other ways of deploying", "timestamp": "00:22:53,566", "timestamp_s": 1373.0}, {"text": "psyllium global services that you can look into,", "timestamp": "00:22:57,202", "timestamp_s": 1377.0}, {"text": "but that\u0027s what worked for us. And so to kind of break down what", "timestamp": "00:23:01,050", "timestamp_s": 1381.0}, {"text": "that looks like, I\u0027ll trade this diagram that you", "timestamp": "00:23:04,764", "timestamp_s": 1384.0}, {"text": "saw earlier where you have the teleport deployments in each region, if we focus", "timestamp": "00:23:08,508", "timestamp_s": 1388.0}, {"text": "on the services that get created by the teleport controller there for a second.", "timestamp": "00:23:12,076", "timestamp_s": 1392.0}, {"text": "So we have an auth service and we have a proxy service,", "timestamp": "00:23:16,000", "timestamp_s": 1396.0}, {"text": "but we don\u0027t have auth running in every region. So whenever proxies", "timestamp": "00:23:19,376", "timestamp_s": 1399.0}, {"text": "need to speak to auth in us east one, those connections get", "timestamp": "00:23:23,850", "timestamp_s": 1403.0}, {"text": "redirected to Auth, to a", "timestamp": "00:23:27,652", "timestamp_s": 1407.0}, {"text": "service that has the same name that cilium automatically provides forwarding connectivity to", "timestamp": "00:23:31,108", "timestamp_s": 1411.0}, {"text": "in us east", "timestamp": "00:23:36,230", "timestamp_s": 1416.0}, {"text": "one, to us west two. So that lets us run", "timestamp": "00:23:39,838", "timestamp_s": 1419.0}, {"text": "our Auth servers in multiple availability zones in one region,", "timestamp": "00:23:45,290", "timestamp_s": 1425.0}, {"text": "but not have to run them in every region. And proxies in all", "timestamp": "00:23:49,370", "timestamp_s": 1429.0}, {"text": "regions have cached access to those", "timestamp": "00:23:53,132", "timestamp_s": 1433.0}, {"text": "auth server pods. In some cases,", "timestamp": "00:23:57,404", "timestamp_s": 1437.0}, {"text": "we don\u0027t have proxies available at a region,", "timestamp": "00:24:00,358", "timestamp_s": 1440.0}, {"text": "and in those cases, our custom controllers also can create a global", "timestamp": "00:24:03,790", "timestamp_s": 1443.0}, {"text": "service that redirects proxy connectivity to", "timestamp": "00:24:07,238", "timestamp_s": 1447.0}, {"text": "the closest region which can calculate. And so", "timestamp": "00:24:12,030", "timestamp_s": 1452.0}, {"text": "that is our user journey through teleport cloud architecture", "timestamp": "00:24:15,716", "timestamp_s": 1455.0}, {"text": "covering ingress deployment and container networking.", "timestamp": "00:24:19,338", "timestamp_s": 1459.0}, {"text": "Just as a reminder, a lot of the stuff you saw today", "timestamp": "00:24:24,290", "timestamp_s": 1464.0}, {"text": "is open source sync controller.", "timestamp": "00:24:27,608", "timestamp_s": 1467.0}, {"text": "You know, as Apache two licensed,", "timestamp": "00:24:30,870", "timestamp_s": 1470.0}, {"text": "we actually just open sourced this a couple of days ago. Please check it out.", "timestamp": "00:24:33,822", "timestamp_s": 1473.0}, {"text": "It\u0027s not something you deploy to a Kubernetes cluster. It\u0027s a tool you", "timestamp": "00:24:38,810", "timestamp_s": 1478.0}, {"text": "can use to build. It\u0027s a reconciler you", "timestamp": "00:24:42,188", "timestamp_s": 1482.0}, {"text": "can import into your own controller manager that will let you create", "timestamp": "00:24:45,404", "timestamp_s": 1485.0}, {"text": "a management plane using your own custom resources.", "timestamp": "00:24:48,908", "timestamp_s": 1488.0}, {"text": "We also maintain a fork of envoy gateway that supports ALPN", "timestamp": "00:24:52,750", "timestamp_s": 1492.0}, {"text": "routing and has a couple of other changes we made and a", "timestamp": "00:24:56,182", "timestamp_s": 1496.0}, {"text": "lot of them we got upstream actually to kind of", "timestamp": "00:24:59,744", "timestamp_s": 1499.0}, {"text": "stabilize some parts of envoy gateway work.", "timestamp": "00:25:03,730", "timestamp_s": 1503.0}, {"text": "And finally, of course, teleport is Apache two licensed.", "timestamp": "00:25:07,380", "timestamp_s": 1507.0}, {"text": "You can check that out as well, deploy the open source version and see", "timestamp": "00:25:10,538", "timestamp_s": 1510.0}, {"text": "what you think. And last but not least,", "timestamp": "00:25:14,372", "timestamp_s": 1514.0}, {"text": "I want to give a huge thanks to everybody on the teleport", "timestamp": "00:25:17,972", "timestamp_s": 1517.0}, {"text": "cloud backend team. Carson, David Tobias and Bert Bernard.", "timestamp": "00:25:21,434", "timestamp_s": 1521.0}, {"text": "You can kind of see the parts they worked on here. This was a huge", "timestamp": "00:25:25,650", "timestamp_s": 1525.0}, {"text": "team effort, wasn\u0027t just this team, right,", "timestamp": "00:25:28,476", "timestamp_s": 1528.0}, {"text": "to kind of get this platform together.", "timestamp": "00:25:32,970", "timestamp_s": 1532.0}, {"text": "And that\u0027s all I got. Thanks everybody.", "timestamp": "00:25:36,490", "timestamp_s": 1536.0}];
              

              var tag = document.createElement('script');

              tag.src = "https://www.youtube.com/iframe_api";
              var firstScriptTag = document.getElementsByTagName('script')[0];
              firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

              // 3. This function creates an <iframe> (and YouTube player)
              //    after the API code downloads.
              var player;
              function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                  height: '100%',
                  width: '100%',
                  videoId: 'f4qxdG79QrI',
                  playerVars: {
                    'playsinline': 1
                  },
                  events: {
                    'onReady': onPlayerReady,
                    // 'onStateChange': onPlayerStateChange
                  }
                });
              }
              function onPlayerReady(event) {
                console.log("Player ready");
                var sec = Number(location.href.split("#")[1]);
                if (sec){
                  player.seekTo(sec, true);
                }
                player.playVideo();
                highlightParagraph();
              }
              // find the number of the paragraph
              function findParagraph(sec){
                for (var i = 1; i < transcript.length; i++) {
                  if (transcript[i].timestamp_s > sec){
                    return i - 1;
                  }
                }
                return transcript.length - 1;
              }
              // move the video to the desired second
              function seek(sec){
                if(player){
                  player.playVideo();
                  player.seekTo(sec, true);
                }
                location.href = location.href.split("#")[0] + "#" + sec;
                highlightParagraph(sec);
              }
              // highlight the right paragraph
              var prevParagraph;
              function highlightParagraph(sec) {
                var currentTime = sec;
                if (!currentTime && player) {
                  currentTime = player.getCurrentTime();
                }
                if (!currentTime){
                  console.log("No current time")
                  return;
                }
                var currentParagraph = findParagraph(currentTime);
                if (currentParagraph !== prevParagraph){
                  prevParagraph = currentParagraph;
                  Array.from(document.getElementsByClassName("transcript-chunks")).forEach((e) => {
                    e.classList.remove('text-selected');
                  });
                  var body = document.getElementById("chunk-"+currentParagraph);
                  body.classList.add('text-selected');
                }
              }
              time_update_interval = setInterval(highlightParagraph, 1000);
            </script>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>
    

    <!-- CONTENT -->
    <section class="pt-2">
      <div class="container">
        <div class="row justify-content-center">

          <div class="col-12 mb-5">
            <h1>
              Scaling Multi-cluster Kubernetes at Teleport Cloud
            </h1>
            
            <h3 class="bg-white">
              Video size:
              <a href="javascript:void(0);" onclick="resizeVideo(25)"><i class="fe fe-zoom-out me-2"></i></a>
              <a href="javascript:void(0);" onclick="resizeVideo(50)"><i class="fe fe-zoom-in me-2"></i></a>
            </h3>
            
          </div>

          <div class="col-12 mb-5">
            <h3>
              Abstract
            </h3>
<!-- Text -->
<p>Resilient multi-cluster Kubernetes architecture is challenging to nail down, especially for applications that require complex and coordinated deployment strategies.</p>
<p>At Teleport Cloud, we manage dedicated instances of Teleport using Kubernetes clusters (EKS) in six regions that maintain more than 100k reverse tunnels.</p>
<p>This talk covers our strategy for configuration management, multi-cluster coordination, and zero-downtime deployment with ultra-long-lived TCP connections on Kubernetes.</p>
<!-- End Text -->
          </div>

          
          

          <div class="col-12 mb-5">
            <h3>
              Summary
            </h3>
            <ul>
              
              <li>
                Teleport is an open source infrastructure access platform that makes use of reverse tunnels. For teleport cloud, we run a dedicated instance of teleport for every customer. Maintaining highly available, ultra long lived reverse tunnels to the resources that people need access to is a top thing.

              </li>
              
              <li>
                How do we upgrade teleport, auth and proxy across six regions in a coordinated way? The first thing we tried was Gitops. We built something that just solves this problem in a really narrow way. It's called sync controller.
              </li>
              
            </ul>
          </div>

          <div class="col-12 mb-5">
            <h3>
              Transcript
            </h3>
            <span class="text-muted">
              This transcript was autogenerated. To make changes, <a href="https://github.com/conf42/src/edit/main/./assemblyai/f4qxdG79QrI.srt" target="_blank">submit a PR</a>.
            </span>
            <div>
            
            <span id="chunk-0" class="transcript-chunks" onclick="console.log('00:00:27,330'); seek(27.0)">
              Hi everyone. Today I'm going to talk about how we scaled multi cluster kubernetes at
            </span>
            
            <span id="chunk-1" class="transcript-chunks" onclick="console.log('00:00:31,084'); seek(31.0)">
              teleport cloud. So what is teleport? So, if you don't know, teleport is
            </span>
            
            <span id="chunk-2" class="transcript-chunks" onclick="console.log('00:00:35,068'); seek(35.0)">
              an open source infrastructure access platform that makes use of
            </span>
            
            <span id="chunk-3" class="transcript-chunks" onclick="console.log('00:00:38,492'); seek(38.0)">
              reverse tunnels, like for example SSH tunnels, to provide
            </span>
            
            <span id="chunk-4" class="transcript-chunks" onclick="console.log('00:00:42,284'); seek(42.0)">
              audited access to infrastructure for developers, also for CI
            </span>
            
            <span id="chunk-5" class="transcript-chunks" onclick="console.log('00:00:46,018'); seek(46.0)">
              CD systems or other use cases like Internet
            </span>
            
            <span id="chunk-6" class="transcript-chunks" onclick="console.log('00:00:49,378'); seek(49.0)">
              of things. And so Teleport provides access to Kubernetes
            </span>
            
            <span id="chunk-7" class="transcript-chunks" onclick="console.log('00:00:53,290'); seek(53.0)">
              SSH database, like postgres, for example,
            </span>
            
            <span id="chunk-8" class="transcript-chunks" onclick="console.log('00:00:57,330'); seek(57.0)">
              web application and Windows desktop resources.
            </span>
            
            <span id="chunk-9" class="transcript-chunks" onclick="console.log('00:01:02,210'); seek(62.0)">
              It understands the different protocols behind those
            </span>
            
            <span id="chunk-10" class="transcript-chunks" onclick="console.log('00:01:05,992'); seek(65.0)">
              resource types so that it can provide application
            </span>
            
            <span id="chunk-11" class="transcript-chunks" onclick="console.log('00:01:10,488'); seek(70.0)">
              level auditing, right? It understands what Kubernetes
            </span>
            
            <span id="chunk-12" class="transcript-chunks" onclick="console.log('00:01:13,902'); seek(73.0)">
              commands look like, what SSH commands look like,
            </span>
            
            <span id="chunk-13" class="transcript-chunks" onclick="console.log('00:01:16,716'); seek(76.0)">
              to be able to audit the connections to those different
            </span>
            
            <span id="chunk-14" class="transcript-chunks" onclick="console.log('00:01:21,930'); seek(81.0)">
              resources that you might be wrong. And so if you look at teleport's architecture,
            </span>
            
            <span id="chunk-15" class="transcript-chunks" onclick="console.log('00:01:26,226'); seek(86.0)">
              the kind of key components that run on the server side are the
            </span>
            
            <span id="chunk-16" class="transcript-chunks" onclick="console.log('00:01:30,128'); seek(90.0)">
              teleport proxy, which provides connectivity,
            </span>
            
            <span id="chunk-17" class="transcript-chunks" onclick="console.log('00:01:33,638'); seek(93.0)">
              like for instance, managing reverse tunnels. And the Teleport
            </span>
            
            <span id="chunk-18" class="transcript-chunks" onclick="console.log('00:01:37,078'); seek(97.0)">
              auth server, which does authentication and authorization,
            </span>
            
            <span id="chunk-19" class="transcript-chunks" onclick="console.log('00:01:40,670'); seek(100.0)">
              manages like user roles, provides the kind of back
            </span>
            
            <span id="chunk-20" class="transcript-chunks" onclick="console.log('00:01:44,592'); seek(104.0)">
              end logic. And so if
            </span>
            
            <span id="chunk-21" class="transcript-chunks" onclick="console.log('00:01:48,708'); seek(108.0)">
              you might imagine what a client connection to a resource that's managed by
            </span>
            
            <span id="chunk-22" class="transcript-chunks" onclick="console.log('00:01:51,988'); seek(111.0)">
              teleport would look like, say you're connecting to a Kubernetes cluster,
            </span>
            
            <span id="chunk-23" class="transcript-chunks" onclick="console.log('00:01:55,342'); seek(115.0)">
              you might run Kubecontrol get pods, and you're
            </span>
            
            <span id="chunk-24" class="transcript-chunks" onclick="console.log('00:01:59,422'); seek(119.0)">
              not connected to directly to a Kubernetes cluster, but instead you're pointed at
            </span>
            
            <span id="chunk-25" class="transcript-chunks" onclick="console.log('00:02:03,272'); seek(123.0)">
              a teleport proxy through an mtls connection.
            </span>
            
            <span id="chunk-26" class="transcript-chunks" onclick="console.log('00:02:06,970'); seek(126.0)">
              And then the teleport proxy also has a reverse tunnel
            </span>
            
            <span id="chunk-27" class="transcript-chunks" onclick="console.log('00:02:10,642'); seek(130.0)">
              coming from that Kubernetes cluster egressing
            </span>
            
            <span id="chunk-28" class="transcript-chunks" onclick="console.log('00:02:14,338'); seek(134.0)">
              out through a firewall. And the
            </span>
            
            <span id="chunk-29" class="transcript-chunks" onclick="console.log('00:02:18,828'); seek(138.0)">
              connection is coming from a teleport agent that's running in a pod in that cluster.
            </span>
            
            <span id="chunk-30" class="transcript-chunks" onclick="console.log('00:02:22,214'); seek(142.0)">
              And so your Kubecontroll
            </span>
            
            <span id="chunk-31" class="transcript-chunks" onclick="console.log('00:02:26,198'); seek(146.0)">
              get pods command goes through the proxy through the reverse tunnel
            </span>
            
            <span id="chunk-32" class="transcript-chunks" onclick="console.log('00:02:29,398'); seek(149.0)">
              and reaches the cluster on the other end to provide access. And so
            </span>
            
            <span id="chunk-33" class="transcript-chunks" onclick="console.log('00:02:33,092'); seek(153.0)">
              Teleport cloud is a kind of hosted
            </span>
            
            <span id="chunk-34" class="transcript-chunks" onclick="console.log('00:02:37,178'); seek(157.0)">
              version of teleport that's offered by teleport
            </span>
            
            <span id="chunk-35" class="transcript-chunks" onclick="console.log('00:02:41,274'); seek(161.0)">
              as a company. And for teleport cloud,
            </span>
            
            <span id="chunk-36" class="transcript-chunks" onclick="console.log('00:02:44,472'); seek(164.0)">
              we run a dedicated instance of teleport for every
            </span>
            
            <span id="chunk-37" class="transcript-chunks" onclick="console.log('00:02:47,736'); seek(167.0)">
              customer. And so that means we're running a deployment of teleport,
            </span>
            
            <span id="chunk-38" class="transcript-chunks" onclick="console.log('00:02:51,750'); seek(171.0)">
              many deployments of teleport,
            </span>
            
            <span id="chunk-39" class="transcript-chunks" onclick="console.log('00:02:56,250'); seek(176.0)">
              where we're operating over 10,000 pods, we're operating over 100,000
            </span>
            
            <span id="chunk-40" class="transcript-chunks" onclick="console.log('00:03:00,316'); seek(180.0)">
              reverse tunnels at a given time. And this
            </span>
            
            <span id="chunk-41" class="transcript-chunks" onclick="console.log('00:03:04,828'); seek(184.0)">
              happens across six regions to provide global availability
            </span>
            
            <span id="chunk-42" class="transcript-chunks" onclick="console.log('00:03:08,590'); seek(188.0)">
              anytime any of those tunnels are disrupted, that would
            </span>
            
            <span id="chunk-43" class="transcript-chunks" onclick="console.log('00:03:12,864'); seek(192.0)">
              disrupt access to the underlying resources. And so it's really, really important that
            </span>
            
            <span id="chunk-44" class="transcript-chunks" onclick="console.log('00:03:18,030'); seek(198.0)">
              we provide a very stable network stack for this
            </span>
            
            <span id="chunk-45" class="transcript-chunks" onclick="console.log('00:03:21,332'); seek(201.0)">
              platform. Another kind
            </span>
            
            <span id="chunk-46" class="transcript-chunks" onclick="console.log('00:03:25,524'); seek(205.0)">
              of important detail here is that those proxies, they're running each of
            </span>
            
            <span id="chunk-47" class="transcript-chunks" onclick="console.log('00:03:29,124'); seek(209.0)">
              those separate kubernetes clusters in each region,
            </span>
            
            <span id="chunk-48" class="transcript-chunks" onclick="console.log('00:03:32,370'); seek(212.0)">
              peered connections. So a client might connect to a proxy in one region,
            </span>
            
            <span id="chunk-49" class="transcript-chunks" onclick="console.log('00:03:37,190'); seek(217.0)">
              and a peered GRPC connection between the proxy
            </span>
            
            <span id="chunk-50" class="transcript-chunks" onclick="console.log('00:03:41,750'); seek(221.0)">
              from that proxy to a proxy that the resource they're trying to access
            </span>
            
            <span id="chunk-51" class="transcript-chunks" onclick="console.log('00:03:45,240'); seek(225.0)">
              is running in happens, and then the connection
            </span>
            
            <span id="chunk-52" class="transcript-chunks" onclick="console.log('00:03:49,122'); seek(229.0)">
              goes through the reverse tunnels to that resource. For a long
            </span>
            
            <span id="chunk-53" class="transcript-chunks" onclick="console.log('00:03:52,812'); seek(232.0)">
              time we ran teleport cloud on gravity. We've recently switched to eks,
            </span>
            
            <span id="chunk-54" class="transcript-chunks" onclick="console.log('00:03:56,786'); seek(236.0)">
              where we have an eks cluster in each of the regions that we provide connectivity
            </span>
            
            <span id="chunk-55" class="transcript-chunks" onclick="console.log('00:04:01,302'); seek(241.0)">
              for. And so if you break down the kind
            </span>
            
            <span id="chunk-56" class="transcript-chunks" onclick="console.log('00:04:04,624'); seek(244.0)">
              of major needs that we had when putting together this platform,
            </span>
            
            <span id="chunk-57" class="transcript-chunks" onclick="console.log('00:04:09,630'); seek(249.0)">
              I'll just kind of focus on three really important things.
            </span>
            
            <span id="chunk-58" class="transcript-chunks" onclick="console.log('00:04:13,330'); seek(253.0)">
              Ingress. So maintaining
            </span>
            
            <span id="chunk-59" class="transcript-chunks" onclick="console.log('00:04:17,018'); seek(257.0)">
              highly available, ultra long lived reverse tunnels to the resources
            </span>
            
            <span id="chunk-60" class="transcript-chunks" onclick="console.log('00:04:20,538'); seek(260.0)">
              that people need access to is a top thing.
            </span>
            
            <span id="chunk-61" class="transcript-chunks" onclick="console.log('00:04:24,950'); seek(264.0)">
              It was really important that we be able to do coordinated rollouts across these regional
            </span>
            
            <span id="chunk-62" class="transcript-chunks" onclick="console.log('00:04:28,958'); seek(268.0)">
              clusters. And so we
            </span>
            
            <span id="chunk-63" class="transcript-chunks" onclick="console.log('00:04:33,464'); seek(273.0)">
              often want to update auth servers when we do an upgrade of teleport first,
            </span>
            
            <span id="chunk-64" class="transcript-chunks" onclick="console.log('00:04:37,420'); seek(277.0)">
              and then upgrade the proxies because of
            </span>
            
            <span id="chunk-65" class="transcript-chunks" onclick="console.log('00:04:41,052'); seek(281.0)">
              how the Auth servers cache proxy heartbeats, or we
            </span>
            
            <span id="chunk-66" class="transcript-chunks" onclick="console.log('00:04:44,908'); seek(284.0)">
              might want to not roll the proxies in every single region. At the same time,
            </span>
            
            <span id="chunk-67" class="transcript-chunks" onclick="console.log('00:04:48,416'); seek(288.0)">
              we might need a more coordinated deployment strategies
            </span>
            
            <span id="chunk-68" class="transcript-chunks" onclick="console.log('00:04:52,406'); seek(292.0)">
              for some different customer
            </span>
            
            <span id="chunk-69" class="transcript-chunks" onclick="console.log('00:04:56,080'); seek(296.0)">
              use cases. And finally, container networking.
            </span>
            
            <span id="chunk-70" class="transcript-chunks" onclick="console.log('00:04:59,622'); seek(299.0)">
              All these clusters have to speak to each other. The proxies need to peer.
            </span>
            
            <span id="chunk-71" class="transcript-chunks" onclick="console.log('00:05:02,710'); seek(302.0)">
              Everything needs connectivity to auth servers, but AutH servers don't
            </span>
            
            <span id="chunk-72" class="transcript-chunks" onclick="console.log('00:05:06,234'); seek(306.0)">
              run in every region. And so just focusing on ingress first,
            </span>
            
            <span id="chunk-73" class="transcript-chunks" onclick="console.log('00:05:09,970'); seek(309.0)">
              I'll kind of go through a journey of things. We tried for all of these
            </span>
            
            <span id="chunk-74" class="transcript-chunks" onclick="console.log('00:05:14,232'); seek(314.0)">
              and how we arrived at the architecture that we have
            </span>
            
            <span id="chunk-75" class="transcript-chunks" onclick="console.log('00:05:20,568'); seek(320.0)">
              today. So first we tried anycast, actually,
            </span>
            
            <span id="chunk-76" class="transcript-chunks" onclick="console.log('00:05:24,296'); seek(324.0)">
              and you might imagine how this went.
            </span>
            
            <span id="chunk-77" class="transcript-chunks" onclick="console.log('00:05:27,370'); seek(327.0)">
              Anycast, we really liked any cast. We tried out anycast
            </span>
            
            <span id="chunk-78" class="transcript-chunks" onclick="console.log('00:05:30,722'); seek(330.0)">
              through AWS global accelerator.
            </span>
            
            <span id="chunk-79" class="transcript-chunks" onclick="console.log('00:05:33,858'); seek(333.0)">
              We liked it because it provided really stable ip
            </span>
            
            <span id="chunk-80" class="transcript-chunks" onclick="console.log('00:05:39,942'); seek(339.0)">
              addresses. DNS never had to change. We could give everybody in the world a single
            </span>
            
            <span id="chunk-81" class="transcript-chunks" onclick="console.log('00:05:44,176'); seek(344.0)">
              ip address for teleport cloud,
            </span>
            
            <span id="chunk-82" class="transcript-chunks" onclick="console.log('00:05:47,648'); seek(347.0)">
              and they'd be able to really reliably connect to that. But at the
            </span>
            
            <span id="chunk-83" class="transcript-chunks" onclick="console.log('00:05:51,088'); seek(351.0)">
              same time, as you might imagine, anycast didn't quite provide stable
            </span>
            
            <span id="chunk-84" class="transcript-chunks" onclick="console.log('00:05:54,442'); seek(354.0)">
              enough routing. I think there have been a lot of success stories
            </span>
            
            <span id="chunk-85" class="transcript-chunks" onclick="console.log('00:05:58,042'); seek(358.0)">
              with anycast and streaming video,
            </span>
            
            <span id="chunk-86" class="transcript-chunks" onclick="console.log('00:06:01,140'); seek(361.0)">
              like kind of long lived TCP connections in that context. But we found that
            </span>
            
            <span id="chunk-87" class="transcript-chunks" onclick="console.log('00:06:05,256'); seek(365.0)">
              even with a lot of logic, that would resume reverse tunnels quickly if
            </span>
            
            <span id="chunk-88" class="transcript-chunks" onclick="console.log('00:06:08,824'); seek(368.0)">
              they dropped. It really just wasn't stable
            </span>
            
            <span id="chunk-89" class="transcript-chunks" onclick="console.log('00:06:12,126'); seek(372.0)">
              enough to provide really consistent,
            </span>
            
            <span id="chunk-90" class="transcript-chunks" onclick="console.log('00:06:16,710'); seek(376.0)">
              really highly available connectivity.
            </span>
            
            <span id="chunk-91" class="transcript-chunks" onclick="console.log('00:06:20,390'); seek(380.0)">
              And so any cast didn't work out for us. We also tried
            </span>
            
            <span id="chunk-92" class="transcript-chunks" onclick="console.log('00:06:24,732'); seek(384.0)">
              open source Nginx as a kind
            </span>
            
            <span id="chunk-93" class="transcript-chunks" onclick="console.log('00:06:30,288'); seek(390.0)">
              of ingress routing layer in each of the clusters.
            </span>
            
            <span id="chunk-94" class="transcript-chunks" onclick="console.log('00:06:34,350'); seek(394.0)">
              And we really liked Nginx because it supported ALPN
            </span>
            
            <span id="chunk-95" class="transcript-chunks" onclick="console.log('00:06:39,542'); seek(399.0)">
              routing. So Nginx
            </span>
            
            <span id="chunk-96" class="transcript-chunks" onclick="console.log('00:06:42,858'); seek(402.0)">
              will let you route connections from different clients using.
            </span>
            
            <span id="chunk-97" class="transcript-chunks" onclick="console.log('00:06:47,764'); seek(407.0)">
              So ALPN is kind of similar to SNI. It's some metadata
            </span>
            
            <span id="chunk-98" class="transcript-chunks" onclick="console.log('00:06:51,674'); seek(411.0)">
              in a TLS connection that'll let you make decisions about how to route that
            </span>
            
            <span id="chunk-99" class="transcript-chunks" onclick="console.log('00:06:55,528'); seek(415.0)">
              connection without terminating
            </span>
            
            <span id="chunk-100" class="transcript-chunks" onclick="console.log('00:06:59,598'); seek(419.0)">
              it, without decrypting it. And so the ingress stack could
            </span>
            
            <span id="chunk-101" class="transcript-chunks" onclick="console.log('00:07:03,432'); seek(423.0)">
              separate client connections from agent connections and route to the correct proxies
            </span>
            
            <span id="chunk-102" class="transcript-chunks" onclick="console.log('00:07:07,842'); seek(427.0)">
              using that metadata. And Nginx did
            </span>
            
            <span id="chunk-103" class="transcript-chunks" onclick="console.log('00:07:11,564'); seek(431.0)">
              a great job with that, but it had no in process configuration reloading.
            </span>
            
            <span id="chunk-104" class="transcript-chunks" onclick="console.log('00:07:15,522'); seek(435.0)">
              And so anytime we'd need to make a change to these routes,
            </span>
            
            <span id="chunk-105" class="transcript-chunks" onclick="console.log('00:07:18,946'); seek(438.0)">
              we'd need to start a new instance of NginX. And eventually the memory usage
            </span>
            
            <span id="chunk-106" class="transcript-chunks" onclick="console.log('00:07:22,902'); seek(442.0)">
              got really high. It just didn't work well for
            </span>
            
            <span id="chunk-107" class="transcript-chunks" onclick="console.log('00:07:26,592'); seek(446.0)">
              how often we needed to change the ingress configuration. And so
            </span>
            
            <span id="chunk-108" class="transcript-chunks" onclick="console.log('00:07:30,624'); seek(450.0)">
              we didn't go with Nginx either. And so now I'll talk about what we did
            </span>
            
            <span id="chunk-109" class="transcript-chunks" onclick="console.log('00:07:34,068'); seek(454.0)">
              do. So our ingress stack
            </span>
            
            <span id="chunk-110" class="transcript-chunks" onclick="console.log('00:07:39,730'); seek(459.0)">
              at the DNF level, we used route 53 latency records
            </span>
            
            <span id="chunk-111" class="transcript-chunks" onclick="console.log('00:07:43,822'); seek(463.0)">
              with the external DNS operator. And so
            </span>
            
            <span id="chunk-112" class="transcript-chunks" onclick="console.log('00:07:47,750'); seek(467.0)">
              the external DNS operator would publish latency records
            </span>
            
            <span id="chunk-113" class="transcript-chunks" onclick="console.log('00:07:51,214'); seek(471.0)">
              to route 53 based on the
            </span>
            
            <span id="chunk-114" class="transcript-chunks" onclick="console.log('00:07:56,810'); seek(476.0)">
              nlbs that separate
            </span>
            
            <span id="chunk-115" class="transcript-chunks" onclick="console.log('00:08:01,122'); seek(481.0)">
              network load balancers that would sit in each region.
            </span>
            
            <span id="chunk-116" class="transcript-chunks" onclick="console.log('00:08:04,330'); seek(484.0)">
              And we use network load balancers instead of
            </span>
            
            <span id="chunk-117" class="transcript-chunks" onclick="console.log('00:08:07,628'); seek(487.0)">
              any cast because they're kind of stateless.
            </span>
            
            <span id="chunk-118" class="transcript-chunks" onclick="console.log('00:08:12,030'); seek(492.0)">
              So when there are changes to them underneath, they don't necessarily drop connections.
            </span>
            
            <span id="chunk-119" class="transcript-chunks" onclick="console.log('00:08:17,070'); seek(497.0)">
              And they let us provide really stable reverse
            </span>
            
            <span id="chunk-120" class="transcript-chunks" onclick="console.log('00:08:21,274'); seek(501.0)">
              tunnels. Instead of NgINX, we went with
            </span>
            
            <span id="chunk-121" class="transcript-chunks" onclick="console.log('00:08:24,916'); seek(504.0)">
              envoy proxy, which also supports ALPN routing,
            </span>
            
            <span id="chunk-122" class="transcript-chunks" onclick="console.log('00:08:28,490'); seek(508.0)">
              which is great. And we configuration it using Gateway API,
            </span>
            
            <span id="chunk-123" class="transcript-chunks" onclick="console.log('00:08:32,506'); seek(512.0)">
              which is a kind of new set of APIs for
            </span>
            
            <span id="chunk-124" class="transcript-chunks" onclick="console.log('00:08:36,136'); seek(516.0)">
              ingress in Kubernetes that aims
            </span>
            
            <span id="chunk-125" class="transcript-chunks" onclick="console.log('00:08:41,054'); seek(521.0)">
              to replace ingress resources
            </span>
            
            <span id="chunk-126" class="transcript-chunks" onclick="console.log('00:08:45,374'); seek(525.0)">
              that have existed in the past. And we used our
            </span>
            
            <span id="chunk-127" class="transcript-chunks" onclick="console.log('00:08:49,084'); seek(529.0)">
              own fork of envoy gateway that had some. For one,
            </span>
            
            <span id="chunk-128" class="transcript-chunks" onclick="console.log('00:08:53,212'); seek(533.0)">
              it supports using annotations to do ALPN routing
            </span>
            
            <span id="chunk-129" class="transcript-chunks" onclick="console.log('00:08:56,674'); seek(536.0)">
              on TLS routes, but we also made some kind of stabilizing
            </span>
            
            <span id="chunk-130" class="transcript-chunks" onclick="console.log('00:09:00,118'); seek(540.0)">
              changes there that we're working to get upstream.
            </span>
            
            <span id="chunk-131" class="transcript-chunks" onclick="console.log('00:09:03,390'); seek(543.0)">
              And finally we have a little hack for doing zero downtime deployments
            </span>
            
            <span id="chunk-132" class="transcript-chunks" onclick="console.log('00:09:07,990'); seek(547.0)">
              using min ready seconds on top of deployments that
            </span>
            
            <span id="chunk-133" class="transcript-chunks" onclick="console.log('00:09:11,124'); seek(551.0)">
              I'll talk. And so, to kind of break down what this looks like,
            </span>
            
            <span id="chunk-134" class="transcript-chunks" onclick="console.log('00:09:14,100'); seek(554.0)">
              imagine you're
            </span>
            
            <span id="chunk-135" class="transcript-chunks" onclick="console.log('00:09:18,458'); seek(558.0)">
              trying to connect to your Kubernetes cluster using Kubecontrol and
            </span>
            
            <span id="chunk-136" class="transcript-chunks" onclick="console.log('00:09:23,012'); seek(563.0)">
              the teleport agents running in the Kubernetes cluster, which is behind a firewall.
            </span>
            
            <span id="chunk-137" class="transcript-chunks" onclick="console.log('00:09:26,830'); seek(566.0)">
              So the relevant pieces of teleport
            </span>
            
            <span id="chunk-138" class="transcript-chunks" onclick="console.log('00:09:30,238'); seek(570.0)">
              you'll see here are the proxy pods running in each of in this case,
            </span>
            
            <span id="chunk-139" class="transcript-chunks" onclick="console.log('00:09:33,496'); seek(573.0)">
              we'll just talk about three regions where the client is connecting
            </span>
            
            <span id="chunk-140" class="transcript-chunks" onclick="console.log('00:09:36,882'); seek(576.0)">
              through proxies in us east one to
            </span>
            
            <span id="chunk-141" class="transcript-chunks" onclick="console.log('00:09:41,370'); seek(581.0)">
              proxies in AP southeast one where the Kubernetes cluster is running.
            </span>
            
            <span id="chunk-142" class="transcript-chunks" onclick="console.log('00:09:45,690'); seek(585.0)">
              All the proxy pods have a kind
            </span>
            
            <span id="chunk-143" class="transcript-chunks" onclick="console.log('00:09:49,024'); seek(589.0)">
              of streaming connections to the auth server,
            </span>
            
            <span id="chunk-144" class="transcript-chunks" onclick="console.log('00:09:52,230'); seek(592.0)">
              so they get up to date information on roles
            </span>
            
            <span id="chunk-145" class="transcript-chunks" onclick="console.log('00:09:56,294'); seek(596.0)">
              and information needed to make
            </span>
            
            <span id="chunk-146" class="transcript-chunks" onclick="console.log('00:10:00,830'); seek(600.0)">
              authorization decisions. All the
            </span>
            
            <span id="chunk-147" class="transcript-chunks" onclick="console.log('00:10:04,724'); seek(604.0)">
              proxies cache this information so that they can really quickly
            </span>
            
            <span id="chunk-148" class="transcript-chunks" onclick="console.log('00:10:08,356'); seek(608.0)">
              make these decisions without having to reach out to auth for all of it.
            </span>
            
            <span id="chunk-149" class="transcript-chunks" onclick="console.log('00:10:11,460'); seek(611.0)">
              So we have the reverse tunnel that's coming from the Kubernetes
            </span>
            
            <span id="chunk-150" class="transcript-chunks" onclick="console.log('00:10:14,846'); seek(614.0)">
              cluster, and we have the agent connections,
            </span>
            
            <span id="chunk-151" class="transcript-chunks" onclick="console.log('00:10:18,558'); seek(618.0)">
              these Goop control, that get routed to the closest proxy
            </span>
            
            <span id="chunk-152" class="transcript-chunks" onclick="console.log('00:10:22,238'); seek(622.0)">
              through a peered connection between the proxies and then finally back up to
            </span>
            
            <span id="chunk-153" class="transcript-chunks" onclick="console.log('00:10:25,480'); seek(625.0)">
              the Kubernetes cluster. So if we take auth out of this for a second and
            </span>
            
            <span id="chunk-154" class="transcript-chunks" onclick="console.log('00:10:28,904'); seek(628.0)">
              just look at the connectivity piece, what this looks like is we
            </span>
            
            <span id="chunk-155" class="transcript-chunks" onclick="console.log('00:10:32,972'); seek(632.0)">
              have the external DNS controller running in each cluster,
            </span>
            
            <span id="chunk-156" class="transcript-chunks" onclick="console.log('00:10:36,978'); seek(636.0)">
              and we have nlbs sitting in front of
            </span>
            
            <span id="chunk-157" class="transcript-chunks" onclick="console.log('00:10:40,336'); seek(640.0)">
              the nodes that run the
            </span>
            
            <span id="chunk-158" class="transcript-chunks" onclick="console.log('00:10:43,968'); seek(643.0)">
              proxy pods in each of the clusters. And external DNS is
            </span>
            
            <span id="chunk-159" class="transcript-chunks" onclick="console.log('00:10:47,488'); seek(647.0)">
              reading the ips of those nlbs and reporting them back
            </span>
            
            <span id="chunk-160" class="transcript-chunks" onclick="console.log('00:10:50,868'); seek(650.0)">
              to route 53 so that it can report the ip of the closest
            </span>
            
            <span id="chunk-161" class="transcript-chunks" onclick="console.log('00:10:55,730'); seek(655.0)">
              proxy when your end user,
            </span>
            
            <span id="chunk-162" class="transcript-chunks" onclick="console.log('00:10:59,354'); seek(659.0)">
              client or agent needs to connect to a proxy so that
            </span>
            
            <span id="chunk-163" class="transcript-chunks" onclick="console.log('00:11:03,044'); seek(663.0)">
              it gets the closest regions.
            </span>
            
            <span id="chunk-164" class="transcript-chunks" onclick="console.log('00:11:07,430'); seek(667.0)">
              And so how do we do a zero downtime deploy on top of this
            </span>
            
            <span id="chunk-165" class="transcript-chunks" onclick="console.log('00:11:10,872'); seek(670.0)">
              architecture? And this gets a little coordinated because we have
            </span>
            
            <span id="chunk-166" class="transcript-chunks" onclick="console.log('00:11:14,776'); seek(674.0)">
              these reverse tunnels that are open all the time connected to proxies,
            </span>
            
            <span id="chunk-167" class="transcript-chunks" onclick="console.log('00:11:18,482'); seek(678.0)">
              but we need to update those proxies, right?
            </span>
            
            <span id="chunk-168" class="transcript-chunks" onclick="console.log('00:11:21,596'); seek(681.0)">
              So if you look at the architecture we had before, what this looks
            </span>
            
            <span id="chunk-169" class="transcript-chunks" onclick="console.log('00:11:25,052'); seek(685.0)">
              like is that we have envoy running in each cluster,
            </span>
            
            <span id="chunk-170" class="transcript-chunks" onclick="console.log('00:11:28,438'); seek(688.0)">
              configured by Envoy gateway routing to different
            </span>
            
            <span id="chunk-171" class="transcript-chunks" onclick="console.log('00:11:32,032'); seek(692.0)">
              proxy pods for different customers.
            </span>
            
            <span id="chunk-172" class="transcript-chunks" onclick="console.log('00:11:35,390'); seek(695.0)">
              And when we want to do a deploy, we use
            </span>
            
            <span id="chunk-173" class="transcript-chunks" onclick="console.log('00:11:39,312'); seek(699.0)">
              the ALPN routing feature in envoy in order to
            </span>
            
            <span id="chunk-174" class="transcript-chunks" onclick="console.log('00:11:45,570'); seek(705.0)">
              control whether connections
            </span>
            
            <span id="chunk-175" class="transcript-chunks" onclick="console.log('00:11:49,722'); seek(709.0)">
              land on the old pods or the new pods. So an interesting thing we did
            </span>
            
            <span id="chunk-176" class="transcript-chunks" onclick="console.log('00:11:52,932'); seek(712.0)">
              here is that we used a feature of Kubernetes deployments
            </span>
            
            <span id="chunk-177" class="transcript-chunks" onclick="console.log('00:11:57,006'); seek(717.0)">
              that you might not know about called min ready seconds.
            </span>
            
            <span id="chunk-178" class="transcript-chunks" onclick="console.log('00:12:00,126'); seek(720.0)">
              And so this is kind of similar to a termination grace
            </span>
            
            <span id="chunk-179" class="transcript-chunks" onclick="console.log('00:12:03,422'); seek(723.0)">
              period where you keep multiple sets of
            </span>
            
            <span id="chunk-180" class="transcript-chunks" onclick="console.log('00:12:07,932'); seek(727.0)">
              pods running at a time, old generation and new generation
            </span>
            
            <span id="chunk-181" class="transcript-chunks" onclick="console.log('00:12:11,442'); seek(731.0)">
              running at the same time. But with min ready seconds, you can keep both generations
            </span>
            
            <span id="chunk-182" class="transcript-chunks" onclick="console.log('00:12:15,890'); seek(735.0)">
              responding to new network requests at the same time for
            </span>
            
            <span id="chunk-183" class="transcript-chunks" onclick="console.log('00:12:19,084'); seek(739.0)">
              a certain period of time until the new set of
            </span>
            
            <span id="chunk-184" class="transcript-chunks" onclick="console.log('00:12:22,928'); seek(742.0)">
              proxy pods is not just considered ready,
            </span>
            
            <span id="chunk-185" class="transcript-chunks" onclick="console.log('00:12:26,672'); seek(746.0)">
              but after the min ready seconds is considered fully available, and then the old
            </span>
            
            <span id="chunk-186" class="transcript-chunks" onclick="console.log('00:12:30,372'); seek(750.0)">
              pods will terminate. So we use this period of availability of
            </span>
            
            <span id="chunk-187" class="transcript-chunks" onclick="console.log('00:12:34,148'); seek(754.0)">
              readiness at the same time for both generations
            </span>
            
            <span id="chunk-188" class="transcript-chunks" onclick="console.log('00:12:37,882'); seek(757.0)">
              of pods to allow new
            </span>
            
            <span id="chunk-189" class="transcript-chunks" onclick="console.log('00:12:42,290'); seek(762.0)">
              tunnels to come from the existing agents and
            </span>
            
            <span id="chunk-190" class="transcript-chunks" onclick="console.log('00:12:46,168'); seek(766.0)">
              hit the newly spun up pods until
            </span>
            
            <span id="chunk-191" class="transcript-chunks" onclick="console.log('00:12:49,656'); seek(769.0)">
              all the new tunnels are fully established before we make
            </span>
            
            <span id="chunk-192" class="transcript-chunks" onclick="console.log('00:12:53,256'); seek(773.0)">
              the ingress changes that start routing connections through the new set of pods.
            </span>
            
            <span id="chunk-193" class="transcript-chunks" onclick="console.log('00:12:56,990'); seek(776.0)">
              And then after that happens, and after old connections
            </span>
            
            <span id="chunk-194" class="transcript-chunks" onclick="console.log('00:13:00,946'); seek(780.0)">
              drain off through the old network pathway,
            </span>
            
            <span id="chunk-195" class="transcript-chunks" onclick="console.log('00:13:04,514'); seek(784.0)">
              then we shut down the old set of proxy pods. And the way we do
            </span>
            
            <span id="chunk-196" class="transcript-chunks" onclick="console.log('00:13:07,628'); seek(787.0)">
              this flip from one set of pods to another is that
            </span>
            
            <span id="chunk-197" class="transcript-chunks" onclick="console.log('00:13:11,088'); seek(791.0)">
              we have a custom controller that changes the labels
            </span>
            
            <span id="chunk-198" class="transcript-chunks" onclick="console.log('00:13:14,422'); seek(794.0)">
              on a service to point from the old generation to the new generation
            </span>
            
            <span id="chunk-199" class="transcript-chunks" onclick="console.log('00:13:17,702'); seek(797.0)">
              of pods using our own custom controller logic underneath.
            </span>
            
            <span id="chunk-200" class="transcript-chunks" onclick="console.log('00:13:21,654'); seek(801.0)">
              And so that's basically an overview of
            </span>
            
            <span id="chunk-201" class="transcript-chunks" onclick="console.log('00:13:24,948'); seek(804.0)">
              our ingress stack for how we route really
            </span>
            
            <span id="chunk-202" class="transcript-chunks" onclick="console.log('00:13:28,436'); seek(808.0)">
              ultra long lived tunnels. We route client connections through those
            </span>
            
            <span id="chunk-203" class="transcript-chunks" onclick="console.log('00:13:31,988'); seek(811.0)">
              long lived tunnels for Kubernetes clusters in six
            </span>
            
            <span id="chunk-204" class="transcript-chunks" onclick="console.log('00:13:35,576'); seek(815.0)">
              regions. The next thing
            </span>
            
            <span id="chunk-205" class="transcript-chunks" onclick="console.log('00:13:38,888'); seek(818.0)">
              I'll talk about is deployment. So when we need
            </span>
            
            <span id="chunk-206" class="transcript-chunks" onclick="console.log('00:13:42,728'); seek(822.0)">
              to upgrade teleport, I talked about how we do it like a zero downtime upgrade
            </span>
            
            <span id="chunk-207" class="transcript-chunks" onclick="console.log('00:13:47,070'); seek(827.0)">
              for an individual cluster for proxies, but how do we
            </span>
            
            <span id="chunk-208" class="transcript-chunks" onclick="console.log('00:13:50,588'); seek(830.0)">
              upgrade teleport, auth and proxy across six regions
            </span>
            
            <span id="chunk-209" class="transcript-chunks" onclick="console.log('00:13:53,938'); seek(833.0)">
              in a coordinated way? And so we tried a couple of
            </span>
            
            <span id="chunk-210" class="transcript-chunks" onclick="console.log('00:13:57,164'); seek(837.0)">
              different options here. The first thing we tried was Gitops.
            </span>
            
            <span id="chunk-211" class="transcript-chunks" onclick="console.log('00:14:00,770'); seek(840.0)">
              So what's the most you're doing? Deployment to Kubernetes clusters. What's the first thing
            </span>
            
            <span id="chunk-212" class="transcript-chunks" onclick="console.log('00:14:04,528'); seek(844.0)">
              you think of? Right, use flux CD or a similar tool to deploy it
            </span>
            
            <span id="chunk-213" class="transcript-chunks" onclick="console.log('00:14:07,984'); seek(847.0)">
              from a git repo. And so we had our
            </span>
            
            <span id="chunk-214" class="transcript-chunks" onclick="console.log('00:14:12,530'); seek(852.0)">
              own custom controller, a CRD that's reconciled by
            </span>
            
            <span id="chunk-215" class="transcript-chunks" onclick="console.log('00:14:16,676'); seek(856.0)">
              a controller we have called tenant controller, and the CRD is of course called tenant.
            </span>
            
            <span id="chunk-216" class="transcript-chunks" onclick="console.log('00:14:20,850'); seek(860.0)">
              And we thought about storing that configuration in git for
            </span>
            
            <span id="chunk-217" class="transcript-chunks" onclick="console.log('00:14:24,068'); seek(864.0)">
              each customer and then applying that to all of the clusters.
            </span>
            
            <span id="chunk-218" class="transcript-chunks" onclick="console.log('00:14:28,558'); seek(868.0)">
              And a disadvantage of this approach we found, number one was
            </span>
            
            <span id="chunk-219" class="transcript-chunks" onclick="console.log('00:14:32,632'); seek(872.0)">
              we really wanted all the data to stay in postgres. We didn't want to
            </span>
            
            <span id="chunk-220" class="transcript-chunks" onclick="console.log('00:14:36,776'); seek(876.0)">
              start writing a bunch of customer data into a git repo and having to manage
            </span>
            
            <span id="chunk-221" class="transcript-chunks" onclick="console.log('00:14:39,996'); seek(879.0)">
              that git repo over time. Another need we
            </span>
            
            <span id="chunk-222" class="transcript-chunks" onclick="console.log('00:14:43,228'); seek(883.0)">
              had there, another thing didn't work. Sorry about the Gitops approach with Flux,
            </span>
            
            <span id="chunk-223" class="transcript-chunks" onclick="console.log('00:14:47,330'); seek(887.0)">
              was that flux is very unidirectional. So we didn't just want information synced from
            </span>
            
            <span id="chunk-224" class="transcript-chunks" onclick="console.log('00:14:51,244'); seek(891.0)">
              a git repo into clusters, we wanted to pull information out
            </span>
            
            <span id="chunk-225" class="transcript-chunks" onclick="console.log('00:14:54,288'); seek(894.0)">
              of those clusters in order to be able to progress the deploy to more
            </span>
            
            <span id="chunk-226" class="transcript-chunks" onclick="console.log('00:14:57,648'); seek(897.0)">
              steps. So auth servers finished deploying. Now we want to update proxies,
            </span>
            
            <span id="chunk-227" class="transcript-chunks" onclick="console.log('00:15:02,090'); seek(902.0)">
              maybe we want to update proxies. We don't want to update every region at the
            </span>
            
            <span id="chunk-228" class="transcript-chunks" onclick="console.log('00:15:04,868'); seek(904.0)">
              same time.
            </span>
            
            <span id="chunk-229" class="transcript-chunks" onclick="console.log('00:15:07,970'); seek(907.0)">
              So that approach didn't work. We didn't go with Gitops.
            </span>
            
            <span id="chunk-230" class="transcript-chunks" onclick="console.log('00:15:12,266'); seek(912.0)">
              We tried cross cluster reconcilers after that,
            </span>
            
            <span id="chunk-231" class="transcript-chunks" onclick="console.log('00:15:15,752'); seek(915.0)">
              where we had a controller running in each regions,
            </span>
            
            <span id="chunk-232" class="transcript-chunks" onclick="console.log('00:15:19,710'); seek(919.0)">
              but we didn't have a CRD in each of those regions. They all
            </span>
            
            <span id="chunk-233" class="transcript-chunks" onclick="console.log('00:15:23,032'); seek(923.0)">
              reconciled against a custom resource, that tenant custom
            </span>
            
            <span id="chunk-234" class="transcript-chunks" onclick="console.log('00:15:26,476'); seek(926.0)">
              resource in a namespace in the management cluster.
            </span>
            
            <span id="chunk-235" class="transcript-chunks" onclick="console.log('00:15:30,066'); seek(930.0)">
              So we have a namespace for each customer in every cluster,
            </span>
            
            <span id="chunk-236" class="transcript-chunks" onclick="console.log('00:15:34,018'); seek(934.0)">
              but the custom resource
            </span>
            
            <span id="chunk-237" class="transcript-chunks" onclick="console.log('00:15:37,218'); seek(937.0)">
              only lives in the management cluster. In this proposal,
            </span>
            
            <span id="chunk-238" class="transcript-chunks" onclick="console.log('00:15:42,510'); seek(942.0)">
              this didn't work very well either. So if
            </span>
            
            <span id="chunk-239" class="transcript-chunks" onclick="console.log('00:15:46,304'); seek(946.0)">
              we'd gone with this, we would have created a big single point of failure for
            </span>
            
            <span id="chunk-240" class="transcript-chunks" onclick="console.log('00:15:49,552'); seek(949.0)">
              the whole platform in that one cluster. We didn't like that. We wanted everything to
            </span>
            
            <span id="chunk-241" class="transcript-chunks" onclick="console.log('00:15:52,724'); seek(952.0)">
              be able to operate without management.
            </span>
            
            <span id="chunk-242" class="transcript-chunks" onclick="console.log('00:15:55,410'); seek(955.0)">
              And there were some difficulties in,
            </span>
            
            <span id="chunk-243" class="transcript-chunks" onclick="console.log('00:15:59,348'); seek(959.0)">
              like we'd have to have all of the regional clusters write
            </span>
            
            <span id="chunk-244" class="transcript-chunks" onclick="console.log('00:16:03,336'); seek(963.0)">
              to the same status field of that
            </span>
            
            <span id="chunk-245" class="transcript-chunks" onclick="console.log('00:16:09,000'); seek(969.0)">
              shared tenancy are, and it leads to conflicts and other problems.
            </span>
            
            <span id="chunk-246" class="transcript-chunks" onclick="console.log('00:16:12,888'); seek(972.0)">
              And so what we arrived at was
            </span>
            
            <span id="chunk-247" class="transcript-chunks" onclick="console.log('00:16:16,220'); seek(976.0)">
              neither of those things. We really liked kubefed. We thought Kubefed kind
            </span>
            
            <span id="chunk-248" class="transcript-chunks" onclick="console.log('00:16:20,188'); seek(980.0)">
              of maybe was on the right track with exposing
            </span>
            
            <span id="chunk-249" class="transcript-chunks" onclick="console.log('00:16:24,730'); seek(984.0)">
              APIs from one cluster into another cluster, so you could have a controller
            </span>
            
            <span id="chunk-250" class="transcript-chunks" onclick="console.log('00:16:28,658'); seek(988.0)">
              that understands how to operate custom resources that
            </span>
            
            <span id="chunk-251" class="transcript-chunks" onclick="console.log('00:16:32,384'); seek(992.0)">
              it's not reconciling, which are reconciled somewhere else.
            </span>
            
            <span id="chunk-252" class="transcript-chunks" onclick="console.log('00:16:35,550'); seek(995.0)">
              We really like that model, but the project isn't active anymore,
            </span>
            
            <span id="chunk-253" class="transcript-chunks" onclick="console.log('00:16:38,582'); seek(998.0)">
              and it seems like it'd be a big risk to pick up Kubefed
            </span>
            
            <span id="chunk-254" class="transcript-chunks" onclick="console.log('00:16:42,618'); seek(1002.0)">
              if there really wasn't a lot of activity there. And so we built something that
            </span>
            
            <span id="chunk-255" class="transcript-chunks" onclick="console.log('00:16:46,132'); seek(1006.0)">
              just solves this problem in a really narrow way.
            </span>
            
            <span id="chunk-256" class="transcript-chunks" onclick="console.log('00:16:51,730'); seek(1011.0)">
              It's called sync controller. We just open sourced it a couple of days
            </span>
            
            <span id="chunk-257" class="transcript-chunks" onclick="console.log('00:16:54,872'); seek(1014.0)">
              ago, so you can check it out if you want to. The way
            </span>
            
            <span id="chunk-258" class="transcript-chunks" onclick="console.log('00:16:58,632'); seek(1018.0)">
              sync controller works is it let us build this architecture
            </span>
            
            <span id="chunk-259" class="transcript-chunks" onclick="console.log('00:17:02,446'); seek(1022.0)">
              where we could have a management cluster that
            </span>
            
            <span id="chunk-260" class="transcript-chunks" onclick="console.log('00:17:06,316'); seek(1026.0)">
              is driven by that tenant custom resource inside of a customer
            </span>
            
            <span id="chunk-261" class="transcript-chunks" onclick="console.log('00:17:10,220'); seek(1030.0)">
              namespace. But the controller for the tenant
            </span>
            
            <span id="chunk-262" class="transcript-chunks" onclick="console.log('00:17:13,778'); seek(1033.0)">
              resource is just responsible for creating additional teleport
            </span>
            
            <span id="chunk-263" class="transcript-chunks" onclick="console.log('00:17:17,698'); seek(1037.0)">
              deployment resources, one for each regions that the
            </span>
            
            <span id="chunk-264" class="transcript-chunks" onclick="console.log('00:17:22,240'); seek(1042.0)">
              teleport needs to operate in for that customer. And then
            </span>
            
            <span id="chunk-265" class="transcript-chunks" onclick="console.log('00:17:25,872'); seek(1045.0)">
              that custom resource is synced
            </span>
            
            <span id="chunk-266" class="transcript-chunks" onclick="console.log('00:17:29,970'); seek(1049.0)">
              just to an individual instance of the
            </span>
            
            <span id="chunk-267" class="transcript-chunks" onclick="console.log('00:17:34,420'); seek(1054.0)">
              same resource that lives in each of the different
            </span>
            
            <span id="chunk-268" class="transcript-chunks" onclick="console.log('00:17:37,956'); seek(1057.0)">
              regions. And so tenant CR might create, if there's customers
            </span>
            
            <span id="chunk-269" class="transcript-chunks" onclick="console.log('00:17:41,860'); seek(1061.0)">
              in three regions, US west two, US east one, and AP Southeast
            </span>
            
            <span id="chunk-270" class="transcript-chunks" onclick="console.log('00:17:46,478'); seek(1066.0)">
              one, and each of those are then picked
            </span>
            
            <span id="chunk-271" class="transcript-chunks" onclick="console.log('00:17:49,998'); seek(1069.0)">
              up by sync controller running in those regions, which then creates a namespace,
            </span>
            
            <span id="chunk-272" class="transcript-chunks" onclick="console.log('00:17:53,582'); seek(1073.0)">
              creates the resources, and then reconciles that resource
            </span>
            
            <span id="chunk-273" class="transcript-chunks" onclick="console.log('00:17:58,866'); seek(1078.0)">
              there. And so to kind of dig into what that looks like really in
            </span>
            
            <span id="chunk-274" class="transcript-chunks" onclick="console.log('00:18:03,132'); seek(1083.0)">
              more detail in the management cluster,
            </span>
            
            <span id="chunk-275" class="transcript-chunks" onclick="console.log('00:18:06,570'); seek(1086.0)">
              this diagram here isn't specific to teleport,
            </span>
            
            <span id="chunk-276" class="transcript-chunks" onclick="console.log('00:18:09,906'); seek(1089.0)">
              just generally how you use sync controller. I'll show you a teleport specific version in
            </span>
            
            <span id="chunk-277" class="transcript-chunks" onclick="console.log('00:18:13,504'); seek(1093.0)">
              a second but in this instance
            </span>
            
            <span id="chunk-278" class="transcript-chunks" onclick="console.log('00:18:17,366'); seek(1097.0)">
              you have synccontroller running regionally. It watches the
            </span>
            
            <span id="chunk-279" class="transcript-chunks" onclick="console.log('00:18:21,088'); seek(1101.0)">
              spec of the resource in the management cluster. It copies
            </span>
            
            <span id="chunk-280" class="transcript-chunks" onclick="console.log('00:18:24,682'); seek(1104.0)">
              any changes that it sees to the spec
            </span>
            
            <span id="chunk-281" class="transcript-chunks" onclick="console.log('00:18:28,356'); seek(1108.0)">
              of that resource into the instance of the resource in the regional
            </span>
            
            <span id="chunk-282" class="transcript-chunks" onclick="console.log('00:18:31,818'); seek(1111.0)">
              cluster, where it's then reconciled. The reconciler
            </span>
            
            <span id="chunk-283" class="transcript-chunks" onclick="console.log('00:18:35,438'); seek(1115.0)">
              then writes the latest status of that resource in the
            </span>
            
            <span id="chunk-284" class="transcript-chunks" onclick="console.log('00:18:39,368'); seek(1119.0)">
              regional cluster, and then sync controller is also watching
            </span>
            
            <span id="chunk-285" class="transcript-chunks" onclick="console.log('00:18:43,016'); seek(1123.0)">
              that regional status and copying that back
            </span>
            
            <span id="chunk-286" class="transcript-chunks" onclick="console.log('00:18:46,332'); seek(1126.0)">
              to the management cluster. So that from both the
            </span>
            
            <span id="chunk-287" class="transcript-chunks" onclick="console.log('00:18:49,628'); seek(1129.0)">
              regional cluster's perspective and the management cluster's perspective, you have
            </span>
            
            <span id="chunk-288" class="transcript-chunks" onclick="console.log('00:18:53,468'); seek(1133.0)">
              the same resource,
            </span>
            
            <span id="chunk-289" class="transcript-chunks" onclick="console.log('00:18:56,010'); seek(1136.0)">
              but the management cluster can create and
            </span>
            
            <span id="chunk-290" class="transcript-chunks" onclick="console.log('00:18:59,870'); seek(1139.0)">
              kind of operate a selection of these resources from the outside,
            </span>
            
            <span id="chunk-291" class="transcript-chunks" onclick="console.log('00:19:03,984'); seek(1143.0)">
              whereas the regional cluster can do the actual reconciliation of the resource
            </span>
            
            <span id="chunk-292" class="transcript-chunks" onclick="console.log('00:19:07,382'); seek(1147.0)">
              and create the necessary pods. And so for teleport.
            </span>
            
            <span id="chunk-293" class="transcript-chunks" onclick="console.log('00:19:11,110'); seek(1151.0)">
              So here's the kind of teleport specific version of what
            </span>
            
            <span id="chunk-294" class="transcript-chunks" onclick="console.log('00:19:14,548'); seek(1154.0)">
              this architecture looks like. We have sync controller
            </span>
            
            <span id="chunk-295" class="transcript-chunks" onclick="console.log('00:19:18,218'); seek(1158.0)">
              running in the regional cluster. It's copying the teleport deployment
            </span>
            
            <span id="chunk-296" class="transcript-chunks" onclick="console.log('00:19:21,482'); seek(1161.0)">
              spec into the regional cluster for management, and where it's being reconciled
            </span>
            
            <span id="chunk-297" class="transcript-chunks" onclick="console.log('00:19:25,322'); seek(1165.0)">
              by the teleport controller that creates the auth server and proxy
            </span>
            
            <span id="chunk-298" class="transcript-chunks" onclick="console.log('00:19:29,102'); seek(1169.0)">
              pods, and then any changes to the status are sent back
            </span>
            
            <span id="chunk-299" class="transcript-chunks" onclick="console.log('00:19:32,728'); seek(1172.0)">
              to the management cluster. And then in the management cluster we have a tenant controller
            </span>
            
            <span id="chunk-300" class="transcript-chunks" onclick="console.log('00:19:36,642'); seek(1176.0)">
              that's for one, it's creating, doing any
            </span>
            
            <span id="chunk-301" class="transcript-chunks" onclick="console.log('00:19:40,252'); seek(1180.0)">
              centralized work. So it creates the dynamodB tables or
            </span>
            
            <span id="chunk-302" class="transcript-chunks" onclick="console.log('00:19:43,884'); seek(1183.0)">
              Athena resources for audit logging, all of
            </span>
            
            <span id="chunk-303" class="transcript-chunks" onclick="console.log('00:19:47,564'); seek(1187.0)">
              those things that are shared. And then it creates a selection of
            </span>
            
            <span id="chunk-304" class="transcript-chunks" onclick="console.log('00:19:51,216'); seek(1191.0)">
              teleport deployment resources that configure each region. And the nice thing
            </span>
            
            <span id="chunk-305" class="transcript-chunks" onclick="console.log('00:19:54,864'); seek(1194.0)">
              is that it can react to changes in those, so it can listen to the,
            </span>
            
            <span id="chunk-306" class="transcript-chunks" onclick="console.log('00:20:00,430'); seek(1200.0)">
              it can watch for status changes in us west two know when
            </span>
            
            <span id="chunk-307" class="transcript-chunks" onclick="console.log('00:20:04,180'); seek(1204.0)">
              auth is finished deploying and tell regions that
            </span>
            
            <span id="chunk-308" class="transcript-chunks" onclick="console.log('00:20:07,908'); seek(1207.0)">
              they can update their proxies, for example. So it can make decisions based on the
            </span>
            
            <span id="chunk-309" class="transcript-chunks" onclick="console.log('00:20:11,988'); seek(1211.0)">
              challenging state in the different clusters. And this architecture
            </span>
            
            <span id="chunk-310" class="transcript-chunks" onclick="console.log('00:20:16,062'); seek(1216.0)">
              worked really, really well for us. It's really nice because we can lose the entire
            </span>
            
            <span id="chunk-311" class="transcript-chunks" onclick="console.log('00:20:19,496'); seek(1219.0)">
              management cluster, and all of our regional clusters
            </span>
            
            <span id="chunk-312" class="transcript-chunks" onclick="console.log('00:20:23,406'); seek(1223.0)">
              are still operatable.
            </span>
            
            <span id="chunk-313" class="transcript-chunks" onclick="console.log('00:20:26,150'); seek(1226.0)">
              We have to change the teleport deployments manually in
            </span>
            
            <span id="chunk-314" class="transcript-chunks" onclick="console.log('00:20:29,564'); seek(1229.0)">
              the different regions, but they can keep reconciling forever in that state.
            </span>
            
            <span id="chunk-315" class="transcript-chunks" onclick="console.log('00:20:34,410'); seek(1234.0)">
              So on top of this,
            </span>
            
            <span id="chunk-316" class="transcript-chunks" onclick="console.log('00:20:37,390'); seek(1237.0)">
              I mentioned earlier that we wanted to store customer data in postgres,
            </span>
            
            <span id="chunk-317" class="transcript-chunks" onclick="console.log('00:20:40,806'); seek(1240.0)">
              right? So we
            </span>
            
            <span id="chunk-318" class="transcript-chunks" onclick="console.log('00:20:44,768'); seek(1244.0)">
              kind of built the configuration storage into our customer portal.
            </span>
            
            <span id="chunk-319" class="transcript-chunks" onclick="console.log('00:20:49,254'); seek(1249.0)">
              And so when customers sign up or when employees want
            </span>
            
            <span id="chunk-320" class="transcript-chunks" onclick="console.log('00:20:53,092'); seek(1253.0)">
              to manage customer information, obviously through teleport,
            </span>
            
            <span id="chunk-321" class="transcript-chunks" onclick="console.log('00:21:00,610'); seek(1260.0)">
              all the data is stored in postgres, but the data that
            </span>
            
            <span id="chunk-322" class="transcript-chunks" onclick="console.log('00:21:04,244'); seek(1264.0)">
              needs to live on the cluster as well is stored as
            </span>
            
            <span id="chunk-323" class="transcript-chunks" onclick="console.log('00:21:08,280'); seek(1268.0)">
              a custom resource, as a tenant custom resource in
            </span>
            
            <span id="chunk-324" class="transcript-chunks" onclick="console.log('00:21:12,072'); seek(1272.0)">
              JSON B and postgres. And then whenever there's a change to
            </span>
            
            <span id="chunk-325" class="transcript-chunks" onclick="console.log('00:21:15,324'); seek(1275.0)">
              that data. In postgres we have a sync service that
            </span>
            
            <span id="chunk-326" class="transcript-chunks" onclick="console.log('00:21:18,956'); seek(1278.0)">
              reads that change and sends
            </span>
            
            <span id="chunk-327" class="transcript-chunks" onclick="console.log('00:21:24,018'); seek(1284.0)">
              the change version of that to the management cluster. A really cool thing
            </span>
            
            <span id="chunk-328" class="transcript-chunks" onclick="console.log('00:21:27,548'); seek(1287.0)">
              we did here is we took the open API schema validations
            </span>
            
            <span id="chunk-329" class="transcript-chunks" onclick="console.log('00:21:31,286'); seek(1291.0)">
              that the cluster uses for that CRD, and we also apply
            </span>
            
            <span id="chunk-330" class="transcript-chunks" onclick="console.log('00:21:34,976'); seek(1294.0)">
              them to validate the request to
            </span>
            
            <span id="chunk-331" class="transcript-chunks" onclick="console.log('00:21:40,912'); seek(1300.0)">
              change customer data at the portal level so we don't end up with a
            </span>
            
            <span id="chunk-332" class="transcript-chunks" onclick="console.log('00:21:44,548'); seek(1304.0)">
              CRD that wouldn't apply to the cluster getting stored in the database. That was
            </span>
            
            <span id="chunk-333" class="transcript-chunks" onclick="console.log('00:21:48,612'); seek(1308.0)">
              surprisingly easy to do, using kind of the open source tooling
            </span>
            
            <span id="chunk-334" class="transcript-chunks" onclick="console.log('00:21:51,834'); seek(1311.0)">
              for open API available on GitHub. And so that
            </span>
            
            <span id="chunk-335" class="transcript-chunks" onclick="console.log('00:21:56,168'); seek(1316.0)">
              covers the way we do our coordinated rollouts across
            </span>
            
            <span id="chunk-336" class="transcript-chunks" onclick="console.log('00:21:59,896'); seek(1319.0)">
              clusters. The next kind
            </span>
            
            <span id="chunk-337" class="transcript-chunks" onclick="console.log('00:22:03,208'); seek(1323.0)">
              of big important piece of all this is how did we do container networking?
            </span>
            
            <span id="chunk-338" class="transcript-chunks" onclick="console.log('00:22:06,638'); seek(1326.0)">
              How do we let proxies talk to auth servers?
            </span>
            
            <span id="chunk-339" class="transcript-chunks" onclick="console.log('00:22:09,778'); seek(1329.0)">
              How do we let proxies peer with each other across regions for
            </span>
            
            <span id="chunk-340" class="transcript-chunks" onclick="console.log('00:22:13,228'); seek(1333.0)">
              this massive multi cluster deployment? And what
            </span>
            
            <span id="chunk-341" class="transcript-chunks" onclick="console.log('00:22:16,604'); seek(1336.0)">
              we found was that Psyllium Global services worked really,
            </span>
            
            <span id="chunk-342" class="transcript-chunks" onclick="console.log('00:22:20,672'); seek(1340.0)">
              really well. We tried some different deployment architectures
            </span>
            
            <span id="chunk-343" class="transcript-chunks" onclick="console.log('00:22:24,830'); seek(1344.0)">
              with psyllium. We found that having a dedicated
            </span>
            
            <span id="chunk-344" class="transcript-chunks" onclick="console.log('00:22:29,126'); seek(1349.0)">
              ETCD can perform the best. It let
            </span>
            
            <span id="chunk-345" class="transcript-chunks" onclick="console.log('00:22:34,864'); seek(1354.0)">
              us deal with a lot of pod churn. So whenever we do a big update
            </span>
            
            <span id="chunk-346" class="transcript-chunks" onclick="console.log('00:22:38,442'); seek(1358.0)">
              for many tenants at the same time, and we have a lot of new pods
            </span>
            
            <span id="chunk-347" class="transcript-chunks" onclick="console.log('00:22:42,138'); seek(1362.0)">
              spinning up and shutting down,
            </span>
            
            <span id="chunk-348" class="transcript-chunks" onclick="console.log('00:22:46,210'); seek(1366.0)">
              or also when we update selenium itself, and there's a
            </span>
            
            <span id="chunk-349" class="transcript-chunks" onclick="console.log('00:22:49,304'); seek(1369.0)">
              lot of things that get reconfigured, a dedicated ETCD
            </span>
            
            <span id="chunk-350" class="transcript-chunks" onclick="console.log('00:22:53,566'); seek(1373.0)">
              ended up performing the best. There are some other ways of deploying
            </span>
            
            <span id="chunk-351" class="transcript-chunks" onclick="console.log('00:22:57,202'); seek(1377.0)">
              psyllium global services that you can look into,
            </span>
            
            <span id="chunk-352" class="transcript-chunks" onclick="console.log('00:23:01,050'); seek(1381.0)">
              but that's what worked for us. And so to kind of break down what
            </span>
            
            <span id="chunk-353" class="transcript-chunks" onclick="console.log('00:23:04,764'); seek(1384.0)">
              that looks like, I'll trade this diagram that you
            </span>
            
            <span id="chunk-354" class="transcript-chunks" onclick="console.log('00:23:08,508'); seek(1388.0)">
              saw earlier where you have the teleport deployments in each region, if we focus
            </span>
            
            <span id="chunk-355" class="transcript-chunks" onclick="console.log('00:23:12,076'); seek(1392.0)">
              on the services that get created by the teleport controller there for a second.
            </span>
            
            <span id="chunk-356" class="transcript-chunks" onclick="console.log('00:23:16,000'); seek(1396.0)">
              So we have an auth service and we have a proxy service,
            </span>
            
            <span id="chunk-357" class="transcript-chunks" onclick="console.log('00:23:19,376'); seek(1399.0)">
              but we don't have auth running in every region. So whenever proxies
            </span>
            
            <span id="chunk-358" class="transcript-chunks" onclick="console.log('00:23:23,850'); seek(1403.0)">
              need to speak to auth in us east one, those connections get
            </span>
            
            <span id="chunk-359" class="transcript-chunks" onclick="console.log('00:23:27,652'); seek(1407.0)">
              redirected to Auth, to a
            </span>
            
            <span id="chunk-360" class="transcript-chunks" onclick="console.log('00:23:31,108'); seek(1411.0)">
              service that has the same name that cilium automatically provides forwarding connectivity to
            </span>
            
            <span id="chunk-361" class="transcript-chunks" onclick="console.log('00:23:36,230'); seek(1416.0)">
              in us east
            </span>
            
            <span id="chunk-362" class="transcript-chunks" onclick="console.log('00:23:39,838'); seek(1419.0)">
              one, to us west two. So that lets us run
            </span>
            
            <span id="chunk-363" class="transcript-chunks" onclick="console.log('00:23:45,290'); seek(1425.0)">
              our Auth servers in multiple availability zones in one region,
            </span>
            
            <span id="chunk-364" class="transcript-chunks" onclick="console.log('00:23:49,370'); seek(1429.0)">
              but not have to run them in every region. And proxies in all
            </span>
            
            <span id="chunk-365" class="transcript-chunks" onclick="console.log('00:23:53,132'); seek(1433.0)">
              regions have cached access to those
            </span>
            
            <span id="chunk-366" class="transcript-chunks" onclick="console.log('00:23:57,404'); seek(1437.0)">
              auth server pods. In some cases,
            </span>
            
            <span id="chunk-367" class="transcript-chunks" onclick="console.log('00:24:00,358'); seek(1440.0)">
              we don't have proxies available at a region,
            </span>
            
            <span id="chunk-368" class="transcript-chunks" onclick="console.log('00:24:03,790'); seek(1443.0)">
              and in those cases, our custom controllers also can create a global
            </span>
            
            <span id="chunk-369" class="transcript-chunks" onclick="console.log('00:24:07,238'); seek(1447.0)">
              service that redirects proxy connectivity to
            </span>
            
            <span id="chunk-370" class="transcript-chunks" onclick="console.log('00:24:12,030'); seek(1452.0)">
              the closest region which can calculate. And so
            </span>
            
            <span id="chunk-371" class="transcript-chunks" onclick="console.log('00:24:15,716'); seek(1455.0)">
              that is our user journey through teleport cloud architecture
            </span>
            
            <span id="chunk-372" class="transcript-chunks" onclick="console.log('00:24:19,338'); seek(1459.0)">
              covering ingress deployment and container networking.
            </span>
            
            <span id="chunk-373" class="transcript-chunks" onclick="console.log('00:24:24,290'); seek(1464.0)">
              Just as a reminder, a lot of the stuff you saw today
            </span>
            
            <span id="chunk-374" class="transcript-chunks" onclick="console.log('00:24:27,608'); seek(1467.0)">
              is open source sync controller.
            </span>
            
            <span id="chunk-375" class="transcript-chunks" onclick="console.log('00:24:30,870'); seek(1470.0)">
              You know, as Apache two licensed,
            </span>
            
            <span id="chunk-376" class="transcript-chunks" onclick="console.log('00:24:33,822'); seek(1473.0)">
              we actually just open sourced this a couple of days ago. Please check it out.
            </span>
            
            <span id="chunk-377" class="transcript-chunks" onclick="console.log('00:24:38,810'); seek(1478.0)">
              It's not something you deploy to a Kubernetes cluster. It's a tool you
            </span>
            
            <span id="chunk-378" class="transcript-chunks" onclick="console.log('00:24:42,188'); seek(1482.0)">
              can use to build. It's a reconciler you
            </span>
            
            <span id="chunk-379" class="transcript-chunks" onclick="console.log('00:24:45,404'); seek(1485.0)">
              can import into your own controller manager that will let you create
            </span>
            
            <span id="chunk-380" class="transcript-chunks" onclick="console.log('00:24:48,908'); seek(1488.0)">
              a management plane using your own custom resources.
            </span>
            
            <span id="chunk-381" class="transcript-chunks" onclick="console.log('00:24:52,750'); seek(1492.0)">
              We also maintain a fork of envoy gateway that supports ALPN
            </span>
            
            <span id="chunk-382" class="transcript-chunks" onclick="console.log('00:24:56,182'); seek(1496.0)">
              routing and has a couple of other changes we made and a
            </span>
            
            <span id="chunk-383" class="transcript-chunks" onclick="console.log('00:24:59,744'); seek(1499.0)">
              lot of them we got upstream actually to kind of
            </span>
            
            <span id="chunk-384" class="transcript-chunks" onclick="console.log('00:25:03,730'); seek(1503.0)">
              stabilize some parts of envoy gateway work.
            </span>
            
            <span id="chunk-385" class="transcript-chunks" onclick="console.log('00:25:07,380'); seek(1507.0)">
              And finally, of course, teleport is Apache two licensed.
            </span>
            
            <span id="chunk-386" class="transcript-chunks" onclick="console.log('00:25:10,538'); seek(1510.0)">
              You can check that out as well, deploy the open source version and see
            </span>
            
            <span id="chunk-387" class="transcript-chunks" onclick="console.log('00:25:14,372'); seek(1514.0)">
              what you think. And last but not least,
            </span>
            
            <span id="chunk-388" class="transcript-chunks" onclick="console.log('00:25:17,972'); seek(1517.0)">
              I want to give a huge thanks to everybody on the teleport
            </span>
            
            <span id="chunk-389" class="transcript-chunks" onclick="console.log('00:25:21,434'); seek(1521.0)">
              cloud backend team. Carson, David Tobias and Bert Bernard.
            </span>
            
            <span id="chunk-390" class="transcript-chunks" onclick="console.log('00:25:25,650'); seek(1525.0)">
              You can kind of see the parts they worked on here. This was a huge
            </span>
            
            <span id="chunk-391" class="transcript-chunks" onclick="console.log('00:25:28,476'); seek(1528.0)">
              team effort, wasn't just this team, right,
            </span>
            
            <span id="chunk-392" class="transcript-chunks" onclick="console.log('00:25:32,970'); seek(1532.0)">
              to kind of get this platform together.
            </span>
            
            <span id="chunk-393" class="transcript-chunks" onclick="console.log('00:25:36,490'); seek(1536.0)">
              And that's all I got. Thanks everybody.
            </span>
            
            </div>
          </div>
          
          

          
          <div class="col-12 mb-5">
            <h3>
              Slides
            </h3>
            <iframe src="https://conf42.github.io/static/slides/Conf42%20Kube%20Native%202023%20-%20Stephen%20Levine.pdf" width="100%" height="500px"></iframe>
            <a href="https://conf42.github.io/static/slides/Conf42%20Kube%20Native%202023%20-%20Stephen%20Levine.pdf" class="btn btn-xs btn-info shadow lift" style="background-color: #CA6B46;" target="_blank">
              <i class="fe fe-paperclip me-2"></i>
              Download slides (PDF)
            </a>
          </div>
          

          <div class="col-12 mb-2 text-center">
            <div class="text-center mb-5">
              <a href="https://www.conf42.com/kubenative2023" class="btn btn-sm btn-danger shadow lift" style="background-color: #CA6B46;">
                <i class="fe fe-grid me-2"></i>
                See all 21 talks at this event!
              </a>
            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- PHOTO -->
    <section class="pt-8 pb-6">
      <div class="container">

        <div class="row align-items-center">
          <div class="col-12 col-md-6 col-lg-7">

            <div class="mb-8 mb-md-0">

              <!-- Image -->
              <img src="https://conf42.github.io/static/headshots/Stephen%20Levine_kube.png" alt="..." class="screenshot img-fluid mw-md-110 float-end me-md-6 mb-6 mb-md-0">

            </div>

          </div>
          <div class="col-12 col-md-6 col-lg-5">

            <!-- List -->
            <div class="d-flex">

              <!-- Body -->
              <div class="ms-5">

                <!-- Author 1 -->
                <h2 class="me-2">
                  Stephen Levine
                </h2>
                <h3 class="me-2">
                  <span class="text-muted">
                    Software Engineer @ Teleport
                  </span>
                </h3>

                <p class="text-uppercase text-muted me-2 mb-3">
                  
                  <a href="https://www.linkedin.com/in/levinestephen/" target="_blank" class="mr-3">
                    <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Stephen Levine's LinkedIn account" />
                  </a>
                  
                  
                  <a href="https://twitter.com/@stephen_levine" target="_blank">
                    <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Stephen Levine's twitter account" />
                  </a>
                  
                </p>
                

                <br />

                <a
                  href="https://twitter.com/share?ref_src=twsrc%5Etfw"
                  class="twitter-share-button"

                  data-text="Check out this talk by @stephen_levine"
                  data-url="https://www.conf42.com/kubenative2023"
                  data-via="conf42com"
                  data-related=""
                  data-show-count="false"
                >
                  Tweet
                </a>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

                <br />

                <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
                <script type="IN/Share" data-url="https://www.conf42.com/kubenative2023"></script>
              </div>

            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>






    <!-- WELCOME -->
    <section class="pt-8 pt-md-11 pb-10 pb-md-15 bg-success" id="register">

      <!-- Shape -->
      <div class="shape shape-blur-3 text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>      </div>

      <!-- Content -->
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 col-md-10 col-lg-8 text-center">

            <!-- Heading -->
            <h1 class="display-2 text-white">
              Join the community!
            </h1>

            <!-- Text -->
            <p class="lead text-white text-opacity-80 mb-6 mb-md-8">
              Learn for free, join the best tech learning community 
              for a <a class="text-white" href="https://www.reddit.com/r/sanfrancisco/comments/1bz90f6/why_are_coffee_shops_in_sf_so_expensive/" target="_blank">price of a cappucino</a>.
            </p>

            <!-- Form -->
            <form class="d-flex align-items-center justify-content-center mb-7 mb-md-9">

              <!-- Label -->
              <span class="text-white text-opacity-80">
                Annual
              </span>

              <!-- Switch -->
              <div class="form-check form-check-dark form-switch mx-3">
                <input class="form-check-input" type="checkbox" id="billingSwitch" data-toggle="price" data-target=".price">
              </div>

              <!-- Label -->
              <span class="text-white text-opacity-80">
                Monthly
              </span>

            </form>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->

    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- PRICING -->
    <section class="mt-n8 mt-md-n15">
      <div class="container">
        <div class="row gx-4">
          <div class="col-12 col-md-6">

            <!-- Card -->
            <div class="card shadow-lg mb-6 mb-md-1">
              <div class="card-body">

                <!-- Preheading -->
                <div class="text-center mb-3">
                  <span class="badge rounded-pill bg-primary-soft">
                    <span class="h6 text-uppercase">Newsletter</span>
                  </span>
                </div>

                <!-- Price -->
                <div class="d-flex justify-content-center">
                  <span class="h2 mb-0 mt-2">$</span>
                  <span class="price display-2 mb-0" data-annual="0" data-monthly="0">0</span>
                  <span class="h2 align-self-end mb-1">/mo</span>
                </div>

                <!-- Text -->
                <p class="text-center text-muted mb-5">
                </p>

              
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Event notifications
                  </p>
                </div>
              
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Keynotes
                  </p>
                </div>
              
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <b>Delayed access</b> to all content
                  </p>
                </div>
              
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Weekly newsletter
                  </p>
                </div>
              
              
              </div>
            </div>

            <!-- Card -->
            <div class="card shadow-lg mb-6 border border-success">
              <div class="card-body">

                <script>
    function gtag_report_conversion(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.location = url;
        }
      };
      gtag('event', 'conversion', {
          'send_to': 'AW-882275635/jLVTCPbt1N8CELPq2aQD',
          'event_callback': callback
      });
      return false;
    }
</script>

<!-- Form -->
<link rel="stylesheet" href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css">
<p class="emailoctopus-success-message text-success"></p>
<p class="emailoctopus-error-message text-danger"></p>
<form
    action="https://emailoctopus.com/lists/a3ba0cb5-7524-11eb-a3d0-06b4694bee2a/members/embedded/1.3/add"
    method="post"
    data-message-success="Thanks! Check your email for further directions!"
    data-message-missing-email-address="Your email address is required."
    data-message-invalid-email-address="Your email address looks incorrect, please try again."
    data-message-bot-submission-error="This doesn't look like a human submission."
    data-message-consent-required="Please check the checkbox to indicate your consent."
    data-message-invalid-parameters-error="This form has missing or invalid fields."
    data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
    class="emailoctopus-form"
    data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
>
<div class="form-floating emailoctopus-form-row">
    <input type="email" class="form-control form-control-flush" name="field_0" id="field_0" placeholder="Email" required>
    <label for="field_0">Email address</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_1" id="field_1" placeholder="First Name" required>
    <label for="field_1">First Name</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_2" id="field_2" placeholder="Last Name" required>
    <label for="field_2">Last Name</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_4" id="field_4" placeholder="Company" required>
    <label for="field_4">Company</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_5" id="field_5" placeholder="Job Title" required>
    <label for="field_5">Job Title</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_3" id="field_3" placeholder="Phone">
    <label for="field_3">Phone Number</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <select type="text" class="form-control form-control-flush" name="field_7" id="country-source" required
    oninput="updateCountry()"
    >
    <!-- Country names and Country Name -->
    <option value="">Please select your country</option>
    <option value="Afghanistan">Afghanistan</option>
    <option value="Aland Islands">Aland Islands</option>
    <option value="Albania">Albania</option>
    <option value="Algeria">Algeria</option>
    <option value="American Samoa">American Samoa</option>
    <option value="Andorra">Andorra</option>
    <option value="Angola">Angola</option>
    <option value="Anguilla">Anguilla</option>
    <option value="Antarctica">Antarctica</option>
    <option value="Antigua and Barbuda">Antigua and Barbuda</option>
    <option value="Argentina">Argentina</option>
    <option value="Armenia">Armenia</option>
    <option value="Aruba">Aruba</option>
    <option value="Australia">Australia</option>
    <option value="Austria">Austria</option>
    <option value="Azerbaijan">Azerbaijan</option>
    <option value="Bahamas">Bahamas</option>
    <option value="Bahrain">Bahrain</option>
    <option value="Bangladesh">Bangladesh</option>
    <option value="Barbados">Barbados</option>
    <option value="Belarus">Belarus</option>
    <option value="Belgium">Belgium</option>
    <option value="Belize">Belize</option>
    <option value="Benin">Benin</option>
    <option value="Bermuda">Bermuda</option>
    <option value="Bhutan">Bhutan</option>
    <option value="Bolivia">Bolivia</option>
    <option value="Bonaire, Sint Eustatius and Saba">Bonaire, Sint Eustatius and Saba</option>
    <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
    <option value="Botswana">Botswana</option>
    <option value="Bouvet Island">Bouvet Island</option>
    <option value="Brazil">Brazil</option>
    <option value="British Indian Ocean Territory">British Indian Ocean Territory</option>
    <option value="Brunei Darussalam">Brunei Darussalam</option>
    <option value="Bulgaria">Bulgaria</option>
    <option value="Burkina Faso">Burkina Faso</option>
    <option value="Burundi">Burundi</option>
    <option value="Cambodia">Cambodia</option>
    <option value="Cameroon">Cameroon</option>
    <option value="Canada">Canada</option>
    <option value="Cape Verde">Cape Verde</option>
    <option value="Cayman Islands">Cayman Islands</option>
    <option value="Central African Republic">Central African Republic</option>
    <option value="Chad">Chad</option>
    <option value="Chile">Chile</option>
    <option value="China">China</option>
    <option value="Christmas Island">Christmas Island</option>
    <option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
    <option value="Colombia">Colombia</option>
    <option value="Comoros">Comoros</option>
    <option value="Congo">Congo</option>
    <option value="Congo, Democratic Republic of the Congo">Congo, Democratic Republic of the Congo</option>
    <option value="Cook Islands">Cook Islands</option>
    <option value="Costa Rica">Costa Rica</option>
    <option value="Cote D'Ivoire">Cote D'Ivoire</option>
    <option value="Croatia">Croatia</option>
    <option value="Cuba">Cuba</option>
    <option value="Curacao">Curacao</option>
    <option value="Cyprus">Cyprus</option>
    <option value="Czech Republic">Czech Republic</option>
    <option value="Denmark">Denmark</option>
    <option value="Djibouti">Djibouti</option>
    <option value="Dominica">Dominica</option>
    <option value="Dominican Republic">Dominican Republic</option>
    <option value="Ecuador">Ecuador</option>
    <option value="Egypt">Egypt</option>
    <option value="El Salvador">El Salvador</option>
    <option value="Equatorial Guinea">Equatorial Guinea</option>
    <option value="Eritrea">Eritrea</option>
    <option value="Estonia">Estonia</option>
    <option value="Ethiopia">Ethiopia</option>
    <option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
    <option value="Faroe Islands">Faroe Islands</option>
    <option value="Fiji">Fiji</option>
    <option value="Finland">Finland</option>
    <option value="France">France</option>
    <option value="French Guiana">French Guiana</option>
    <option value="French Polynesia">French Polynesia</option>
    <option value="French Southern Territories">French Southern Territories</option>
    <option value="Gabon">Gabon</option>
    <option value="Gambia">Gambia</option>
    <option value="Georgia">Georgia</option>
    <option value="Germany">Germany</option>
    <option value="Ghana">Ghana</option>
    <option value="Gibraltar">Gibraltar</option>
    <option value="Greece">Greece</option>
    <option value="Greenland">Greenland</option>
    <option value="Grenada">Grenada</option>
    <option value="Guadeloupe">Guadeloupe</option>
    <option value="Guam">Guam</option>
    <option value="Guatemala">Guatemala</option>
    <option value="Guernsey">Guernsey</option>
    <option value="Guinea">Guinea</option>
    <option value="Guinea-Bissau">Guinea-Bissau</option>
    <option value="Guyana">Guyana</option>
    <option value="Haiti">Haiti</option>
    <option value="Heard Island and Mcdonald Islands">Heard Island and Mcdonald Islands</option>
    <option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
    <option value="Honduras">Honduras</option>
    <option value="Hong Kong">Hong Kong</option>
    <option value="Hungary">Hungary</option>
    <option value="Iceland">Iceland</option>
    <option value="India">India</option>
    <option value="Indonesia">Indonesia</option>
    <option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
    <option value="Iraq">Iraq</option>
    <option value="Ireland">Ireland</option>
    <option value="Isle of Man">Isle of Man</option>
    <option value="Israel">Israel</option>
    <option value="Italy">Italy</option>
    <option value="Jamaica">Jamaica</option>
    <option value="Japan">Japan</option>
    <option value="Jersey">Jersey</option>
    <option value="Jordan">Jordan</option>
    <option value="Kazakhstan">Kazakhstan</option>
    <option value="Kenya">Kenya</option>
    <option value="Kiribati">Kiribati</option>
    <option value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
    <option value="Korea, Republic of">Korea, Republic of</option>
    <option value="Kosovo">Kosovo</option>
    <option value="Kuwait">Kuwait</option>
    <option value="Kyrgyzstan">Kyrgyzstan</option>
    <option value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
    <option value="Latvia">Latvia</option>
    <option value="Lebanon">Lebanon</option>
    <option value="Lesotho">Lesotho</option>
    <option value="Liberia">Liberia</option>
    <option value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option>
    <option value="Liechtenstein">Liechtenstein</option>
    <option value="Lithuania">Lithuania</option>
    <option value="Luxembourg">Luxembourg</option>
    <option value="Macao">Macao</option>
    <option value="Macedonia, the Former Yugoslav Republic of">Macedonia, the Former Yugoslav Republic of</option>
    <option value="Madagascar">Madagascar</option>
    <option value="Malawi">Malawi</option>
    <option value="Malaysia">Malaysia</option>
    <option value="Maldives">Maldives</option>
    <option value="Mali">Mali</option>
    <option value="Malta">Malta</option>
    <option value="Marshall Islands">Marshall Islands</option>
    <option value="Martinique">Martinique</option>
    <option value="Mauritania">Mauritania</option>
    <option value="Mauritius">Mauritius</option>
    <option value="Mayotte">Mayotte</option>
    <option value="Mexico">Mexico</option>
    <option value="Micronesia, Federated States of">Micronesia, Federated States of</option>
    <option value="Moldova, Republic of">Moldova, Republic of</option>
    <option value="Monaco">Monaco</option>
    <option value="Mongolia">Mongolia</option>
    <option value="Montenegro">Montenegro</option>
    <option value="Montserrat">Montserrat</option>
    <option value="Morocco">Morocco</option>
    <option value="Mozambique">Mozambique</option>
    <option value="Myanmar">Myanmar</option>
    <option value="Namibia">Namibia</option>
    <option value="Nauru">Nauru</option>
    <option value="Nepal">Nepal</option>
    <option value="Netherlands">Netherlands</option>
    <option value="Netherlands Antilles">Netherlands Antilles</option>
    <option value="New Caledonia">New Caledonia</option>
    <option value="New Zealand">New Zealand</option>
    <option value="Nicaragua">Nicaragua</option>
    <option value="Niger">Niger</option>
    <option value="Nigeria">Nigeria</option>
    <option value="Niue">Niue</option>
    <option value="Norfolk Island">Norfolk Island</option>
    <option value="Northern Mariana Islands">Northern Mariana Islands</option>
    <option value="Norway">Norway</option>
    <option value="Oman">Oman</option>
    <option value="Pakistan">Pakistan</option>
    <option value="Palau">Palau</option>
    <option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option>
    <option value="Panama">Panama</option>
    <option value="Papua New Guinea">Papua New Guinea</option>
    <option value="Paraguay">Paraguay</option>
    <option value="Peru">Peru</option>
    <option value="Philippines">Philippines</option>
    <option value="Pitcairn">Pitcairn</option>
    <option value="Poland">Poland</option>
    <option value="Portugal">Portugal</option>
    <option value="Puerto Rico">Puerto Rico</option>
    <option value="Qatar">Qatar</option>
    <option value="Reunion">Reunion</option>
    <option value="Romania">Romania</option>
    <option value="Russian Federation">Russian Federation</option>
    <option value="Rwanda">Rwanda</option>
    <option value="Saint Barthelemy">Saint Barthelemy</option>
    <option value="Saint Helena">Saint Helena</option>
    <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
    <option value="Saint Lucia">Saint Lucia</option>
    <option value="Saint Martin">Saint Martin</option>
    <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
    <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
    <option value="Samoa">Samoa</option>
    <option value="San Marino">San Marino</option>
    <option value="Sao Tome and Principe">Sao Tome and Principe</option>
    <option value="Saudi Arabia">Saudi Arabia</option>
    <option value="Senegal">Senegal</option>
    <option value="Serbia">Serbia</option>
    <option value="Serbia and Montenegro">Serbia and Montenegro</option>
    <option value="Seychelles">Seychelles</option>
    <option value="Sierra Leone">Sierra Leone</option>
    <option value="Singapore">Singapore</option>
    <option value="Sint Maarten">Sint Maarten</option>
    <option value="Slovakia">Slovakia</option>
    <option value="Slovenia">Slovenia</option>
    <option value="Solomon Islands">Solomon Islands</option>
    <option value="Somalia">Somalia</option>
    <option value="South Africa">South Africa</option>
    <option value="South Georgia and the South Sandwich Islands">South Georgia and the South Sandwich Islands</option>
    <option value="South Sudan">South Sudan</option>
    <option value="Spain">Spain</option>
    <option value="Sri Lanka">Sri Lanka</option>
    <option value="Sudan">Sudan</option>
    <option value="Suriname">Suriname</option>
    <option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
    <option value="Swaziland">Swaziland</option>
    <option value="Sweden">Sweden</option>
    <option value="Switzerland">Switzerland</option>
    <option value="Syrian Arab Republic">Syrian Arab Republic</option>
    <option value="Taiwan, Province of China">Taiwan, Province of China</option>
    <option value="Tajikistan">Tajikistan</option>
    <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
    <option value="Thailand">Thailand</option>
    <option value="Timor-Leste">Timor-Leste</option>
    <option value="Togo">Togo</option>
    <option value="Tokelau">Tokelau</option>
    <option value="Tonga">Tonga</option>
    <option value="Trinidad and Tobago">Trinidad and Tobago</option>
    <option value="Tunisia">Tunisia</option>
    <option value="Turkey">Turkey</option>
    <option value="Turkmenistan">Turkmenistan</option>
    <option value="Turks and Caicos Islands">Turks and Caicos Islands</option>
    <option value="Tuvalu">Tuvalu</option>
    <option value="Uganda">Uganda</option>
    <option value="Ukraine">Ukraine</option>
    <option value="United Arab Emirates">United Arab Emirates</option>
    <option value="United Kingdom">United Kingdom</option>
    <option value="United States">United States</option>
    <option value="United States Minor Outlying Islands">United States Minor Outlying Islands</option>
    <option value="Uruguay">Uruguay</option>
    <option value="Uzbekistan">Uzbekistan</option>
    <option value="Vanuatu">Vanuatu</option>
    <option value="Venezuela">Venezuela</option>
    <option value="Viet Nam">Viet Nam</option>
    <option value="Virgin Islands, British">Virgin Islands, British</option>
    <option value="Virgin Islands, U.s.">Virgin Islands, U.s.</option>
    <option value="Wallis and Futuna">Wallis and Futuna</option>
    <option value="Western Sahara">Western Sahara</option>
    <option value="Yemen">Yemen</option>
    <option value="Zambia">Zambia</option>
    <option value="Zimbabwe">Zimbabwe</option>
    </select>
    <label for="field_7">Country</label>
</div>
<input id="country-destination" name="field_7" type="hidden">
<input id="tz-country" name="field_8" type="hidden">

<input
    name="field_6"
    type="hidden"
    value="Kube Native"
>

<div class="emailoctopus-form-row-consent">
    <input
    type="checkbox"
    id="consent"
    name="consent"
    >
    <label for="consent">
    I consent to the following terms:
    </label>
    <a href="https://www.conf42.com/terms-and-conditions.pdf" target="_blank">
    Terms and Conditions
    </a>
    &amp;
    <a href="./code-of-conduct" target="_blank">
    Code of Conduct
    </a>
</div>
<div
    aria-hidden="true"
    class="emailoctopus-form-row-hp"
>
    <input
    type="text"
    name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
    tabindex="-1"
    autocomplete="nope"
    >
</div>
<div class="mt-6 emailoctopus-form-row-subscribe">
    <input
    type="hidden"
    name="successRedirectUrl"
    >
    <button class="btn w-100 btn-success lift" type="submit" onclick="gtag_report_conversion(); rdt('track', 'SignUp');">
    Subscribe to free newsletter <i class="fe fe-arrow-right ms-3"></i>
    </button>
</div>
</form>

<!-- <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js"></script> -->
<script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js"></script>

              </div>
            </div>
          </div>
          <div class="col-12 col-md-6">

            <!-- Card -->
            <div class="card shadow-lg mb-6 mb-md-0">
              <div class="card-body">

                <!-- Preheading -->
                <div class="text-center mb-3">
                  <span class="badge rounded-pill bg-primary-soft">
                    <span class="h6 text-uppercase">Community</span>
                  </span>
                </div>

                <!-- Price -->
                <div class="d-flex justify-content-center">
                  <span class="h2 mb-0 mt-2">$</span>
                  <span class="price display-2 mb-0" data-annual="8.34" data-monthly="10">8.34</span>
                  <span class="h2 align-self-end mb-1">/mo</span>
                </div>

                <!-- Text -->
                <p class="text-center text-muted mb-5">
                </p>

                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Access to <a href="https://conf42.circle.so/">Circle community platform</a>
                  </p>
                </div>

                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Keynotes
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <b>Priority access</b> to all content
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Weekly newsletter
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <b>Live events</b>
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Courses, quizes & certificates
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Community chats
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Community events weekly
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Free trial
                  </p>
                </div>
                

                <!-- Button -->
                <a href="https://conf42.circle.so/checkout/subscribe" class="btn w-100 btn-primary">
                  Join the community <i class="fe fe-arrow-right ms-3"></i>
                </a>

              </div>
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-dark">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- FOOTER -->
    <footer class="py-8 py-md-11 bg-dark">
      <div class="container">
        <div class="row">

          <div class="col-12 col-md-4 col-lg-3">
            <!-- Brand -->
            <img src="./assets/conf42/conf42_logo_white_small.png" alt="..." class="footer-brand img-fluid mb-2">
    
            <!-- Text -->
            <p class="text-gray-700 mb-2">
              Online tech events
            </p>
    
            <!-- Social -->
            <ul class="list-unstyled list-inline list-social mb-5">
              <li class="list-inline-item list-social-item me-3">
                <a href="https://www.linkedin.com/company/49110720/" class="text-decoration-none">
                  <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="...">
                </a>
              </li>
              <li class="list-inline-item list-social-item me-3">
                <a href="https://twitter.com/conf42com" class="text-decoration-none">
                  <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="...">
                </a>
              </li>
            </ul>

            <!-- QR Code -->
            <img src="./assets/conf42/CONF42.QR.png" style="width: 100px;" class="mb-5 img-fluid" />
          </div>


          <div class="col-12 col-md-4 col-lg-3">
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2025
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2025">
                  DevOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2025">
                  Python 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2025">
                  Chaos Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2025">
                  Cloud Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2025">
                  Large Language Models (LLMs) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2025">
                  Golang 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2025">
                  Site Reliability Engineering (SRE) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2025">
                  Machine Learning 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2025">
                  Observability 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2025">
                  Quantum Computing 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2025">
                  Rustlang 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2025">
                  Platform Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mlops2025">
                  MLOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2025">
                  Incident Management 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2025">
                  Kube Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2025">
                  JavaScript 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2025">
                  Prompt Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/robotics2025">
                  Robotics 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2025">
                  DevSecOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2025">
                  Internet of Things (IoT) 2025
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2024
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2024">
                  DevOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2024">
                  Chaos Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2024">
                  Python 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2024">
                  Cloud Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2024">
                  Large Language Models (LLMs) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2024">
                  Golang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2024">
                  Site Reliability Engineering (SRE) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2024">
                  Machine Learning 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2024">
                  Observability 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2024">
                  Quantum Computing 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2024">
                  Rustlang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2024">
                  Platform Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2024">
                  Kube Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2024">
                  Incident Management 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2024">
                  JavaScript 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2024">
                  Prompt Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2024">
                  DevSecOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2024">
                  Internet of Things (IoT) 2024
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2023
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2023">
                  DevOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2023">
                  Chaos Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2023">
                  Python 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2023">
                  Cloud Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2023">
                  Golang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2023">
                  Site Reliability Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2023">
                  Machine Learning 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2023">
                  Observability 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2023">
                  Quantum Computing 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2023">
                  Rustlang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2023">
                  Platform Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2023">
                  Kube Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2023">
                  Incident Management 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2023">
                  JavaScript 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2023">
                  DevSecOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2023">
                  Internet of Things (IoT) 2023
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2022
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2022">
                  Python 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mobile2022">
                  Mobile 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2022">
                  Chaos Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2022">
                  Golang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2022">
                  Cloud Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2022">
                  Machine Learning 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2022">
                  Site Reliability Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2022">
                  Quantum Computing 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2022">
                  Rustlang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2022">
                  Incident Management 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2022">
                  Kube Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2022">
                  JavaScript 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2022">
                  DevSecOps 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/web2022">
                  Web 3.0 2022
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2021
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2021">
                  Chaos Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/enterprise2021">
                  Enterprise Software 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2021">
                  Cloud Native 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2021">
                  Python 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2021">
                  Golang 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2021">
                  Machine Learning 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2021">
                  Site Reliability Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2021">
                  JavaScript 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2021">
                  DevSecOps 2021
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2020
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2020">
                  Chaos Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/oss2020">
                  Open Source Showcase 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2020">
                  Site Reliability Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2020">
                  JavaScript 2020
                </a>
              </li>
            
            </ul>
          
          </div>

          
          <div class="col-12 col-md-4 offset-md-4 col-lg-3 offset-lg-0">

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Community
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./support" class="text-reset">
                  Support us
                </a>
              </li>
              <li class="mb-3">
                <a href="./speakers" class="text-reset">
                  Speakers
                </a>
              </li>
              <li class="mb-3">
                <a href="./hall-of-fame" class="text-reset">
                  Hall of fame
                </a>
              </li>
              <li class="mb-3">
                <a href="https://discord.gg/DnyHgrC7jC" class="text-reset" target="_blank">
                  Discord
                </a>
              </li>
              <li class="mb-3">
                <a href="./about" class="text-reset">
                  About the team
                </a>
              </li>
            </ul>

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Sponsors
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./sponsor" class="text-reset" target="_blank">
                  Sponsorship
                </a>
              </li>
              <li class="mb-3">
                <a href="mailto:mark@conf42.com?subject=We would like to sponsor" class="text-reset" target="_blank">
                  Request the Prospectus
                </a>
              </li>
              <li class="mb-3">
                <a href="https://drive.google.com/drive/folders/1tT2lspLQgj3sdfxG9FwDVkBUt-TYSPGe?usp=sharing" class="text-reset" target="_blank">
                  Media kit
                </a>
              </li>
            </ul>
    
          </div>


          <div class="col-12 col-md-4 col-lg-3">
    
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Legal
            </h6>
    
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./code-of-conduct" class="text-reset">
                  Code of Conduct
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/terms-and-conditions.pdf" class="text-reset" target="_blank">
                  Terms and Conditions
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/privacy-policy.pdf" class="text-reset" target="_blank">
                  Privacy policy
                </a>
              </li>
            </ul>
          </div>


        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </footer>

    <!-- JAVASCRIPT -->
    <!-- Map JS -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    
    <!-- Vendor JS -->
    <script src="./assets/js/vendor.bundle.js"></script>
    
    <!-- Theme JS -->
    <script src="./assets/js/theme.bundle.js"></script>

    <!-- Various JS -->
    <script src="./assets/js/various.js"></script>

    <script src='https://cdn.jsdelivr.net/npm/@widgetbot/crate@3' async defer>
      new Crate({
          notifications: true,
          indicator: true,
          server: '814240231606714368', // Conf42.com
          channel: '814240231788249115' // #community
      })
    </script>
  </body>
</html>