<!doctype html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-77190356-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-77190356-3');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css" />
    <link rel="stylesheet" href="./assets/css/libs.bundle.css" />
    <link rel="stylesheet" href="./assets/css/theme.bundle.css" />
    <link rel="stylesheet" href="./assets/css/various.css" />

    <title>Conf42: Low-Level Computing in a Cloud Native World</title>
    <meta name="description" content="Everything Cloud Native and Cloud Security. It came from the Cloud!!">

    
    <meta name="image" property="og:image" content="https://www.conf42.com/assets/headshots/https://conf42.github.io/static/headshots/cloud_rob.png">
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Low-Level Computing in a Cloud Native World | Conf42"/>
    <meta property="og:description" content="At the core of most software incidents is a misalignment of data and algorithms, coupled with a pattern of human factors that take place in production. At CircleCI we see a lot of incidents and solve them not only for our own team but for thousands of engineering teams all over the world.   Join CircleCI’s CTO, Rob Zuber as he uncovers a few instances when CS fundamentals didn’t pan out as they do in textbooks, and how to avoid them. "/>
    <meta property="og:url" content="https://conf42.com/Cloud_Native_2021_Rob_Zuber_cs_fundamentals_fail_us"/>
    

    <link rel="shortcut icon" href="./assets/favicon/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="./assets/favicon/site.webmanifest">

    

  <!-- Reddit Pixel -->
  <script>
  !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt('init','a2_e019g7ndfhrm', {"optOut":false,"useDecimalCurrencyValues":true,"aaid":"<AAID-HERE>"});rdt('track', 'PageVisit');
  </script>
  <!-- DO NOT MODIFY UNLESS TO REPLACE A USER IDENTIFIER -->
  <!-- End Reddit Pixel -->

  </head>
  <body>

    <!-- NAVBAR -->
    
    <!-- <nav class="navbar navbar-expand-lg navbar-light bg-light"> -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    
      <div class="container">
    
        <!-- Brand -->
        <a class="navbar-brand" href="./">
          <img src="./assets/conf42/conf42_logo_black_small.png" class="navbar-brand-img" alt="...">
        </a>
    
        <!-- Toggler -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    
        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="navbarCollapse">
    
          <!-- Toggler -->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fe fe-x"></i>
          </button>
    
          <!-- Navigation -->
          <ul class="navbar-nav ms-auto">

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Events
              </a>
              <div class="dropdown-menu dropdown-menu-xl p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-6">
                    <!-- <div class="dropdown-img-start" style="background-image: url(./assets/splash/QUANTUM2025_Event_Splash.png);"> -->
                    <div class="dropdown-img-start">
                      <!-- Heading -->
                      <h4 class="fw-bold text-white mb-0">
                        Featured event
                      </h4>
                      <!-- Text -->
                      <p class="fs-sm text-white">
                        Quantum Computing 2025
                      </p>
                      <p class="fs-sm text-white">
                        Premiere 2025-06-19
                      </p>
                      <!-- Button -->
                      <a href="https://www.conf42.com/quantum2025" class="btn btn-sm btn-white shadow-dark fonFt-size-sm">
                        Learn more
                      </a>
                    </div>
                  </div>
                  <div class="col-12 col-lg-6">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
    
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2025
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2025">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2025">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2025">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2025">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2025">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2025">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2025">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2025">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2025">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2025">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2025">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2025">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/mlops2025">
                            MLOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2025">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2025">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2025">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2025">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/robotics2025">
                            Robotics
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2025">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2025">
                            Internet of Things (IoT)
                          </a>
                          
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2024
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2024">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2024">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2024">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2024">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2024">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2024">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2024">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2024">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2024">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2024">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2024">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2024">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2024">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2024">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2024">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2024">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2024">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2024">
                            Internet of Things (IoT)
                          </a>
                          
                        

                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            Info
                          </h6>
                          <a class="dropdown-item" href="./code-of-conduct">
                            Code of Conduct
                          </a>
    
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Community
              </a>
              <div class="dropdown-menu dropdown-menu-l p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-3">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
                          <a class="dropdown-item" href="https://conf42.circle.so/">
                            <b>Community platform login</b>
                          </a>
                          <a class="dropdown-item" href="https://discord.gg/mvHyZzRGaQ" target="_blank">
                            Discord
                          </a>
                          <a class="dropdown-item" href="./hall-of-fame">
                            Hall of Fame
                          </a>
                          <a class="dropdown-item" href="./speakers">
                            Speakers
                          </a>
                          <a class="dropdown-item" href="https://www.papercall.io/events?cfps-scope=&keywords=conf42" target="_blank">
                            Become a speaker (CFPs)
                          </a>
                          <a class="dropdown-item" href="./testimonials">
                            Testimonials
                          </a>
                          <a class="dropdown-item" href="./about">
                            About the team
                          </a>
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./podcast">
                Podcast
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./blog">
                Blog
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./sponsor">
                Sponsor
              </a>
            </li>
          </ul>
    
          <!-- Button -->
          <a class="navbar-btn btn btn-sm btn-primary lift ms-auto" href="#register">
            Join the community!
          </a>
    
        </div>
    
      </div>
    </nav>



<style>
.text-selected {
  background-color: #42ba96!important;
  color: white;
}
</style>
	

    <!-- WELCOME -->
    <section class="py-5 py-md-10" style="background-color: #7B2726;">

      <!-- Shape -->
      <div class="shape shape-blur-3 svg-shim text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>
      </div>

      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 text-center" data-aos="fade-up">

            <!-- Heading -->
            <h1 class="display-2 fw-bold text-white">
              Conf42 Cloud Native 2021 - Online
            </h1>

            <h2 class="text-white">
              
              Content unlocked! Welcome to the community!
              
            </h2>

            <!-- Text -->
            <p class="lead mb-0 text-white-75">
              
              <!-- Everything Cloud Native and Cloud Security. It came from the Cloud!!
 -->
              <script>
                const event_date = new Date("2021-04-29T17:00:00.000+00:00");
                const local_timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const local_date = new Date("2021-04-29T17:00:00.000+00:00");
                // const local_offset = new Date().getTimezoneOffset() / 60;
                // local_date.setHours(local_date.getHours() + local_offset);
                document.getElementById("localtime").innerHTML = local_date + " in " + local_timezone
              </script>
            </p>

            <!-- Buttons -->
            <div class="text-center mt-5">
              
              
              <a class="btn btn-danger lift mb-3" data-bigpicture='{"ytSrc": "9hD3AQGP8k4"}' href="#">
                <i class="fe fe-youtube me-2"></i>
                Watch this talk
              </a>
              
              
              <a class="btn btn-info lift mb-3" data-bigpicture='{"ytSrc": "KblJ1XbXtDs"}' href="#">
                <i class="fe fe-eye me-2"></i>
                Watch Premiere
              </a>
              
              <!-- 
              <a class="btn btn-danger lift mb-3" href="https://youtube.com/playlist?list=PLIuxSyKxlQrDISBJgFU1hAD4f5ivuVgIq" target="_blank">
                <i class="fe fe-youtube me-2"></i>
                Playlist
              </a>
               -->
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>
      </div>
    </div>

    
    <!-- VIDEO -->
    <section class="pt-2 sticky">
      <div class="container">
        <div class="row justify-content-center">

          <div id="video-container" class="col-9 col-lg-12 mb-5">

          <!-- Video -->

            <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
            <div id="player" class="sticky"></div>

            <script>
              
              var transcript = [{"text": "I joined my first startup in 1998. I had no background in computer", "timestamp": "00:00:41,410", "timestamp_s": 41.0}, {"text": "science and no industry experience in software, but they were", "timestamp": "00:00:45,020", "timestamp_s": 45.0}, {"text": "looking for someone to run QA or to start a QA function, and I was", "timestamp": "00:00:48,748", "timestamp_s": 48.0}, {"text": "interested enough, willing to give it a shot, take a chance.", "timestamp": "00:00:52,468", "timestamp_s": 52.0}, {"text": "So I showed up on my first day, excited to get going, but not really", "timestamp": "00:00:55,508", "timestamp_s": 55.0}, {"text": "sure what to expect. It turned out the first thing that they wanted me to", "timestamp": "00:00:58,388", "timestamp_s": 58.0}, {"text": "look into was a performance issue. This was", "timestamp": "00:01:01,348", "timestamp_s": 61.0}, {"text": "fairly straightforward, a page that had started", "timestamp": "00:01:04,888", "timestamp_s": 64.0}, {"text": "out responsive and was slowly degrading over time as the total user base", "timestamp": "00:01:08,776", "timestamp_s": 68.0}, {"text": "started to grow. And so not really", "timestamp": "00:01:12,984", "timestamp_s": 72.0}, {"text": "knowing what to look for seemed like something that I could take on and give", "timestamp": "00:01:16,072", "timestamp_s": 76.0}, {"text": "a shot. So I started to dig in and the first thing I did was", "timestamp": "00:01:19,752", "timestamp_s": 79.0}, {"text": "go and look at some code. Now remember, this is 1998.", "timestamp": "00:01:22,348", "timestamp_s": 82.0}, {"text": "It predates most tools in terms of building", "timestamp": "00:01:26,012", "timestamp_s": 86.0}, {"text": "web applications. We were using Java, and so we really", "timestamp": "00:01:29,836", "timestamp_s": 89.0}, {"text": "had code that looked a little bit like this. This is probably not exactly right,", "timestamp": "00:01:33,232", "timestamp_s": 93.0}, {"text": "but we were building a table with a list of users", "timestamp": "00:01:36,576", "timestamp_s": 96.0}, {"text": "by writing strings with HTML tables directly embedded", "timestamp": "00:01:40,742", "timestamp_s": 100.0}, {"text": "in them. And so the key point here is every time", "timestamp": "00:01:44,474", "timestamp_s": 104.0}, {"text": "we wanted to add another username to the table, we would append", "timestamp": "00:01:48,068", "timestamp_s": 108.0}, {"text": "to the string, which is particularly interesting,", "timestamp": "00:01:52,090", "timestamp_s": 112.0}, {"text": "and this is now a well known issue in Java, but back", "timestamp": "00:01:55,284", "timestamp_s": 115.0}, {"text": "then it was not super well understood by most of us, which is that when", "timestamp": "00:01:58,568", "timestamp_s": 118.0}, {"text": "you do this, you write the first string by allocating an object", "timestamp": "00:02:02,008", "timestamp_s": 122.0}, {"text": "and writing the content into it. And when you append to it with the", "timestamp": "00:02:05,832", "timestamp_s": 125.0}, {"text": "plus operator, you actually create a brand new string,", "timestamp": "00:02:09,308", "timestamp_s": 129.0}, {"text": "allocate all of that memory and release the old object to be collected by the", "timestamp": "00:02:12,946", "timestamp_s": 132.0}, {"text": "garbage collector. And then when you append to it again, you do the", "timestamp": "00:02:16,684", "timestamp_s": 136.0}, {"text": "same thing. So we were doing this over and over and over for all of", "timestamp": "00:02:19,884", "timestamp_s": 139.0}, {"text": "the users in the list without realizing the implications.", "timestamp": "00:02:23,184", "timestamp_s": 143.0}, {"text": "In the virtual machine, what happens in this case is", "timestamp": "00:02:26,614", "timestamp_s": 146.0}, {"text": "you allocate a string buffer and then you append to it with the append method", "timestamp": "00:02:29,856", "timestamp_s": 149.0}, {"text": "of the string buffer, and then ultimately write that out", "timestamp": "00:02:33,402", "timestamp_s": 153.0}, {"text": "to the output by converting to a string. So what\u0027s happening", "timestamp": "00:02:36,612", "timestamp_s": 156.0}, {"text": "inside the system is you\u0027ve allocated a large chunk of memory,", "timestamp": "00:02:40,500", "timestamp_s": 160.0}, {"text": "you can continue to write into that chunk, and when you get to the end,", "timestamp": "00:02:44,298", "timestamp_s": 164.0}, {"text": "you allocate another chunk, which is actually all done by the string buffer,", "timestamp": "00:02:47,768", "timestamp_s": 167.0}, {"text": "not by the developer. And when it\u0027s complete, you can write", "timestamp": "00:02:51,422", "timestamp_s": 171.0}, {"text": "it all out. So the big takeaway for me in this was,", "timestamp": "00:02:54,712", "timestamp_s": 174.0}, {"text": "and it was a great early lesson CTO learn in my career.", "timestamp": "00:02:58,152", "timestamp_s": 178.0}, {"text": "We all want to take advantage of the tools that are made available to us,", "timestamp": "00:03:01,010", "timestamp_s": 181.0}, {"text": "so that we can focus on the things that matter to our users. But not", "timestamp": "00:03:04,028", "timestamp_s": 184.0}, {"text": "understanding how those things are implemented can ultimately lead", "timestamp": "00:03:07,900", "timestamp_s": 187.0}, {"text": "CTO degradation for your users. So it\u0027s important", "timestamp": "00:03:12,000", "timestamp_s": 192.0}, {"text": "to know that you get great advantage by leveraging", "timestamp": "00:03:15,200", "timestamp_s": 195.0}, {"text": "the tools that are available, but it\u0027s also important to pay attention to how they", "timestamp": "00:03:19,078", "timestamp_s": 199.0}, {"text": "would be implemented, because there really is no magic and make good", "timestamp": "00:03:22,864", "timestamp_s": 202.0}, {"text": "choices about the tools that you end up using. I\u0027m Rob Zuber,", "timestamp": "00:03:26,852", "timestamp_s": 206.0}, {"text": "CTO of Circleci, and today I want to give you a few more examples from", "timestamp": "00:03:30,458", "timestamp_s": 210.0}, {"text": "more recent history in the Circleci platform of places where we\u0027ve", "timestamp": "00:03:33,812", "timestamp_s": 213.0}, {"text": "been able to make great use of available technologies. But our initial", "timestamp": "00:03:37,678", "timestamp_s": 217.0}, {"text": "choices ultimately caused issues based on how those things were", "timestamp": "00:03:41,342", "timestamp_s": 221.0}, {"text": "implemented. So let\u0027s start with schemaless databases. At Circleci,", "timestamp": "00:03:44,728", "timestamp_s": 224.0}, {"text": "we use Mongo. We\u0027ve used Mongo for a very long time. We\u0027re starting to use", "timestamp": "00:03:48,686", "timestamp_s": 228.0}, {"text": "some other data stores and other pieces of our platform, but we still have a", "timestamp": "00:03:51,708", "timestamp_s": 231.0}, {"text": "lot of mongo. And one thing that I always tell people about schemaless databases", "timestamp": "00:03:54,844", "timestamp_s": 234.0}, {"text": "is there\u0027s always a schema. It\u0027s just a question of where that schema is", "timestamp": "00:03:58,546", "timestamp_s": 238.0}, {"text": "enforced. And in order to understand the issue that we", "timestamp": "00:04:01,888", "timestamp_s": 241.0}, {"text": "ultimately ran into, it\u0027s important to understand a lot of things about", "timestamp": "00:04:05,248", "timestamp_s": 245.0}, {"text": "Mongo and its implementation and schemaless databases.", "timestamp": "00:04:08,352", "timestamp_s": 248.0}, {"text": "So this is a comparison of what it would look like to structure a row", "timestamp": "00:04:11,222", "timestamp_s": 251.0}, {"text": "in a schema defined database, like a relational database.", "timestamp": "00:04:14,810", "timestamp_s": 254.0}, {"text": "And in the schema list or document store, like Mongo,", "timestamp": "00:04:18,442", "timestamp_s": 258.0}, {"text": "on the top you have a list of names and email addresses, and all you", "timestamp": "00:04:21,786", "timestamp_s": 261.0}, {"text": "need to store is names and email addresses, because the schema defines", "timestamp": "00:04:25,508", "timestamp_s": 265.0}, {"text": "what a row looks like. This is a little bit more like a CSV than", "timestamp": "00:04:29,166", "timestamp_s": 269.0}, {"text": "a true database table, because it\u0027s hard for me to print all the control characters", "timestamp": "00:04:32,808", "timestamp_s": 272.0}, {"text": "on a screen, but you get the general idea, the amount of extra space is", "timestamp": "00:04:36,446", "timestamp_s": 276.0}, {"text": "very limited. On the other hand, when storing a document in a schema", "timestamp": "00:04:39,868", "timestamp_s": 279.0}, {"text": "list database, you have to identify every field in every", "timestamp": "00:04:43,634", "timestamp_s": 283.0}, {"text": "record or document, because there\u0027s no schema defining what could", "timestamp": "00:04:47,276", "timestamp_s": 287.0}, {"text": "be present. So one document might have a name and email and another might not,", "timestamp": "00:04:50,524", "timestamp_s": 290.0}, {"text": "and that\u0027s totally valid inside the same collection.", "timestamp": "00:04:54,016", "timestamp_s": 294.0}, {"text": "So one thing to note when you do this is that that", "timestamp": "00:04:57,558", "timestamp_s": 297.0}, {"text": "second document is about 25% bigger than the one", "timestamp": "00:05:01,136", "timestamp_s": 301.0}, {"text": "above it, and that\u0027s not necessarily a good thing. In many places, bigger is", "timestamp": "00:05:05,028", "timestamp_s": 305.0}, {"text": "better in storage, bigger is worse. And in 2021,", "timestamp": "00:05:08,788", "timestamp_s": 308.0}, {"text": "or even over the last ten years, we\u0027ve come CTO believe that storage is effectively", "timestamp": "00:05:12,532", "timestamp_s": 312.0}, {"text": "free based on the price that we pay. But storage", "timestamp": "00:05:15,978", "timestamp_s": 315.0}, {"text": "has a lot of, or size of rows or documents", "timestamp": "00:05:19,502", "timestamp_s": 319.0}, {"text": "in storage has a lot of impact on the overall performance of your systems.", "timestamp": "00:05:22,942", "timestamp_s": 322.0}, {"text": "So this growth is not necessarily a positive thing.", "timestamp": "00:05:26,590", "timestamp_s": 326.0}, {"text": "So, looking at this a little bit more specifically, if you think of a very", "timestamp": "00:05:30,490", "timestamp_s": 330.0}, {"text": "simple system like the one that we use to manage our Mongo instances,", "timestamp": "00:05:33,612", "timestamp_s": 333.0}, {"text": "you have compute, doing the actual calculations of what\u0027s happening", "timestamp": "00:05:38,034", "timestamp_s": 338.0}, {"text": "and running the mongo binary, and then you have disk, which is where", "timestamp": "00:05:41,424", "timestamp_s": 341.0}, {"text": "the data is stored, and most likely you have some sort of network", "timestamp": "00:05:45,680", "timestamp_s": 345.0}, {"text": "in between those two. In some cases you would have locally attached storage,", "timestamp": "00:05:49,446", "timestamp_s": 349.0}, {"text": "but in many cases, in our cloud systems, we\u0027re using network attached storage for", "timestamp": "00:05:52,438", "timestamp_s": 352.0}, {"text": "the benefits of that. And the result is you\u0027re moving this data back and forth", "timestamp": "00:05:55,668", "timestamp_s": 355.0}, {"text": "across these networks. And so latency and throughput are", "timestamp": "00:05:59,530", "timestamp_s": 359.0}, {"text": "both concerns when moving those large volumes of data.", "timestamp": "00:06:03,012", "timestamp_s": 363.0}, {"text": "So, as I said, up in the compute layer, the system", "timestamp": "00:06:06,120", "timestamp_s": 366.0}, {"text": "effectively is where parsing and editing of those documents happens.", "timestamp": "00:06:09,544", "timestamp_s": 369.0}, {"text": "So when you have an unstructured document, you have to load the entire", "timestamp": "00:06:13,016", "timestamp_s": 373.0}, {"text": "thing in order to find any of the pieces of it.", "timestamp": "00:06:16,600", "timestamp_s": 376.0}, {"text": "And that\u0027s done within the mongo binary. And that\u0027s also where editing", "timestamp": "00:06:20,330", "timestamp_s": 380.0}, {"text": "happens before it\u0027s flushed back out to the disk. And more realistically,", "timestamp": "00:06:23,986", "timestamp_s": 383.0}, {"text": "looking at that second example again, what truly happens is there\u0027s", "timestamp": "00:06:27,954", "timestamp_s": 387.0}, {"text": "no defined ordering of the fields,", "timestamp": "00:06:31,942", "timestamp_s": 391.0}, {"text": "so you could write the same content into two different documents. And the", "timestamp": "00:06:35,462", "timestamp_s": 395.0}, {"text": "net result is that you have no way of knowing", "timestamp": "00:06:39,248", "timestamp_s": 399.0}, {"text": "where in that document those fields might be. So when", "timestamp": "00:06:42,986", "timestamp_s": 402.0}, {"text": "you go looking for something, you have to iterate over the", "timestamp": "00:06:46,468", "timestamp_s": 406.0}, {"text": "entire document. Now, mongo uses a format called BSON, which is", "timestamp": "00:06:49,652", "timestamp_s": 409.0}, {"text": "effectively a binary version of JSON, or close enough so", "timestamp": "00:06:53,188", "timestamp_s": 413.0}, {"text": "there are some smaller characters and control functions used.", "timestamp": "00:06:56,472", "timestamp_s": 416.0}, {"text": "Both CTO define indicators or separators of fields, as well as", "timestamp": "00:06:59,992", "timestamp_s": 419.0}, {"text": "to allow for a couple additional data types that would not be obvious in a", "timestamp": "00:07:03,432", "timestamp_s": 423.0}, {"text": "JSON document. But other than that, you can think about the parsing as very similar", "timestamp": "00:07:06,824", "timestamp_s": 426.0}, {"text": "to JSOn, meaning you open up an iterator and", "timestamp": "00:07:10,380", "timestamp_s": 430.0}, {"text": "you start moving over all the keys until you find the one that you want.", "timestamp": "00:07:13,468", "timestamp_s": 433.0}, {"text": "This particular example is from the Mongo C driver docs.", "timestamp": "00:07:16,508", "timestamp_s": 436.0}, {"text": "So if you were writing a parser in C, it would look just like", "timestamp": "00:07:19,906", "timestamp_s": 439.0}, {"text": "this. You would start at the beginning. I guess it\u0027s not the parser, but it\u0027s", "timestamp": "00:07:23,244", "timestamp_s": 443.0}, {"text": "a search for a particular element. You\u0027d start at the beginning and iterate over", "timestamp": "00:07:26,294", "timestamp_s": 446.0}, {"text": "until you found what you needed. Second, there are no joints,", "timestamp": "00:07:29,872", "timestamp_s": 449.0}, {"text": "and this is a very common theme in schemaless databases.", "timestamp": "00:07:33,158", "timestamp_s": 453.0}, {"text": "Ultimately the goal being that you have different operational", "timestamp": "00:07:37,306", "timestamp_s": 457.0}, {"text": "characteristics and different models for deploying your systems", "timestamp": "00:07:40,890", "timestamp_s": 460.0}, {"text": "when you don\u0027t have to worry about joins between collections. So this", "timestamp": "00:07:44,218", "timestamp_s": 464.0}, {"text": "is considered generally to be a good thing. Unfortunately, it means", "timestamp": "00:07:47,608", "timestamp_s": 467.0}, {"text": "that there are some specific behaviors that you account for in different ways,", "timestamp": "00:07:51,448", "timestamp_s": 471.0}, {"text": "and sometimes they don\u0027t work out the way that you would expect.", "timestamp": "00:07:54,696", "timestamp_s": 474.0}, {"text": "So, taking a look at the previous example, this is what it would actually look", "timestamp": "00:07:57,910", "timestamp_s": 477.0}, {"text": "like laid out in a relational database. I mean, of core, there would be more", "timestamp": "00:08:00,984", "timestamp_s": 480.0}, {"text": "to it. But if you had names and emails for your users or your characters", "timestamp": "00:08:03,948", "timestamp_s": 483.0}, {"text": "and your superheroes that you\u0027re storing, and then you wanted to associate with them their", "timestamp": "00:08:07,522", "timestamp_s": 487.0}, {"text": "powers, and that would be a one to many relationship,", "timestamp": "00:08:11,296", "timestamp_s": 491.0}, {"text": "meaning an individual superhero could have many powers.", "timestamp": "00:08:14,256", "timestamp_s": 494.0}, {"text": "You would store a separate table of powers and then have a relational id back", "timestamp": "00:08:17,510", "timestamp_s": 497.0}, {"text": "to the character table to identify with which character they were", "timestamp": "00:08:21,552", "timestamp_s": 501.0}, {"text": "associated. Now, that\u0027s not possible. It\u0027s possible, but there\u0027s no", "timestamp": "00:08:25,188", "timestamp_s": 505.0}, {"text": "enforcement in the database, in a document store. So the more commonly", "timestamp": "00:08:29,156", "timestamp_s": 509.0}, {"text": "proposed and supported pattern is to embed those.", "timestamp": "00:08:33,066", "timestamp_s": 513.0}, {"text": "So in this case, we have Wanda as Scarlet Witch, who has some specific", "timestamp": "00:08:37,128", "timestamp_s": 517.0}, {"text": "powers. We would list those inside of the document", "timestamp": "00:08:40,760", "timestamp_s": 520.0}, {"text": "representing Wanda, and for a small number of powers,", "timestamp": "00:08:44,350", "timestamp_s": 524.0}, {"text": "this is actually a totally reasonable approach, minus any", "timestamp": "00:08:48,738", "timestamp_s": 528.0}, {"text": "opportunity to enforce uniqueness or constraints on that", "timestamp": "00:08:52,252", "timestamp_s": 532.0}, {"text": "list of powers. Now, one of the amazing", "timestamp": "00:08:55,708", "timestamp_s": 535.0}, {"text": "convenience functions that Mongo provides to allow you to", "timestamp": "00:08:59,808", "timestamp_s": 539.0}, {"text": "manage these lists is something called add to set. So in that previous", "timestamp": "00:09:02,992", "timestamp_s": 542.0}, {"text": "example, if I listed mind control, and then I", "timestamp": "00:09:06,822", "timestamp_s": 546.0}, {"text": "wanted to add it again, if I call add to set, Mongo will ensure", "timestamp": "00:09:10,288", "timestamp_s": 550.0}, {"text": "that that doesn\u0027t already exist inside of the record before it appends", "timestamp": "00:09:13,462", "timestamp_s": 553.0}, {"text": "it, which sounds great and is super helpful, and it\u0027s something that we", "timestamp": "00:09:17,498", "timestamp_s": 557.0}, {"text": "chose to use for one of our implementations, specifically our implementation", "timestamp": "00:09:20,868", "timestamp_s": 560.0}, {"text": "of artifacts. So, circle CI is a CI and CD", "timestamp": "00:09:24,874", "timestamp_s": 564.0}, {"text": "platform. And one of the things that we allow you to do when you run", "timestamp": "00:09:28,542", "timestamp_s": 568.0}, {"text": "a build is store artifacts of that build. And this", "timestamp": "00:09:31,848", "timestamp_s": 571.0}, {"text": "is a small document that represents a single", "timestamp": "00:09:35,736", "timestamp_s": 575.0}, {"text": "artifact at the end of a build. In terms of what we would store,", "timestamp": "00:09:39,096", "timestamp_s": 579.0}, {"text": "it describes the name, the actual path in s three, where we would", "timestamp": "00:09:42,524", "timestamp_s": 582.0}, {"text": "have stored it, and then a URL to retrieve it. Now, these are obviously", "timestamp": "00:09:46,268", "timestamp_s": 586.0}, {"text": "adjusted to fit on the screen, but it\u0027s approximately this format.", "timestamp": "00:09:50,236", "timestamp_s": 590.0}, {"text": "In fact, I think they would mostly be longer than this. So for every single", "timestamp": "00:09:53,926", "timestamp_s": 593.0}, {"text": "artifact that was stored, we had some repetition, which, as I\u0027ve discussed before,", "timestamp": "00:09:57,440", "timestamp_s": 597.0}, {"text": "was probably not great from a total size perspective. And we were storing these", "timestamp": "00:10:01,152", "timestamp_s": 601.0}, {"text": "documents in an array and using the add to set operator,", "timestamp": "00:10:05,028", "timestamp_s": 605.0}, {"text": "to identify when we had duplication inside of that array and", "timestamp": "00:10:08,282", "timestamp_s": 608.0}, {"text": "to avoid that. So, similar to the short list of powers,", "timestamp": "00:10:11,988", "timestamp_s": 611.0}, {"text": "when we had builds that ran with a small number of outputs,", "timestamp": "00:10:15,738", "timestamp_s": 615.0}, {"text": "this was a great way to list them and a quick way to find the", "timestamp": "00:10:19,374", "timestamp_s": 619.0}, {"text": "data we needed and go and fetch those artifacts. We could show the list to", "timestamp": "00:10:22,584", "timestamp_s": 622.0}, {"text": "the user so they could see what artifacts were associated with their build,", "timestamp": "00:10:25,464", "timestamp_s": 625.0}, {"text": "click on one and download it. Now, what ended up", "timestamp": "00:10:28,556", "timestamp_s": 628.0}, {"text": "happening was we had customers who had 30,000 or more of these artifacts", "timestamp": "00:10:31,948", "timestamp_s": 631.0}, {"text": "being generated within a build, which, as you can imagine,", "timestamp": "00:10:35,922", "timestamp_s": 635.0}, {"text": "started to build some very, very large arrays inside of that", "timestamp": "00:10:39,346", "timestamp_s": 639.0}, {"text": "document. So, here\u0027s an example or a description of", "timestamp": "00:10:42,656", "timestamp_s": 642.0}, {"text": "what that sort of looks like as it\u0027s happening. So this is our", "timestamp": "00:10:46,864", "timestamp_s": 646.0}, {"text": "very simple mongo instance again with compute, and then disk below", "timestamp": "00:10:50,224", "timestamp_s": 650.0}, {"text": "and the little square representing the specific document that we\u0027re", "timestamp": "00:10:54,180", "timestamp_s": 654.0}, {"text": "interested in editing and adding an artifact to.", "timestamp": "00:10:57,946", "timestamp_s": 657.0}, {"text": "And up above, we have a builder machine that\u0027s", "timestamp": "00:11:01,124", "timestamp_s": 661.0}, {"text": "actually doing the work and wants to write. And so when it makes a request", "timestamp": "00:11:04,698", "timestamp_s": 664.0}, {"text": "to Mongo to get access to that build document, Mongo loads", "timestamp": "00:11:08,062", "timestamp_s": 668.0}, {"text": "it off disk and holds it in memory in order to operate on it.", "timestamp": "00:11:11,694", "timestamp_s": 671.0}, {"text": "And ultimately, we\u0027ll flush it back out to disk.", "timestamp": "00:11:15,000", "timestamp_s": 675.0}, {"text": "Now, one of the capabilities that we offer at Circleci is the ability to", "timestamp": "00:11:18,014", "timestamp_s": 678.0}, {"text": "parallelize your build. So you might have a very large number of teams.", "timestamp": "00:11:21,468", "timestamp_s": 681.0}, {"text": "And in order to get through them faster, we will split those tests", "timestamp": "00:11:25,426", "timestamp_s": 685.0}, {"text": "up onto different machines and run them at the same time.", "timestamp": "00:11:28,882", "timestamp_s": 688.0}, {"text": "Of course, that means that each one of those is computing a", "timestamp": "00:11:31,968", "timestamp_s": 691.0}, {"text": "different set of artifacts and writing it back to the", "timestamp": "00:11:35,248", "timestamp_s": 695.0}, {"text": "build. And the build is the collection of results from", "timestamp": "00:11:38,672", "timestamp_s": 698.0}, {"text": "all of those different machines, not one per machine.", "timestamp": "00:11:41,872", "timestamp_s": 701.0}, {"text": "So when each one of those tries to write, it has", "timestamp": "00:11:45,098", "timestamp_s": 705.0}, {"text": "to write to the same array. And when we call add to", "timestamp": "00:11:48,308", "timestamp_s": 708.0}, {"text": "set, each one of those write requests is going to lock the build", "timestamp": "00:11:51,732", "timestamp_s": 711.0}, {"text": "document and iterate over the entire", "timestamp": "00:11:55,256", "timestamp_s": 715.0}, {"text": "array of artifacts, looking for any potential", "timestamp": "00:11:58,840", "timestamp_s": 718.0}, {"text": "conflicts or duplicates before it ultimately writes", "timestamp": "00:12:02,462", "timestamp_s": 722.0}, {"text": "at the end. And this could happen on 100 parallel", "timestamp": "00:12:05,902", "timestamp_s": 725.0}, {"text": "builders trying to write 30,000 artifacts in total over", "timestamp": "00:12:09,602", "timestamp_s": 729.0}, {"text": "that single document, each one of them locking and searching by the", "timestamp": "00:12:13,676", "timestamp_s": 733.0}, {"text": "end, the previous 29,000 documents, in order to", "timestamp": "00:12:17,708", "timestamp_s": 737.0}, {"text": "see if there was any duplication or conflict. This was not a", "timestamp": "00:12:21,148", "timestamp_s": 741.0}, {"text": "great outcome for us. And even more exciting, we would be writing a", "timestamp": "00:12:24,464", "timestamp_s": 744.0}, {"text": "big enough or a large enough number to that artifacts", "timestamp": "00:12:28,368", "timestamp_s": 748.0}, {"text": "array that ultimately, Mongo would have to grow the document,", "timestamp": "00:12:31,878", "timestamp_s": 751.0}, {"text": "so it would have to allocate a new chunk of memory, copy the existing document", "timestamp": "00:12:35,898", "timestamp_s": 755.0}, {"text": "into that memory, and then continue to edit, which is another", "timestamp": "00:12:39,882", "timestamp_s": 759.0}, {"text": "operation that happened while locked and blocking all,", "timestamp": "00:12:43,316", "timestamp_s": 763.0}, {"text": "potentially 99 other or more builders from writing.", "timestamp": "00:12:46,120", "timestamp_s": 766.0}, {"text": "And then we had to write that document back to disk, which requires", "timestamp": "00:12:49,982", "timestamp_s": 769.0}, {"text": "Mongo to allocate new space on the disk because there\u0027s not", "timestamp": "00:12:53,822", "timestamp_s": 773.0}, {"text": "room to fit it where it was before, find a new extent, move the", "timestamp": "00:12:56,968", "timestamp_s": 776.0}, {"text": "entire existing document over there and write the new content into", "timestamp": "00:13:00,428", "timestamp_s": 780.0}, {"text": "it. Or more likely, just flush the whole document and remove the old one.", "timestamp": "00:13:04,092", "timestamp_s": 784.0}, {"text": "So that whole operation had to happen before someone else could write.", "timestamp": "00:13:07,692", "timestamp_s": 787.0}, {"text": "Ultimately, this resulted in some very, very slow builds.", "timestamp": "00:13:11,470", "timestamp_s": 791.0}, {"text": "So the first quick fix we made was to remove the add to set operator", "timestamp": "00:13:15,078", "timestamp_s": 795.0}, {"text": "and replace it with a push operator, which just assumes there\u0027s no duplication,", "timestamp": "00:13:18,822", "timestamp_s": 798.0}, {"text": "or that duplication doesn\u0027t matter, because it actually never did for us,", "timestamp": "00:13:22,102", "timestamp_s": 802.0}, {"text": "and writes directly to the end. The next step was", "timestamp": "00:13:25,492", "timestamp_s": 805.0}, {"text": "effectively to rebuild large parts of that artifact management system,", "timestamp": "00:13:29,268", "timestamp_s": 809.0}, {"text": "shrinking the total amount of storage, because we knew the pattern to", "timestamp": "00:13:32,852", "timestamp_s": 812.0}, {"text": "get to a document, and then changing the storage model", "timestamp": "00:13:36,308", "timestamp_s": 816.0}, {"text": "so that we didn\u0027t need to core it inside the Mongo document at all.", "timestamp": "00:13:39,496", "timestamp_s": 819.0}, {"text": "So the key takeaway here for me is that there actually", "timestamp": "00:13:42,744", "timestamp_s": 822.0}, {"text": "was a great simple approach in the method that we chose. But when you take", "timestamp": "00:13:46,152", "timestamp_s": 826.0}, {"text": "a simple approach like that, it\u0027s really important to know when it\u0027s going to", "timestamp": "00:13:49,608", "timestamp_s": 829.0}, {"text": "break. For us, it was a surprise, and we had to go do some digging", "timestamp": "00:13:52,748", "timestamp_s": 832.0}, {"text": "and learning to figure out what was going on, and then find a new system.", "timestamp": "00:13:56,434", "timestamp_s": 836.0}, {"text": "If we had understood going in where the limitations of the mongo", "timestamp": "00:13:59,692", "timestamp_s": 839.0}, {"text": "array capability would be, then we could have planned", "timestamp": "00:14:03,478", "timestamp_s": 843.0}, {"text": "for future work to make a more comprehensive or capable system", "timestamp": "00:14:07,062", "timestamp_s": 847.0}, {"text": "at the point where the scale would be a problem, or before that point.", "timestamp": "00:14:10,528", "timestamp_s": 850.0}, {"text": "Now, taking another look at how we use mongo, but looking at a different", "timestamp": "00:14:14,528", "timestamp_s": 854.0}, {"text": "aspect of it, let\u0027s talk a little bit about EBS. Now, this could probably be", "timestamp": "00:14:17,812", "timestamp_s": 857.0}, {"text": "any block store. EBS is one that I happen to be fairly familiar with,", "timestamp": "00:14:21,140", "timestamp_s": 861.0}, {"text": "because we use it a lot inside of Circleci. And the one thing that", "timestamp": "00:14:24,532", "timestamp_s": 864.0}, {"text": "I will definitely highlight here is many things feel like magic. There\u0027s never", "timestamp": "00:14:27,784", "timestamp_s": 867.0}, {"text": "any actual magic. There\u0027s just important, difficult engineering challenges", "timestamp": "00:14:31,368", "timestamp_s": 871.0}, {"text": "that have already been solved, but it\u0027s important to think about how they\u0027ve been", "timestamp": "00:14:35,102", "timestamp_s": 875.0}, {"text": "solved. So, again, taking our simple example of a Mongo instance,", "timestamp": "00:14:38,748", "timestamp_s": 878.0}, {"text": "this is circa 2015, we actually had Mongo", "timestamp": "00:14:42,146", "timestamp_s": 882.0}, {"text": "outsourced to a third party provider who managed the database", "timestamp": "00:14:46,034", "timestamp_s": 886.0}, {"text": "for us. And again, your simple compute and disk", "timestamp": "00:14:49,558", "timestamp_s": 889.0}, {"text": "pairing. And in that model, those were actually locally attached.", "timestamp": "00:14:53,206", "timestamp_s": 893.0}, {"text": "So we were using AWS\u0027s largest instances at", "timestamp": "00:14:57,094", "timestamp_s": 897.0}, {"text": "the time, which meant we had their largest local ssds. Because disk and", "timestamp": "00:15:00,464", "timestamp_s": 900.0}, {"text": "compute moved together, there\u0027s no way to attach directly, or at", "timestamp": "00:15:03,908", "timestamp_s": 903.0}, {"text": "least at the time, larger disks, CTO, the same sized instance.", "timestamp": "00:15:07,524", "timestamp_s": 907.0}, {"text": "Then we were running low on space for even a single collection,", "timestamp": "00:15:11,498", "timestamp_s": 911.0}, {"text": "meaning we had shifted off multiple different collections, left a single", "timestamp": "00:15:15,194", "timestamp_s": 915.0}, {"text": "collection on a particular store, and the system was running", "timestamp": "00:15:18,696", "timestamp_s": 918.0}, {"text": "out of space. So we were constantly tweaking and managing the storage.", "timestamp": "00:15:21,896", "timestamp_s": 921.0}, {"text": "But no matter how small you get the documents, if you\u0027re continuing to add them", "timestamp": "00:15:25,406", "timestamp_s": 925.0}, {"text": "at a high rate of growth, you\u0027re ultimately going to run out of space.", "timestamp": "00:15:29,116", "timestamp_s": 929.0}, {"text": "Additionally, we had operational management issues like", "timestamp": "00:15:32,668", "timestamp_s": 932.0}, {"text": "backup and restore, so a backup we were trying to do daily, but we", "timestamp": "00:15:36,092", "timestamp_s": 936.0}, {"text": "got to the point where a backup was taking greater than 24 hours because we", "timestamp": "00:15:39,484", "timestamp_s": 939.0}, {"text": "were pulling it out of the database and pushing it across the network all through", "timestamp": "00:15:42,764", "timestamp_s": 942.0}, {"text": "the compute engine, which was also trying to serve traffic. We ended up with stale,", "timestamp": "00:15:46,288", "timestamp_s": 946.0}, {"text": "inconsistent backups by the time they were even created, and we obviously couldn\u0027t", "timestamp": "00:15:50,390", "timestamp_s": 950.0}, {"text": "run them daily anymore because they weren\u0027t even done. Even worse, if we tried to", "timestamp": "00:15:54,150", "timestamp_s": 954.0}, {"text": "use restore to do any maintenance operations, that would take two", "timestamp": "00:15:57,444", "timestamp_s": 957.0}, {"text": "to three days. So the ability to build out a new host even move", "timestamp": "00:16:01,252", "timestamp_s": 961.0}, {"text": "us off when we were having operational issues was severely limited.", "timestamp": "00:16:04,468", "timestamp_s": 964.0}, {"text": "We had operational problems all over and we", "timestamp": "00:16:08,334", "timestamp_s": 968.0}, {"text": "needed a new solution. So we decided to do two things at the same time.", "timestamp": "00:16:11,848", "timestamp_s": 971.0}, {"text": "We moved the overall Mongo operation into", "timestamp": "00:16:15,352", "timestamp_s": 975.0}, {"text": "our own AWS environment. So we cloud customize the buildout, and we switched to", "timestamp": "00:16:19,276", "timestamp_s": 979.0}, {"text": "using EBS as the disk storage. EBS is", "timestamp": "00:16:23,148", "timestamp_s": 983.0}, {"text": "elastic block store within AWS, so now we\u0027re back to having a network attached", "timestamp": "00:16:26,988", "timestamp_s": 986.0}, {"text": "storage model. We could optimize the disk and compute", "timestamp": "00:16:31,510", "timestamp_s": 991.0}, {"text": "separately. We had to pay attention to the operational characteristics,", "timestamp": "00:16:35,302", "timestamp_s": 995.0}, {"text": "but ultimately for us, the throughput and latency were both manageable.", "timestamp": "00:16:38,198", "timestamp_s": 998.0}, {"text": "Throughput is unbelievable inside of EBS,", "timestamp": "00:16:41,786", "timestamp_s": 1001.0}, {"text": "and the latency was good enough, with the right mix of", "timestamp": "00:16:45,490", "timestamp_s": 1005.0}, {"text": "computing power on the other side to store working sets, that it didn\u0027t end up", "timestamp": "00:16:49,604", "timestamp_s": 1009.0}, {"text": "being a significant problem. Also, backups got a lot easier by using", "timestamp": "00:16:53,060", "timestamp_s": 1013.0}, {"text": "snapshots. So snapshots are not actually instant,", "timestamp": "00:16:56,792", "timestamp_s": 1016.0}, {"text": "but they capture an instantaneous perspective of the", "timestamp": "00:17:00,174", "timestamp_s": 1020.0}, {"text": "disk itself, an instantaneous view, and then", "timestamp": "00:17:03,288", "timestamp_s": 1023.0}, {"text": "are capable of transferring that, despite the fact that it takes time", "timestamp": "00:17:06,552", "timestamp_s": 1026.0}, {"text": "with that understanding. Meaning if something is edited while", "timestamp": "00:17:10,188", "timestamp_s": 1030.0}, {"text": "it\u0027s still being transferred, the old version is held onto in order", "timestamp": "00:17:13,596", "timestamp_s": 1033.0}, {"text": "to complete the process of the backup or the", "timestamp": "00:17:17,484", "timestamp_s": 1037.0}, {"text": "snapshot transfer inside of EBS. So ultimately you get a", "timestamp": "00:17:20,764", "timestamp_s": 1040.0}, {"text": "consistent view from a moment in time. And because of the way that Mongo operates", "timestamp": "00:17:24,416", "timestamp_s": 1044.0}, {"text": "with journaling, it\u0027s not even necessary to stop operations.", "timestamp": "00:17:28,502", "timestamp_s": 1048.0}, {"text": "So the disk is known to be consistent at any particular instances.", "timestamp": "00:17:31,914", "timestamp_s": 1051.0}, {"text": "Additionally, we now had the opportunity to attach", "timestamp": "00:17:35,738", "timestamp_s": 1055.0}, {"text": "different compute without having CTO make any significant", "timestamp": "00:17:39,242", "timestamp_s": 1059.0}, {"text": "data transfers. So off of the same disk, we could do", "timestamp": "00:17:42,490", "timestamp_s": 1062.0}, {"text": "a rebuild of the machine. Whether it was because we wanted to upgrade the operating", "timestamp": "00:17:45,896", "timestamp_s": 1065.0}, {"text": "system, apply security patches, upgrade Mongo itself,", "timestamp": "00:17:49,262", "timestamp_s": 1069.0}, {"text": "and without having to try to change the state of the existing", "timestamp": "00:17:52,584", "timestamp_s": 1072.0}, {"text": "machine, we could just build a new one, throw out the old one, and attach", "timestamp": "00:17:55,838", "timestamp_s": 1075.0}, {"text": "it. So our hosts became effectively immutable and ephemeral in that way.", "timestamp": "00:17:59,378", "timestamp_s": 1079.0}, {"text": "And that was a significant improvement from an operational perspective.", "timestamp": "00:18:03,580", "timestamp_s": 1083.0}, {"text": "And then finally, that same instant transfer made", "timestamp": "00:18:07,378", "timestamp_s": 1087.0}, {"text": "restores really, really fast. It would take a couple minutes", "timestamp": "00:18:11,280", "timestamp_s": 1091.0}, {"text": "to build out a multi terabyte EBS volume from a", "timestamp": "00:18:14,848", "timestamp_s": 1094.0}, {"text": "snapshot that we had stored. And so this was quite magical and allowed", "timestamp": "00:18:18,128", "timestamp_s": 1098.0}, {"text": "us to again, perform those kinds of operations. Let\u0027s say we wanted to add another", "timestamp": "00:18:21,798", "timestamp_s": 1101.0}, {"text": "host to a replica set or replace one that wasn\u0027t working", "timestamp": "00:18:25,796", "timestamp_s": 1105.0}, {"text": "the way that we wanted. Or sometimes even AWS needs to", "timestamp": "00:18:29,284", "timestamp_s": 1109.0}, {"text": "take back a vm and we could just build a new one before they did", "timestamp": "00:18:33,028", "timestamp_s": 1113.0}, {"text": "that. So this was fantastic. Again, a couple of minutes to get multiple terabytes", "timestamp": "00:18:35,988", "timestamp_s": 1115.0}, {"text": "back online, and it seemed great until we actually tried to start Mongo up", "timestamp": "00:18:39,838", "timestamp_s": 1119.0}, {"text": "again. And then it was really, really slow, like kind of scary.", "timestamp": "00:18:43,288", "timestamp_s": 1123.0}, {"text": "Did I break the production database slow. When it takes minutes to", "timestamp": "00:18:46,926", "timestamp_s": 1126.0}, {"text": "start up a process that\u0027s normally pretty much instant.", "timestamp": "00:18:50,572", "timestamp_s": 1130.0}, {"text": "And I happened to be, or happened to have the opportunity to", "timestamp": "00:18:54,178", "timestamp_s": 1134.0}, {"text": "speak to some folks from Mongo and ask them if they had seen this type", "timestamp": "00:18:57,788", "timestamp_s": 1137.0}, {"text": "of behavior before. It turned out they had. And they were able to give me", "timestamp": "00:19:00,188", "timestamp_s": 1140.0}, {"text": "some clues about what might be happening. And it was", "timestamp": "00:19:02,992", "timestamp_s": 1142.0}, {"text": "bad enough that it was slow to start, but the more important thing was", "timestamp": "00:19:06,528", "timestamp_s": 1146.0}, {"text": "when we started the database and it actually did come online,", "timestamp": "00:19:10,640", "timestamp_s": 1150.0}, {"text": "if we put it into production, even as a secondary for reads,", "timestamp": "00:19:13,732", "timestamp_s": 1153.0}, {"text": "it would be extremely slow in its performance there as well for", "timestamp": "00:19:17,418", "timestamp_s": 1157.0}, {"text": "an extended period. So what we learned was happening was", "timestamp": "00:19:21,332", "timestamp_s": 1161.0}, {"text": "that the restore is not actually a transfer", "timestamp": "00:19:24,872", "timestamp_s": 1164.0}, {"text": "of all of the data, but it\u0027s a reference to", "timestamp": "00:19:28,392", "timestamp_s": 1168.0}, {"text": "the data that is placed on the new volume.", "timestamp": "00:19:31,752", "timestamp_s": 1171.0}, {"text": "And so the underlying file system, when it recognizes", "timestamp": "00:19:35,374", "timestamp_s": 1175.0}, {"text": "that something is missing, goes and fetches it. So first it", "timestamp": "00:19:39,474", "timestamp_s": 1179.0}, {"text": "starts in sort of sequential order, moving across the disk, but then a request", "timestamp": "00:19:42,748", "timestamp_s": 1182.0}, {"text": "comes in for something that it doesn\u0027t have. It prioritizes", "timestamp": "00:19:46,402", "timestamp_s": 1186.0}, {"text": "that and fills that in somewhere. So there\u0027s an on demand fetching", "timestamp": "00:19:50,002", "timestamp_s": 1190.0}, {"text": "model and this is a great model for smaller", "timestamp": "00:19:53,718", "timestamp_s": 1193.0}, {"text": "volumes and for very sequential reads. But in our case, with a", "timestamp": "00:19:56,998", "timestamp_s": 1196.0}, {"text": "large database and random access across all of our users,", "timestamp": "00:20:00,288", "timestamp_s": 1200.0}, {"text": "everybody was hitting very random locations around the disk", "timestamp": "00:20:03,610", "timestamp_s": 1203.0}, {"text": "under high load in a production environment simultaneously and", "timestamp": "00:20:07,658", "timestamp_s": 1207.0}, {"text": "causing great delays. Every single one of these was actually instead", "timestamp": "00:20:11,172", "timestamp_s": 1211.0}, {"text": "of a read from disk, a fetch out to s three,", "timestamp": "00:20:14,916", "timestamp_s": 1214.0}, {"text": "or wherever the snapshot is stored, some data transfer, some decompression,", "timestamp": "00:20:18,392", "timestamp_s": 1218.0}, {"text": "some placement of that onto the disk before the read could actually be completed.", "timestamp": "00:20:22,478", "timestamp_s": 1222.0}, {"text": "And so on the startup phase, it was the random sampling", "timestamp": "00:20:26,574", "timestamp_s": 1226.0}, {"text": "of indexes that Mongo does to ensure that all the content is there and", "timestamp": "00:20:30,274", "timestamp_s": 1230.0}, {"text": "consistent, or random sampling of the journal to then go look", "timestamp": "00:20:34,252", "timestamp_s": 1234.0}, {"text": "at the disk to check for consistency. That was taking a", "timestamp": "00:20:37,612", "timestamp_s": 1237.0}, {"text": "really long time because it\u0027s looking all over the disk. And then as soon as", "timestamp": "00:20:41,324", "timestamp_s": 1241.0}, {"text": "we put it into production, it was customer reads that were taking a really long", "timestamp": "00:20:44,544", "timestamp_s": 1244.0}, {"text": "time. And so once again, all of our customers are waiting", "timestamp": "00:20:47,872", "timestamp_s": 1247.0}, {"text": "and not impressed with performance. So ultimately we", "timestamp": "00:20:51,910", "timestamp_s": 1251.0}, {"text": "had to think about what was causing that and how we could manage it.", "timestamp": "00:20:55,668", "timestamp_s": 1255.0}, {"text": "And what we ended up doing and still do is when we\u0027d make these large", "timestamp": "00:20:59,188", "timestamp_s": 1259.0}, {"text": "operations and move CTO new volumes, we run warming", "timestamp": "00:21:02,516", "timestamp_s": 1262.0}, {"text": "queries that we know will be most representative of the majority", "timestamp": "00:21:06,350", "timestamp_s": 1266.0}, {"text": "of content that will be fetched once we put it back into production,", "timestamp": "00:21:10,270", "timestamp_s": 1270.0}, {"text": "which is usually most recently edited, most recently written.", "timestamp": "00:21:13,982", "timestamp_s": 1273.0}, {"text": "So we drive those queries to force all of this data", "timestamp": "00:21:17,694", "timestamp_s": 1277.0}, {"text": "to be fetched, because if we wait for the entire disk", "timestamp": "00:21:21,340", "timestamp_s": 1281.0}, {"text": "to fetch, it will take forever. And a huge amount of it is", "timestamp": "00:21:24,530", "timestamp_s": 1284.0}, {"text": "not really that important to us. The key takeaway here", "timestamp": "00:21:27,708", "timestamp_s": 1287.0}, {"text": "is your cloud provider. Your tool provider is", "timestamp": "00:21:31,024", "timestamp_s": 1291.0}, {"text": "solving for a general case. They are building amazing things,", "timestamp": "00:21:34,912", "timestamp_s": 1294.0}, {"text": "but they\u0027re building them for a very large audience and thinking about what\u0027s going to", "timestamp": "00:21:38,112", "timestamp_s": 1298.0}, {"text": "matter. CTO, the largest subset of those people, probably applying", "timestamp": "00:21:41,728", "timestamp_s": 1301.0}, {"text": "an 80 20 rule, saying if we solve this 20% case, we\u0027re going to cover", "timestamp": "00:21:45,658", "timestamp_s": 1305.0}, {"text": "80% of our customer base. And the question that you have to ask yourself is,", "timestamp": "00:21:49,556", "timestamp_s": 1309.0}, {"text": "are you the target? Are you in that 20% bucket in terms of your use", "timestamp": "00:21:53,572", "timestamp_s": 1313.0}, {"text": "case, such that your usage will be covered? Or do you", "timestamp": "00:21:57,016", "timestamp_s": 1317.0}, {"text": "need to figure out how to adjust your approach or your problem space,", "timestamp": "00:22:00,408", "timestamp_s": 1320.0}, {"text": "or work around that in order to have it work for you? Now I\u0027d like", "timestamp": "00:22:03,960", "timestamp_s": 1323.0}, {"text": "to turn to a final example, which is a little bit", "timestamp": "00:22:07,528", "timestamp_s": 1327.0}, {"text": "less about the tools that we\u0027ve used from others and more about how", "timestamp": "00:22:10,828", "timestamp_s": 1330.0}, {"text": "our own challenges have existed while building out in a cloud", "timestamp": "00:22:14,812", "timestamp_s": 1334.0}, {"text": "native way. Concurrency has always been a problem,", "timestamp": "00:22:18,316", "timestamp_s": 1338.0}, {"text": "has always been a challenging part of software development. And that\u0027s been true", "timestamp": "00:22:21,868", "timestamp_s": 1341.0}, {"text": "for as long as I\u0027ve been writing software, and it\u0027s always been true within", "timestamp": "00:22:25,392", "timestamp_s": 1345.0}, {"text": "a single programming environment, and it hasn\u0027t gotten", "timestamp": "00:22:29,152", "timestamp_s": 1349.0}, {"text": "any easier as a result of most of the tools that we\u0027ve thrown at it.", "timestamp": "00:22:32,598", "timestamp_s": 1352.0}, {"text": "So concurrency has always been hard from a programming perspective.", "timestamp": "00:22:36,308", "timestamp_s": 1356.0}, {"text": "This is a newer article, but speaks to an old problem.", "timestamp": "00:22:39,770", "timestamp_s": 1359.0}, {"text": "And the great news is distributed systems are also very hard,", "timestamp": "00:22:43,396", "timestamp_s": 1363.0}, {"text": "and these days we are piling them together. So let\u0027s", "timestamp": "00:22:46,984", "timestamp_s": 1366.0}, {"text": "take a look back at the early days of circleci. Like everybody else,", "timestamp": "00:22:50,734", "timestamp_s": 1370.0}, {"text": "we started out with a monolith. This monolith did many things. In this", "timestamp": "00:22:54,136", "timestamp_s": 1374.0}, {"text": "example, we\u0027re just talking about a couple of them writing to the database and", "timestamp": "00:22:57,448", "timestamp_s": 1377.0}, {"text": "fetching data from GitHub, or writing to GitHub, things like statuses.", "timestamp": "00:23:01,276", "timestamp_s": 1381.0}, {"text": "Even in our very early days, the monolith, we would have had at least two", "timestamp": "00:23:05,826", "timestamp_s": 1385.0}, {"text": "instances for redundancy, resiliency. These are very very", "timestamp": "00:23:09,132", "timestamp_s": 1389.0}, {"text": "early days, but ultimately we ended up with much more than two and", "timestamp": "00:23:12,688", "timestamp_s": 1392.0}, {"text": "far more than even on this diagram. But at some point it", "timestamp": "00:23:16,592", "timestamp_s": 1396.0}, {"text": "becomes a bit repetitive and we got to a point where each of", "timestamp": "00:23:19,728", "timestamp_s": 1399.0}, {"text": "these monoliths was effectively thinking of itself still as the", "timestamp": "00:23:23,284", "timestamp_s": 1403.0}, {"text": "owner of all of the work. And so the way that jobs", "timestamp": "00:23:26,676", "timestamp_s": 1406.0}, {"text": "were distributed was an individual monolith would talk to the database, take the next", "timestamp": "00:23:30,714", "timestamp_s": 1410.0}, {"text": "job, and try to start it. But there was a check to make sure that", "timestamp": "00:23:34,436", "timestamp_s": 1414.0}, {"text": "there wasn\u0027t any contention, no one else had taken that job. And at a", "timestamp": "00:23:37,368", "timestamp_s": 1417.0}, {"text": "certain level there were so many attempts to take the same job", "timestamp": "00:23:40,968", "timestamp_s": 1420.0}, {"text": "that we were losing the opportunity to process our queue effectively. So we", "timestamp": "00:23:44,936", "timestamp_s": 1424.0}, {"text": "reached a point where we couldn\u0027t really scale any further, which is not great as", "timestamp": "00:23:48,568", "timestamp_s": 1428.0}, {"text": "a business. So we took a fairly simple approach, CTO solving this problem, because we", "timestamp": "00:23:52,172", "timestamp_s": 1432.0}, {"text": "were under time constraints. And the first simple approach was to", "timestamp": "00:23:55,388", "timestamp_s": 1435.0}, {"text": "take a version or a copy effectively of this monolith and", "timestamp": "00:23:59,084", "timestamp_s": 1439.0}, {"text": "run it in a slightly different role, meaning it executed", "timestamp": "00:24:02,688", "timestamp_s": 1442.0}, {"text": "the work of determining whether or not a job should be processed", "timestamp": "00:24:06,118", "timestamp_s": 1446.0}, {"text": "and distributing that out to one of the other instances,", "timestamp": "00:24:09,606", "timestamp_s": 1449.0}, {"text": "rather than letting each instance make its own decisions about what", "timestamp": "00:24:13,514", "timestamp_s": 1453.0}, {"text": "work should be done. Now, due to time constraints, as I mentioned,", "timestamp": "00:24:16,692", "timestamp_s": 1456.0}, {"text": "this was effectively another copy of the monolith", "timestamp": "00:24:20,772", "timestamp_s": 1460.0}, {"text": "that was started up with instructions to only do this, and all the other instances", "timestamp": "00:24:24,666", "timestamp_s": 1464.0}, {"text": "were started up with instructions not to do that, but it was basically the same", "timestamp": "00:24:28,542", "timestamp_s": 1468.0}, {"text": "code base. And so now when it comes to statuses,", "timestamp": "00:24:31,912", "timestamp_s": 1471.0}, {"text": "you have this dispatcher, which is an instance of the monolith writing", "timestamp": "00:24:35,342", "timestamp_s": 1475.0}, {"text": "to GitHub and then the monolith doing the work, also writing to GitHub, they write", "timestamp": "00:24:38,734", "timestamp_s": 1478.0}, {"text": "different statuses based on where they are in different parts of the job. And that", "timestamp": "00:24:42,076", "timestamp_s": 1482.0}, {"text": "was basically because that code path was where those things happened.", "timestamp": "00:24:44,908", "timestamp_s": 1484.0}, {"text": "So if we dig into one of those a little bit and look at what", "timestamp": "00:24:48,876", "timestamp_s": 1488.0}, {"text": "happens in that original process, it\u0027s a little more complicated, which is within the", "timestamp": "00:24:51,532", "timestamp_s": 1491.0}, {"text": "monolith, we have a concept of a build, which is the full piece of work", "timestamp": "00:24:55,408", "timestamp_s": 1495.0}, {"text": "that we\u0027re doing or at the time that we were doing, and we might change", "timestamp": "00:24:58,912", "timestamp_s": 1498.0}, {"text": "the status of that from requested to queued, from queued", "timestamp": "00:25:01,872", "timestamp_s": 1501.0}, {"text": "to running, from running to completed, passed or failed. Pretty straightforward.", "timestamp": "00:25:06,138", "timestamp_s": 1506.0}, {"text": "And we would do that by writing to the database. But instead of also writing", "timestamp": "00:25:10,250", "timestamp_s": 1510.0}, {"text": "to GitHub, which is an external system, there\u0027s network issues and retry", "timestamp": "00:25:13,854", "timestamp_s": 1513.0}, {"text": "problems and timing issues. We had a watcher,", "timestamp": "00:25:17,342", "timestamp_s": 1517.0}, {"text": "which effectively was an asynchronous process, identifying,", "timestamp": "00:25:21,406", "timestamp_s": 1521.0}, {"text": "oh, something has changed on the build, and therefore I\u0027m going to go do", "timestamp": "00:25:24,446", "timestamp_s": 1524.0}, {"text": "this work. And sort of an inverse of a pub sub sort of model,", "timestamp": "00:25:27,848", "timestamp_s": 1527.0}, {"text": "but really a concurrency model that allows us to continue", "timestamp": "00:25:31,260", "timestamp_s": 1531.0}, {"text": "doing the work on the build, knowing that the status will get updated", "timestamp": "00:25:34,780", "timestamp_s": 1534.0}, {"text": "to GitHub as soon as possible. But the customer would prefer that the", "timestamp": "00:25:38,018", "timestamp_s": 1538.0}, {"text": "build get run than that we wait on. Our ability to write", "timestamp": "00:25:41,408", "timestamp_s": 1541.0}, {"text": "that status makes great sense. Fairly straightforward programming", "timestamp": "00:25:44,912", "timestamp_s": 1544.0}, {"text": "model, plus or minus the fact that concurrency is always hard,", "timestamp": "00:25:48,518", "timestamp_s": 1548.0}, {"text": "and everything happening inside of that one instance of the monolith.", "timestamp": "00:25:51,536", "timestamp_s": 1551.0}, {"text": "Now introduce the dispatcher. So the dispatcher is the first thing to see", "timestamp": "00:25:55,146", "timestamp_s": 1555.0}, {"text": "that build, and it is again using this effectively same code", "timestamp": "00:25:58,868", "timestamp_s": 1558.0}, {"text": "base writes a build, notices that the build is now queued,", "timestamp": "00:26:02,132", "timestamp_s": 1562.0}, {"text": "or writes a status that the build is now queued and ready for processing,", "timestamp": "00:26:05,834", "timestamp_s": 1565.0}, {"text": "or has been handed off to a machine and has started processing. And then one", "timestamp": "00:26:09,134", "timestamp_s": 1569.0}, {"text": "of these monoliths that receives the work, executes the build,", "timestamp": "00:26:13,208", "timestamp_s": 1573.0}, {"text": "and updates the status again, which then gets picked up by a", "timestamp": "00:26:17,272", "timestamp_s": 1577.0}, {"text": "concurrent reader that goes and does the work of writing to GitHub,", "timestamp": "00:26:20,604", "timestamp_s": 1580.0}, {"text": "which is great under normal conditions. However, it\u0027s highly", "timestamp": "00:26:24,258", "timestamp_s": 1584.0}, {"text": "possible. It certainly is possible. We know it to be possible", "timestamp": "00:26:28,370", "timestamp_s": 1588.0}, {"text": "for the dispatcher to be under a great degree", "timestamp": "00:26:32,128", "timestamp_s": 1592.0}, {"text": "of load, because it\u0027s processing every job coming into the system,", "timestamp": "00:26:35,638", "timestamp_s": 1595.0}, {"text": "or a small like maybe there\u0027s a few of these. So it\u0027s processing a huge", "timestamp": "00:26:38,736", "timestamp_s": 1598.0}, {"text": "percentage of the jobs coming into the system and can be very busy", "timestamp": "00:26:42,272", "timestamp_s": 1602.0}, {"text": "on its rights. And then the instance of the monolith,", "timestamp": "00:26:45,786", "timestamp_s": 1605.0}, {"text": "the builder we\u0027ll call it, is going to pick up that work and execute", "timestamp": "00:26:49,002", "timestamp_s": 1609.0}, {"text": "it and the work might be very small, very short, and then", "timestamp": "00:26:53,098", "timestamp_s": 1613.0}, {"text": "deliver its status. And its status watcher could be very", "timestamp": "00:26:57,032", "timestamp_s": 1617.0}, {"text": "quiet because there\u0027s only a few builds running on any particular", "timestamp": "00:27:00,728", "timestamp_s": 1620.0}, {"text": "builder. So the net result is that the completed", "timestamp": "00:27:04,632", "timestamp_s": 1624.0}, {"text": "status can actually get to GitHub before the starting", "timestamp": "00:27:08,802", "timestamp_s": 1628.0}, {"text": "status, and GitHub doesn\u0027t understand what we\u0027re doing enough to determine", "timestamp": "00:27:12,364", "timestamp_s": 1632.0}, {"text": "that those are out of order and we are not coordinating", "timestamp": "00:27:16,338", "timestamp_s": 1636.0}, {"text": "in this particular model. So we send to GitHub a completed", "timestamp": "00:27:20,326", "timestamp_s": 1640.0}, {"text": "status, and then we send a starting status which reverts the", "timestamp": "00:27:24,582", "timestamp_s": 1644.0}, {"text": "pull request and the status of the pull request to incomplete", "timestamp": "00:27:28,608", "timestamp_s": 1648.0}, {"text": "in a way that can never be completed. This is the worst kind of waiting.", "timestamp": "00:27:32,614", "timestamp_s": 1652.0}, {"text": "This is waiting forever. And ultimately we ended up with customer tickets", "timestamp": "00:27:36,538", "timestamp_s": 1656.0}, {"text": "saying my build cannot be completed or my build was completed,", "timestamp": "00:27:41,082", "timestamp_s": 1661.0}, {"text": "but I never got this status. Which is another interesting thing about concurrency.", "timestamp": "00:27:44,458", "timestamp_s": 1664.0}, {"text": "No one told us you\u0027re setting the complete status before you set the", "timestamp": "00:27:48,142", "timestamp_s": 1668.0}, {"text": "starting status. They said you\u0027re never setting the complete status because that\u0027s what a customer", "timestamp": "00:27:51,992", "timestamp_s": 1671.0}, {"text": "sees, because they were usually so close together and they were unable", "timestamp": "00:27:55,576", "timestamp_s": 1675.0}, {"text": "to merge their work. So this minor concurrency", "timestamp": "00:27:59,602", "timestamp_s": 1679.0}, {"text": "issue on our side resulted in our customers unable", "timestamp": "00:28:03,186", "timestamp_s": 1683.0}, {"text": "to complete their work. So we ended up having to go find a model for", "timestamp": "00:28:07,298", "timestamp_s": 1687.0}, {"text": "coordinating that work and ensuring that the sequencing happened in", "timestamp": "00:28:10,972", "timestamp_s": 1690.0}, {"text": "a way that was obviously no longer guaranteed within that single watcher on the", "timestamp": "00:28:14,784", "timestamp_s": 1694.0}, {"text": "monolith, but had to be coordinated and guaranteed across", "timestamp": "00:28:18,304", "timestamp_s": 1698.0}, {"text": "multiple systems in the platform. So I would say services", "timestamp": "00:28:21,808", "timestamp_s": 1701.0}, {"text": "beget services. When you start to break apart your system,", "timestamp": "00:28:25,588", "timestamp_s": 1705.0}, {"text": "you end up with more and more systems, often trying to", "timestamp": "00:28:28,964", "timestamp_s": 1708.0}, {"text": "do the work of coordinating the systems that you have.", "timestamp": "00:28:32,244", "timestamp_s": 1712.0}, {"text": "And my takeaway in this case is that distributed systems really", "timestamp": "00:28:35,432", "timestamp_s": 1715.0}, {"text": "are concurrency. There\u0027s no world, well, there\u0027s a very", "timestamp": "00:28:39,496", "timestamp_s": 1719.0}, {"text": "small world in which you can build out a complex distributed system without", "timestamp": "00:28:43,272", "timestamp_s": 1723.0}, {"text": "paying any attention to concurrency. It\u0027s very likely going to end up being", "timestamp": "00:28:47,004", "timestamp_s": 1727.0}, {"text": "a parameter that you deal with because you\u0027re trying to handle complexity,", "timestamp": "00:28:51,020", "timestamp_s": 1731.0}, {"text": "resiliency, breakdowns in the communication network,", "timestamp": "00:28:54,770", "timestamp_s": 1734.0}, {"text": "whatever it might be. There is going to be concurrency in the conversations between", "timestamp": "00:28:58,322", "timestamp_s": 1738.0}, {"text": "your systems, and so you want to pay attention to that and manage for it", "timestamp": "00:29:02,416", "timestamp_s": 1742.0}, {"text": "and use it when it is most beneficial, but understand the cost.", "timestamp": "00:29:06,272", "timestamp_s": 1746.0}, {"text": "So, to summarize, it\u0027s a great time to be a developer.", "timestamp": "00:29:10,590", "timestamp_s": 1750.0}, {"text": "We are able to build on top of amazing systems", "timestamp": "00:29:14,186", "timestamp_s": 1754.0}, {"text": "that do amazing things and focus our", "timestamp": "00:29:17,738", "timestamp_s": 1757.0}, {"text": "time and attention on delivering value to our customers, building the systems", "timestamp": "00:29:21,188", "timestamp_s": 1761.0}, {"text": "that we\u0027re really excited about building in order to support businesses that we\u0027re excited", "timestamp": "00:29:24,714", "timestamp_s": 1764.0}, {"text": "about building, and all of that is novel and new", "timestamp": "00:29:28,782", "timestamp_s": 1768.0}, {"text": "to us and very, very cool. On the other hand,", "timestamp": "00:29:32,792", "timestamp_s": 1772.0}, {"text": "it\u0027s important to pay attention to what\u0027s happening. So do the simple thing,", "timestamp": "00:29:36,488", "timestamp_s": 1776.0}, {"text": "because that will help you get something out faster. But make sure you understand", "timestamp": "00:29:40,716", "timestamp_s": 1780.0}, {"text": "the simple thing that you\u0027re doing. Understand the tradeoff that you\u0027re making so that", "timestamp": "00:29:44,556", "timestamp_s": 1784.0}, {"text": "you\u0027ll know when that tradeoff will expire and you will", "timestamp": "00:29:48,268", "timestamp_s": 1788.0}, {"text": "want to make a different decision at a different point in the future.", "timestamp": "00:29:51,788", "timestamp_s": 1791.0}, {"text": "Always consider the constraints of your tools. Think about what the designers", "timestamp": "00:29:55,104", "timestamp_s": 1795.0}, {"text": "would have had to think about when they built that, and whether that\u0027s the case", "timestamp": "00:29:58,838", "timestamp_s": 1798.0}, {"text": "that you have. If they\u0027re not solving for your case, you either want to change", "timestamp": "00:30:01,936", "timestamp_s": 1801.0}, {"text": "the shape of your case to match theirs or find some mitigating", "timestamp": "00:30:05,316", "timestamp_s": 1805.0}, {"text": "approaches that will allow your problem CTO fit", "timestamp": "00:30:08,794", "timestamp_s": 1808.0}, {"text": "into the box of their solution and finally manage the complexity of", "timestamp": "00:30:11,972", "timestamp_s": 1811.0}, {"text": "distribution. Building distributed systems brings a lot of advantages,", "timestamp": "00:30:15,508", "timestamp_s": 1815.0}, {"text": "but as soon as we start, we\u0027re making the conscious decision, or it should be", "timestamp": "00:30:18,890", "timestamp_s": 1818.0}, {"text": "a conscious decision, to take on additional city, and we have to know that", "timestamp": "00:30:22,484", "timestamp_s": 1822.0}, {"text": "we\u0027re ready for that and that it\u0027s warranted for the particular problem that", "timestamp": "00:30:26,428", "timestamp_s": 1826.0}, {"text": "we are solving. Thanks so much for listening. And if you find these kinds of", "timestamp": "00:30:30,268", "timestamp_s": 1830.0}, {"text": "problems interesting, we\u0027re always looking to higher grade folks, so come visit us@circleci.com.", "timestamp": "00:30:33,628", "timestamp_s": 1833.0}];
              

              var tag = document.createElement('script');

              tag.src = "https://www.youtube.com/iframe_api";
              var firstScriptTag = document.getElementsByTagName('script')[0];
              firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

              // 3. This function creates an <iframe> (and YouTube player)
              //    after the API code downloads.
              var player;
              function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                  height: '100%',
                  width: '100%',
                  videoId: '9hD3AQGP8k4',
                  playerVars: {
                    'playsinline': 1
                  },
                  events: {
                    'onReady': onPlayerReady,
                    // 'onStateChange': onPlayerStateChange
                  }
                });
              }
              function onPlayerReady(event) {
                console.log("Player ready");
                var sec = Number(location.href.split("#")[1]);
                if (sec){
                  player.seekTo(sec, true);
                }
                player.playVideo();
                highlightParagraph();
              }
              // find the number of the paragraph
              function findParagraph(sec){
                for (var i = 1; i < transcript.length; i++) {
                  if (transcript[i].timestamp_s > sec){
                    return i - 1;
                  }
                }
                return transcript.length - 1;
              }
              // move the video to the desired second
              function seek(sec){
                if(player){
                  player.playVideo();
                  player.seekTo(sec, true);
                }
                location.href = location.href.split("#")[0] + "#" + sec;
                highlightParagraph(sec);
              }
              // highlight the right paragraph
              var prevParagraph;
              function highlightParagraph(sec) {
                var currentTime = sec;
                if (!currentTime && player) {
                  currentTime = player.getCurrentTime();
                }
                if (!currentTime){
                  console.log("No current time")
                  return;
                }
                var currentParagraph = findParagraph(currentTime);
                if (currentParagraph !== prevParagraph){
                  prevParagraph = currentParagraph;
                  Array.from(document.getElementsByClassName("transcript-chunks")).forEach((e) => {
                    e.classList.remove('text-selected');
                  });
                  var body = document.getElementById("chunk-"+currentParagraph);
                  body.classList.add('text-selected');
                }
              }
              time_update_interval = setInterval(highlightParagraph, 1000);
            </script>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>
    

    <!-- CONTENT -->
    <section class="pt-2">
      <div class="container">
        <div class="row justify-content-center">

          <div class="col-12 mb-5">
            <h1>
              Low-Level Computing in a Cloud Native World
            </h1>
            
            <h3 class="bg-white">
              Video size:
              <a href="javascript:void(0);" onclick="resizeVideo(25)"><i class="fe fe-zoom-out me-2"></i></a>
              <a href="javascript:void(0);" onclick="resizeVideo(50)"><i class="fe fe-zoom-in me-2"></i></a>
            </h3>
            
          </div>

          <div class="col-12 mb-5">
            <h3>
              Abstract
            </h3>
<!-- Text -->
<p>At the core of most software incidents is a misalignment of data and algorithms, coupled with a pattern of human factors that take place in production. At CircleCI we see a lot of incidents and solve them not only for our own team but for thousands of engineering teams all over the world. </p>
<p>Join CircleCI’s CTO, Rob Zuber as he uncovers a few instances when CS fundamentals didn’t pan out as they do in textbooks, and how to avoid them. </p>
<!-- End Text -->
          </div>

          
          

          <div class="col-12 mb-5">
            <h3>
              Summary
            </h3>
            <ul>
              
              <li>
                I joined my first startup in 1998. The first thing they wanted me to look into was a performance issue. Not understanding how tools are implemented can ultimately lead CTO degradation for your users.

              </li>
              
              <li>
                At Circleci, we use Mongo. We've used Mongo for a very long time. But our initial choices ultimately caused issues based on how those things were implemented. Bigger is better in storage, bigger is worse. latency and throughput are both concerns when moving large volumes of data.

              </li>
              
              <li>
                In 2015, Circleci switched to using EBS as the disk storage. EBS is elastic block store within AWS. Throughput is unbelievable inside of EBS, and the latency was good enough. Also, backups got a lot easier by using snapshots.

              </li>
              
              <li>
                Concurrency has always been hard from a programming perspective. And the great news is distributed systems are also very hard, and these days we are piling them together. Here's an example of how Circleci has dealt with its own challenges while building out in a cloud native way.
              </li>
              
            </ul>
          </div>

          <div class="col-12 mb-5">
            <h3>
              Transcript
            </h3>
            <span class="text-muted">
              This transcript was autogenerated. To make changes, <a href="https://github.com/conf42/src/edit/main/./assemblyai/9hD3AQGP8k4.srt" target="_blank">submit a PR</a>.
            </span>
            <div>
            
            <span id="chunk-0" class="transcript-chunks" onclick="console.log('00:00:41,410'); seek(41.0)">
              I joined my first startup in 1998. I had no background in computer
            </span>
            
            <span id="chunk-1" class="transcript-chunks" onclick="console.log('00:00:45,020'); seek(45.0)">
              science and no industry experience in software, but they were
            </span>
            
            <span id="chunk-2" class="transcript-chunks" onclick="console.log('00:00:48,748'); seek(48.0)">
              looking for someone to run QA or to start a QA function, and I was
            </span>
            
            <span id="chunk-3" class="transcript-chunks" onclick="console.log('00:00:52,468'); seek(52.0)">
              interested enough, willing to give it a shot, take a chance.
            </span>
            
            <span id="chunk-4" class="transcript-chunks" onclick="console.log('00:00:55,508'); seek(55.0)">
              So I showed up on my first day, excited to get going, but not really
            </span>
            
            <span id="chunk-5" class="transcript-chunks" onclick="console.log('00:00:58,388'); seek(58.0)">
              sure what to expect. It turned out the first thing that they wanted me to
            </span>
            
            <span id="chunk-6" class="transcript-chunks" onclick="console.log('00:01:01,348'); seek(61.0)">
              look into was a performance issue. This was
            </span>
            
            <span id="chunk-7" class="transcript-chunks" onclick="console.log('00:01:04,888'); seek(64.0)">
              fairly straightforward, a page that had started
            </span>
            
            <span id="chunk-8" class="transcript-chunks" onclick="console.log('00:01:08,776'); seek(68.0)">
              out responsive and was slowly degrading over time as the total user base
            </span>
            
            <span id="chunk-9" class="transcript-chunks" onclick="console.log('00:01:12,984'); seek(72.0)">
              started to grow. And so not really
            </span>
            
            <span id="chunk-10" class="transcript-chunks" onclick="console.log('00:01:16,072'); seek(76.0)">
              knowing what to look for seemed like something that I could take on and give
            </span>
            
            <span id="chunk-11" class="transcript-chunks" onclick="console.log('00:01:19,752'); seek(79.0)">
              a shot. So I started to dig in and the first thing I did was
            </span>
            
            <span id="chunk-12" class="transcript-chunks" onclick="console.log('00:01:22,348'); seek(82.0)">
              go and look at some code. Now remember, this is 1998.
            </span>
            
            <span id="chunk-13" class="transcript-chunks" onclick="console.log('00:01:26,012'); seek(86.0)">
              It predates most tools in terms of building
            </span>
            
            <span id="chunk-14" class="transcript-chunks" onclick="console.log('00:01:29,836'); seek(89.0)">
              web applications. We were using Java, and so we really
            </span>
            
            <span id="chunk-15" class="transcript-chunks" onclick="console.log('00:01:33,232'); seek(93.0)">
              had code that looked a little bit like this. This is probably not exactly right,
            </span>
            
            <span id="chunk-16" class="transcript-chunks" onclick="console.log('00:01:36,576'); seek(96.0)">
              but we were building a table with a list of users
            </span>
            
            <span id="chunk-17" class="transcript-chunks" onclick="console.log('00:01:40,742'); seek(100.0)">
              by writing strings with HTML tables directly embedded
            </span>
            
            <span id="chunk-18" class="transcript-chunks" onclick="console.log('00:01:44,474'); seek(104.0)">
              in them. And so the key point here is every time
            </span>
            
            <span id="chunk-19" class="transcript-chunks" onclick="console.log('00:01:48,068'); seek(108.0)">
              we wanted to add another username to the table, we would append
            </span>
            
            <span id="chunk-20" class="transcript-chunks" onclick="console.log('00:01:52,090'); seek(112.0)">
              to the string, which is particularly interesting,
            </span>
            
            <span id="chunk-21" class="transcript-chunks" onclick="console.log('00:01:55,284'); seek(115.0)">
              and this is now a well known issue in Java, but back
            </span>
            
            <span id="chunk-22" class="transcript-chunks" onclick="console.log('00:01:58,568'); seek(118.0)">
              then it was not super well understood by most of us, which is that when
            </span>
            
            <span id="chunk-23" class="transcript-chunks" onclick="console.log('00:02:02,008'); seek(122.0)">
              you do this, you write the first string by allocating an object
            </span>
            
            <span id="chunk-24" class="transcript-chunks" onclick="console.log('00:02:05,832'); seek(125.0)">
              and writing the content into it. And when you append to it with the
            </span>
            
            <span id="chunk-25" class="transcript-chunks" onclick="console.log('00:02:09,308'); seek(129.0)">
              plus operator, you actually create a brand new string,
            </span>
            
            <span id="chunk-26" class="transcript-chunks" onclick="console.log('00:02:12,946'); seek(132.0)">
              allocate all of that memory and release the old object to be collected by the
            </span>
            
            <span id="chunk-27" class="transcript-chunks" onclick="console.log('00:02:16,684'); seek(136.0)">
              garbage collector. And then when you append to it again, you do the
            </span>
            
            <span id="chunk-28" class="transcript-chunks" onclick="console.log('00:02:19,884'); seek(139.0)">
              same thing. So we were doing this over and over and over for all of
            </span>
            
            <span id="chunk-29" class="transcript-chunks" onclick="console.log('00:02:23,184'); seek(143.0)">
              the users in the list without realizing the implications.
            </span>
            
            <span id="chunk-30" class="transcript-chunks" onclick="console.log('00:02:26,614'); seek(146.0)">
              In the virtual machine, what happens in this case is
            </span>
            
            <span id="chunk-31" class="transcript-chunks" onclick="console.log('00:02:29,856'); seek(149.0)">
              you allocate a string buffer and then you append to it with the append method
            </span>
            
            <span id="chunk-32" class="transcript-chunks" onclick="console.log('00:02:33,402'); seek(153.0)">
              of the string buffer, and then ultimately write that out
            </span>
            
            <span id="chunk-33" class="transcript-chunks" onclick="console.log('00:02:36,612'); seek(156.0)">
              to the output by converting to a string. So what's happening
            </span>
            
            <span id="chunk-34" class="transcript-chunks" onclick="console.log('00:02:40,500'); seek(160.0)">
              inside the system is you've allocated a large chunk of memory,
            </span>
            
            <span id="chunk-35" class="transcript-chunks" onclick="console.log('00:02:44,298'); seek(164.0)">
              you can continue to write into that chunk, and when you get to the end,
            </span>
            
            <span id="chunk-36" class="transcript-chunks" onclick="console.log('00:02:47,768'); seek(167.0)">
              you allocate another chunk, which is actually all done by the string buffer,
            </span>
            
            <span id="chunk-37" class="transcript-chunks" onclick="console.log('00:02:51,422'); seek(171.0)">
              not by the developer. And when it's complete, you can write
            </span>
            
            <span id="chunk-38" class="transcript-chunks" onclick="console.log('00:02:54,712'); seek(174.0)">
              it all out. So the big takeaway for me in this was,
            </span>
            
            <span id="chunk-39" class="transcript-chunks" onclick="console.log('00:02:58,152'); seek(178.0)">
              and it was a great early lesson CTO learn in my career.
            </span>
            
            <span id="chunk-40" class="transcript-chunks" onclick="console.log('00:03:01,010'); seek(181.0)">
              We all want to take advantage of the tools that are made available to us,
            </span>
            
            <span id="chunk-41" class="transcript-chunks" onclick="console.log('00:03:04,028'); seek(184.0)">
              so that we can focus on the things that matter to our users. But not
            </span>
            
            <span id="chunk-42" class="transcript-chunks" onclick="console.log('00:03:07,900'); seek(187.0)">
              understanding how those things are implemented can ultimately lead
            </span>
            
            <span id="chunk-43" class="transcript-chunks" onclick="console.log('00:03:12,000'); seek(192.0)">
              CTO degradation for your users. So it's important
            </span>
            
            <span id="chunk-44" class="transcript-chunks" onclick="console.log('00:03:15,200'); seek(195.0)">
              to know that you get great advantage by leveraging
            </span>
            
            <span id="chunk-45" class="transcript-chunks" onclick="console.log('00:03:19,078'); seek(199.0)">
              the tools that are available, but it's also important to pay attention to how they
            </span>
            
            <span id="chunk-46" class="transcript-chunks" onclick="console.log('00:03:22,864'); seek(202.0)">
              would be implemented, because there really is no magic and make good
            </span>
            
            <span id="chunk-47" class="transcript-chunks" onclick="console.log('00:03:26,852'); seek(206.0)">
              choices about the tools that you end up using. I'm Rob Zuber,
            </span>
            
            <span id="chunk-48" class="transcript-chunks" onclick="console.log('00:03:30,458'); seek(210.0)">
              CTO of Circleci, and today I want to give you a few more examples from
            </span>
            
            <span id="chunk-49" class="transcript-chunks" onclick="console.log('00:03:33,812'); seek(213.0)">
              more recent history in the Circleci platform of places where we've
            </span>
            
            <span id="chunk-50" class="transcript-chunks" onclick="console.log('00:03:37,678'); seek(217.0)">
              been able to make great use of available technologies. But our initial
            </span>
            
            <span id="chunk-51" class="transcript-chunks" onclick="console.log('00:03:41,342'); seek(221.0)">
              choices ultimately caused issues based on how those things were
            </span>
            
            <span id="chunk-52" class="transcript-chunks" onclick="console.log('00:03:44,728'); seek(224.0)">
              implemented. So let's start with schemaless databases. At Circleci,
            </span>
            
            <span id="chunk-53" class="transcript-chunks" onclick="console.log('00:03:48,686'); seek(228.0)">
              we use Mongo. We've used Mongo for a very long time. We're starting to use
            </span>
            
            <span id="chunk-54" class="transcript-chunks" onclick="console.log('00:03:51,708'); seek(231.0)">
              some other data stores and other pieces of our platform, but we still have a
            </span>
            
            <span id="chunk-55" class="transcript-chunks" onclick="console.log('00:03:54,844'); seek(234.0)">
              lot of mongo. And one thing that I always tell people about schemaless databases
            </span>
            
            <span id="chunk-56" class="transcript-chunks" onclick="console.log('00:03:58,546'); seek(238.0)">
              is there's always a schema. It's just a question of where that schema is
            </span>
            
            <span id="chunk-57" class="transcript-chunks" onclick="console.log('00:04:01,888'); seek(241.0)">
              enforced. And in order to understand the issue that we
            </span>
            
            <span id="chunk-58" class="transcript-chunks" onclick="console.log('00:04:05,248'); seek(245.0)">
              ultimately ran into, it's important to understand a lot of things about
            </span>
            
            <span id="chunk-59" class="transcript-chunks" onclick="console.log('00:04:08,352'); seek(248.0)">
              Mongo and its implementation and schemaless databases.
            </span>
            
            <span id="chunk-60" class="transcript-chunks" onclick="console.log('00:04:11,222'); seek(251.0)">
              So this is a comparison of what it would look like to structure a row
            </span>
            
            <span id="chunk-61" class="transcript-chunks" onclick="console.log('00:04:14,810'); seek(254.0)">
              in a schema defined database, like a relational database.
            </span>
            
            <span id="chunk-62" class="transcript-chunks" onclick="console.log('00:04:18,442'); seek(258.0)">
              And in the schema list or document store, like Mongo,
            </span>
            
            <span id="chunk-63" class="transcript-chunks" onclick="console.log('00:04:21,786'); seek(261.0)">
              on the top you have a list of names and email addresses, and all you
            </span>
            
            <span id="chunk-64" class="transcript-chunks" onclick="console.log('00:04:25,508'); seek(265.0)">
              need to store is names and email addresses, because the schema defines
            </span>
            
            <span id="chunk-65" class="transcript-chunks" onclick="console.log('00:04:29,166'); seek(269.0)">
              what a row looks like. This is a little bit more like a CSV than
            </span>
            
            <span id="chunk-66" class="transcript-chunks" onclick="console.log('00:04:32,808'); seek(272.0)">
              a true database table, because it's hard for me to print all the control characters
            </span>
            
            <span id="chunk-67" class="transcript-chunks" onclick="console.log('00:04:36,446'); seek(276.0)">
              on a screen, but you get the general idea, the amount of extra space is
            </span>
            
            <span id="chunk-68" class="transcript-chunks" onclick="console.log('00:04:39,868'); seek(279.0)">
              very limited. On the other hand, when storing a document in a schema
            </span>
            
            <span id="chunk-69" class="transcript-chunks" onclick="console.log('00:04:43,634'); seek(283.0)">
              list database, you have to identify every field in every
            </span>
            
            <span id="chunk-70" class="transcript-chunks" onclick="console.log('00:04:47,276'); seek(287.0)">
              record or document, because there's no schema defining what could
            </span>
            
            <span id="chunk-71" class="transcript-chunks" onclick="console.log('00:04:50,524'); seek(290.0)">
              be present. So one document might have a name and email and another might not,
            </span>
            
            <span id="chunk-72" class="transcript-chunks" onclick="console.log('00:04:54,016'); seek(294.0)">
              and that's totally valid inside the same collection.
            </span>
            
            <span id="chunk-73" class="transcript-chunks" onclick="console.log('00:04:57,558'); seek(297.0)">
              So one thing to note when you do this is that that
            </span>
            
            <span id="chunk-74" class="transcript-chunks" onclick="console.log('00:05:01,136'); seek(301.0)">
              second document is about 25% bigger than the one
            </span>
            
            <span id="chunk-75" class="transcript-chunks" onclick="console.log('00:05:05,028'); seek(305.0)">
              above it, and that's not necessarily a good thing. In many places, bigger is
            </span>
            
            <span id="chunk-76" class="transcript-chunks" onclick="console.log('00:05:08,788'); seek(308.0)">
              better in storage, bigger is worse. And in 2021,
            </span>
            
            <span id="chunk-77" class="transcript-chunks" onclick="console.log('00:05:12,532'); seek(312.0)">
              or even over the last ten years, we've come CTO believe that storage is effectively
            </span>
            
            <span id="chunk-78" class="transcript-chunks" onclick="console.log('00:05:15,978'); seek(315.0)">
              free based on the price that we pay. But storage
            </span>
            
            <span id="chunk-79" class="transcript-chunks" onclick="console.log('00:05:19,502'); seek(319.0)">
              has a lot of, or size of rows or documents
            </span>
            
            <span id="chunk-80" class="transcript-chunks" onclick="console.log('00:05:22,942'); seek(322.0)">
              in storage has a lot of impact on the overall performance of your systems.
            </span>
            
            <span id="chunk-81" class="transcript-chunks" onclick="console.log('00:05:26,590'); seek(326.0)">
              So this growth is not necessarily a positive thing.
            </span>
            
            <span id="chunk-82" class="transcript-chunks" onclick="console.log('00:05:30,490'); seek(330.0)">
              So, looking at this a little bit more specifically, if you think of a very
            </span>
            
            <span id="chunk-83" class="transcript-chunks" onclick="console.log('00:05:33,612'); seek(333.0)">
              simple system like the one that we use to manage our Mongo instances,
            </span>
            
            <span id="chunk-84" class="transcript-chunks" onclick="console.log('00:05:38,034'); seek(338.0)">
              you have compute, doing the actual calculations of what's happening
            </span>
            
            <span id="chunk-85" class="transcript-chunks" onclick="console.log('00:05:41,424'); seek(341.0)">
              and running the mongo binary, and then you have disk, which is where
            </span>
            
            <span id="chunk-86" class="transcript-chunks" onclick="console.log('00:05:45,680'); seek(345.0)">
              the data is stored, and most likely you have some sort of network
            </span>
            
            <span id="chunk-87" class="transcript-chunks" onclick="console.log('00:05:49,446'); seek(349.0)">
              in between those two. In some cases you would have locally attached storage,
            </span>
            
            <span id="chunk-88" class="transcript-chunks" onclick="console.log('00:05:52,438'); seek(352.0)">
              but in many cases, in our cloud systems, we're using network attached storage for
            </span>
            
            <span id="chunk-89" class="transcript-chunks" onclick="console.log('00:05:55,668'); seek(355.0)">
              the benefits of that. And the result is you're moving this data back and forth
            </span>
            
            <span id="chunk-90" class="transcript-chunks" onclick="console.log('00:05:59,530'); seek(359.0)">
              across these networks. And so latency and throughput are
            </span>
            
            <span id="chunk-91" class="transcript-chunks" onclick="console.log('00:06:03,012'); seek(363.0)">
              both concerns when moving those large volumes of data.
            </span>
            
            <span id="chunk-92" class="transcript-chunks" onclick="console.log('00:06:06,120'); seek(366.0)">
              So, as I said, up in the compute layer, the system
            </span>
            
            <span id="chunk-93" class="transcript-chunks" onclick="console.log('00:06:09,544'); seek(369.0)">
              effectively is where parsing and editing of those documents happens.
            </span>
            
            <span id="chunk-94" class="transcript-chunks" onclick="console.log('00:06:13,016'); seek(373.0)">
              So when you have an unstructured document, you have to load the entire
            </span>
            
            <span id="chunk-95" class="transcript-chunks" onclick="console.log('00:06:16,600'); seek(376.0)">
              thing in order to find any of the pieces of it.
            </span>
            
            <span id="chunk-96" class="transcript-chunks" onclick="console.log('00:06:20,330'); seek(380.0)">
              And that's done within the mongo binary. And that's also where editing
            </span>
            
            <span id="chunk-97" class="transcript-chunks" onclick="console.log('00:06:23,986'); seek(383.0)">
              happens before it's flushed back out to the disk. And more realistically,
            </span>
            
            <span id="chunk-98" class="transcript-chunks" onclick="console.log('00:06:27,954'); seek(387.0)">
              looking at that second example again, what truly happens is there's
            </span>
            
            <span id="chunk-99" class="transcript-chunks" onclick="console.log('00:06:31,942'); seek(391.0)">
              no defined ordering of the fields,
            </span>
            
            <span id="chunk-100" class="transcript-chunks" onclick="console.log('00:06:35,462'); seek(395.0)">
              so you could write the same content into two different documents. And the
            </span>
            
            <span id="chunk-101" class="transcript-chunks" onclick="console.log('00:06:39,248'); seek(399.0)">
              net result is that you have no way of knowing
            </span>
            
            <span id="chunk-102" class="transcript-chunks" onclick="console.log('00:06:42,986'); seek(402.0)">
              where in that document those fields might be. So when
            </span>
            
            <span id="chunk-103" class="transcript-chunks" onclick="console.log('00:06:46,468'); seek(406.0)">
              you go looking for something, you have to iterate over the
            </span>
            
            <span id="chunk-104" class="transcript-chunks" onclick="console.log('00:06:49,652'); seek(409.0)">
              entire document. Now, mongo uses a format called BSON, which is
            </span>
            
            <span id="chunk-105" class="transcript-chunks" onclick="console.log('00:06:53,188'); seek(413.0)">
              effectively a binary version of JSON, or close enough so
            </span>
            
            <span id="chunk-106" class="transcript-chunks" onclick="console.log('00:06:56,472'); seek(416.0)">
              there are some smaller characters and control functions used.
            </span>
            
            <span id="chunk-107" class="transcript-chunks" onclick="console.log('00:06:59,992'); seek(419.0)">
              Both CTO define indicators or separators of fields, as well as
            </span>
            
            <span id="chunk-108" class="transcript-chunks" onclick="console.log('00:07:03,432'); seek(423.0)">
              to allow for a couple additional data types that would not be obvious in a
            </span>
            
            <span id="chunk-109" class="transcript-chunks" onclick="console.log('00:07:06,824'); seek(426.0)">
              JSON document. But other than that, you can think about the parsing as very similar
            </span>
            
            <span id="chunk-110" class="transcript-chunks" onclick="console.log('00:07:10,380'); seek(430.0)">
              to JSOn, meaning you open up an iterator and
            </span>
            
            <span id="chunk-111" class="transcript-chunks" onclick="console.log('00:07:13,468'); seek(433.0)">
              you start moving over all the keys until you find the one that you want.
            </span>
            
            <span id="chunk-112" class="transcript-chunks" onclick="console.log('00:07:16,508'); seek(436.0)">
              This particular example is from the Mongo C driver docs.
            </span>
            
            <span id="chunk-113" class="transcript-chunks" onclick="console.log('00:07:19,906'); seek(439.0)">
              So if you were writing a parser in C, it would look just like
            </span>
            
            <span id="chunk-114" class="transcript-chunks" onclick="console.log('00:07:23,244'); seek(443.0)">
              this. You would start at the beginning. I guess it's not the parser, but it's
            </span>
            
            <span id="chunk-115" class="transcript-chunks" onclick="console.log('00:07:26,294'); seek(446.0)">
              a search for a particular element. You'd start at the beginning and iterate over
            </span>
            
            <span id="chunk-116" class="transcript-chunks" onclick="console.log('00:07:29,872'); seek(449.0)">
              until you found what you needed. Second, there are no joints,
            </span>
            
            <span id="chunk-117" class="transcript-chunks" onclick="console.log('00:07:33,158'); seek(453.0)">
              and this is a very common theme in schemaless databases.
            </span>
            
            <span id="chunk-118" class="transcript-chunks" onclick="console.log('00:07:37,306'); seek(457.0)">
              Ultimately the goal being that you have different operational
            </span>
            
            <span id="chunk-119" class="transcript-chunks" onclick="console.log('00:07:40,890'); seek(460.0)">
              characteristics and different models for deploying your systems
            </span>
            
            <span id="chunk-120" class="transcript-chunks" onclick="console.log('00:07:44,218'); seek(464.0)">
              when you don't have to worry about joins between collections. So this
            </span>
            
            <span id="chunk-121" class="transcript-chunks" onclick="console.log('00:07:47,608'); seek(467.0)">
              is considered generally to be a good thing. Unfortunately, it means
            </span>
            
            <span id="chunk-122" class="transcript-chunks" onclick="console.log('00:07:51,448'); seek(471.0)">
              that there are some specific behaviors that you account for in different ways,
            </span>
            
            <span id="chunk-123" class="transcript-chunks" onclick="console.log('00:07:54,696'); seek(474.0)">
              and sometimes they don't work out the way that you would expect.
            </span>
            
            <span id="chunk-124" class="transcript-chunks" onclick="console.log('00:07:57,910'); seek(477.0)">
              So, taking a look at the previous example, this is what it would actually look
            </span>
            
            <span id="chunk-125" class="transcript-chunks" onclick="console.log('00:08:00,984'); seek(480.0)">
              like laid out in a relational database. I mean, of core, there would be more
            </span>
            
            <span id="chunk-126" class="transcript-chunks" onclick="console.log('00:08:03,948'); seek(483.0)">
              to it. But if you had names and emails for your users or your characters
            </span>
            
            <span id="chunk-127" class="transcript-chunks" onclick="console.log('00:08:07,522'); seek(487.0)">
              and your superheroes that you're storing, and then you wanted to associate with them their
            </span>
            
            <span id="chunk-128" class="transcript-chunks" onclick="console.log('00:08:11,296'); seek(491.0)">
              powers, and that would be a one to many relationship,
            </span>
            
            <span id="chunk-129" class="transcript-chunks" onclick="console.log('00:08:14,256'); seek(494.0)">
              meaning an individual superhero could have many powers.
            </span>
            
            <span id="chunk-130" class="transcript-chunks" onclick="console.log('00:08:17,510'); seek(497.0)">
              You would store a separate table of powers and then have a relational id back
            </span>
            
            <span id="chunk-131" class="transcript-chunks" onclick="console.log('00:08:21,552'); seek(501.0)">
              to the character table to identify with which character they were
            </span>
            
            <span id="chunk-132" class="transcript-chunks" onclick="console.log('00:08:25,188'); seek(505.0)">
              associated. Now, that's not possible. It's possible, but there's no
            </span>
            
            <span id="chunk-133" class="transcript-chunks" onclick="console.log('00:08:29,156'); seek(509.0)">
              enforcement in the database, in a document store. So the more commonly
            </span>
            
            <span id="chunk-134" class="transcript-chunks" onclick="console.log('00:08:33,066'); seek(513.0)">
              proposed and supported pattern is to embed those.
            </span>
            
            <span id="chunk-135" class="transcript-chunks" onclick="console.log('00:08:37,128'); seek(517.0)">
              So in this case, we have Wanda as Scarlet Witch, who has some specific
            </span>
            
            <span id="chunk-136" class="transcript-chunks" onclick="console.log('00:08:40,760'); seek(520.0)">
              powers. We would list those inside of the document
            </span>
            
            <span id="chunk-137" class="transcript-chunks" onclick="console.log('00:08:44,350'); seek(524.0)">
              representing Wanda, and for a small number of powers,
            </span>
            
            <span id="chunk-138" class="transcript-chunks" onclick="console.log('00:08:48,738'); seek(528.0)">
              this is actually a totally reasonable approach, minus any
            </span>
            
            <span id="chunk-139" class="transcript-chunks" onclick="console.log('00:08:52,252'); seek(532.0)">
              opportunity to enforce uniqueness or constraints on that
            </span>
            
            <span id="chunk-140" class="transcript-chunks" onclick="console.log('00:08:55,708'); seek(535.0)">
              list of powers. Now, one of the amazing
            </span>
            
            <span id="chunk-141" class="transcript-chunks" onclick="console.log('00:08:59,808'); seek(539.0)">
              convenience functions that Mongo provides to allow you to
            </span>
            
            <span id="chunk-142" class="transcript-chunks" onclick="console.log('00:09:02,992'); seek(542.0)">
              manage these lists is something called add to set. So in that previous
            </span>
            
            <span id="chunk-143" class="transcript-chunks" onclick="console.log('00:09:06,822'); seek(546.0)">
              example, if I listed mind control, and then I
            </span>
            
            <span id="chunk-144" class="transcript-chunks" onclick="console.log('00:09:10,288'); seek(550.0)">
              wanted to add it again, if I call add to set, Mongo will ensure
            </span>
            
            <span id="chunk-145" class="transcript-chunks" onclick="console.log('00:09:13,462'); seek(553.0)">
              that that doesn't already exist inside of the record before it appends
            </span>
            
            <span id="chunk-146" class="transcript-chunks" onclick="console.log('00:09:17,498'); seek(557.0)">
              it, which sounds great and is super helpful, and it's something that we
            </span>
            
            <span id="chunk-147" class="transcript-chunks" onclick="console.log('00:09:20,868'); seek(560.0)">
              chose to use for one of our implementations, specifically our implementation
            </span>
            
            <span id="chunk-148" class="transcript-chunks" onclick="console.log('00:09:24,874'); seek(564.0)">
              of artifacts. So, circle CI is a CI and CD
            </span>
            
            <span id="chunk-149" class="transcript-chunks" onclick="console.log('00:09:28,542'); seek(568.0)">
              platform. And one of the things that we allow you to do when you run
            </span>
            
            <span id="chunk-150" class="transcript-chunks" onclick="console.log('00:09:31,848'); seek(571.0)">
              a build is store artifacts of that build. And this
            </span>
            
            <span id="chunk-151" class="transcript-chunks" onclick="console.log('00:09:35,736'); seek(575.0)">
              is a small document that represents a single
            </span>
            
            <span id="chunk-152" class="transcript-chunks" onclick="console.log('00:09:39,096'); seek(579.0)">
              artifact at the end of a build. In terms of what we would store,
            </span>
            
            <span id="chunk-153" class="transcript-chunks" onclick="console.log('00:09:42,524'); seek(582.0)">
              it describes the name, the actual path in s three, where we would
            </span>
            
            <span id="chunk-154" class="transcript-chunks" onclick="console.log('00:09:46,268'); seek(586.0)">
              have stored it, and then a URL to retrieve it. Now, these are obviously
            </span>
            
            <span id="chunk-155" class="transcript-chunks" onclick="console.log('00:09:50,236'); seek(590.0)">
              adjusted to fit on the screen, but it's approximately this format.
            </span>
            
            <span id="chunk-156" class="transcript-chunks" onclick="console.log('00:09:53,926'); seek(593.0)">
              In fact, I think they would mostly be longer than this. So for every single
            </span>
            
            <span id="chunk-157" class="transcript-chunks" onclick="console.log('00:09:57,440'); seek(597.0)">
              artifact that was stored, we had some repetition, which, as I've discussed before,
            </span>
            
            <span id="chunk-158" class="transcript-chunks" onclick="console.log('00:10:01,152'); seek(601.0)">
              was probably not great from a total size perspective. And we were storing these
            </span>
            
            <span id="chunk-159" class="transcript-chunks" onclick="console.log('00:10:05,028'); seek(605.0)">
              documents in an array and using the add to set operator,
            </span>
            
            <span id="chunk-160" class="transcript-chunks" onclick="console.log('00:10:08,282'); seek(608.0)">
              to identify when we had duplication inside of that array and
            </span>
            
            <span id="chunk-161" class="transcript-chunks" onclick="console.log('00:10:11,988'); seek(611.0)">
              to avoid that. So, similar to the short list of powers,
            </span>
            
            <span id="chunk-162" class="transcript-chunks" onclick="console.log('00:10:15,738'); seek(615.0)">
              when we had builds that ran with a small number of outputs,
            </span>
            
            <span id="chunk-163" class="transcript-chunks" onclick="console.log('00:10:19,374'); seek(619.0)">
              this was a great way to list them and a quick way to find the
            </span>
            
            <span id="chunk-164" class="transcript-chunks" onclick="console.log('00:10:22,584'); seek(622.0)">
              data we needed and go and fetch those artifacts. We could show the list to
            </span>
            
            <span id="chunk-165" class="transcript-chunks" onclick="console.log('00:10:25,464'); seek(625.0)">
              the user so they could see what artifacts were associated with their build,
            </span>
            
            <span id="chunk-166" class="transcript-chunks" onclick="console.log('00:10:28,556'); seek(628.0)">
              click on one and download it. Now, what ended up
            </span>
            
            <span id="chunk-167" class="transcript-chunks" onclick="console.log('00:10:31,948'); seek(631.0)">
              happening was we had customers who had 30,000 or more of these artifacts
            </span>
            
            <span id="chunk-168" class="transcript-chunks" onclick="console.log('00:10:35,922'); seek(635.0)">
              being generated within a build, which, as you can imagine,
            </span>
            
            <span id="chunk-169" class="transcript-chunks" onclick="console.log('00:10:39,346'); seek(639.0)">
              started to build some very, very large arrays inside of that
            </span>
            
            <span id="chunk-170" class="transcript-chunks" onclick="console.log('00:10:42,656'); seek(642.0)">
              document. So, here's an example or a description of
            </span>
            
            <span id="chunk-171" class="transcript-chunks" onclick="console.log('00:10:46,864'); seek(646.0)">
              what that sort of looks like as it's happening. So this is our
            </span>
            
            <span id="chunk-172" class="transcript-chunks" onclick="console.log('00:10:50,224'); seek(650.0)">
              very simple mongo instance again with compute, and then disk below
            </span>
            
            <span id="chunk-173" class="transcript-chunks" onclick="console.log('00:10:54,180'); seek(654.0)">
              and the little square representing the specific document that we're
            </span>
            
            <span id="chunk-174" class="transcript-chunks" onclick="console.log('00:10:57,946'); seek(657.0)">
              interested in editing and adding an artifact to.
            </span>
            
            <span id="chunk-175" class="transcript-chunks" onclick="console.log('00:11:01,124'); seek(661.0)">
              And up above, we have a builder machine that's
            </span>
            
            <span id="chunk-176" class="transcript-chunks" onclick="console.log('00:11:04,698'); seek(664.0)">
              actually doing the work and wants to write. And so when it makes a request
            </span>
            
            <span id="chunk-177" class="transcript-chunks" onclick="console.log('00:11:08,062'); seek(668.0)">
              to Mongo to get access to that build document, Mongo loads
            </span>
            
            <span id="chunk-178" class="transcript-chunks" onclick="console.log('00:11:11,694'); seek(671.0)">
              it off disk and holds it in memory in order to operate on it.
            </span>
            
            <span id="chunk-179" class="transcript-chunks" onclick="console.log('00:11:15,000'); seek(675.0)">
              And ultimately, we'll flush it back out to disk.
            </span>
            
            <span id="chunk-180" class="transcript-chunks" onclick="console.log('00:11:18,014'); seek(678.0)">
              Now, one of the capabilities that we offer at Circleci is the ability to
            </span>
            
            <span id="chunk-181" class="transcript-chunks" onclick="console.log('00:11:21,468'); seek(681.0)">
              parallelize your build. So you might have a very large number of teams.
            </span>
            
            <span id="chunk-182" class="transcript-chunks" onclick="console.log('00:11:25,426'); seek(685.0)">
              And in order to get through them faster, we will split those tests
            </span>
            
            <span id="chunk-183" class="transcript-chunks" onclick="console.log('00:11:28,882'); seek(688.0)">
              up onto different machines and run them at the same time.
            </span>
            
            <span id="chunk-184" class="transcript-chunks" onclick="console.log('00:11:31,968'); seek(691.0)">
              Of course, that means that each one of those is computing a
            </span>
            
            <span id="chunk-185" class="transcript-chunks" onclick="console.log('00:11:35,248'); seek(695.0)">
              different set of artifacts and writing it back to the
            </span>
            
            <span id="chunk-186" class="transcript-chunks" onclick="console.log('00:11:38,672'); seek(698.0)">
              build. And the build is the collection of results from
            </span>
            
            <span id="chunk-187" class="transcript-chunks" onclick="console.log('00:11:41,872'); seek(701.0)">
              all of those different machines, not one per machine.
            </span>
            
            <span id="chunk-188" class="transcript-chunks" onclick="console.log('00:11:45,098'); seek(705.0)">
              So when each one of those tries to write, it has
            </span>
            
            <span id="chunk-189" class="transcript-chunks" onclick="console.log('00:11:48,308'); seek(708.0)">
              to write to the same array. And when we call add to
            </span>
            
            <span id="chunk-190" class="transcript-chunks" onclick="console.log('00:11:51,732'); seek(711.0)">
              set, each one of those write requests is going to lock the build
            </span>
            
            <span id="chunk-191" class="transcript-chunks" onclick="console.log('00:11:55,256'); seek(715.0)">
              document and iterate over the entire
            </span>
            
            <span id="chunk-192" class="transcript-chunks" onclick="console.log('00:11:58,840'); seek(718.0)">
              array of artifacts, looking for any potential
            </span>
            
            <span id="chunk-193" class="transcript-chunks" onclick="console.log('00:12:02,462'); seek(722.0)">
              conflicts or duplicates before it ultimately writes
            </span>
            
            <span id="chunk-194" class="transcript-chunks" onclick="console.log('00:12:05,902'); seek(725.0)">
              at the end. And this could happen on 100 parallel
            </span>
            
            <span id="chunk-195" class="transcript-chunks" onclick="console.log('00:12:09,602'); seek(729.0)">
              builders trying to write 30,000 artifacts in total over
            </span>
            
            <span id="chunk-196" class="transcript-chunks" onclick="console.log('00:12:13,676'); seek(733.0)">
              that single document, each one of them locking and searching by the
            </span>
            
            <span id="chunk-197" class="transcript-chunks" onclick="console.log('00:12:17,708'); seek(737.0)">
              end, the previous 29,000 documents, in order to
            </span>
            
            <span id="chunk-198" class="transcript-chunks" onclick="console.log('00:12:21,148'); seek(741.0)">
              see if there was any duplication or conflict. This was not a
            </span>
            
            <span id="chunk-199" class="transcript-chunks" onclick="console.log('00:12:24,464'); seek(744.0)">
              great outcome for us. And even more exciting, we would be writing a
            </span>
            
            <span id="chunk-200" class="transcript-chunks" onclick="console.log('00:12:28,368'); seek(748.0)">
              big enough or a large enough number to that artifacts
            </span>
            
            <span id="chunk-201" class="transcript-chunks" onclick="console.log('00:12:31,878'); seek(751.0)">
              array that ultimately, Mongo would have to grow the document,
            </span>
            
            <span id="chunk-202" class="transcript-chunks" onclick="console.log('00:12:35,898'); seek(755.0)">
              so it would have to allocate a new chunk of memory, copy the existing document
            </span>
            
            <span id="chunk-203" class="transcript-chunks" onclick="console.log('00:12:39,882'); seek(759.0)">
              into that memory, and then continue to edit, which is another
            </span>
            
            <span id="chunk-204" class="transcript-chunks" onclick="console.log('00:12:43,316'); seek(763.0)">
              operation that happened while locked and blocking all,
            </span>
            
            <span id="chunk-205" class="transcript-chunks" onclick="console.log('00:12:46,120'); seek(766.0)">
              potentially 99 other or more builders from writing.
            </span>
            
            <span id="chunk-206" class="transcript-chunks" onclick="console.log('00:12:49,982'); seek(769.0)">
              And then we had to write that document back to disk, which requires
            </span>
            
            <span id="chunk-207" class="transcript-chunks" onclick="console.log('00:12:53,822'); seek(773.0)">
              Mongo to allocate new space on the disk because there's not
            </span>
            
            <span id="chunk-208" class="transcript-chunks" onclick="console.log('00:12:56,968'); seek(776.0)">
              room to fit it where it was before, find a new extent, move the
            </span>
            
            <span id="chunk-209" class="transcript-chunks" onclick="console.log('00:13:00,428'); seek(780.0)">
              entire existing document over there and write the new content into
            </span>
            
            <span id="chunk-210" class="transcript-chunks" onclick="console.log('00:13:04,092'); seek(784.0)">
              it. Or more likely, just flush the whole document and remove the old one.
            </span>
            
            <span id="chunk-211" class="transcript-chunks" onclick="console.log('00:13:07,692'); seek(787.0)">
              So that whole operation had to happen before someone else could write.
            </span>
            
            <span id="chunk-212" class="transcript-chunks" onclick="console.log('00:13:11,470'); seek(791.0)">
              Ultimately, this resulted in some very, very slow builds.
            </span>
            
            <span id="chunk-213" class="transcript-chunks" onclick="console.log('00:13:15,078'); seek(795.0)">
              So the first quick fix we made was to remove the add to set operator
            </span>
            
            <span id="chunk-214" class="transcript-chunks" onclick="console.log('00:13:18,822'); seek(798.0)">
              and replace it with a push operator, which just assumes there's no duplication,
            </span>
            
            <span id="chunk-215" class="transcript-chunks" onclick="console.log('00:13:22,102'); seek(802.0)">
              or that duplication doesn't matter, because it actually never did for us,
            </span>
            
            <span id="chunk-216" class="transcript-chunks" onclick="console.log('00:13:25,492'); seek(805.0)">
              and writes directly to the end. The next step was
            </span>
            
            <span id="chunk-217" class="transcript-chunks" onclick="console.log('00:13:29,268'); seek(809.0)">
              effectively to rebuild large parts of that artifact management system,
            </span>
            
            <span id="chunk-218" class="transcript-chunks" onclick="console.log('00:13:32,852'); seek(812.0)">
              shrinking the total amount of storage, because we knew the pattern to
            </span>
            
            <span id="chunk-219" class="transcript-chunks" onclick="console.log('00:13:36,308'); seek(816.0)">
              get to a document, and then changing the storage model
            </span>
            
            <span id="chunk-220" class="transcript-chunks" onclick="console.log('00:13:39,496'); seek(819.0)">
              so that we didn't need to core it inside the Mongo document at all.
            </span>
            
            <span id="chunk-221" class="transcript-chunks" onclick="console.log('00:13:42,744'); seek(822.0)">
              So the key takeaway here for me is that there actually
            </span>
            
            <span id="chunk-222" class="transcript-chunks" onclick="console.log('00:13:46,152'); seek(826.0)">
              was a great simple approach in the method that we chose. But when you take
            </span>
            
            <span id="chunk-223" class="transcript-chunks" onclick="console.log('00:13:49,608'); seek(829.0)">
              a simple approach like that, it's really important to know when it's going to
            </span>
            
            <span id="chunk-224" class="transcript-chunks" onclick="console.log('00:13:52,748'); seek(832.0)">
              break. For us, it was a surprise, and we had to go do some digging
            </span>
            
            <span id="chunk-225" class="transcript-chunks" onclick="console.log('00:13:56,434'); seek(836.0)">
              and learning to figure out what was going on, and then find a new system.
            </span>
            
            <span id="chunk-226" class="transcript-chunks" onclick="console.log('00:13:59,692'); seek(839.0)">
              If we had understood going in where the limitations of the mongo
            </span>
            
            <span id="chunk-227" class="transcript-chunks" onclick="console.log('00:14:03,478'); seek(843.0)">
              array capability would be, then we could have planned
            </span>
            
            <span id="chunk-228" class="transcript-chunks" onclick="console.log('00:14:07,062'); seek(847.0)">
              for future work to make a more comprehensive or capable system
            </span>
            
            <span id="chunk-229" class="transcript-chunks" onclick="console.log('00:14:10,528'); seek(850.0)">
              at the point where the scale would be a problem, or before that point.
            </span>
            
            <span id="chunk-230" class="transcript-chunks" onclick="console.log('00:14:14,528'); seek(854.0)">
              Now, taking another look at how we use mongo, but looking at a different
            </span>
            
            <span id="chunk-231" class="transcript-chunks" onclick="console.log('00:14:17,812'); seek(857.0)">
              aspect of it, let's talk a little bit about EBS. Now, this could probably be
            </span>
            
            <span id="chunk-232" class="transcript-chunks" onclick="console.log('00:14:21,140'); seek(861.0)">
              any block store. EBS is one that I happen to be fairly familiar with,
            </span>
            
            <span id="chunk-233" class="transcript-chunks" onclick="console.log('00:14:24,532'); seek(864.0)">
              because we use it a lot inside of Circleci. And the one thing that
            </span>
            
            <span id="chunk-234" class="transcript-chunks" onclick="console.log('00:14:27,784'); seek(867.0)">
              I will definitely highlight here is many things feel like magic. There's never
            </span>
            
            <span id="chunk-235" class="transcript-chunks" onclick="console.log('00:14:31,368'); seek(871.0)">
              any actual magic. There's just important, difficult engineering challenges
            </span>
            
            <span id="chunk-236" class="transcript-chunks" onclick="console.log('00:14:35,102'); seek(875.0)">
              that have already been solved, but it's important to think about how they've been
            </span>
            
            <span id="chunk-237" class="transcript-chunks" onclick="console.log('00:14:38,748'); seek(878.0)">
              solved. So, again, taking our simple example of a Mongo instance,
            </span>
            
            <span id="chunk-238" class="transcript-chunks" onclick="console.log('00:14:42,146'); seek(882.0)">
              this is circa 2015, we actually had Mongo
            </span>
            
            <span id="chunk-239" class="transcript-chunks" onclick="console.log('00:14:46,034'); seek(886.0)">
              outsourced to a third party provider who managed the database
            </span>
            
            <span id="chunk-240" class="transcript-chunks" onclick="console.log('00:14:49,558'); seek(889.0)">
              for us. And again, your simple compute and disk
            </span>
            
            <span id="chunk-241" class="transcript-chunks" onclick="console.log('00:14:53,206'); seek(893.0)">
              pairing. And in that model, those were actually locally attached.
            </span>
            
            <span id="chunk-242" class="transcript-chunks" onclick="console.log('00:14:57,094'); seek(897.0)">
              So we were using AWS's largest instances at
            </span>
            
            <span id="chunk-243" class="transcript-chunks" onclick="console.log('00:15:00,464'); seek(900.0)">
              the time, which meant we had their largest local ssds. Because disk and
            </span>
            
            <span id="chunk-244" class="transcript-chunks" onclick="console.log('00:15:03,908'); seek(903.0)">
              compute moved together, there's no way to attach directly, or at
            </span>
            
            <span id="chunk-245" class="transcript-chunks" onclick="console.log('00:15:07,524'); seek(907.0)">
              least at the time, larger disks, CTO, the same sized instance.
            </span>
            
            <span id="chunk-246" class="transcript-chunks" onclick="console.log('00:15:11,498'); seek(911.0)">
              Then we were running low on space for even a single collection,
            </span>
            
            <span id="chunk-247" class="transcript-chunks" onclick="console.log('00:15:15,194'); seek(915.0)">
              meaning we had shifted off multiple different collections, left a single
            </span>
            
            <span id="chunk-248" class="transcript-chunks" onclick="console.log('00:15:18,696'); seek(918.0)">
              collection on a particular store, and the system was running
            </span>
            
            <span id="chunk-249" class="transcript-chunks" onclick="console.log('00:15:21,896'); seek(921.0)">
              out of space. So we were constantly tweaking and managing the storage.
            </span>
            
            <span id="chunk-250" class="transcript-chunks" onclick="console.log('00:15:25,406'); seek(925.0)">
              But no matter how small you get the documents, if you're continuing to add them
            </span>
            
            <span id="chunk-251" class="transcript-chunks" onclick="console.log('00:15:29,116'); seek(929.0)">
              at a high rate of growth, you're ultimately going to run out of space.
            </span>
            
            <span id="chunk-252" class="transcript-chunks" onclick="console.log('00:15:32,668'); seek(932.0)">
              Additionally, we had operational management issues like
            </span>
            
            <span id="chunk-253" class="transcript-chunks" onclick="console.log('00:15:36,092'); seek(936.0)">
              backup and restore, so a backup we were trying to do daily, but we
            </span>
            
            <span id="chunk-254" class="transcript-chunks" onclick="console.log('00:15:39,484'); seek(939.0)">
              got to the point where a backup was taking greater than 24 hours because we
            </span>
            
            <span id="chunk-255" class="transcript-chunks" onclick="console.log('00:15:42,764'); seek(942.0)">
              were pulling it out of the database and pushing it across the network all through
            </span>
            
            <span id="chunk-256" class="transcript-chunks" onclick="console.log('00:15:46,288'); seek(946.0)">
              the compute engine, which was also trying to serve traffic. We ended up with stale,
            </span>
            
            <span id="chunk-257" class="transcript-chunks" onclick="console.log('00:15:50,390'); seek(950.0)">
              inconsistent backups by the time they were even created, and we obviously couldn't
            </span>
            
            <span id="chunk-258" class="transcript-chunks" onclick="console.log('00:15:54,150'); seek(954.0)">
              run them daily anymore because they weren't even done. Even worse, if we tried to
            </span>
            
            <span id="chunk-259" class="transcript-chunks" onclick="console.log('00:15:57,444'); seek(957.0)">
              use restore to do any maintenance operations, that would take two
            </span>
            
            <span id="chunk-260" class="transcript-chunks" onclick="console.log('00:16:01,252'); seek(961.0)">
              to three days. So the ability to build out a new host even move
            </span>
            
            <span id="chunk-261" class="transcript-chunks" onclick="console.log('00:16:04,468'); seek(964.0)">
              us off when we were having operational issues was severely limited.
            </span>
            
            <span id="chunk-262" class="transcript-chunks" onclick="console.log('00:16:08,334'); seek(968.0)">
              We had operational problems all over and we
            </span>
            
            <span id="chunk-263" class="transcript-chunks" onclick="console.log('00:16:11,848'); seek(971.0)">
              needed a new solution. So we decided to do two things at the same time.
            </span>
            
            <span id="chunk-264" class="transcript-chunks" onclick="console.log('00:16:15,352'); seek(975.0)">
              We moved the overall Mongo operation into
            </span>
            
            <span id="chunk-265" class="transcript-chunks" onclick="console.log('00:16:19,276'); seek(979.0)">
              our own AWS environment. So we cloud customize the buildout, and we switched to
            </span>
            
            <span id="chunk-266" class="transcript-chunks" onclick="console.log('00:16:23,148'); seek(983.0)">
              using EBS as the disk storage. EBS is
            </span>
            
            <span id="chunk-267" class="transcript-chunks" onclick="console.log('00:16:26,988'); seek(986.0)">
              elastic block store within AWS, so now we're back to having a network attached
            </span>
            
            <span id="chunk-268" class="transcript-chunks" onclick="console.log('00:16:31,510'); seek(991.0)">
              storage model. We could optimize the disk and compute
            </span>
            
            <span id="chunk-269" class="transcript-chunks" onclick="console.log('00:16:35,302'); seek(995.0)">
              separately. We had to pay attention to the operational characteristics,
            </span>
            
            <span id="chunk-270" class="transcript-chunks" onclick="console.log('00:16:38,198'); seek(998.0)">
              but ultimately for us, the throughput and latency were both manageable.
            </span>
            
            <span id="chunk-271" class="transcript-chunks" onclick="console.log('00:16:41,786'); seek(1001.0)">
              Throughput is unbelievable inside of EBS,
            </span>
            
            <span id="chunk-272" class="transcript-chunks" onclick="console.log('00:16:45,490'); seek(1005.0)">
              and the latency was good enough, with the right mix of
            </span>
            
            <span id="chunk-273" class="transcript-chunks" onclick="console.log('00:16:49,604'); seek(1009.0)">
              computing power on the other side to store working sets, that it didn't end up
            </span>
            
            <span id="chunk-274" class="transcript-chunks" onclick="console.log('00:16:53,060'); seek(1013.0)">
              being a significant problem. Also, backups got a lot easier by using
            </span>
            
            <span id="chunk-275" class="transcript-chunks" onclick="console.log('00:16:56,792'); seek(1016.0)">
              snapshots. So snapshots are not actually instant,
            </span>
            
            <span id="chunk-276" class="transcript-chunks" onclick="console.log('00:17:00,174'); seek(1020.0)">
              but they capture an instantaneous perspective of the
            </span>
            
            <span id="chunk-277" class="transcript-chunks" onclick="console.log('00:17:03,288'); seek(1023.0)">
              disk itself, an instantaneous view, and then
            </span>
            
            <span id="chunk-278" class="transcript-chunks" onclick="console.log('00:17:06,552'); seek(1026.0)">
              are capable of transferring that, despite the fact that it takes time
            </span>
            
            <span id="chunk-279" class="transcript-chunks" onclick="console.log('00:17:10,188'); seek(1030.0)">
              with that understanding. Meaning if something is edited while
            </span>
            
            <span id="chunk-280" class="transcript-chunks" onclick="console.log('00:17:13,596'); seek(1033.0)">
              it's still being transferred, the old version is held onto in order
            </span>
            
            <span id="chunk-281" class="transcript-chunks" onclick="console.log('00:17:17,484'); seek(1037.0)">
              to complete the process of the backup or the
            </span>
            
            <span id="chunk-282" class="transcript-chunks" onclick="console.log('00:17:20,764'); seek(1040.0)">
              snapshot transfer inside of EBS. So ultimately you get a
            </span>
            
            <span id="chunk-283" class="transcript-chunks" onclick="console.log('00:17:24,416'); seek(1044.0)">
              consistent view from a moment in time. And because of the way that Mongo operates
            </span>
            
            <span id="chunk-284" class="transcript-chunks" onclick="console.log('00:17:28,502'); seek(1048.0)">
              with journaling, it's not even necessary to stop operations.
            </span>
            
            <span id="chunk-285" class="transcript-chunks" onclick="console.log('00:17:31,914'); seek(1051.0)">
              So the disk is known to be consistent at any particular instances.
            </span>
            
            <span id="chunk-286" class="transcript-chunks" onclick="console.log('00:17:35,738'); seek(1055.0)">
              Additionally, we now had the opportunity to attach
            </span>
            
            <span id="chunk-287" class="transcript-chunks" onclick="console.log('00:17:39,242'); seek(1059.0)">
              different compute without having CTO make any significant
            </span>
            
            <span id="chunk-288" class="transcript-chunks" onclick="console.log('00:17:42,490'); seek(1062.0)">
              data transfers. So off of the same disk, we could do
            </span>
            
            <span id="chunk-289" class="transcript-chunks" onclick="console.log('00:17:45,896'); seek(1065.0)">
              a rebuild of the machine. Whether it was because we wanted to upgrade the operating
            </span>
            
            <span id="chunk-290" class="transcript-chunks" onclick="console.log('00:17:49,262'); seek(1069.0)">
              system, apply security patches, upgrade Mongo itself,
            </span>
            
            <span id="chunk-291" class="transcript-chunks" onclick="console.log('00:17:52,584'); seek(1072.0)">
              and without having to try to change the state of the existing
            </span>
            
            <span id="chunk-292" class="transcript-chunks" onclick="console.log('00:17:55,838'); seek(1075.0)">
              machine, we could just build a new one, throw out the old one, and attach
            </span>
            
            <span id="chunk-293" class="transcript-chunks" onclick="console.log('00:17:59,378'); seek(1079.0)">
              it. So our hosts became effectively immutable and ephemeral in that way.
            </span>
            
            <span id="chunk-294" class="transcript-chunks" onclick="console.log('00:18:03,580'); seek(1083.0)">
              And that was a significant improvement from an operational perspective.
            </span>
            
            <span id="chunk-295" class="transcript-chunks" onclick="console.log('00:18:07,378'); seek(1087.0)">
              And then finally, that same instant transfer made
            </span>
            
            <span id="chunk-296" class="transcript-chunks" onclick="console.log('00:18:11,280'); seek(1091.0)">
              restores really, really fast. It would take a couple minutes
            </span>
            
            <span id="chunk-297" class="transcript-chunks" onclick="console.log('00:18:14,848'); seek(1094.0)">
              to build out a multi terabyte EBS volume from a
            </span>
            
            <span id="chunk-298" class="transcript-chunks" onclick="console.log('00:18:18,128'); seek(1098.0)">
              snapshot that we had stored. And so this was quite magical and allowed
            </span>
            
            <span id="chunk-299" class="transcript-chunks" onclick="console.log('00:18:21,798'); seek(1101.0)">
              us to again, perform those kinds of operations. Let's say we wanted to add another
            </span>
            
            <span id="chunk-300" class="transcript-chunks" onclick="console.log('00:18:25,796'); seek(1105.0)">
              host to a replica set or replace one that wasn't working
            </span>
            
            <span id="chunk-301" class="transcript-chunks" onclick="console.log('00:18:29,284'); seek(1109.0)">
              the way that we wanted. Or sometimes even AWS needs to
            </span>
            
            <span id="chunk-302" class="transcript-chunks" onclick="console.log('00:18:33,028'); seek(1113.0)">
              take back a vm and we could just build a new one before they did
            </span>
            
            <span id="chunk-303" class="transcript-chunks" onclick="console.log('00:18:35,988'); seek(1115.0)">
              that. So this was fantastic. Again, a couple of minutes to get multiple terabytes
            </span>
            
            <span id="chunk-304" class="transcript-chunks" onclick="console.log('00:18:39,838'); seek(1119.0)">
              back online, and it seemed great until we actually tried to start Mongo up
            </span>
            
            <span id="chunk-305" class="transcript-chunks" onclick="console.log('00:18:43,288'); seek(1123.0)">
              again. And then it was really, really slow, like kind of scary.
            </span>
            
            <span id="chunk-306" class="transcript-chunks" onclick="console.log('00:18:46,926'); seek(1126.0)">
              Did I break the production database slow. When it takes minutes to
            </span>
            
            <span id="chunk-307" class="transcript-chunks" onclick="console.log('00:18:50,572'); seek(1130.0)">
              start up a process that's normally pretty much instant.
            </span>
            
            <span id="chunk-308" class="transcript-chunks" onclick="console.log('00:18:54,178'); seek(1134.0)">
              And I happened to be, or happened to have the opportunity to
            </span>
            
            <span id="chunk-309" class="transcript-chunks" onclick="console.log('00:18:57,788'); seek(1137.0)">
              speak to some folks from Mongo and ask them if they had seen this type
            </span>
            
            <span id="chunk-310" class="transcript-chunks" onclick="console.log('00:19:00,188'); seek(1140.0)">
              of behavior before. It turned out they had. And they were able to give me
            </span>
            
            <span id="chunk-311" class="transcript-chunks" onclick="console.log('00:19:02,992'); seek(1142.0)">
              some clues about what might be happening. And it was
            </span>
            
            <span id="chunk-312" class="transcript-chunks" onclick="console.log('00:19:06,528'); seek(1146.0)">
              bad enough that it was slow to start, but the more important thing was
            </span>
            
            <span id="chunk-313" class="transcript-chunks" onclick="console.log('00:19:10,640'); seek(1150.0)">
              when we started the database and it actually did come online,
            </span>
            
            <span id="chunk-314" class="transcript-chunks" onclick="console.log('00:19:13,732'); seek(1153.0)">
              if we put it into production, even as a secondary for reads,
            </span>
            
            <span id="chunk-315" class="transcript-chunks" onclick="console.log('00:19:17,418'); seek(1157.0)">
              it would be extremely slow in its performance there as well for
            </span>
            
            <span id="chunk-316" class="transcript-chunks" onclick="console.log('00:19:21,332'); seek(1161.0)">
              an extended period. So what we learned was happening was
            </span>
            
            <span id="chunk-317" class="transcript-chunks" onclick="console.log('00:19:24,872'); seek(1164.0)">
              that the restore is not actually a transfer
            </span>
            
            <span id="chunk-318" class="transcript-chunks" onclick="console.log('00:19:28,392'); seek(1168.0)">
              of all of the data, but it's a reference to
            </span>
            
            <span id="chunk-319" class="transcript-chunks" onclick="console.log('00:19:31,752'); seek(1171.0)">
              the data that is placed on the new volume.
            </span>
            
            <span id="chunk-320" class="transcript-chunks" onclick="console.log('00:19:35,374'); seek(1175.0)">
              And so the underlying file system, when it recognizes
            </span>
            
            <span id="chunk-321" class="transcript-chunks" onclick="console.log('00:19:39,474'); seek(1179.0)">
              that something is missing, goes and fetches it. So first it
            </span>
            
            <span id="chunk-322" class="transcript-chunks" onclick="console.log('00:19:42,748'); seek(1182.0)">
              starts in sort of sequential order, moving across the disk, but then a request
            </span>
            
            <span id="chunk-323" class="transcript-chunks" onclick="console.log('00:19:46,402'); seek(1186.0)">
              comes in for something that it doesn't have. It prioritizes
            </span>
            
            <span id="chunk-324" class="transcript-chunks" onclick="console.log('00:19:50,002'); seek(1190.0)">
              that and fills that in somewhere. So there's an on demand fetching
            </span>
            
            <span id="chunk-325" class="transcript-chunks" onclick="console.log('00:19:53,718'); seek(1193.0)">
              model and this is a great model for smaller
            </span>
            
            <span id="chunk-326" class="transcript-chunks" onclick="console.log('00:19:56,998'); seek(1196.0)">
              volumes and for very sequential reads. But in our case, with a
            </span>
            
            <span id="chunk-327" class="transcript-chunks" onclick="console.log('00:20:00,288'); seek(1200.0)">
              large database and random access across all of our users,
            </span>
            
            <span id="chunk-328" class="transcript-chunks" onclick="console.log('00:20:03,610'); seek(1203.0)">
              everybody was hitting very random locations around the disk
            </span>
            
            <span id="chunk-329" class="transcript-chunks" onclick="console.log('00:20:07,658'); seek(1207.0)">
              under high load in a production environment simultaneously and
            </span>
            
            <span id="chunk-330" class="transcript-chunks" onclick="console.log('00:20:11,172'); seek(1211.0)">
              causing great delays. Every single one of these was actually instead
            </span>
            
            <span id="chunk-331" class="transcript-chunks" onclick="console.log('00:20:14,916'); seek(1214.0)">
              of a read from disk, a fetch out to s three,
            </span>
            
            <span id="chunk-332" class="transcript-chunks" onclick="console.log('00:20:18,392'); seek(1218.0)">
              or wherever the snapshot is stored, some data transfer, some decompression,
            </span>
            
            <span id="chunk-333" class="transcript-chunks" onclick="console.log('00:20:22,478'); seek(1222.0)">
              some placement of that onto the disk before the read could actually be completed.
            </span>
            
            <span id="chunk-334" class="transcript-chunks" onclick="console.log('00:20:26,574'); seek(1226.0)">
              And so on the startup phase, it was the random sampling
            </span>
            
            <span id="chunk-335" class="transcript-chunks" onclick="console.log('00:20:30,274'); seek(1230.0)">
              of indexes that Mongo does to ensure that all the content is there and
            </span>
            
            <span id="chunk-336" class="transcript-chunks" onclick="console.log('00:20:34,252'); seek(1234.0)">
              consistent, or random sampling of the journal to then go look
            </span>
            
            <span id="chunk-337" class="transcript-chunks" onclick="console.log('00:20:37,612'); seek(1237.0)">
              at the disk to check for consistency. That was taking a
            </span>
            
            <span id="chunk-338" class="transcript-chunks" onclick="console.log('00:20:41,324'); seek(1241.0)">
              really long time because it's looking all over the disk. And then as soon as
            </span>
            
            <span id="chunk-339" class="transcript-chunks" onclick="console.log('00:20:44,544'); seek(1244.0)">
              we put it into production, it was customer reads that were taking a really long
            </span>
            
            <span id="chunk-340" class="transcript-chunks" onclick="console.log('00:20:47,872'); seek(1247.0)">
              time. And so once again, all of our customers are waiting
            </span>
            
            <span id="chunk-341" class="transcript-chunks" onclick="console.log('00:20:51,910'); seek(1251.0)">
              and not impressed with performance. So ultimately we
            </span>
            
            <span id="chunk-342" class="transcript-chunks" onclick="console.log('00:20:55,668'); seek(1255.0)">
              had to think about what was causing that and how we could manage it.
            </span>
            
            <span id="chunk-343" class="transcript-chunks" onclick="console.log('00:20:59,188'); seek(1259.0)">
              And what we ended up doing and still do is when we'd make these large
            </span>
            
            <span id="chunk-344" class="transcript-chunks" onclick="console.log('00:21:02,516'); seek(1262.0)">
              operations and move CTO new volumes, we run warming
            </span>
            
            <span id="chunk-345" class="transcript-chunks" onclick="console.log('00:21:06,350'); seek(1266.0)">
              queries that we know will be most representative of the majority
            </span>
            
            <span id="chunk-346" class="transcript-chunks" onclick="console.log('00:21:10,270'); seek(1270.0)">
              of content that will be fetched once we put it back into production,
            </span>
            
            <span id="chunk-347" class="transcript-chunks" onclick="console.log('00:21:13,982'); seek(1273.0)">
              which is usually most recently edited, most recently written.
            </span>
            
            <span id="chunk-348" class="transcript-chunks" onclick="console.log('00:21:17,694'); seek(1277.0)">
              So we drive those queries to force all of this data
            </span>
            
            <span id="chunk-349" class="transcript-chunks" onclick="console.log('00:21:21,340'); seek(1281.0)">
              to be fetched, because if we wait for the entire disk
            </span>
            
            <span id="chunk-350" class="transcript-chunks" onclick="console.log('00:21:24,530'); seek(1284.0)">
              to fetch, it will take forever. And a huge amount of it is
            </span>
            
            <span id="chunk-351" class="transcript-chunks" onclick="console.log('00:21:27,708'); seek(1287.0)">
              not really that important to us. The key takeaway here
            </span>
            
            <span id="chunk-352" class="transcript-chunks" onclick="console.log('00:21:31,024'); seek(1291.0)">
              is your cloud provider. Your tool provider is
            </span>
            
            <span id="chunk-353" class="transcript-chunks" onclick="console.log('00:21:34,912'); seek(1294.0)">
              solving for a general case. They are building amazing things,
            </span>
            
            <span id="chunk-354" class="transcript-chunks" onclick="console.log('00:21:38,112'); seek(1298.0)">
              but they're building them for a very large audience and thinking about what's going to
            </span>
            
            <span id="chunk-355" class="transcript-chunks" onclick="console.log('00:21:41,728'); seek(1301.0)">
              matter. CTO, the largest subset of those people, probably applying
            </span>
            
            <span id="chunk-356" class="transcript-chunks" onclick="console.log('00:21:45,658'); seek(1305.0)">
              an 80 20 rule, saying if we solve this 20% case, we're going to cover
            </span>
            
            <span id="chunk-357" class="transcript-chunks" onclick="console.log('00:21:49,556'); seek(1309.0)">
              80% of our customer base. And the question that you have to ask yourself is,
            </span>
            
            <span id="chunk-358" class="transcript-chunks" onclick="console.log('00:21:53,572'); seek(1313.0)">
              are you the target? Are you in that 20% bucket in terms of your use
            </span>
            
            <span id="chunk-359" class="transcript-chunks" onclick="console.log('00:21:57,016'); seek(1317.0)">
              case, such that your usage will be covered? Or do you
            </span>
            
            <span id="chunk-360" class="transcript-chunks" onclick="console.log('00:22:00,408'); seek(1320.0)">
              need to figure out how to adjust your approach or your problem space,
            </span>
            
            <span id="chunk-361" class="transcript-chunks" onclick="console.log('00:22:03,960'); seek(1323.0)">
              or work around that in order to have it work for you? Now I'd like
            </span>
            
            <span id="chunk-362" class="transcript-chunks" onclick="console.log('00:22:07,528'); seek(1327.0)">
              to turn to a final example, which is a little bit
            </span>
            
            <span id="chunk-363" class="transcript-chunks" onclick="console.log('00:22:10,828'); seek(1330.0)">
              less about the tools that we've used from others and more about how
            </span>
            
            <span id="chunk-364" class="transcript-chunks" onclick="console.log('00:22:14,812'); seek(1334.0)">
              our own challenges have existed while building out in a cloud
            </span>
            
            <span id="chunk-365" class="transcript-chunks" onclick="console.log('00:22:18,316'); seek(1338.0)">
              native way. Concurrency has always been a problem,
            </span>
            
            <span id="chunk-366" class="transcript-chunks" onclick="console.log('00:22:21,868'); seek(1341.0)">
              has always been a challenging part of software development. And that's been true
            </span>
            
            <span id="chunk-367" class="transcript-chunks" onclick="console.log('00:22:25,392'); seek(1345.0)">
              for as long as I've been writing software, and it's always been true within
            </span>
            
            <span id="chunk-368" class="transcript-chunks" onclick="console.log('00:22:29,152'); seek(1349.0)">
              a single programming environment, and it hasn't gotten
            </span>
            
            <span id="chunk-369" class="transcript-chunks" onclick="console.log('00:22:32,598'); seek(1352.0)">
              any easier as a result of most of the tools that we've thrown at it.
            </span>
            
            <span id="chunk-370" class="transcript-chunks" onclick="console.log('00:22:36,308'); seek(1356.0)">
              So concurrency has always been hard from a programming perspective.
            </span>
            
            <span id="chunk-371" class="transcript-chunks" onclick="console.log('00:22:39,770'); seek(1359.0)">
              This is a newer article, but speaks to an old problem.
            </span>
            
            <span id="chunk-372" class="transcript-chunks" onclick="console.log('00:22:43,396'); seek(1363.0)">
              And the great news is distributed systems are also very hard,
            </span>
            
            <span id="chunk-373" class="transcript-chunks" onclick="console.log('00:22:46,984'); seek(1366.0)">
              and these days we are piling them together. So let's
            </span>
            
            <span id="chunk-374" class="transcript-chunks" onclick="console.log('00:22:50,734'); seek(1370.0)">
              take a look back at the early days of circleci. Like everybody else,
            </span>
            
            <span id="chunk-375" class="transcript-chunks" onclick="console.log('00:22:54,136'); seek(1374.0)">
              we started out with a monolith. This monolith did many things. In this
            </span>
            
            <span id="chunk-376" class="transcript-chunks" onclick="console.log('00:22:57,448'); seek(1377.0)">
              example, we're just talking about a couple of them writing to the database and
            </span>
            
            <span id="chunk-377" class="transcript-chunks" onclick="console.log('00:23:01,276'); seek(1381.0)">
              fetching data from GitHub, or writing to GitHub, things like statuses.
            </span>
            
            <span id="chunk-378" class="transcript-chunks" onclick="console.log('00:23:05,826'); seek(1385.0)">
              Even in our very early days, the monolith, we would have had at least two
            </span>
            
            <span id="chunk-379" class="transcript-chunks" onclick="console.log('00:23:09,132'); seek(1389.0)">
              instances for redundancy, resiliency. These are very very
            </span>
            
            <span id="chunk-380" class="transcript-chunks" onclick="console.log('00:23:12,688'); seek(1392.0)">
              early days, but ultimately we ended up with much more than two and
            </span>
            
            <span id="chunk-381" class="transcript-chunks" onclick="console.log('00:23:16,592'); seek(1396.0)">
              far more than even on this diagram. But at some point it
            </span>
            
            <span id="chunk-382" class="transcript-chunks" onclick="console.log('00:23:19,728'); seek(1399.0)">
              becomes a bit repetitive and we got to a point where each of
            </span>
            
            <span id="chunk-383" class="transcript-chunks" onclick="console.log('00:23:23,284'); seek(1403.0)">
              these monoliths was effectively thinking of itself still as the
            </span>
            
            <span id="chunk-384" class="transcript-chunks" onclick="console.log('00:23:26,676'); seek(1406.0)">
              owner of all of the work. And so the way that jobs
            </span>
            
            <span id="chunk-385" class="transcript-chunks" onclick="console.log('00:23:30,714'); seek(1410.0)">
              were distributed was an individual monolith would talk to the database, take the next
            </span>
            
            <span id="chunk-386" class="transcript-chunks" onclick="console.log('00:23:34,436'); seek(1414.0)">
              job, and try to start it. But there was a check to make sure that
            </span>
            
            <span id="chunk-387" class="transcript-chunks" onclick="console.log('00:23:37,368'); seek(1417.0)">
              there wasn't any contention, no one else had taken that job. And at a
            </span>
            
            <span id="chunk-388" class="transcript-chunks" onclick="console.log('00:23:40,968'); seek(1420.0)">
              certain level there were so many attempts to take the same job
            </span>
            
            <span id="chunk-389" class="transcript-chunks" onclick="console.log('00:23:44,936'); seek(1424.0)">
              that we were losing the opportunity to process our queue effectively. So we
            </span>
            
            <span id="chunk-390" class="transcript-chunks" onclick="console.log('00:23:48,568'); seek(1428.0)">
              reached a point where we couldn't really scale any further, which is not great as
            </span>
            
            <span id="chunk-391" class="transcript-chunks" onclick="console.log('00:23:52,172'); seek(1432.0)">
              a business. So we took a fairly simple approach, CTO solving this problem, because we
            </span>
            
            <span id="chunk-392" class="transcript-chunks" onclick="console.log('00:23:55,388'); seek(1435.0)">
              were under time constraints. And the first simple approach was to
            </span>
            
            <span id="chunk-393" class="transcript-chunks" onclick="console.log('00:23:59,084'); seek(1439.0)">
              take a version or a copy effectively of this monolith and
            </span>
            
            <span id="chunk-394" class="transcript-chunks" onclick="console.log('00:24:02,688'); seek(1442.0)">
              run it in a slightly different role, meaning it executed
            </span>
            
            <span id="chunk-395" class="transcript-chunks" onclick="console.log('00:24:06,118'); seek(1446.0)">
              the work of determining whether or not a job should be processed
            </span>
            
            <span id="chunk-396" class="transcript-chunks" onclick="console.log('00:24:09,606'); seek(1449.0)">
              and distributing that out to one of the other instances,
            </span>
            
            <span id="chunk-397" class="transcript-chunks" onclick="console.log('00:24:13,514'); seek(1453.0)">
              rather than letting each instance make its own decisions about what
            </span>
            
            <span id="chunk-398" class="transcript-chunks" onclick="console.log('00:24:16,692'); seek(1456.0)">
              work should be done. Now, due to time constraints, as I mentioned,
            </span>
            
            <span id="chunk-399" class="transcript-chunks" onclick="console.log('00:24:20,772'); seek(1460.0)">
              this was effectively another copy of the monolith
            </span>
            
            <span id="chunk-400" class="transcript-chunks" onclick="console.log('00:24:24,666'); seek(1464.0)">
              that was started up with instructions to only do this, and all the other instances
            </span>
            
            <span id="chunk-401" class="transcript-chunks" onclick="console.log('00:24:28,542'); seek(1468.0)">
              were started up with instructions not to do that, but it was basically the same
            </span>
            
            <span id="chunk-402" class="transcript-chunks" onclick="console.log('00:24:31,912'); seek(1471.0)">
              code base. And so now when it comes to statuses,
            </span>
            
            <span id="chunk-403" class="transcript-chunks" onclick="console.log('00:24:35,342'); seek(1475.0)">
              you have this dispatcher, which is an instance of the monolith writing
            </span>
            
            <span id="chunk-404" class="transcript-chunks" onclick="console.log('00:24:38,734'); seek(1478.0)">
              to GitHub and then the monolith doing the work, also writing to GitHub, they write
            </span>
            
            <span id="chunk-405" class="transcript-chunks" onclick="console.log('00:24:42,076'); seek(1482.0)">
              different statuses based on where they are in different parts of the job. And that
            </span>
            
            <span id="chunk-406" class="transcript-chunks" onclick="console.log('00:24:44,908'); seek(1484.0)">
              was basically because that code path was where those things happened.
            </span>
            
            <span id="chunk-407" class="transcript-chunks" onclick="console.log('00:24:48,876'); seek(1488.0)">
              So if we dig into one of those a little bit and look at what
            </span>
            
            <span id="chunk-408" class="transcript-chunks" onclick="console.log('00:24:51,532'); seek(1491.0)">
              happens in that original process, it's a little more complicated, which is within the
            </span>
            
            <span id="chunk-409" class="transcript-chunks" onclick="console.log('00:24:55,408'); seek(1495.0)">
              monolith, we have a concept of a build, which is the full piece of work
            </span>
            
            <span id="chunk-410" class="transcript-chunks" onclick="console.log('00:24:58,912'); seek(1498.0)">
              that we're doing or at the time that we were doing, and we might change
            </span>
            
            <span id="chunk-411" class="transcript-chunks" onclick="console.log('00:25:01,872'); seek(1501.0)">
              the status of that from requested to queued, from queued
            </span>
            
            <span id="chunk-412" class="transcript-chunks" onclick="console.log('00:25:06,138'); seek(1506.0)">
              to running, from running to completed, passed or failed. Pretty straightforward.
            </span>
            
            <span id="chunk-413" class="transcript-chunks" onclick="console.log('00:25:10,250'); seek(1510.0)">
              And we would do that by writing to the database. But instead of also writing
            </span>
            
            <span id="chunk-414" class="transcript-chunks" onclick="console.log('00:25:13,854'); seek(1513.0)">
              to GitHub, which is an external system, there's network issues and retry
            </span>
            
            <span id="chunk-415" class="transcript-chunks" onclick="console.log('00:25:17,342'); seek(1517.0)">
              problems and timing issues. We had a watcher,
            </span>
            
            <span id="chunk-416" class="transcript-chunks" onclick="console.log('00:25:21,406'); seek(1521.0)">
              which effectively was an asynchronous process, identifying,
            </span>
            
            <span id="chunk-417" class="transcript-chunks" onclick="console.log('00:25:24,446'); seek(1524.0)">
              oh, something has changed on the build, and therefore I'm going to go do
            </span>
            
            <span id="chunk-418" class="transcript-chunks" onclick="console.log('00:25:27,848'); seek(1527.0)">
              this work. And sort of an inverse of a pub sub sort of model,
            </span>
            
            <span id="chunk-419" class="transcript-chunks" onclick="console.log('00:25:31,260'); seek(1531.0)">
              but really a concurrency model that allows us to continue
            </span>
            
            <span id="chunk-420" class="transcript-chunks" onclick="console.log('00:25:34,780'); seek(1534.0)">
              doing the work on the build, knowing that the status will get updated
            </span>
            
            <span id="chunk-421" class="transcript-chunks" onclick="console.log('00:25:38,018'); seek(1538.0)">
              to GitHub as soon as possible. But the customer would prefer that the
            </span>
            
            <span id="chunk-422" class="transcript-chunks" onclick="console.log('00:25:41,408'); seek(1541.0)">
              build get run than that we wait on. Our ability to write
            </span>
            
            <span id="chunk-423" class="transcript-chunks" onclick="console.log('00:25:44,912'); seek(1544.0)">
              that status makes great sense. Fairly straightforward programming
            </span>
            
            <span id="chunk-424" class="transcript-chunks" onclick="console.log('00:25:48,518'); seek(1548.0)">
              model, plus or minus the fact that concurrency is always hard,
            </span>
            
            <span id="chunk-425" class="transcript-chunks" onclick="console.log('00:25:51,536'); seek(1551.0)">
              and everything happening inside of that one instance of the monolith.
            </span>
            
            <span id="chunk-426" class="transcript-chunks" onclick="console.log('00:25:55,146'); seek(1555.0)">
              Now introduce the dispatcher. So the dispatcher is the first thing to see
            </span>
            
            <span id="chunk-427" class="transcript-chunks" onclick="console.log('00:25:58,868'); seek(1558.0)">
              that build, and it is again using this effectively same code
            </span>
            
            <span id="chunk-428" class="transcript-chunks" onclick="console.log('00:26:02,132'); seek(1562.0)">
              base writes a build, notices that the build is now queued,
            </span>
            
            <span id="chunk-429" class="transcript-chunks" onclick="console.log('00:26:05,834'); seek(1565.0)">
              or writes a status that the build is now queued and ready for processing,
            </span>
            
            <span id="chunk-430" class="transcript-chunks" onclick="console.log('00:26:09,134'); seek(1569.0)">
              or has been handed off to a machine and has started processing. And then one
            </span>
            
            <span id="chunk-431" class="transcript-chunks" onclick="console.log('00:26:13,208'); seek(1573.0)">
              of these monoliths that receives the work, executes the build,
            </span>
            
            <span id="chunk-432" class="transcript-chunks" onclick="console.log('00:26:17,272'); seek(1577.0)">
              and updates the status again, which then gets picked up by a
            </span>
            
            <span id="chunk-433" class="transcript-chunks" onclick="console.log('00:26:20,604'); seek(1580.0)">
              concurrent reader that goes and does the work of writing to GitHub,
            </span>
            
            <span id="chunk-434" class="transcript-chunks" onclick="console.log('00:26:24,258'); seek(1584.0)">
              which is great under normal conditions. However, it's highly
            </span>
            
            <span id="chunk-435" class="transcript-chunks" onclick="console.log('00:26:28,370'); seek(1588.0)">
              possible. It certainly is possible. We know it to be possible
            </span>
            
            <span id="chunk-436" class="transcript-chunks" onclick="console.log('00:26:32,128'); seek(1592.0)">
              for the dispatcher to be under a great degree
            </span>
            
            <span id="chunk-437" class="transcript-chunks" onclick="console.log('00:26:35,638'); seek(1595.0)">
              of load, because it's processing every job coming into the system,
            </span>
            
            <span id="chunk-438" class="transcript-chunks" onclick="console.log('00:26:38,736'); seek(1598.0)">
              or a small like maybe there's a few of these. So it's processing a huge
            </span>
            
            <span id="chunk-439" class="transcript-chunks" onclick="console.log('00:26:42,272'); seek(1602.0)">
              percentage of the jobs coming into the system and can be very busy
            </span>
            
            <span id="chunk-440" class="transcript-chunks" onclick="console.log('00:26:45,786'); seek(1605.0)">
              on its rights. And then the instance of the monolith,
            </span>
            
            <span id="chunk-441" class="transcript-chunks" onclick="console.log('00:26:49,002'); seek(1609.0)">
              the builder we'll call it, is going to pick up that work and execute
            </span>
            
            <span id="chunk-442" class="transcript-chunks" onclick="console.log('00:26:53,098'); seek(1613.0)">
              it and the work might be very small, very short, and then
            </span>
            
            <span id="chunk-443" class="transcript-chunks" onclick="console.log('00:26:57,032'); seek(1617.0)">
              deliver its status. And its status watcher could be very
            </span>
            
            <span id="chunk-444" class="transcript-chunks" onclick="console.log('00:27:00,728'); seek(1620.0)">
              quiet because there's only a few builds running on any particular
            </span>
            
            <span id="chunk-445" class="transcript-chunks" onclick="console.log('00:27:04,632'); seek(1624.0)">
              builder. So the net result is that the completed
            </span>
            
            <span id="chunk-446" class="transcript-chunks" onclick="console.log('00:27:08,802'); seek(1628.0)">
              status can actually get to GitHub before the starting
            </span>
            
            <span id="chunk-447" class="transcript-chunks" onclick="console.log('00:27:12,364'); seek(1632.0)">
              status, and GitHub doesn't understand what we're doing enough to determine
            </span>
            
            <span id="chunk-448" class="transcript-chunks" onclick="console.log('00:27:16,338'); seek(1636.0)">
              that those are out of order and we are not coordinating
            </span>
            
            <span id="chunk-449" class="transcript-chunks" onclick="console.log('00:27:20,326'); seek(1640.0)">
              in this particular model. So we send to GitHub a completed
            </span>
            
            <span id="chunk-450" class="transcript-chunks" onclick="console.log('00:27:24,582'); seek(1644.0)">
              status, and then we send a starting status which reverts the
            </span>
            
            <span id="chunk-451" class="transcript-chunks" onclick="console.log('00:27:28,608'); seek(1648.0)">
              pull request and the status of the pull request to incomplete
            </span>
            
            <span id="chunk-452" class="transcript-chunks" onclick="console.log('00:27:32,614'); seek(1652.0)">
              in a way that can never be completed. This is the worst kind of waiting.
            </span>
            
            <span id="chunk-453" class="transcript-chunks" onclick="console.log('00:27:36,538'); seek(1656.0)">
              This is waiting forever. And ultimately we ended up with customer tickets
            </span>
            
            <span id="chunk-454" class="transcript-chunks" onclick="console.log('00:27:41,082'); seek(1661.0)">
              saying my build cannot be completed or my build was completed,
            </span>
            
            <span id="chunk-455" class="transcript-chunks" onclick="console.log('00:27:44,458'); seek(1664.0)">
              but I never got this status. Which is another interesting thing about concurrency.
            </span>
            
            <span id="chunk-456" class="transcript-chunks" onclick="console.log('00:27:48,142'); seek(1668.0)">
              No one told us you're setting the complete status before you set the
            </span>
            
            <span id="chunk-457" class="transcript-chunks" onclick="console.log('00:27:51,992'); seek(1671.0)">
              starting status. They said you're never setting the complete status because that's what a customer
            </span>
            
            <span id="chunk-458" class="transcript-chunks" onclick="console.log('00:27:55,576'); seek(1675.0)">
              sees, because they were usually so close together and they were unable
            </span>
            
            <span id="chunk-459" class="transcript-chunks" onclick="console.log('00:27:59,602'); seek(1679.0)">
              to merge their work. So this minor concurrency
            </span>
            
            <span id="chunk-460" class="transcript-chunks" onclick="console.log('00:28:03,186'); seek(1683.0)">
              issue on our side resulted in our customers unable
            </span>
            
            <span id="chunk-461" class="transcript-chunks" onclick="console.log('00:28:07,298'); seek(1687.0)">
              to complete their work. So we ended up having to go find a model for
            </span>
            
            <span id="chunk-462" class="transcript-chunks" onclick="console.log('00:28:10,972'); seek(1690.0)">
              coordinating that work and ensuring that the sequencing happened in
            </span>
            
            <span id="chunk-463" class="transcript-chunks" onclick="console.log('00:28:14,784'); seek(1694.0)">
              a way that was obviously no longer guaranteed within that single watcher on the
            </span>
            
            <span id="chunk-464" class="transcript-chunks" onclick="console.log('00:28:18,304'); seek(1698.0)">
              monolith, but had to be coordinated and guaranteed across
            </span>
            
            <span id="chunk-465" class="transcript-chunks" onclick="console.log('00:28:21,808'); seek(1701.0)">
              multiple systems in the platform. So I would say services
            </span>
            
            <span id="chunk-466" class="transcript-chunks" onclick="console.log('00:28:25,588'); seek(1705.0)">
              beget services. When you start to break apart your system,
            </span>
            
            <span id="chunk-467" class="transcript-chunks" onclick="console.log('00:28:28,964'); seek(1708.0)">
              you end up with more and more systems, often trying to
            </span>
            
            <span id="chunk-468" class="transcript-chunks" onclick="console.log('00:28:32,244'); seek(1712.0)">
              do the work of coordinating the systems that you have.
            </span>
            
            <span id="chunk-469" class="transcript-chunks" onclick="console.log('00:28:35,432'); seek(1715.0)">
              And my takeaway in this case is that distributed systems really
            </span>
            
            <span id="chunk-470" class="transcript-chunks" onclick="console.log('00:28:39,496'); seek(1719.0)">
              are concurrency. There's no world, well, there's a very
            </span>
            
            <span id="chunk-471" class="transcript-chunks" onclick="console.log('00:28:43,272'); seek(1723.0)">
              small world in which you can build out a complex distributed system without
            </span>
            
            <span id="chunk-472" class="transcript-chunks" onclick="console.log('00:28:47,004'); seek(1727.0)">
              paying any attention to concurrency. It's very likely going to end up being
            </span>
            
            <span id="chunk-473" class="transcript-chunks" onclick="console.log('00:28:51,020'); seek(1731.0)">
              a parameter that you deal with because you're trying to handle complexity,
            </span>
            
            <span id="chunk-474" class="transcript-chunks" onclick="console.log('00:28:54,770'); seek(1734.0)">
              resiliency, breakdowns in the communication network,
            </span>
            
            <span id="chunk-475" class="transcript-chunks" onclick="console.log('00:28:58,322'); seek(1738.0)">
              whatever it might be. There is going to be concurrency in the conversations between
            </span>
            
            <span id="chunk-476" class="transcript-chunks" onclick="console.log('00:29:02,416'); seek(1742.0)">
              your systems, and so you want to pay attention to that and manage for it
            </span>
            
            <span id="chunk-477" class="transcript-chunks" onclick="console.log('00:29:06,272'); seek(1746.0)">
              and use it when it is most beneficial, but understand the cost.
            </span>
            
            <span id="chunk-478" class="transcript-chunks" onclick="console.log('00:29:10,590'); seek(1750.0)">
              So, to summarize, it's a great time to be a developer.
            </span>
            
            <span id="chunk-479" class="transcript-chunks" onclick="console.log('00:29:14,186'); seek(1754.0)">
              We are able to build on top of amazing systems
            </span>
            
            <span id="chunk-480" class="transcript-chunks" onclick="console.log('00:29:17,738'); seek(1757.0)">
              that do amazing things and focus our
            </span>
            
            <span id="chunk-481" class="transcript-chunks" onclick="console.log('00:29:21,188'); seek(1761.0)">
              time and attention on delivering value to our customers, building the systems
            </span>
            
            <span id="chunk-482" class="transcript-chunks" onclick="console.log('00:29:24,714'); seek(1764.0)">
              that we're really excited about building in order to support businesses that we're excited
            </span>
            
            <span id="chunk-483" class="transcript-chunks" onclick="console.log('00:29:28,782'); seek(1768.0)">
              about building, and all of that is novel and new
            </span>
            
            <span id="chunk-484" class="transcript-chunks" onclick="console.log('00:29:32,792'); seek(1772.0)">
              to us and very, very cool. On the other hand,
            </span>
            
            <span id="chunk-485" class="transcript-chunks" onclick="console.log('00:29:36,488'); seek(1776.0)">
              it's important to pay attention to what's happening. So do the simple thing,
            </span>
            
            <span id="chunk-486" class="transcript-chunks" onclick="console.log('00:29:40,716'); seek(1780.0)">
              because that will help you get something out faster. But make sure you understand
            </span>
            
            <span id="chunk-487" class="transcript-chunks" onclick="console.log('00:29:44,556'); seek(1784.0)">
              the simple thing that you're doing. Understand the tradeoff that you're making so that
            </span>
            
            <span id="chunk-488" class="transcript-chunks" onclick="console.log('00:29:48,268'); seek(1788.0)">
              you'll know when that tradeoff will expire and you will
            </span>
            
            <span id="chunk-489" class="transcript-chunks" onclick="console.log('00:29:51,788'); seek(1791.0)">
              want to make a different decision at a different point in the future.
            </span>
            
            <span id="chunk-490" class="transcript-chunks" onclick="console.log('00:29:55,104'); seek(1795.0)">
              Always consider the constraints of your tools. Think about what the designers
            </span>
            
            <span id="chunk-491" class="transcript-chunks" onclick="console.log('00:29:58,838'); seek(1798.0)">
              would have had to think about when they built that, and whether that's the case
            </span>
            
            <span id="chunk-492" class="transcript-chunks" onclick="console.log('00:30:01,936'); seek(1801.0)">
              that you have. If they're not solving for your case, you either want to change
            </span>
            
            <span id="chunk-493" class="transcript-chunks" onclick="console.log('00:30:05,316'); seek(1805.0)">
              the shape of your case to match theirs or find some mitigating
            </span>
            
            <span id="chunk-494" class="transcript-chunks" onclick="console.log('00:30:08,794'); seek(1808.0)">
              approaches that will allow your problem CTO fit
            </span>
            
            <span id="chunk-495" class="transcript-chunks" onclick="console.log('00:30:11,972'); seek(1811.0)">
              into the box of their solution and finally manage the complexity of
            </span>
            
            <span id="chunk-496" class="transcript-chunks" onclick="console.log('00:30:15,508'); seek(1815.0)">
              distribution. Building distributed systems brings a lot of advantages,
            </span>
            
            <span id="chunk-497" class="transcript-chunks" onclick="console.log('00:30:18,890'); seek(1818.0)">
              but as soon as we start, we're making the conscious decision, or it should be
            </span>
            
            <span id="chunk-498" class="transcript-chunks" onclick="console.log('00:30:22,484'); seek(1822.0)">
              a conscious decision, to take on additional city, and we have to know that
            </span>
            
            <span id="chunk-499" class="transcript-chunks" onclick="console.log('00:30:26,428'); seek(1826.0)">
              we're ready for that and that it's warranted for the particular problem that
            </span>
            
            <span id="chunk-500" class="transcript-chunks" onclick="console.log('00:30:30,268'); seek(1830.0)">
              we are solving. Thanks so much for listening. And if you find these kinds of
            </span>
            
            <span id="chunk-501" class="transcript-chunks" onclick="console.log('00:30:33,628'); seek(1833.0)">
              problems interesting, we're always looking to higher grade folks, so come visit us@circleci.com.
            </span>
            
            </div>
          </div>
          
          

          

          <div class="col-12 mb-2 text-center">
            <div class="text-center mb-5">
              <a href="https://www.conf42.com/cloud2021" class="btn btn-sm btn-danger shadow lift" style="background-color: #7B2726;">
                <i class="fe fe-grid me-2"></i>
                See all 45 talks at this event!
              </a>
            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- PHOTO -->
    <section class="pt-8 pb-6">
      <div class="container">

        <div class="row align-items-center">
          <div class="col-12 col-md-6 col-lg-7">

            <div class="mb-8 mb-md-0">

              <!-- Image -->
              <img src="https://conf42.github.io/static/headshots/cloud_rob.png" alt="..." class="screenshot img-fluid mw-md-110 float-end me-md-6 mb-6 mb-md-0">

            </div>

          </div>
          <div class="col-12 col-md-6 col-lg-5">

            <!-- List -->
            <div class="d-flex">

              <!-- Body -->
              <div class="ms-5">

                <!-- Author 1 -->
                <h2 class="me-2">
                  Rob Zuber
                </h2>
                <h3 class="me-2">
                  <span class="text-muted">
                    CTO @ CircleCI
                  </span>
                </h3>

                <p class="text-uppercase text-muted me-2 mb-3">
                  
                  <a href="https://www.linkedin.com/in/robzuber/" target="_blank" class="mr-3">
                    <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Rob Zuber's LinkedIn account" />
                  </a>
                  
                  
                  <a href="https://twitter.com/@z00b" target="_blank">
                    <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Rob Zuber's twitter account" />
                  </a>
                  
                </p>
                

                <br />

                <a
                  href="https://twitter.com/share?ref_src=twsrc%5Etfw"
                  class="twitter-share-button"

                  data-text="Check out this talk by @z00b"
                  data-url="https://www.conf42.com/cloud2021"
                  data-via="conf42com"
                  data-related=""
                  data-show-count="false"
                >
                  Tweet
                </a>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

                <br />

                <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
                <script type="IN/Share" data-url="https://www.conf42.com/cloud2021"></script>
              </div>

            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>






    <!-- WELCOME -->
    <section class="pt-8 pt-md-11 pb-10 pb-md-15 bg-info" id="register">

      <!-- Shape -->
      <div class="shape shape-blur-3 text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>      </div>

      <!-- Content -->
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 col-md-10 col-lg-8 text-center">

            <!-- Heading -->
            <h1 class="display-2 text-white">
              Join the community!
            </h1>

            <!-- Text -->
            <p class="lead text-white text-opacity-80 mb-6 mb-md-8">
              Learn for free, join the best tech learning community 
              for a <a class="text-white" href="https://www.reddit.com/r/sanfrancisco/comments/1bz90f6/why_are_coffee_shops_in_sf_so_expensive/" target="_blank">price of a pumpkin latte</a>.
            </p>

            <!-- Form -->
            <form class="d-flex align-items-center justify-content-center mb-7 mb-md-9">

              <!-- Label -->
              <span class="text-white text-opacity-80">
                Annual
              </span>

              <!-- Switch -->
              <div class="form-check form-check-dark form-switch mx-3">
                <input class="form-check-input" type="checkbox" id="billingSwitch" data-toggle="price" data-target=".price">
              </div>

              <!-- Label -->
              <span class="text-white text-opacity-80">
                Monthly
              </span>

            </form>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->

    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- PRICING -->
    <section class="mt-n8 mt-md-n15">
      <div class="container">
        <div class="row gx-4">
          <div class="col-12 col-md-6">

            <!-- Card -->
            <div class="card shadow-lg mb-6 mb-md-1">
              <div class="card-body">

                <!-- Preheading -->
                <div class="text-center mb-3">
                  <span class="badge rounded-pill bg-primary-soft">
                    <span class="h6 text-uppercase">Newsletter</span>
                  </span>
                </div>

                <!-- Price -->
                <div class="d-flex justify-content-center">
                  <span class="h2 mb-0 mt-2">$</span>
                  <span class="price display-2 mb-0" data-annual="0" data-monthly="0">0</span>
                  <span class="h2 align-self-end mb-1">/mo</span>
                </div>

                <!-- Text -->
                <p class="text-center text-muted mb-5">
                </p>

              
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Event notifications, weekly newsletter
                  </p>
                </div>
              
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <b>Delayed access</b> to all content
                  </p>
                </div>
              
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Immediate access to Keynotes & Panels
                  </p>
                </div>
              
              
              </div>
            </div>

            <!-- Card -->
            <div class="card shadow-lg mb-6 border border-success">
              <div class="card-body">

                <script>
    function gtag_report_conversion(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.location = url;
        }
      };
      gtag('event', 'conversion', {
          'send_to': 'AW-882275635/jLVTCPbt1N8CELPq2aQD',
          'event_callback': callback
      });
      return false;
    }
</script>

<!-- Form -->
<link rel="stylesheet" href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css">
<p class="emailoctopus-success-message text-success"></p>
<p class="emailoctopus-error-message text-danger"></p>
<form
    action="https://emailoctopus.com/lists/a3ba0cb5-7524-11eb-a3d0-06b4694bee2a/members/embedded/1.3/add"
    method="post"
    data-message-success="Thanks! Check your email for further directions!"
    data-message-missing-email-address="Your email address is required."
    data-message-invalid-email-address="Your email address looks incorrect, please try again."
    data-message-bot-submission-error="This doesn't look like a human submission."
    data-message-consent-required="Please check the checkbox to indicate your consent."
    data-message-invalid-parameters-error="This form has missing or invalid fields."
    data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
    class="emailoctopus-form"
    data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
>
<div class="form-floating emailoctopus-form-row">
    <input type="email" class="form-control form-control-flush" name="field_0" id="field_0" placeholder="Email" required>
    <label for="field_0">Email address</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_1" id="field_1" placeholder="First Name" required>
    <label for="field_1">First Name</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_2" id="field_2" placeholder="Last Name" required>
    <label for="field_2">Last Name</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_4" id="field_4" placeholder="Company" required>
    <label for="field_4">Company</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_5" id="field_5" placeholder="Job Title" required>
    <label for="field_5">Job Title</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_3" id="field_3" placeholder="Phone">
    <label for="field_3">Phone Number</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <select type="text" class="form-control form-control-flush" name="field_7" id="country-source" required
    oninput="updateCountry()"
    >
    <!-- Country names and Country Name -->
    <option value="">Please select your country</option>
    <option value="Afghanistan">Afghanistan</option>
    <option value="Aland Islands">Aland Islands</option>
    <option value="Albania">Albania</option>
    <option value="Algeria">Algeria</option>
    <option value="American Samoa">American Samoa</option>
    <option value="Andorra">Andorra</option>
    <option value="Angola">Angola</option>
    <option value="Anguilla">Anguilla</option>
    <option value="Antarctica">Antarctica</option>
    <option value="Antigua and Barbuda">Antigua and Barbuda</option>
    <option value="Argentina">Argentina</option>
    <option value="Armenia">Armenia</option>
    <option value="Aruba">Aruba</option>
    <option value="Australia">Australia</option>
    <option value="Austria">Austria</option>
    <option value="Azerbaijan">Azerbaijan</option>
    <option value="Bahamas">Bahamas</option>
    <option value="Bahrain">Bahrain</option>
    <option value="Bangladesh">Bangladesh</option>
    <option value="Barbados">Barbados</option>
    <option value="Belarus">Belarus</option>
    <option value="Belgium">Belgium</option>
    <option value="Belize">Belize</option>
    <option value="Benin">Benin</option>
    <option value="Bermuda">Bermuda</option>
    <option value="Bhutan">Bhutan</option>
    <option value="Bolivia">Bolivia</option>
    <option value="Bonaire, Sint Eustatius and Saba">Bonaire, Sint Eustatius and Saba</option>
    <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
    <option value="Botswana">Botswana</option>
    <option value="Bouvet Island">Bouvet Island</option>
    <option value="Brazil">Brazil</option>
    <option value="British Indian Ocean Territory">British Indian Ocean Territory</option>
    <option value="Brunei Darussalam">Brunei Darussalam</option>
    <option value="Bulgaria">Bulgaria</option>
    <option value="Burkina Faso">Burkina Faso</option>
    <option value="Burundi">Burundi</option>
    <option value="Cambodia">Cambodia</option>
    <option value="Cameroon">Cameroon</option>
    <option value="Canada">Canada</option>
    <option value="Cape Verde">Cape Verde</option>
    <option value="Cayman Islands">Cayman Islands</option>
    <option value="Central African Republic">Central African Republic</option>
    <option value="Chad">Chad</option>
    <option value="Chile">Chile</option>
    <option value="China">China</option>
    <option value="Christmas Island">Christmas Island</option>
    <option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
    <option value="Colombia">Colombia</option>
    <option value="Comoros">Comoros</option>
    <option value="Congo">Congo</option>
    <option value="Congo, Democratic Republic of the Congo">Congo, Democratic Republic of the Congo</option>
    <option value="Cook Islands">Cook Islands</option>
    <option value="Costa Rica">Costa Rica</option>
    <option value="Cote D'Ivoire">Cote D'Ivoire</option>
    <option value="Croatia">Croatia</option>
    <option value="Cuba">Cuba</option>
    <option value="Curacao">Curacao</option>
    <option value="Cyprus">Cyprus</option>
    <option value="Czech Republic">Czech Republic</option>
    <option value="Denmark">Denmark</option>
    <option value="Djibouti">Djibouti</option>
    <option value="Dominica">Dominica</option>
    <option value="Dominican Republic">Dominican Republic</option>
    <option value="Ecuador">Ecuador</option>
    <option value="Egypt">Egypt</option>
    <option value="El Salvador">El Salvador</option>
    <option value="Equatorial Guinea">Equatorial Guinea</option>
    <option value="Eritrea">Eritrea</option>
    <option value="Estonia">Estonia</option>
    <option value="Ethiopia">Ethiopia</option>
    <option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
    <option value="Faroe Islands">Faroe Islands</option>
    <option value="Fiji">Fiji</option>
    <option value="Finland">Finland</option>
    <option value="France">France</option>
    <option value="French Guiana">French Guiana</option>
    <option value="French Polynesia">French Polynesia</option>
    <option value="French Southern Territories">French Southern Territories</option>
    <option value="Gabon">Gabon</option>
    <option value="Gambia">Gambia</option>
    <option value="Georgia">Georgia</option>
    <option value="Germany">Germany</option>
    <option value="Ghana">Ghana</option>
    <option value="Gibraltar">Gibraltar</option>
    <option value="Greece">Greece</option>
    <option value="Greenland">Greenland</option>
    <option value="Grenada">Grenada</option>
    <option value="Guadeloupe">Guadeloupe</option>
    <option value="Guam">Guam</option>
    <option value="Guatemala">Guatemala</option>
    <option value="Guernsey">Guernsey</option>
    <option value="Guinea">Guinea</option>
    <option value="Guinea-Bissau">Guinea-Bissau</option>
    <option value="Guyana">Guyana</option>
    <option value="Haiti">Haiti</option>
    <option value="Heard Island and Mcdonald Islands">Heard Island and Mcdonald Islands</option>
    <option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
    <option value="Honduras">Honduras</option>
    <option value="Hong Kong">Hong Kong</option>
    <option value="Hungary">Hungary</option>
    <option value="Iceland">Iceland</option>
    <option value="India">India</option>
    <option value="Indonesia">Indonesia</option>
    <option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
    <option value="Iraq">Iraq</option>
    <option value="Ireland">Ireland</option>
    <option value="Isle of Man">Isle of Man</option>
    <option value="Israel">Israel</option>
    <option value="Italy">Italy</option>
    <option value="Jamaica">Jamaica</option>
    <option value="Japan">Japan</option>
    <option value="Jersey">Jersey</option>
    <option value="Jordan">Jordan</option>
    <option value="Kazakhstan">Kazakhstan</option>
    <option value="Kenya">Kenya</option>
    <option value="Kiribati">Kiribati</option>
    <option value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
    <option value="Korea, Republic of">Korea, Republic of</option>
    <option value="Kosovo">Kosovo</option>
    <option value="Kuwait">Kuwait</option>
    <option value="Kyrgyzstan">Kyrgyzstan</option>
    <option value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
    <option value="Latvia">Latvia</option>
    <option value="Lebanon">Lebanon</option>
    <option value="Lesotho">Lesotho</option>
    <option value="Liberia">Liberia</option>
    <option value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option>
    <option value="Liechtenstein">Liechtenstein</option>
    <option value="Lithuania">Lithuania</option>
    <option value="Luxembourg">Luxembourg</option>
    <option value="Macao">Macao</option>
    <option value="Macedonia, the Former Yugoslav Republic of">Macedonia, the Former Yugoslav Republic of</option>
    <option value="Madagascar">Madagascar</option>
    <option value="Malawi">Malawi</option>
    <option value="Malaysia">Malaysia</option>
    <option value="Maldives">Maldives</option>
    <option value="Mali">Mali</option>
    <option value="Malta">Malta</option>
    <option value="Marshall Islands">Marshall Islands</option>
    <option value="Martinique">Martinique</option>
    <option value="Mauritania">Mauritania</option>
    <option value="Mauritius">Mauritius</option>
    <option value="Mayotte">Mayotte</option>
    <option value="Mexico">Mexico</option>
    <option value="Micronesia, Federated States of">Micronesia, Federated States of</option>
    <option value="Moldova, Republic of">Moldova, Republic of</option>
    <option value="Monaco">Monaco</option>
    <option value="Mongolia">Mongolia</option>
    <option value="Montenegro">Montenegro</option>
    <option value="Montserrat">Montserrat</option>
    <option value="Morocco">Morocco</option>
    <option value="Mozambique">Mozambique</option>
    <option value="Myanmar">Myanmar</option>
    <option value="Namibia">Namibia</option>
    <option value="Nauru">Nauru</option>
    <option value="Nepal">Nepal</option>
    <option value="Netherlands">Netherlands</option>
    <option value="Netherlands Antilles">Netherlands Antilles</option>
    <option value="New Caledonia">New Caledonia</option>
    <option value="New Zealand">New Zealand</option>
    <option value="Nicaragua">Nicaragua</option>
    <option value="Niger">Niger</option>
    <option value="Nigeria">Nigeria</option>
    <option value="Niue">Niue</option>
    <option value="Norfolk Island">Norfolk Island</option>
    <option value="Northern Mariana Islands">Northern Mariana Islands</option>
    <option value="Norway">Norway</option>
    <option value="Oman">Oman</option>
    <option value="Pakistan">Pakistan</option>
    <option value="Palau">Palau</option>
    <option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option>
    <option value="Panama">Panama</option>
    <option value="Papua New Guinea">Papua New Guinea</option>
    <option value="Paraguay">Paraguay</option>
    <option value="Peru">Peru</option>
    <option value="Philippines">Philippines</option>
    <option value="Pitcairn">Pitcairn</option>
    <option value="Poland">Poland</option>
    <option value="Portugal">Portugal</option>
    <option value="Puerto Rico">Puerto Rico</option>
    <option value="Qatar">Qatar</option>
    <option value="Reunion">Reunion</option>
    <option value="Romania">Romania</option>
    <option value="Russian Federation">Russian Federation</option>
    <option value="Rwanda">Rwanda</option>
    <option value="Saint Barthelemy">Saint Barthelemy</option>
    <option value="Saint Helena">Saint Helena</option>
    <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
    <option value="Saint Lucia">Saint Lucia</option>
    <option value="Saint Martin">Saint Martin</option>
    <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
    <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
    <option value="Samoa">Samoa</option>
    <option value="San Marino">San Marino</option>
    <option value="Sao Tome and Principe">Sao Tome and Principe</option>
    <option value="Saudi Arabia">Saudi Arabia</option>
    <option value="Senegal">Senegal</option>
    <option value="Serbia">Serbia</option>
    <option value="Serbia and Montenegro">Serbia and Montenegro</option>
    <option value="Seychelles">Seychelles</option>
    <option value="Sierra Leone">Sierra Leone</option>
    <option value="Singapore">Singapore</option>
    <option value="Sint Maarten">Sint Maarten</option>
    <option value="Slovakia">Slovakia</option>
    <option value="Slovenia">Slovenia</option>
    <option value="Solomon Islands">Solomon Islands</option>
    <option value="Somalia">Somalia</option>
    <option value="South Africa">South Africa</option>
    <option value="South Georgia and the South Sandwich Islands">South Georgia and the South Sandwich Islands</option>
    <option value="South Sudan">South Sudan</option>
    <option value="Spain">Spain</option>
    <option value="Sri Lanka">Sri Lanka</option>
    <option value="Sudan">Sudan</option>
    <option value="Suriname">Suriname</option>
    <option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
    <option value="Swaziland">Swaziland</option>
    <option value="Sweden">Sweden</option>
    <option value="Switzerland">Switzerland</option>
    <option value="Syrian Arab Republic">Syrian Arab Republic</option>
    <option value="Taiwan, Province of China">Taiwan, Province of China</option>
    <option value="Tajikistan">Tajikistan</option>
    <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
    <option value="Thailand">Thailand</option>
    <option value="Timor-Leste">Timor-Leste</option>
    <option value="Togo">Togo</option>
    <option value="Tokelau">Tokelau</option>
    <option value="Tonga">Tonga</option>
    <option value="Trinidad and Tobago">Trinidad and Tobago</option>
    <option value="Tunisia">Tunisia</option>
    <option value="Turkey">Turkey</option>
    <option value="Turkmenistan">Turkmenistan</option>
    <option value="Turks and Caicos Islands">Turks and Caicos Islands</option>
    <option value="Tuvalu">Tuvalu</option>
    <option value="Uganda">Uganda</option>
    <option value="Ukraine">Ukraine</option>
    <option value="United Arab Emirates">United Arab Emirates</option>
    <option value="United Kingdom">United Kingdom</option>
    <option value="United States">United States</option>
    <option value="United States Minor Outlying Islands">United States Minor Outlying Islands</option>
    <option value="Uruguay">Uruguay</option>
    <option value="Uzbekistan">Uzbekistan</option>
    <option value="Vanuatu">Vanuatu</option>
    <option value="Venezuela">Venezuela</option>
    <option value="Viet Nam">Viet Nam</option>
    <option value="Virgin Islands, British">Virgin Islands, British</option>
    <option value="Virgin Islands, U.s.">Virgin Islands, U.s.</option>
    <option value="Wallis and Futuna">Wallis and Futuna</option>
    <option value="Western Sahara">Western Sahara</option>
    <option value="Yemen">Yemen</option>
    <option value="Zambia">Zambia</option>
    <option value="Zimbabwe">Zimbabwe</option>
    </select>
    <label for="field_7">Country</label>
</div>
<input id="country-destination" name="field_7" type="hidden">
<input id="tz-country" name="field_8" type="hidden">

<input
    name="field_6"
    type="hidden"
    value="Cloud Native"
>

<div class="emailoctopus-form-row-consent">
    <input
    type="checkbox"
    id="consent"
    name="consent"
    >
    <label for="consent">
    I consent to the following terms:
    </label>
    <a href="https://www.conf42.com/terms-and-conditions.pdf" target="_blank">
    Terms and Conditions
    </a>
    &amp;
    <a href="./code-of-conduct" target="_blank">
    Code of Conduct
    </a>
</div>
<div
    aria-hidden="true"
    class="emailoctopus-form-row-hp"
>
    <input
    type="text"
    name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
    tabindex="-1"
    autocomplete="nope"
    >
</div>
<div class="mt-6 emailoctopus-form-row-subscribe">
    <input
    type="hidden"
    name="successRedirectUrl"
    >
    <button class="btn w-100 btn-success lift" type="submit" onclick="gtag_report_conversion(); rdt('track', 'SignUp');">
    Subscribe to free newsletter <i class="fe fe-arrow-right ms-3"></i>
    </button>
</div>
</form>

<!-- <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js"></script> -->
<script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js"></script>

              </div>
            </div>
          </div>
          <div class="col-12 col-md-6">

            <!-- Card -->
            <div class="card shadow-lg mb-6 mb-md-0">
              <div class="card-body">

                <!-- Preheading -->
                <div class="text-center mb-3">
                  <span class="badge rounded-pill bg-primary-soft">
                    <span class="h6 text-uppercase">Community</span>
                  </span>
                </div>

                <!-- Price -->
                <div class="d-flex justify-content-center">
                  <span class="h2 mb-0 mt-2">$</span>
                  <span class="price display-2 mb-0" data-annual="8.34" data-monthly="10">8.34</span>
                  <span class="h2 align-self-end mb-1">/mo</span>
                </div>

                <!-- Text -->
                <p class="text-center text-muted mb-5">
                </p>

                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Access to <a href="https://conf42.circle.so/">Circle community platform</a>
                  </p>
                </div>

                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <b>Immediate access</b> to all content
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <a href="https://conf42.circle.so/c/live-events/" target="_blank"><b>Live events!</b></a>
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <a href="https://conf42.circle.so/c/live-events/" target="_blank">Regular office hours, Q&As, CV reviews</a>
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Courses, quizes & certificates
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Community chats
                  </p>
                </div>
                

                <!-- Button -->
                <a href="https://conf42.circle.so/checkout/subscribe" class="btn w-100 btn-primary">
                  Join the community (7 day free trial)<i class="fe fe-arrow-right ms-3"></i>
                </a>

              </div>
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-dark">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- FOOTER -->
    <footer class="py-8 py-md-11 bg-dark">
      <div class="container">
        <div class="row">

          <div class="col-12 col-md-4 col-lg-3">
            <!-- Brand -->
            <img src="./assets/conf42/conf42_logo_white_small.png" alt="..." class="footer-brand img-fluid mb-2">
    
            <!-- Text -->
            <p class="text-gray-700 mb-2">
              Online tech events
            </p>
    
            <!-- Social -->
            <ul class="list-unstyled list-inline list-social mb-5">
              <li class="list-inline-item list-social-item me-3">
                <a href="https://www.linkedin.com/company/49110720/" class="text-decoration-none">
                  <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="...">
                </a>
              </li>
              <li class="list-inline-item list-social-item me-3">
                <a href="https://twitter.com/conf42com" class="text-decoration-none">
                  <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="...">
                </a>
              </li>
            </ul>

            <!-- QR Code -->
            <img src="./assets/conf42/CONF42.QR.png" style="width: 100px;" class="mb-5 img-fluid" />
          </div>


          <div class="col-12 col-md-4 col-lg-3">
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2025
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2025">
                  DevOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2025">
                  Python 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2025">
                  Chaos Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2025">
                  Cloud Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2025">
                  Large Language Models (LLMs) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2025">
                  Golang 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2025">
                  Site Reliability Engineering (SRE) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2025">
                  Machine Learning 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2025">
                  Observability 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2025">
                  Quantum Computing 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2025">
                  Rustlang 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2025">
                  Platform Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mlops2025">
                  MLOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2025">
                  Incident Management 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2025">
                  Kube Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2025">
                  JavaScript 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2025">
                  Prompt Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/robotics2025">
                  Robotics 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2025">
                  DevSecOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2025">
                  Internet of Things (IoT) 2025
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2024
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2024">
                  DevOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2024">
                  Chaos Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2024">
                  Python 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2024">
                  Cloud Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2024">
                  Large Language Models (LLMs) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2024">
                  Golang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2024">
                  Site Reliability Engineering (SRE) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2024">
                  Machine Learning 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2024">
                  Observability 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2024">
                  Quantum Computing 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2024">
                  Rustlang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2024">
                  Platform Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2024">
                  Kube Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2024">
                  Incident Management 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2024">
                  JavaScript 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2024">
                  Prompt Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2024">
                  DevSecOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2024">
                  Internet of Things (IoT) 2024
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2023
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2023">
                  DevOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2023">
                  Chaos Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2023">
                  Python 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2023">
                  Cloud Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2023">
                  Golang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2023">
                  Site Reliability Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2023">
                  Machine Learning 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2023">
                  Observability 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2023">
                  Quantum Computing 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2023">
                  Rustlang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2023">
                  Platform Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2023">
                  Kube Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2023">
                  Incident Management 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2023">
                  JavaScript 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2023">
                  DevSecOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2023">
                  Internet of Things (IoT) 2023
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2022
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2022">
                  Python 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mobile2022">
                  Mobile 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2022">
                  Chaos Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2022">
                  Golang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2022">
                  Cloud Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2022">
                  Machine Learning 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2022">
                  Site Reliability Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2022">
                  Quantum Computing 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2022">
                  Rustlang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2022">
                  Incident Management 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2022">
                  Kube Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2022">
                  JavaScript 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2022">
                  DevSecOps 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/web2022">
                  Web 3.0 2022
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2021
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2021">
                  Chaos Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/enterprise2021">
                  Enterprise Software 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2021">
                  Cloud Native 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2021">
                  Python 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2021">
                  Golang 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2021">
                  Machine Learning 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2021">
                  Site Reliability Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2021">
                  JavaScript 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2021">
                  DevSecOps 2021
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2020
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2020">
                  Chaos Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/oss2020">
                  Open Source Showcase 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2020">
                  Site Reliability Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2020">
                  JavaScript 2020
                </a>
              </li>
            
            </ul>
          
          </div>

          
          <div class="col-12 col-md-4 offset-md-4 col-lg-3 offset-lg-0">

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Community
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./support" class="text-reset">
                  Support us
                </a>
              </li>
              <li class="mb-3">
                <a href="./speakers" class="text-reset">
                  Speakers
                </a>
              </li>
              <li class="mb-3">
                <a href="./hall-of-fame" class="text-reset">
                  Hall of fame
                </a>
              </li>
              <li class="mb-3">
                <a href="https://discord.gg/DnyHgrC7jC" class="text-reset" target="_blank">
                  Discord
                </a>
              </li>
              <li class="mb-3">
                <a href="./about" class="text-reset">
                  About the team
                </a>
              </li>
            </ul>

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Sponsors
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./sponsor" class="text-reset" target="_blank">
                  Sponsorship
                </a>
              </li>
              <li class="mb-3">
                <a href="mailto:mark@conf42.com?subject=We would like to sponsor" class="text-reset" target="_blank">
                  Request the Prospectus
                </a>
              </li>
              <li class="mb-3">
                <a href="https://drive.google.com/drive/folders/1tT2lspLQgj3sdfxG9FwDVkBUt-TYSPGe?usp=sharing" class="text-reset" target="_blank">
                  Media kit
                </a>
              </li>
            </ul>
    
          </div>


          <div class="col-12 col-md-4 col-lg-3">
    
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Legal
            </h6>
    
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./code-of-conduct" class="text-reset">
                  Code of Conduct
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/terms-and-conditions.pdf" class="text-reset" target="_blank">
                  Terms and Conditions
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/privacy-policy.pdf" class="text-reset" target="_blank">
                  Privacy policy
                </a>
              </li>
            </ul>
          </div>


        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </footer>

    <!-- JAVASCRIPT -->
    <!-- Map JS -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    
    <!-- Vendor JS -->
    <script src="./assets/js/vendor.bundle.js"></script>
    
    <!-- Theme JS -->
    <script src="./assets/js/theme.bundle.js"></script>

    <!-- Various JS -->
    <script src="./assets/js/various.js"></script>

    <script src='https://cdn.jsdelivr.net/npm/@widgetbot/crate@3' async defer>
      new Crate({
          notifications: true,
          indicator: true,
          server: '814240231606714368', // Conf42.com
          channel: '814240231788249115' // #community
      })
    </script>
  </body>
</html>