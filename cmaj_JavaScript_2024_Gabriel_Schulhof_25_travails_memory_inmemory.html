<!doctype html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-77190356-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-77190356-3');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css" />
    <link rel="stylesheet" href="./assets/css/libs.bundle.css" />
    <link rel="stylesheet" href="./assets/css/theme.bundle.css" />
    <link rel="stylesheet" href="./assets/css/various.css" />

    <title>Conf42: In Memory Of Travails</title>
    <meta name="description" content="If Aliens speak a language, it is JavaScript!">

    
    <meta name="image" property="og:image" content="https://www.conf42.com/assets/headshots/https://conf42.github.io/static/headshots/Gabriel%20Schulhof_javascript.png">
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="In Memory Of Travails | Conf42"/>
    <meta property="og:description" content="Ride along on the rollercoaster of improving the performance of the Auction.com graph service, our coherent interface between all our backend services and our clients. Watch as an onslaught of heap profile diffs, flame graphs, and async_hooks lead to a better, more performant graph."/>
    <meta property="og:url" content="https://conf42.com/JavaScript_2024_Gabriel_Schulhof_25_travails_memory_inmemory"/>
    

    <link rel="shortcut icon" href="./assets/favicon/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="./assets/favicon/site.webmanifest">

    

  <!-- Reddit Pixel -->
  <script>
  !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt('init','a2_e019g7ndfhrm', {"optOut":false,"useDecimalCurrencyValues":true,"aaid":"<AAID-HERE>"});rdt('track', 'PageVisit');
  </script>
  <!-- DO NOT MODIFY UNLESS TO REPLACE A USER IDENTIFIER -->
  <!-- End Reddit Pixel -->

  </head>
  <body>

    <!-- NAVBAR -->
    
    <!-- <nav class="navbar navbar-expand-lg navbar-light bg-light"> -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    
      <div class="container">
    
        <!-- Brand -->
        <a class="navbar-brand" href="./">
          <img src="./assets/conf42/conf42_logo_black_small.png" class="navbar-brand-img" alt="...">
        </a>
    
        <!-- Toggler -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    
        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="navbarCollapse">
    
          <!-- Toggler -->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fe fe-x"></i>
          </button>
    
          <!-- Navigation -->
          <ul class="navbar-nav ms-auto">

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Events
              </a>
              <div class="dropdown-menu dropdown-menu-xl p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-6">
                    <!-- <div class="dropdown-img-start" style="background-image: url(./assets/splash/IOT2024_Event_Splash.png);"> -->
                    <div class="dropdown-img-start">
                      <!-- Heading -->
                      <h4 class="fw-bold text-white mb-0">
                        Featured event
                      </h4>
                      <!-- Text -->
                      <p class="fs-sm text-white">
                        Internet of Things (IoT) 2024
                      </p>
                      <p class="fs-sm text-white">
                        Premiere 2024-12-19
                      </p>
                      <!-- Button -->
                      <a href="https://www.conf42.com/iot2024" class="btn btn-sm btn-white shadow-dark fonFt-size-sm">
                        Learn more
                      </a>
                    </div>
                  </div>
                  <div class="col-12 col-lg-6">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
    
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2025
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2025">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2025">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2025">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2025">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2025">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2025">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2025">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2025">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2025">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2025">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2025">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2025">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/mlops2025">
                            MLOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2025">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2025">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2025">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2025">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/robotics2025">
                            Robotics
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2025">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2025">
                            Internet of Things (IoT)
                          </a>
                          
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2024
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2024">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2024">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2024">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2024">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2024">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2024">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2024">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2024">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2024">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2024">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2024">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2024">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2024">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2024">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2024">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2024">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2024">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2024">
                            Internet of Things (IoT)
                          </a>
                          
                        

                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            Info
                          </h6>
                          <a class="dropdown-item" href="./code-of-conduct">
                            Code of Conduct
                          </a>
    
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Community
              </a>
              <div class="dropdown-menu dropdown-menu-l p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-3">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
                          <a class="dropdown-item" href="https://conf42.circle.so/">
                            <b>Community platform login</b>
                          </a>
                          <a class="dropdown-item" href="https://discord.gg/mvHyZzRGaQ" target="_blank">
                            Discord
                          </a>
                          <a class="dropdown-item" href="./hall-of-fame">
                            Hall of Fame
                          </a>
                          <a class="dropdown-item" href="./speakers">
                            Speakers
                          </a>
                          <a class="dropdown-item" href="https://www.papercall.io/events?cfps-scope=&keywords=conf42" target="_blank">
                            Become a speaker (CFPs)
                          </a>
                          <a class="dropdown-item" href="./testimonials">
                            Testimonials
                          </a>
                          <a class="dropdown-item" href="./about">
                            About the team
                          </a>
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./podcast">
                Podcast
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./blog">
                Blog
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./sponsor">
                Sponsor
              </a>
            </li>
          </ul>
    
          <!-- Button -->
          <a class="navbar-btn btn btn-sm btn-primary lift ms-auto" href="#register">
            Join the community!
          </a>
    
        </div>
    
      </div>
    </nav>



<style>
.text-selected {
  background-color: #42ba96!important;
  color: white;
}
</style>
	

    <!-- WELCOME -->
    <section class="py-5 py-md-10" style="background-color: #521776;">

      <!-- Shape -->
      <div class="shape shape-blur-3 svg-shim text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>
      </div>

      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 text-center" data-aos="fade-up">

            <!-- Heading -->
            <h1 class="display-2 fw-bold text-white">
              Conf42 JavaScript 2024 - Online
            </h1>

            <h2 class="text-white">
              
              Content unlocked! Welcome to the community!
              
            </h2>

            <!-- Text -->
            <p class="lead mb-0 text-white-75">
              
              <!-- If Aliens speak a language, it is JavaScript!
 -->
              <script>
                const event_date = new Date("2024-10-31T17:00:00.000+00:00");
                const local_timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const local_date = new Date("2024-10-31T17:00:00.000+00:00");
                // const local_offset = new Date().getTimezoneOffset() / 60;
                // local_date.setHours(local_date.getHours() + local_offset);
                document.getElementById("localtime").innerHTML = local_date + " in " + local_timezone
              </script>
            </p>

            <!-- Buttons -->
            <div class="text-center mt-5">
              
              
              <a class="btn btn-danger lift mb-3" data-bigpicture='{"ytSrc": "96mm86QVmtg"}' href="#">
                <i class="fe fe-youtube me-2"></i>
                Watch this talk
              </a>
              
              
              <!-- 
              <a class="btn btn-danger lift mb-3" href="https://www.youtube.com/playlist?list=PLIuxSyKxlQrDgexCF_ygfCwh9KuWgldj2" target="_blank">
                <i class="fe fe-youtube me-2"></i>
                Playlist
              </a>
               -->
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>
      </div>
    </div>

    
    <!-- VIDEO -->
    <section class="pt-2 sticky">
      <div class="container">
        <div class="row justify-content-center">

          <div id="video-container" class="col-9 col-lg-12 mb-5">

          <!-- Video -->

            <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
            <div id="player" class="sticky"></div>

            <script>
              
              var transcript = [{"text": "Hello, my name is Gabriel Schulhoff, and I\u0027ll be talking about how we improved", "timestamp": "00:00:00,190", "timestamp_s": 0.0}, {"text": "the performance of resolvers at auction.", "timestamp": "00:00:04,370", "timestamp_s": 4.0}, {"text": "com\u0027s subscription service.", "timestamp": "00:00:06,940", "timestamp_s": 6.0}, {"text": "The problem we faced was that, in the course of operations, the Node.", "timestamp": "00:00:09,269", "timestamp_s": 9.0}, {"text": "js process would, reach its heap limit.", "timestamp": "00:00:14,870", "timestamp_s": 14.0}, {"text": "so the heap is a data structure that the JavaScript engine maintains.", "timestamp": "00:00:17,830", "timestamp_s": 17.0}, {"text": "and it imposes a limit on it, which can be configured, but of course you", "timestamp": "00:00:22,570", "timestamp_s": 22.0}, {"text": "cannot use an infinite amount of heap.", "timestamp": "00:00:27,130", "timestamp_s": 27.0}, {"text": "So we have it configured to two gigs or so, and it was reaching that limit.", "timestamp": "00:00:29,900", "timestamp_s": 29.0}, {"text": "And, that was a problem.", "timestamp": "00:00:34,040", "timestamp_s": 34.0}, {"text": "So this is the story of how we tried different things and we", "timestamp": "00:00:35,340", "timestamp_s": 35.0}, {"text": "managed to knock it down a bit.", "timestamp": "00:00:40,990", "timestamp_s": 40.0}, {"text": "So the background, at auction.", "timestamp": "00:00:42,940", "timestamp_s": 42.0}, {"text": "com, we have a GraphQL service that serves pretty much.", "timestamp": "00:00:45,620", "timestamp_s": 45.0}, {"text": "Like 85 percent of the client\u0027s needs.", "timestamp": "00:00:50,830", "timestamp_s": 50.0}, {"text": "There are a few places where, clients issue requests to services", "timestamp": "00:00:54,060", "timestamp_s": 54.0}, {"text": "other than graph, but 85 percent of the time it goes to graph and", "timestamp": "00:00:58,000", "timestamp_s": 58.0}, {"text": "we have request response type.", "timestamp": "00:01:02,040", "timestamp_s": 62.0}, {"text": "operations with Graphen.", "timestamp": "00:01:04,010", "timestamp_s": 64.0}, {"text": "We also have WebSockets, which serve subscriptions.", "timestamp": "00:01:05,670", "timestamp_s": 65.0}, {"text": "The subscriptions themselves, are mostly not all of them.", "timestamp": "00:01:09,050", "timestamp_s": 69.0}, {"text": "some subscriptions, have different content, but most of them are", "timestamp": "00:01:12,610", "timestamp_s": 72.0}, {"text": "basically, rebroadcast Kafka messages coming from the background.", "timestamp": "00:01:15,970", "timestamp_s": 75.0}, {"text": "And for those messages, we perform some transformations and then we send them to", "timestamp": "00:01:20,230", "timestamp_s": 80.0}, {"text": "Redis and if Redis decides that we have subscribers, then it sends it back to us.", "timestamp": "00:01:24,370", "timestamp_s": 84.0}, {"text": "And the reason for that is obviously because we have multiple pods in, Redis.", "timestamp": "00:01:30,750", "timestamp_s": 90.0}, {"text": "in production and the Kafka sends the message to only one of those pods.", "timestamp": "00:01:34,500", "timestamp_s": 94.0}, {"text": "And so if that pod happens not to have any subscribers for that particular", "timestamp": "00:01:39,490", "timestamp_s": 99.0}, {"text": "message, but some other pod does, then we need Redis to regulate this.", "timestamp": "00:01:42,540", "timestamp_s": 102.0}, {"text": "to reproduce this out of memory condition or rather to investigate Ways", "timestamp": "00:01:46,500", "timestamp_s": 106.0}, {"text": "of, reducing memory consumption and, just improving performance in general.", "timestamp": "00:01:51,920", "timestamp_s": 111.0}, {"text": "what I did was to set everything up locally on my Mac.", "timestamp": "00:01:56,670", "timestamp_s": 116.0}, {"text": "Namely, I ran a broker locally, I ran graph locally, I connected 4,", "timestamp": "00:02:00,380", "timestamp_s": 120.0}, {"text": "000 WebSockets locally, and then I used KCAD to basically flood,", "timestamp": "00:02:06,800", "timestamp_s": 126.0}, {"text": "the graph with Kafka messages.", "timestamp": "00:02:10,600", "timestamp_s": 130.0}, {"text": "There was only one message, but.", "timestamp": "00:02:13,180", "timestamp_s": 133.0}, {"text": "just sent it repeatedly and see what, see where it gets hung up", "timestamp": "00:02:14,600", "timestamp_s": 134.0}, {"text": "and what uses all that memory.", "timestamp": "00:02:18,190", "timestamp_s": 138.0}, {"text": "All right.", "timestamp": "00:02:20,340", "timestamp_s": 140.0}, {"text": "So this is what I measured at first.", "timestamp": "00:02:20,740", "timestamp_s": 140.0}, {"text": "When I first tried this, I broke down the measurement into three different phases.", "timestamp": "00:02:22,990", "timestamp_s": 142.0}, {"text": "The first one is just like run graph.", "timestamp": "00:02:27,790", "timestamp_s": 147.0}, {"text": "And that\u0027s it, just node and graph, no sockets, no activity, nothing.", "timestamp": "00:02:31,160", "timestamp_s": 151.0}, {"text": "Then, in the second phase, I connected 4, 000 sockets, and you can see that", "timestamp": "00:02:35,580", "timestamp_s": 155.0}, {"text": "the memory consumption increased.", "timestamp": "00:02:39,540", "timestamp_s": 159.0}, {"text": "And then leveled off to accommodate 4, 000 idle sockets.", "timestamp": "00:02:41,475", "timestamp_s": 161.0}, {"text": "so this is the overhead of maintaining 4, 000 sockets.", "timestamp": "00:02:44,985", "timestamp_s": 164.0}, {"text": "And then two minutes later, I started sending messages for the next four minutes", "timestamp": "00:02:48,735", "timestamp_s": 168.0}, {"text": "and measured how many messages, were, received or it was able to receive and", "timestamp": "00:02:53,085", "timestamp_s": 173.0}, {"text": "how many messages it was able to send out.", "timestamp": "00:02:58,985", "timestamp_s": 178.0}, {"text": "And these are the results.", "timestamp": "00:03:01,835", "timestamp_s": 181.0}, {"text": "It\u0027s not very good.", "timestamp": "00:03:03,325", "timestamp_s": 183.0}, {"text": "16 Kafka messages in four minutes.", "timestamp": "00:03:04,315", "timestamp_s": 184.0}, {"text": "That\u0027s not very good.", "timestamp": "00:03:06,265", "timestamp_s": 186.0}, {"text": "That\u0027s 15 seconds processing a single message and sending", "timestamp": "00:03:07,205", "timestamp_s": 187.0}, {"text": "it out to 4, 000 clients.", "timestamp": "00:03:10,495", "timestamp_s": 190.0}, {"text": "We need to do better.", "timestamp": "00:03:12,375", "timestamp_s": 192.0}, {"text": "And so what did we do to make things better, both memory", "timestamp": "00:03:14,185", "timestamp_s": 194.0}, {"text": "wise and, performance wise?", "timestamp": "00:03:16,865", "timestamp_s": 196.0}, {"text": "So memory wise, the first thing that we noticed was that,", "timestamp": "00:03:19,125", "timestamp_s": 199.0}, {"text": "this being GraphQL, right?", "timestamp": "00:03:22,145", "timestamp_s": 202.0}, {"text": "Answering, the subscription with a single, response means", "timestamp": "00:03:23,905", "timestamp_s": 203.0}, {"text": "executing GraphQL, GraphQL, right?", "timestamp": "00:03:29,255", "timestamp_s": 209.0}, {"text": "Performing a GraphQL execution.", "timestamp": "00:03:31,855", "timestamp_s": 211.0}, {"text": "Now, every GraphQL execution has an associated context.", "timestamp": "00:03:33,365", "timestamp_s": 213.0}, {"text": "The context is there to store the information that it, that pertains", "timestamp": "00:03:36,505", "timestamp_s": 216.0}, {"text": "to that particular execution.", "timestamp": "00:03:41,155", "timestamp_s": 221.0}, {"text": "And in the case of subscriptions, repeated executions, but either way that it\u0027s", "timestamp": "00:03:43,285", "timestamp_s": 223.0}, {"text": "particular to the one connection, right?", "timestamp": "00:03:47,425", "timestamp_s": 227.0}, {"text": "And one of the things that, GraphQL sometimes does is, it starts out with", "timestamp": "00:03:49,495", "timestamp_s": 229.0}, {"text": "a certain object received by some means, in this case, Kafka, and if the", "timestamp": "00:03:55,035", "timestamp_s": 235.0}, {"text": "subscription specifies that, it needs certain fields that cannot be found", "timestamp": "00:03:59,575", "timestamp_s": 239.0}, {"text": "on that object, but for which there is a resolver, meaning that GraphQL is", "timestamp": "00:04:04,875", "timestamp_s": 244.0}, {"text": "aware of a solution for providing those fields, even without, even though they", "timestamp": "00:04:09,455", "timestamp_s": 249.0}, {"text": "are not on the original backend object.", "timestamp": "00:04:13,205", "timestamp_s": 253.0}, {"text": "Then, it will reach out to backends and it, which are pre configured", "timestamp": "00:04:15,935", "timestamp_s": 255.0}, {"text": "to provide that information.", "timestamp": "00:04:20,385", "timestamp_s": 260.0}, {"text": "Then it massages that information and then returns the result", "timestamp": "00:04:21,985", "timestamp_s": 261.0}, {"text": "and the client is happy.", "timestamp": "00:04:24,725", "timestamp_s": 264.0}, {"text": "we have 32 different backends at auction.", "timestamp": "00:04:26,895", "timestamp_s": 266.0}, {"text": "Each backend has, five different, methods being HTTP and all.", "timestamp": "00:04:29,885", "timestamp_s": 269.0}, {"text": "and so we have these wrappers on the context for reaching out to the backends.", "timestamp": "00:04:34,485", "timestamp_s": 274.0}, {"text": "basically the, it looks like this.", "timestamp": "00:04:39,375", "timestamp_s": 279.0}, {"text": "so we have a backends object, which encapsulates all our backends.", "timestamp": "00:04:41,135", "timestamp_s": 281.0}, {"text": "And then we, for each backend, we have it by name and then by method.", "timestamp": "00:04:44,245", "timestamp_s": 284.0}, {"text": "And We construct this path whenever we construct the context.", "timestamp": "00:04:48,565", "timestamp_s": 288.0}, {"text": "So every context has 160 objects on it.", "timestamp": "00:04:53,745", "timestamp_s": 293.0}, {"text": "And that\u0027s a problem because we have 4, 000 contexts coexisting right in our test.", "timestamp": "00:04:58,005", "timestamp_s": 298.0}, {"text": "And each one has 160 objects.", "timestamp": "00:05:03,245", "timestamp_s": 303.0}, {"text": "That\u0027s a lot of objects.", "timestamp": "00:05:05,205", "timestamp_s": 305.0}, {"text": "And chances are that, any one, response isn\u0027t going to cause.", "timestamp": "00:05:06,345", "timestamp_s": 306.0}, {"text": "the executor to access every single method on every single backend.", "timestamp": "00:05:11,740", "timestamp_s": 311.0}, {"text": "Quite the contrary.", "timestamp": "00:05:16,220", "timestamp_s": 316.0}, {"text": "It\u0027s usually five, six accesses.", "timestamp": "00:05:17,380", "timestamp_s": 317.0}, {"text": "if it\u0027s any more than that, then you need to worry about, Oh, is it N plus one?", "timestamp": "00:05:19,460", "timestamp_s": 319.0}, {"text": "am I causing too much traffic?", "timestamp": "00:05:23,939", "timestamp_s": 323.0}, {"text": "So either way, you\u0027re not going to need 160 objects.", "timestamp": "00:05:26,009", "timestamp_s": 326.0}, {"text": "okay.", "timestamp": "00:05:29,439", "timestamp_s": 329.0}, {"text": "what to do?", "timestamp": "00:05:29,719", "timestamp_s": 329.0}, {"text": "let\u0027s make it lazy.", "timestamp": "00:05:30,689", "timestamp_s": 330.0}, {"text": "Why not?", "timestamp": "00:05:31,859", "timestamp_s": 331.0}, {"text": "JavaScript has this wonderful thing called a proxy object.", "timestamp": "00:05:32,559", "timestamp_s": 332.0}, {"text": "Which basically is an object that pretends to have any number of, of, fields set.", "timestamp": "00:05:35,889", "timestamp_s": 335.0}, {"text": "But it doesn\u0027t really have them set because what it means for a field,", "timestamp": "00:05:41,294", "timestamp_s": 341.0}, {"text": "what it means to retrieve a field is up to a certain callback, right?", "timestamp": "00:05:45,324", "timestamp_s": 345.0}, {"text": "Instead of just being like a property access, it\u0027s actually a function", "timestamp": "00:05:49,194", "timestamp_s": 349.0}, {"text": "invocation where it\u0027s given the name of the property and the function", "timestamp": "00:05:52,774", "timestamp_s": 352.0}, {"text": "can decide what to do about the fact that somebody wants that property.", "timestamp": "00:05:56,564", "timestamp_s": 356.0}, {"text": "And so you don\u0027t necessarily need to store all possible values.", "timestamp": "00:06:01,474", "timestamp_s": 361.0}, {"text": "And that\u0027s exactly what we did.", "timestamp": "00:06:05,564", "timestamp_s": 365.0}, {"text": "when somebody asks for, UAA.", "timestamp": "00:06:07,024", "timestamp_s": 367.0}, {"text": "And they ask for post and we create the UAA backend on the", "timestamp": "00:06:09,854", "timestamp_s": 369.0}, {"text": "fly as they are asking for it.", "timestamp": "00:06:13,794", "timestamp_s": 373.0}, {"text": "And then we create the wrapper for the post method as they are asking for it.", "timestamp": "00:06:15,584", "timestamp_s": 375.0}, {"text": "And it\u0027s not as if we\u0027re delaying the response by this because we", "timestamp": "00:06:20,154", "timestamp_s": 380.0}, {"text": "would have created these things anyway, when the execution happened.", "timestamp": "00:06:23,144", "timestamp_s": 383.0}, {"text": "So the response is not going to be slower.", "timestamp": "00:06:25,934", "timestamp_s": 385.0}, {"text": "In fact, it\u0027s going to be faster because we\u0027re not creating 160 of these.", "timestamp": "00:06:27,884", "timestamp_s": 387.0}, {"text": "We\u0027re only creating maybe a total of four or five.", "timestamp": "00:06:30,514", "timestamp_s": 390.0}, {"text": "So we\u0027re saving time.", "timestamp": "00:06:33,224", "timestamp_s": 393.0}, {"text": "We\u0027re saying we\u0027re saving memory.", "timestamp": "00:06:34,774", "timestamp_s": 394.0}, {"text": "Now let\u0027s see what this got us.", "timestamp": "00:06:37,114", "timestamp_s": 397.0}, {"text": "turns out that the improvements here are in terms of throughput, aren\u0027t that great.", "timestamp": "00:06:39,034", "timestamp_s": 399.0}, {"text": "So there\u0027s probably another bottleneck somewhere, creating 160 objects was not", "timestamp": "00:06:44,714", "timestamp_s": 404.0}, {"text": "that expensive in terms of execution time.", "timestamp": "00:06:49,044", "timestamp_s": 409.0}, {"text": "But it was pretty expensive in terms of memory.", "timestamp": "00:06:51,694", "timestamp_s": 411.0}, {"text": "Like you can see that we lowered the plateau here.", "timestamp": "00:06:53,434", "timestamp_s": 413.0}, {"text": "because, the, these contexts, which were causing this rise are", "timestamp": "00:06:56,739", "timestamp_s": 416.0}, {"text": "now causing a lower rise because, we\u0027re not creating any, backends.", "timestamp": "00:07:01,789", "timestamp_s": 421.0}, {"text": "And in fact, for this particular subscription, It", "timestamp": "00:07:07,149", "timestamp_s": 427.0}, {"text": "doesn\u0027t take any backends.", "timestamp": "00:07:10,269", "timestamp_s": 430.0}, {"text": "You\u0027ll see later.", "timestamp": "00:07:11,879", "timestamp_s": 431.0}, {"text": "All it does is basically take the object that comes in over Kafka and", "timestamp": "00:07:12,639", "timestamp_s": 432.0}, {"text": "transforms the keys and that\u0027s it.", "timestamp": "00:07:15,529", "timestamp_s": 435.0}, {"text": "And then it sends it out.", "timestamp": "00:07:17,029", "timestamp_s": 437.0}, {"text": "It doesn\u0027t need any backends.", "timestamp": "00:07:18,149", "timestamp_s": 438.0}, {"text": "so then, okay, this is maybe a little optimistic because it\u0027s like", "timestamp": "00:07:19,929", "timestamp_s": 439.0}, {"text": "maximally reduced, but it doesn\u0027t matter because it\u0027s going to be", "timestamp": "00:07:23,849", "timestamp_s": 443.0}, {"text": "reduced in pretty much all cases.", "timestamp": "00:07:27,179", "timestamp_s": 447.0}, {"text": "All right.", "timestamp": "00:07:29,589", "timestamp_s": 449.0}, {"text": "So what else can we do?", "timestamp": "00:07:29,979", "timestamp_s": 449.0}, {"text": "We\u0027ve lowered memory consumption.", "timestamp": "00:07:31,769", "timestamp_s": 451.0}, {"text": "Sure.", "timestamp": "00:07:33,499", "timestamp_s": 453.0}, {"text": "But can we do more, lower it in different ways?", "timestamp": "00:07:34,344", "timestamp_s": 454.0}, {"text": "So one of the things that, we explored was, If we make the execution more", "timestamp": "00:07:37,884", "timestamp_s": 457.0}, {"text": "efficient, then maybe the memory usage is going to go down because we\u0027re", "timestamp": "00:07:44,074", "timestamp_s": 464.0}, {"text": "using, more modern, style code that, that doesn\u0027t require so much support", "timestamp": "00:07:47,954", "timestamp_s": 467.0}, {"text": "from the engine might even be leaner.", "timestamp": "00:07:52,074", "timestamp_s": 472.0}, {"text": "it might be optimized, whereas the old code was not optimized.", "timestamp": "00:07:55,104", "timestamp_s": 475.0}, {"text": "And so it doesn\u0027t need to create so many temporary objects", "timestamp": "00:07:57,584", "timestamp_s": 477.0}, {"text": "to address, the execution.", "timestamp": "00:07:59,674", "timestamp_s": 479.0}, {"text": "and so in this particular case, we have this one function called", "timestamp": "00:08:02,704", "timestamp_s": 482.0}, {"text": "convert obj to snake keys.", "timestamp": "00:08:05,554", "timestamp_s": 485.0}, {"text": "I told you earlier that, that we have objects that.", "timestamp": "00:08:06,904", "timestamp_s": 486.0}, {"text": "That look like this when they come in from, Kafka and we need to", "timestamp": "00:08:09,434", "timestamp_s": 489.0}, {"text": "convert them basically because our convention is that GraphQL fields,", "timestamp": "00:08:13,534", "timestamp_s": 493.0}, {"text": "output fields are snake case.", "timestamp": "00:08:17,544", "timestamp_s": 497.0}, {"text": "So we have this thing that converts a deep object to snake case.", "timestamp": "00:08:19,744", "timestamp_s": 499.0}, {"text": "and that function.", "timestamp": "00:08:24,024", "timestamp_s": 504.0}, {"text": "What\u0027s using low dash a lot because it\u0027s an old function that nobody has", "timestamp": "00:08:26,239", "timestamp_s": 506.0}, {"text": "really touched because it works just fine And back in those days there was", "timestamp": "00:08:30,219", "timestamp_s": 510.0}, {"text": "no like map there was no object entries that kind of thing so okay, so let\u0027s", "timestamp": "00:08:34,399", "timestamp_s": 514.0}, {"text": "see if we can speed things up, right?", "timestamp": "00:08:41,249", "timestamp_s": 521.0}, {"text": "let\u0027s replace all these calls to load dash and let\u0027s use some of the", "timestamp": "00:08:43,289", "timestamp_s": 523.0}, {"text": "stuff that the engine has locally and natively, to accomplish the same thing.", "timestamp": "00:08:47,109", "timestamp_s": 527.0}, {"text": "And so we made, we transformed the code like this.", "timestamp": "00:08:51,039", "timestamp_s": 531.0}, {"text": "And the result was that performance was back into the positives relative", "timestamp": "00:08:53,519", "timestamp_s": 533.0}, {"text": "to that 16 message baseline that I showed you on one of the first slides.", "timestamp": "00:09:00,489", "timestamp_s": 540.0}, {"text": "we retained a little bit of a lowered plateau here because we\u0027re still not.", "timestamp": "00:09:04,999", "timestamp_s": 544.0}, {"text": "So we\u0027re not doing any of those contacts, but because we\u0027re doing more work,", "timestamp": "00:09:09,279", "timestamp_s": 549.0}, {"text": "memory consumption in the busy case has actually resumed where it was.", "timestamp": "00:09:12,529", "timestamp_s": 552.0}, {"text": "It\u0027s a little tiny bit lower, but not as much as we\u0027d like.", "timestamp": "00:09:17,129", "timestamp_s": 557.0}, {"text": "All right.", "timestamp": "00:09:20,139", "timestamp_s": 560.0}, {"text": "Let\u0027s see what else we can do.", "timestamp": "00:09:20,449", "timestamp_s": 560.0}, {"text": "So I told you that we\u0027re using Redis because we have a situation where we", "timestamp": "00:09:22,189", "timestamp_s": 562.0}, {"text": "have multiple graph pods like this, and they\u0027re declared as a single", "timestamp": "00:09:26,579", "timestamp_s": 566.0}, {"text": "consumer group by Kafka, meaning Kafka will partition messages that", "timestamp": "00:09:30,139", "timestamp_s": 570.0}, {"text": "are addressed to the consumer group among the members of the group.", "timestamp": "00:09:33,699", "timestamp_s": 573.0}, {"text": "And so let\u0027s say, if, If G2 retrieves, receives the green message, then", "timestamp": "00:09:38,499", "timestamp_s": 578.0}, {"text": "G2 can satisfy, C4 and C5 because they request the green message.", "timestamp": "00:09:44,480", "timestamp_s": 584.0}, {"text": "But how can C2 be satisfied?", "timestamp": "00:09:49,209", "timestamp_s": 589.0}, {"text": "C2, G1 never got the green message and yet somehow it still", "timestamp": "00:09:51,629", "timestamp_s": 591.0}, {"text": "has to send it to C2, right?", "timestamp": "00:09:55,169", "timestamp_s": 595.0}, {"text": "So the way we reconcile that is we send all the messages to Redis.", "timestamp": "00:09:57,359", "timestamp_s": 597.0}, {"text": "And then Redis is does G1 have a subscriber for, this green message?", "timestamp": "00:10:01,519", "timestamp_s": 601.0}, {"text": "Oh yeah, they do.", "timestamp": "00:10:05,059", "timestamp_s": 605.0}, {"text": "Okay.", "timestamp": "00:10:06,199", "timestamp_s": 606.0}, {"text": "Then I better forward it.", "timestamp": "00:10:06,449", "timestamp_s": 606.0}, {"text": "So Redis doesn\u0027t just blindly forward everything to everyone", "timestamp": "00:10:07,579", "timestamp_s": 607.0}, {"text": "because then we could just get rid of Redis entirely and just declare", "timestamp": "00:10:10,019", "timestamp_s": 610.0}, {"text": "every graph instance to be its own consumer group, but it does filter.", "timestamp": "00:10:13,069", "timestamp_s": 613.0}, {"text": "And so it does reduce traffic versus just like the Christmas tree case.", "timestamp": "00:10:16,999", "timestamp_s": 616.0}, {"text": "while at the same time, allowing this.", "timestamp": "00:10:21,609", "timestamp_s": 621.0}, {"text": "this, GRAF service to appear to be like a unified service rather than,", "timestamp": "00:10:24,669", "timestamp_s": 624.0}, {"text": "being able to tell, Oh, I\u0027m con I must be connected to pod number two", "timestamp": "00:10:28,789", "timestamp_s": 628.0}, {"text": "because I can\u0027t see this and that.", "timestamp": "00:10:31,789", "timestamp_s": 631.0}, {"text": "So it, it ensures correctness.", "timestamp": "00:10:33,409", "timestamp_s": 633.0}, {"text": "It reduces traffic.", "timestamp": "00:10:35,509", "timestamp_s": 635.0}, {"text": "and so that\u0027s why we use it.", "timestamp": "00:10:37,169", "timestamp_s": 637.0}, {"text": "And I figured, okay.", "timestamp": "00:10:38,489", "timestamp_s": 638.0}, {"text": "GRAFQL subs GraphQL Redis subscriptions.", "timestamp": "00:10:39,899", "timestamp_s": 639.0}, {"text": "It does a lot of, serializing, deserializing a lot of streaming.", "timestamp": "00:10:42,219", "timestamp_s": 642.0}, {"text": "And so So, can we improve it just by upgrading it?", "timestamp": "00:10:46,449", "timestamp_s": 646.0}, {"text": "maybe, folks upstream, doing wonderful open source work have realized", "timestamp": "00:10:50,179", "timestamp_s": 650.0}, {"text": "that there are better ways of doing what they\u0027re already doing without", "timestamp": "00:10:54,479", "timestamp_s": 654.0}, {"text": "actually breaking compatibility.", "timestamp": "00:10:57,219", "timestamp_s": 657.0}, {"text": "So we upgraded it and no, not quite.", "timestamp": "00:10:59,179", "timestamp_s": 659.0}, {"text": "it\u0027s okay.", "timestamp": "00:11:03,439", "timestamp_s": 663.0}, {"text": "it\u0027s worth a shot.", "timestamp": "00:11:04,579", "timestamp_s": 664.0}, {"text": "It was worth a shot.", "timestamp": "00:11:05,510", "timestamp_s": 665.0}, {"text": "the plateau remains.", "timestamp": "00:11:07,672", "timestamp_s": 667.0}, {"text": "This memory consumption, is pretty much the same.", "timestamp": "00:11:08,969", "timestamp_s": 668.0}, {"text": "Performance improved a little bit.", "timestamp": "00:11:12,429", "timestamp_s": 672.0}, {"text": "but not spectacularly.", "timestamp": "00:11:14,149", "timestamp_s": 674.0}, {"text": "okay.", "timestamp": "00:11:16,069", "timestamp_s": 676.0}, {"text": "We tried it.", "timestamp": "00:11:16,379", "timestamp_s": 676.0}, {"text": "At least now we have the latest and greatest GraphQL", "timestamp": "00:11:16,929", "timestamp_s": 676.0}, {"text": "Redis subscriptions, right?", "timestamp": "00:11:18,479", "timestamp_s": 678.0}, {"text": "Or we did at the time and that can never hurt.", "timestamp": "00:11:19,909", "timestamp_s": 679.0}, {"text": "so then let\u0027s see, can we do more to improve this wonderful, convert", "timestamp": "00:11:22,959", "timestamp_s": 682.0}, {"text": "object to snake keys function?", "timestamp": "00:11:28,759", "timestamp_s": 688.0}, {"text": "can we make it leaner?", "timestamp": "00:11:30,219", "timestamp_s": 690.0}, {"text": "Because to be honest, I keep coming back to this function", "timestamp": "00:11:31,129", "timestamp_s": 691.0}, {"text": "because, I was running node clinic.", "timestamp": "00:11:34,729", "timestamp_s": 694.0}, {"text": "on the whole workload, just to see what it is that\u0027s holding up the show.", "timestamp": "00:11:37,549", "timestamp_s": 697.0}, {"text": "why is it performing so poorly with the sort of quote unquote", "timestamp": "00:11:41,689", "timestamp_s": 701.0}, {"text": "on ulterior motive to actually try to reduce memory consumption.", "timestamp": "00:11:46,209", "timestamp_s": 706.0}, {"text": "node clinic is not a memory consumption tool.", "timestamp": "00:11:50,339", "timestamp_s": 710.0}, {"text": "It\u0027s a, it\u0027s an execution time measuring tool.", "timestamp": "00:11:52,259", "timestamp_s": 712.0}, {"text": "It\u0027s a flame graph for execution time.", "timestamp": "00:11:55,369", "timestamp_s": 715.0}, {"text": "Where is your.", "timestamp": "00:11:57,239", "timestamp_s": 717.0}, {"text": "app spending most of its time, that\u0027s the question that it answers.", "timestamp": "00:11:59,299", "timestamp_s": 719.0}, {"text": "And time and again, when I ran it, it came back with convert apps to snake key.", "timestamp": "00:12:01,989", "timestamp_s": 721.0}, {"text": "So I\u0027m like, okay, fine.", "timestamp": "00:12:06,229", "timestamp_s": 726.0}, {"text": "let\u0027s get that off the way.", "timestamp": "00:12:07,189", "timestamp_s": 727.0}, {"text": "And so I went back and, was thinking to myself, we have objects like these, right?", "timestamp": "00:12:08,979", "timestamp_s": 728.0}, {"text": "And we\u0027re converting them, to Snakey.", "timestamp": "00:12:13,129", "timestamp_s": 733.0}, {"text": "So we\u0027re not touching the values at all, unless the value is an object or an array.", "timestamp": "00:12:15,839", "timestamp_s": 735.0}, {"text": "And so it\u0027s a deep thing and we recurse, but otherwise we\u0027re", "timestamp": "00:12:19,269", "timestamp_s": 739.0}, {"text": "not touching the values at all.", "timestamp": "00:12:21,589", "timestamp_s": 741.0}, {"text": "we\u0027re just touching the keys all the time, right?", "timestamp": "00:12:22,789", "timestamp_s": 742.0}, {"text": "we are a company, we do stuff with data, right?", "timestamp": "00:12:25,369", "timestamp_s": 745.0}, {"text": "Like every other company that does stuff with data.", "timestamp": "00:12:28,959", "timestamp_s": 748.0}, {"text": "And so the data in this case is key value pairs, right?", "timestamp": "00:12:31,279", "timestamp_s": 751.0}, {"text": "And, the keys can refer to all kinds of like business related things, You can", "timestamp": "00:12:34,519", "timestamp_s": 754.0}, {"text": "see right here, for example, fallout history and, is auction status change.", "timestamp": "00:12:38,459", "timestamp_s": 758.0}, {"text": "it\u0027s business related stuff, right?", "timestamp": "00:12:42,799", "timestamp_s": 762.0}, {"text": "But these words, these are keywords.", "timestamp": "00:12:44,889", "timestamp_s": 764.0}, {"text": "These are like variables that programmers use, to get the data", "timestamp": "00:12:46,579", "timestamp_s": 766.0}, {"text": "at that particular location.", "timestamp": "00:12:50,109", "timestamp_s": 770.0}, {"text": "And so, these names, they\u0027re not generated automatically.", "timestamp": "00:12:51,499", "timestamp_s": 771.0}, {"text": "we agree on them and then we use them, So in terms of, processing them, into", "timestamp": "00:12:55,999", "timestamp_s": 775.0}, {"text": "snake keys, once, once I\u0027ve read days on market and I\u0027ve turned it into snake", "timestamp": "00:13:00,599", "timestamp_s": 780.0}, {"text": "keys, and this is what it looks like.", "timestamp": "00:13:05,239", "timestamp_s": 785.0}, {"text": "The next time I encountered this days on market thing, and I need to", "timestamp": "00:13:07,139", "timestamp_s": 787.0}, {"text": "turn it into snake case, why do I need to run that computation again?", "timestamp": "00:13:09,789", "timestamp_s": 789.0}, {"text": "I already know how to do it.", "timestamp": "00:13:13,679", "timestamp_s": 793.0}, {"text": "I\u0027ve done it once, right?", "timestamp": "00:13:15,119", "timestamp_s": 795.0}, {"text": "So why don\u0027t I just record the result and then not do it the second time?", "timestamp": "00:13:16,809", "timestamp_s": 796.0}, {"text": "This is called memorization, right?", "timestamp": "00:13:20,189", "timestamp_s": 800.0}, {"text": "and that\u0027s exactly where this is going, right?", "timestamp": "00:13:22,179", "timestamp_s": 802.0}, {"text": "just memoize everything.", "timestamp": "00:13:24,069", "timestamp_s": 804.0}, {"text": "And then, no matter where you find a key named external identifiers, you,", "timestamp": "00:13:25,409", "timestamp_s": 805.0}, {"text": "you\u0027ve already done it and that\u0027s it.", "timestamp": "00:13:29,569", "timestamp_s": 809.0}, {"text": "Then you just look up the result and reuse it.", "timestamp": "00:13:31,279", "timestamp_s": 811.0}, {"text": "So that\u0027s what we did here.", "timestamp": "00:13:33,709", "timestamp_s": 813.0}, {"text": "We memoized it.", "timestamp": "00:13:35,979", "timestamp_s": 815.0}, {"text": "It\u0027s, it was a super simple change, like literally just like practically", "timestamp": "00:13:36,699", "timestamp_s": 816.0}, {"text": "two lines, like one, one addition and one replacement, and that\u0027s it.", "timestamp": "00:13:40,739", "timestamp_s": 820.0}, {"text": "The rest is just like gravy.", "timestamp": "00:13:43,469", "timestamp_s": 823.0}, {"text": "And, Incredibly performance went from up 20 percent versus", "timestamp": "00:13:45,669", "timestamp_s": 825.0}, {"text": "the original baseline to up.", "timestamp": "00:13:49,699", "timestamp_s": 829.0}, {"text": "331%, 0.", "timestamp": "00:13:52,754", "timestamp_s": 832.0}, {"text": "3.", "timestamp": "00:13:55,104", "timestamp_s": 835.0}, {"text": "Okay.", "timestamp": "00:13:55,654", "timestamp_s": 835.0}, {"text": "So that was a huge improvement.", "timestamp": "00:13:56,624", "timestamp_s": 836.0}, {"text": "and you can see here the curve that, you can see that it\u0027s not struggling so much", "timestamp": "00:13:58,514", "timestamp_s": 838.0}, {"text": "to, to deliver these messages because it\u0027s the new curve is like the old curve, but.", "timestamp": "00:14:02,304", "timestamp_s": 842.0}, {"text": "And many people are facing that issue of doing transcripts as well.", "timestamp": "00:14:07,960", "timestamp_s": 847.0}, {"text": "And so what we\u0027ve seen, the problem with the, and during the process", "timestamp": "00:14:13,028", "timestamp_s": 853.0}, {"text": "of delivering those transcripts, we actually see some errors, a lot of", "timestamp": "00:14:18,519", "timestamp_s": 858.0}, {"text": "typo errors, a lot of typos, some sheets are missing or something,", "timestamp": "00:14:23,588", "timestamp_s": 863.0}, {"text": "A plateau, because it\u0027s more flat.", "timestamp": "00:14:28,706", "timestamp_s": 868.0}, {"text": "And if the height of the plateau goes down, okay, then we\u0027ve", "timestamp": "00:14:30,606", "timestamp_s": 870.0}, {"text": "improved something across the board in terms of memory consumption.", "timestamp": "00:14:33,196", "timestamp_s": 873.0}, {"text": "Whereas here it\u0027s very difficult to judge, because we don\u0027t have a plateau", "timestamp": "00:14:36,346", "timestamp_s": 876.0}, {"text": "that we could systematically lower and observe that it\u0027s being lowered.", "timestamp": "00:14:39,986", "timestamp_s": 879.0}, {"text": "All right.", "timestamp": "00:14:43,856", "timestamp_s": 883.0}, {"text": "So let\u0027s see, what did we do next?", "timestamp": "00:14:44,326", "timestamp_s": 884.0}, {"text": "okay, we can\u0027t, we step back a little bit and we\u0027re like,", "timestamp": "00:14:46,826", "timestamp_s": 886.0}, {"text": "okay, so these pods are dying.", "timestamp": "00:14:49,556", "timestamp_s": 889.0}, {"text": "Okay.", "timestamp": "00:14:51,046", "timestamp_s": 891.0}, {"text": "That\u0027s the fundamental problem.", "timestamp": "00:14:51,266", "timestamp_s": 891.0}, {"text": "that\u0027s what got us started on this whole process.", "timestamp": "00:14:52,496", "timestamp_s": 892.0}, {"text": "So let\u0027s see if we can spread out the load.", "timestamp": "00:14:54,736", "timestamp_s": 894.0}, {"text": "we see that the memory is rising precipitously.", "timestamp": "00:14:59,136", "timestamp_s": 899.0}, {"text": "Because, of some activity that is causing that, that is completely", "timestamp": "00:15:02,111", "timestamp_s": 902.0}, {"text": "valid business activity.", "timestamp": "00:15:06,001", "timestamp_s": 906.0}, {"text": "And, it\u0027s not able to keep up.", "timestamp": "00:15:08,241", "timestamp_s": 908.0}, {"text": "okay, let\u0027s quickly add more pods and then maybe now then", "timestamp": "00:15:09,891", "timestamp_s": 909.0}, {"text": "it\u0027s going to be able to keep up.", "timestamp": "00:15:12,531", "timestamp_s": 912.0}, {"text": "And so we did, we keyed the upscaling on memory consumption", "timestamp": "00:15:14,691", "timestamp_s": 914.0}, {"text": "and equally the downscaling.", "timestamp": "00:15:18,481", "timestamp_s": 918.0}, {"text": "And, it was okay.", "timestamp": "00:15:19,961", "timestamp_s": 919.0}, {"text": "Um, it handled it a little bit better.", "timestamp": "00:15:21,656", "timestamp_s": 921.0}, {"text": "Restarts went down a little bit, nothing spectacular.", "timestamp": "00:15:24,696", "timestamp_s": 924.0}, {"text": "so then, okay.", "timestamp": "00:15:27,776", "timestamp_s": 927.0}, {"text": "what else can we do about, by the way, aside from this precipitous", "timestamp": "00:15:29,276", "timestamp_s": 929.0}, {"text": "increase and so forth, we also had a slow memory leak that would", "timestamp": "00:15:32,816", "timestamp_s": 932.0}, {"text": "accumulate over like days on end.", "timestamp": "00:15:35,546", "timestamp_s": 935.0}, {"text": "And so we also had to address that.", "timestamp": "00:15:38,676", "timestamp_s": 938.0}, {"text": "And, the way we did that is drum roll, please.", "timestamp": "00:15:41,146", "timestamp_s": 941.0}, {"text": "just restarted every night.", "timestamp": "00:15:44,376", "timestamp_s": 944.0}, {"text": "Cause like we couldn\u0027t figure out where the leak was coming from, it doesn\u0027t", "timestamp": "00:15:45,926", "timestamp_s": 945.0}, {"text": "matter you, this is a perfectly valid way of handling it because nobody\u0027s", "timestamp": "00:15:49,486", "timestamp_s": 949.0}, {"text": "watching their web sockets at like 2 AM.", "timestamp": "00:15:54,546", "timestamp_s": 954.0}, {"text": "So why not restart the service?", "timestamp": "00:15:56,586", "timestamp_s": 956.0}, {"text": "And besides you, there are no auctions going on at 2 AM.", "timestamp": "00:15:58,556", "timestamp_s": 958.0}, {"text": "Everybody\u0027s practically asleep all over the U S.", "timestamp": "00:16:01,796", "timestamp_s": 961.0}, {"text": "And our clients, the, not the people, but the apps that they use and, the", "timestamp": "00:16:05,046", "timestamp_s": 965.0}, {"text": "website that they use, those clients are designed to reconnect very quickly.", "timestamp": "00:16:10,406", "timestamp_s": 970.0}, {"text": "So within a matter of seconds, they, they would reconnect their web", "timestamp": "00:16:14,426", "timestamp_s": 974.0}, {"text": "sockets and continue to get data.", "timestamp": "00:16:16,876", "timestamp_s": 976.0}, {"text": "So yeah, we quote unquote addressed this particular memory leak anyway.", "timestamp": "00:16:20,036", "timestamp_s": 980.0}, {"text": "so back to the quest of lowering memory consumption, one of", "timestamp": "00:16:25,646", "timestamp_s": 985.0}, {"text": "the things that I didn\u0027t.", "timestamp": "00:16:29,886", "timestamp_s": 989.0}, {"text": "I\u0027m going to add in my background slide is that, the way we deploy", "timestamp": "00:16:32,086", "timestamp_s": 992.0}, {"text": "graph is we do a bunch of like transformations on the source code, right?", "timestamp": "00:16:36,026", "timestamp_s": 996.0}, {"text": "Like we, we have TypeScript in there.", "timestamp": "00:16:40,476", "timestamp_s": 1000.0}, {"text": "So of course we compile that to, or transpile that to JavaScript.", "timestamp": "00:16:42,346", "timestamp_s": 1002.0}, {"text": "But we also have this legacy sort of bundling system that is basically designed", "timestamp": "00:16:47,376", "timestamp_s": 1007.0}, {"text": "for clients, but that we also use on the server, which just puts everything", "timestamp": "00:16:52,346", "timestamp_s": 1012.0}, {"text": "through Babel and generates this one big file that is the entire server.", "timestamp": "00:16:56,006", "timestamp_s": 1016.0}, {"text": "And.", "timestamp": "00:17:00,336", "timestamp_s": 1020.0}, {"text": "that, that the configuration of that process was such that there, it made no", "timestamp": "00:17:01,396", "timestamp_s": 1021.0}, {"text": "distinction between whether it creates a client bundle or a server bundle.", "timestamp": "00:17:07,196", "timestamp_s": 1027.0}, {"text": "And with this optimization mindset, I went in there and I was like, okay, so let\u0027s", "timestamp": "00:17:11,506", "timestamp_s": 1031.0}, {"text": "introduce such a distinction because, the client bundle has to address all kinds of", "timestamp": "00:17:15,166", "timestamp_s": 1035.0}, {"text": "browsers with all kinds of capabilities and legacy browsers and all that.", "timestamp": "00:17:19,186", "timestamp_s": 1039.0}, {"text": "And so it needs to be bulletproof and be able to function in no matter what level", "timestamp": "00:17:22,906", "timestamp_s": 1042.0}, {"text": "of ECMA script is running on that browser, but that\u0027s not true for the server, right?", "timestamp": "00:17:27,451", "timestamp_s": 1047.0}, {"text": "Node.", "timestamp": "00:17:32,081", "timestamp_s": 1052.0}, {"text": "js, we know exactly what version of Node.", "timestamp": "00:17:32,311", "timestamp_s": 1052.0}, {"text": "js we\u0027re going to have, 20 in this case, and so the translation algorithm might", "timestamp": "00:17:34,801", "timestamp_s": 1054.0}, {"text": "as well target that version and leave a lot of the native stuff in place instead", "timestamp": "00:17:40,421", "timestamp_s": 1060.0}, {"text": "of replacing it with polyfills, right?", "timestamp": "00:17:44,601", "timestamp_s": 1064.0}, {"text": "Unnecessarily in this case.", "timestamp": "00:17:46,631", "timestamp_s": 1066.0}, {"text": "So we did that and you can see that the curve has gotten a lot flatter.", "timestamp": "00:17:48,491", "timestamp_s": 1068.0}, {"text": "if you look at this one, the peaks and the valleys are a lot smaller,", "timestamp": "00:17:51,981", "timestamp_s": 1071.0}, {"text": "we\u0027ve improved things a little bit and the performance went up by another 0.", "timestamp": "00:17:56,401", "timestamp_s": 1076.0}, {"text": "3 X, right?", "timestamp": "00:18:01,091", "timestamp_s": 1081.0}, {"text": "We\u0027re at 3.", "timestamp": "00:18:02,011", "timestamp_s": 1082.0}, {"text": "6 X now versus the original.", "timestamp": "00:18:02,691", "timestamp_s": 1082.0}, {"text": "okay.", "timestamp": "00:18:04,911", "timestamp_s": 1084.0}, {"text": "it\u0027s good.", "timestamp": "00:18:05,451", "timestamp_s": 1085.0}, {"text": "Memory consumption is a little more predictable.", "timestamp": "00:18:06,231", "timestamp_s": 1086.0}, {"text": "Performance is slightly up.", "timestamp": "00:18:08,621", "timestamp_s": 1088.0}, {"text": "Can\u0027t complain.", "timestamp": "00:18:10,841", "timestamp_s": 1090.0}, {"text": "Except of course that we haven\u0027t really lowered this plateau.", "timestamp": "00:18:11,771", "timestamp_s": 1091.0}, {"text": "It\u0027s still, hovering around just above one gig.", "timestamp": "00:18:14,391", "timestamp_s": 1094.0}, {"text": "okay.", "timestamp": "00:18:19,001", "timestamp_s": 1099.0}, {"text": "Let\u0027s see.", "timestamp": "00:18:19,321", "timestamp_s": 1099.0}, {"text": "What else?", "timestamp": "00:18:19,711", "timestamp_s": 1099.0}, {"text": "What else can we do?", "timestamp": "00:18:20,051", "timestamp_s": 1100.0}, {"text": "Okay.", "timestamp": "00:18:21,271", "timestamp_s": 1101.0}, {"text": "So back to optimizing this guy.", "timestamp": "00:18:21,561", "timestamp_s": 1101.0}, {"text": "And, If you remember the code, we had a bunch of like object entries", "timestamp": "00:18:25,521", "timestamp_s": 1105.0}, {"text": "and object from entries and map in there and that generates a", "timestamp": "00:18:29,251", "timestamp_s": 1109.0}, {"text": "lot of temporary objects, right?", "timestamp": "00:18:32,791", "timestamp_s": 1112.0}, {"text": "because, object entries converts an object to a map, to, to an array, and then from", "timestamp": "00:18:35,001", "timestamp_s": 1115.0}, {"text": "entries converts that array back to a map.", "timestamp": "00:18:40,581", "timestamp_s": 1120.0}, {"text": "An object, and that creates a new object.", "timestamp": "00:18:42,936", "timestamp_s": 1122.0}, {"text": "Then you have the old object in the new object.", "timestamp": "00:18:44,876", "timestamp_s": 1124.0}, {"text": "You have this array, which then gets destroyed.", "timestamp": "00:18:46,826", "timestamp_s": 1126.0}, {"text": "Same thing with map.", "timestamp": "00:18:48,806", "timestamp_s": 1128.0}, {"text": "It creates a new array and destroys the old array.", "timestamp": "00:18:49,696", "timestamp_s": 1129.0}, {"text": "why don\u0027t, why do we do that?", "timestamp": "00:18:51,966", "timestamp_s": 1131.0}, {"text": "why don\u0027t we just do things in place whenever we can.", "timestamp": "00:18:54,086", "timestamp_s": 1134.0}, {"text": "So for objects, it\u0027s difficult to do things in place because with objects.", "timestamp": "00:18:56,756", "timestamp_s": 1136.0}, {"text": "You would have to replace the keys.", "timestamp": "00:19:01,691", "timestamp_s": 1141.0}, {"text": "and that\u0027s really difficult to do.", "timestamp": "00:19:03,581", "timestamp_s": 1143.0}, {"text": "Cause you have to insert a new key, which is snake case, delete the old", "timestamp": "00:19:05,061", "timestamp_s": 1145.0}, {"text": "key, which is, camel case and so forth.", "timestamp": "00:19:08,371", "timestamp_s": 1148.0}, {"text": "It\u0027s much easier to just create an empty object, fill it in with the", "timestamp": "00:19:11,161", "timestamp_s": 1151.0}, {"text": "converted keys, And then return that.", "timestamp": "00:19:14,041", "timestamp_s": 1154.0}, {"text": "And then that is the object.", "timestamp": "00:19:16,131", "timestamp_s": 1156.0}, {"text": "So okay, yes, we\u0027re creating a new object.", "timestamp": "00:19:17,351", "timestamp_s": 1157.0}, {"text": "But in the case of an array, we can completely save ourselves that", "timestamp": "00:19:19,641", "timestamp_s": 1159.0}, {"text": "because we\u0027re not touching the keys.", "timestamp": "00:19:22,121", "timestamp_s": 1162.0}, {"text": "We\u0027re only touching the values, right?", "timestamp": "00:19:23,451", "timestamp_s": 1163.0}, {"text": "So just replace the values with the snake case ified version of themselves.", "timestamp": "00:19:25,111", "timestamp_s": 1165.0}, {"text": "And that\u0027s it.", "timestamp": "00:19:29,201", "timestamp_s": 1169.0}, {"text": "And you can still use that same array.", "timestamp": "00:19:29,651", "timestamp_s": 1169.0}, {"text": "And so when we deployed this, lo and behold, performance went from 3.", "timestamp": "00:19:32,211", "timestamp_s": 1172.0}, {"text": "6x to 6.", "timestamp": "00:19:37,151", "timestamp_s": 1177.0}, {"text": "3x.", "timestamp": "00:19:37,311", "timestamp_s": 1177.0}, {"text": "So we tripled performance again.", "timestamp": "00:19:38,391", "timestamp_s": 1178.0}, {"text": "memory consumption is very nice and flat now, but it\u0027s", "timestamp": "00:19:40,991", "timestamp_s": 1180.0}, {"text": "still hovering at around a gig.", "timestamp": "00:19:44,381", "timestamp_s": 1184.0}, {"text": "Okay.", "timestamp": "00:19:47,161", "timestamp_s": 1187.0}, {"text": "all So then break out the big guns, so to speak.", "timestamp": "00:19:47,631", "timestamp_s": 1187.0}, {"text": "this is Chrome DevTools, the memory tab, as you can see, because we\u0027re", "timestamp": "00:19:50,361", "timestamp_s": 1190.0}, {"text": "looking at memory consumption and it has this wonderful feature called a heap", "timestamp": "00:19:55,431", "timestamp_s": 1195.0}, {"text": "snapshot that you can use with Node.", "timestamp": "00:19:59,361", "timestamp_s": 1199.0}, {"text": "js.", "timestamp": "00:20:01,481", "timestamp_s": 1201.0}, {"text": "Now a heap snapshot will basically, as you might think, as you might imagine,", "timestamp": "00:20:02,831", "timestamp_s": 1202.0}, {"text": "it\u0027ll take a snapshot of the heap, i.", "timestamp": "00:20:06,611", "timestamp_s": 1206.0}, {"text": "e.", "timestamp": "00:20:08,341", "timestamp_s": 1208.0}, {"text": "it\u0027ll tell you all the objects that are on the heap at that time, by their type.", "timestamp": "00:20:08,581", "timestamp_s": 1208.0}, {"text": "And then, one of the best features here, of this tool is not only that it can", "timestamp": "00:20:14,001", "timestamp_s": 1214.0}, {"text": "take these snapshots, but if you take two of them of the same process, earlier in", "timestamp": "00:20:19,191", "timestamp_s": 1219.0}, {"text": "the process, later in the process, then, you can actually get, the difference.", "timestamp": "00:20:23,596", "timestamp_s": 1223.0}, {"text": "Like what have I created since my last snapshot?", "timestamp": "00:20:28,246", "timestamp_s": 1228.0}, {"text": "What have I destroyed since my last snapshot?", "timestamp": "00:20:30,946", "timestamp_s": 1230.0}, {"text": "And so of course you, you\u0027d want either zero or lots of", "timestamp": "00:20:33,686", "timestamp_s": 1233.0}, {"text": "negatives, but unfortunately, that\u0027s not what we were seeing.", "timestamp": "00:20:36,346", "timestamp_s": 1236.0}, {"text": "We took a snapshot at the point where the 4, 000 sockets were there, but idle.", "timestamp": "00:20:39,566", "timestamp_s": 1239.0}, {"text": "And then we took another snapshot.", "timestamp": "00:20:44,016", "timestamp_s": 1244.0}, {"text": "I\u0027m sorry.", "timestamp": "00:20:45,556", "timestamp_s": 1245.0}, {"text": "We took a, the first snapshot is where everything is idle.", "timestamp": "00:20:45,946", "timestamp_s": 1245.0}, {"text": "Node.", "timestamp": "00:20:48,626", "timestamp_s": 1248.0}, {"text": "js is just sitting there doing absolutely nothing.", "timestamp": "00:20:48,806", "timestamp_s": 1248.0}, {"text": "The second snapshot is after, the sockets were connected, but before", "timestamp": "00:20:51,346", "timestamp_s": 1251.0}, {"text": "there were any messages coming through.", "timestamp": "00:20:55,436", "timestamp_s": 1255.0}, {"text": "And the difference is, for example, among other things that some more", "timestamp": "00:20:57,776", "timestamp_s": 1257.0}, {"text": "recognizable things is that there are 261, 968 location objects.", "timestamp": "00:21:03,346", "timestamp_s": 1263.0}, {"text": "Now, what is a location object and why do we have so many of them?", "timestamp": "00:21:08,696", "timestamp_s": 1268.0}, {"text": "it turns out the location object is an artifact that is created whenever,", "timestamp": "00:21:12,291", "timestamp_s": 1272.0}, {"text": "an incoming request, such as a subscription is processed by GraphQL.", "timestamp": "00:21:18,871", "timestamp_s": 1278.0}, {"text": "It creates a syntax tree for it, an AST, and unless you ask otherwise,", "timestamp": "00:21:23,691", "timestamp_s": 1283.0}, {"text": "it will attach to each AST node, it will attach the location of that", "timestamp": "00:21:30,361", "timestamp_s": 1290.0}, {"text": "node in the original source codes, so row five, column 29, that\u0027s where", "timestamp": "00:21:34,331", "timestamp_s": 1294.0}, {"text": "something starts, some kind of token.", "timestamp": "00:21:38,951", "timestamp_s": 1298.0}, {"text": "And that token is stored in an object in the AST, and associated", "timestamp": "00:21:41,001", "timestamp_s": 1301.0}, {"text": "to that token is a location object that will allow you to go to that", "timestamp": "00:21:44,891", "timestamp_s": 1304.0}, {"text": "location and do something interesting.", "timestamp": "00:21:49,561", "timestamp_s": 1309.0}, {"text": "we\u0027re worried about, answering these queries.", "timestamp": "00:21:52,061", "timestamp_s": 1312.0}, {"text": "We\u0027re worried about giving responses to these queries.", "timestamp": "00:21:54,976", "timestamp_s": 1314.0}, {"text": "We don\u0027t actually care where in the query string, something is located.", "timestamp": "00:21:57,046", "timestamp_s": 1317.0}, {"text": "So we don\u0027t need these locations at all.", "timestamp": "00:22:02,086", "timestamp_s": 1322.0}, {"text": "And we configured the parser.", "timestamp": "00:22:04,796", "timestamp_s": 1324.0}, {"text": "We kind of monkey patched it at first, but then we found better ways.", "timestamp": "00:22:07,056", "timestamp_s": 1327.0}, {"text": "We configured it so that, we actually had to reach into subscriptions,", "timestamp": "00:22:11,086", "timestamp_s": 1331.0}, {"text": "transport WS at first and basically just tell it, okay, please don\u0027t.", "timestamp": "00:22:14,666", "timestamp_s": 1334.0}, {"text": "And I can do the same thing with a std.", "timestamp": "00:22:19,306", "timestamp_s": 1339.0}, {"text": "So I can then say, oh, where can I convert it?", "timestamp": "00:22:22,320", "timestamp_s": 1342.0}, {"text": "Or I can give it a transcription, a transaction.", "timestamp": "00:22:25,636", "timestamp_s": 1345.0}, {"text": "I can give it a transcription, a transaction.", "timestamp": "00:22:28,349", "timestamp_s": 1348.0}, {"text": "And that\u0027s basically the kind of thing that we\u0027re going to be doing.", "timestamp": "00:22:30,760", "timestamp_s": 1350.0}, {"text": "And what I mean by that is I\u0027m not going to be converting that logic into, say,", "timestamp": "00:22:34,679", "timestamp_s": 1354.0}, {"text": "a translation disk, but I\u0027m going to be converting it into a transcription", "timestamp": "00:22:39,803", "timestamp_s": 1359.0}, {"text": "of some sort of, a state definition.", "timestamp": "00:22:43,721", "timestamp_s": 1363.0}, {"text": "it didn\u0027t take very long to get through the one gig barrier.", "timestamp": "00:22:47,041", "timestamp_s": 1367.0}, {"text": "Whereas now it barely makes it to one gig.", "timestamp": "00:22:49,291", "timestamp_s": 1369.0}, {"text": "we got some performance in terms of memory consumption reduction.", "timestamp": "00:22:51,381", "timestamp_s": 1371.0}, {"text": "Great.", "timestamp": "00:22:55,011", "timestamp_s": 1375.0}, {"text": "And the execution performance hasn\u0027t really decreased.", "timestamp": "00:22:55,711", "timestamp_s": 1375.0}, {"text": "it\u0027s pretty good.", "timestamp": "00:22:59,191", "timestamp_s": 1379.0}, {"text": "In fact, If I think about it, it\u0027s actually gone up from 5.", "timestamp": "00:23:00,151", "timestamp_s": 1380.0}, {"text": "So, not so bad.", "timestamp": "00:23:04,371", "timestamp_s": 1384.0}, {"text": "but is there anything else we can do?", "timestamp": "00:23:06,651", "timestamp_s": 1386.0}, {"text": "let\u0027s see how low we can go, all So the next thing we did was we went", "timestamp": "00:23:08,051", "timestamp_s": 1388.0}, {"text": "back to the context and we\u0027re like, okay, can we lower this plateau a", "timestamp": "00:23:11,471", "timestamp_s": 1391.0}, {"text": "little more like in the idle case?", "timestamp": "00:23:14,441", "timestamp_s": 1394.0}, {"text": "Because if it\u0027s low in the idle.", "timestamp": "00:23:16,111", "timestamp_s": 1396.0}, {"text": "It\u0027s going to be proportionally lower in the case of execution,", "timestamp": "00:23:17,941", "timestamp_s": 1397.0}, {"text": "or at least most of the time.", "timestamp": "00:23:22,571", "timestamp_s": 1402.0}, {"text": "we realized that in addition to backends, the other thing on our context is", "timestamp": "00:23:24,241", "timestamp_s": 1404.0}, {"text": "something called data loaders and primers.", "timestamp": "00:23:29,361", "timestamp_s": 1409.0}, {"text": "So a data loader is basically just a kind of a backend where, you ask it for a bunch", "timestamp": "00:23:31,621", "timestamp_s": 1411.0}, {"text": "of things and you ask it one at a time.", "timestamp": "00:23:38,581", "timestamp_s": 1418.0}, {"text": "And it pretends to answer right away.", "timestamp": "00:23:40,521", "timestamp_s": 1420.0}, {"text": "But really, one of its most important features is that it batches those", "timestamp": "00:23:42,921", "timestamp_s": 1422.0}, {"text": "requests and then it issues a single backend call saying, give me all of", "timestamp": "00:23:46,661", "timestamp_s": 1426.0}, {"text": "these things, if the backend is capable.", "timestamp": "00:23:52,101", "timestamp_s": 1432.0}, {"text": "And then when the backend responds, it doles out the various objects that it was", "timestamp": "00:23:54,401", "timestamp_s": 1434.0}, {"text": "requested to, to provide as they come in.", "timestamp": "00:23:58,931", "timestamp_s": 1438.0}, {"text": "And so it\u0027s a great tool for avoiding N plus one situations.", "timestamp": "00:24:02,531", "timestamp_s": 1442.0}, {"text": "And we have lots of them.", "timestamp": "00:24:07,191", "timestamp_s": 1447.0}, {"text": "Like we, we load, we use data loaders for lots of different things.", "timestamp": "00:24:08,251", "timestamp_s": 1448.0}, {"text": "and we have 50 of them and primers, which prime the data loaders when", "timestamp": "00:24:12,331", "timestamp_s": 1452.0}, {"text": "the execution knows that it\u0027s going to subsequently need that data.", "timestamp": "00:24:15,971", "timestamp_s": 1455.0}, {"text": "of those we have even more.", "timestamp": "00:24:19,651", "timestamp_s": 1459.0}, {"text": "and we store them all like this.", "timestamp": "00:24:21,541", "timestamp_s": 1461.0}, {"text": "the name of the loader and then the function that creates the loader,", "timestamp": "00:24:23,851", "timestamp_s": 1463.0}, {"text": "then the name of the loader and the function that creates the loader.", "timestamp": "00:24:27,101", "timestamp_s": 1467.0}, {"text": "and the result of these function calls is always an object.", "timestamp": "00:24:29,581", "timestamp_s": 1469.0}, {"text": "And so again, we were in the same situation as with backends, where", "timestamp": "00:24:32,751", "timestamp_s": 1472.0}, {"text": "we were creating like hundreds of these objects, if not thousands,", "timestamp": "00:24:35,291", "timestamp_s": 1475.0}, {"text": "for the data loaders, and for the primers for every single context.", "timestamp": "00:24:38,441", "timestamp_s": 1478.0}, {"text": "But unlike the backends, this required a little more subtle solution to, to", "timestamp": "00:24:42,851", "timestamp_s": 1482.0}, {"text": "transform into a lazy object because, it\u0027s a much bigger sort of object", "timestamp": "00:24:47,711", "timestamp_s": 1487.0}, {"text": "and it\u0027s constructed statically.", "timestamp": "00:24:52,591", "timestamp_s": 1492.0}, {"text": "So the backends, they\u0027re actually constructed in a loop, but this", "timestamp": "00:24:55,021", "timestamp_s": 1495.0}, {"text": "object is literally just a big giant object literal declaration.", "timestamp": "00:24:58,061", "timestamp_s": 1498.0}, {"text": "And so we didn\u0027t want to turn this into like complicated code", "timestamp": "00:25:02,291", "timestamp_s": 1502.0}, {"text": "that looks like this, right?", "timestamp": "00:25:05,261", "timestamp_s": 1505.0}, {"text": "while at the same time, wanting that, that laziness about it", "timestamp": "00:25:06,791", "timestamp_s": 1506.0}, {"text": "so that we might save memory.", "timestamp": "00:25:10,091", "timestamp_s": 1510.0}, {"text": "And so what we did since we\u0027re, since, as I explained earlier, we run", "timestamp": "00:25:12,211", "timestamp_s": 1512.0}, {"text": "through these build steps to convert things and run Babel on them and so", "timestamp": "00:25:15,831", "timestamp_s": 1515.0}, {"text": "forth until it\u0027s just one big file.", "timestamp": "00:25:19,301", "timestamp_s": 1519.0}, {"text": "Babel has these things called plugins.", "timestamp": "00:25:21,421", "timestamp_s": 1521.0}, {"text": "So why don\u0027t we make a that takes one of these objects and turns it into.", "timestamp": "00:25:23,131", "timestamp_s": 1523.0}, {"text": "In the end, the output of the package starts from the statement,", "timestamp": "00:25:27,461", "timestamp_s": 1527.0}, {"text": "which is something like this, which is the name of the parameter,", "timestamp": "00:25:29,872", "timestamp_s": 1529.0}, {"text": "which is the name of the function, which is the name of the function.", "timestamp": "00:25:32,284", "timestamp_s": 1532.0}, {"text": "This is the number, which is the value of this specific function.", "timestamp": "00:25:35,097", "timestamp_s": 1535.0}, {"text": "So it\u0027s basically the name of the function.", "timestamp": "00:25:37,508", "timestamp_s": 1537.0}, {"text": "Every function that you have in the database, and the name of the function,", "timestamp": "00:25:39,115", "timestamp_s": 1539.0}, {"text": "which are actually one of the properties in this object is actually primers,", "timestamp": "00:25:41,928", "timestamp_s": 1541.0}, {"text": "which itself is a, lazy object.", "timestamp": "00:25:46,371", "timestamp_s": 1546.0}, {"text": "So it gets complicated quickly.", "timestamp": "00:25:48,851", "timestamp_s": 1548.0}, {"text": "And so better, better to use that Babel plugin.", "timestamp": "00:25:50,781", "timestamp_s": 1550.0}, {"text": "And so the Babel plugin works like this.", "timestamp": "00:25:53,081", "timestamp_s": 1553.0}, {"text": "It looks for instances of proxy.", "timestamp": "00:25:54,671", "timestamp_s": 1554.0}, {"text": "lazy in the code.", "timestamp": "00:25:56,951", "timestamp_s": 1556.0}, {"text": "which, proxy is a perfectly valid, JavaScript or ECMA script, specified,", "timestamp": "00:25:58,621", "timestamp_s": 1558.0}, {"text": "global, but that global doesn\u0027t have a static function called lazy.", "timestamp": "00:26:04,121", "timestamp_s": 1564.0}, {"text": "That\u0027s fictitious that we invented that function, right?", "timestamp": "00:26:07,871", "timestamp_s": 1567.0}, {"text": "But with Babel, that can be turned into quote unquote, a real function by virtue", "timestamp": "00:26:10,841", "timestamp_s": 1570.0}, {"text": "of the fact that, we create code to satisfy this and to turn this into an", "timestamp": "00:26:15,881", "timestamp_s": 1575.0}, {"text": "object literal, that is really a proxy.", "timestamp": "00:26:20,531", "timestamp_s": 1580.0}, {"text": "so that\u0027s basically our excuse is to find this word lazy here.", "timestamp": "00:26:22,541", "timestamp_s": 1582.0}, {"text": "And so that\u0027s our hook actually.", "timestamp": "00:26:26,261", "timestamp_s": 1586.0}, {"text": "And okay.", "timestamp": "00:26:28,601", "timestamp_s": 1588.0}, {"text": "So then that turns the code into something like this, where if you\u0027re asking for", "timestamp": "00:26:29,051", "timestamp_s": 1589.0}, {"text": "key one, then you call function one, if you\u0027re asking for key two, you call", "timestamp": "00:26:33,201", "timestamp_s": 1593.0}, {"text": "function two, but you also memoize, right?", "timestamp": "00:26:35,831", "timestamp_s": 1595.0}, {"text": "So originally.", "timestamp": "00:26:38,601", "timestamp_s": 1598.0}, {"text": "You have all the keys because the object still has to look", "timestamp": "00:26:40,596", "timestamp_s": 1600.0}, {"text": "like it has all the keys, right?", "timestamp": "00:26:43,896", "timestamp_s": 1603.0}, {"text": "But each key has only like this the symbol assigned to it, which is one", "timestamp": "00:26:45,386", "timestamp_s": 1605.0}, {"text": "symbol that is getting reused for all keys Instead of having one symbol per key", "timestamp": "00:26:49,876", "timestamp_s": 1609.0}, {"text": "that\u0027s a big savings while not affecting the look and feel of the object And", "timestamp": "00:26:54,586", "timestamp_s": 1614.0}, {"text": "then when, you want one of these data loaders, then you just ask for the key.", "timestamp": "00:26:59,526", "timestamp_s": 1619.0}, {"text": "It checks, Oh, geez, the key is a, is one of these symbols, then I better create it.", "timestamp": "00:27:04,036", "timestamp_s": 1624.0}, {"text": "So it creates it and then it replaces the symbol with the", "timestamp": "00:27:07,956", "timestamp_s": 1627.0}, {"text": "result of the function call, i.", "timestamp": "00:27:10,536", "timestamp_s": 1630.0}, {"text": "e.", "timestamp": "00:27:12,206", "timestamp_s": 1632.0}, {"text": "memorization.", "timestamp": "00:27:12,366", "timestamp_s": 1632.0}, {"text": "and that\u0027s it.", "timestamp": "00:27:13,636", "timestamp_s": 1633.0}, {"text": "And let\u0027s see what ha what happened when we did that.", "timestamp": "00:27:15,056", "timestamp_s": 1635.0}, {"text": "we did another thing first too.", "timestamp": "00:27:17,186", "timestamp_s": 1637.0}, {"text": "we introduced a query cache.", "timestamp": "00:27:18,916", "timestamp_s": 1638.0}, {"text": "Because, we didn\u0027t want to have 4, 000 copies of an AST if we could", "timestamp": "00:27:20,726", "timestamp_s": 1640.0}, {"text": "avoid it, why not just have one copy?", "timestamp": "00:27:24,446", "timestamp_s": 1644.0}, {"text": "And we also added, JITing, which basically creates a function for every,", "timestamp": "00:27:26,161", "timestamp_s": 1646.0}, {"text": "document, every AST that comes in.", "timestamp": "00:27:32,301", "timestamp_s": 1652.0}, {"text": "It creates a function, which when called will have exactly the same", "timestamp": "00:27:34,571", "timestamp_s": 1654.0}, {"text": "effect as if you had called execute with that particular AST only this", "timestamp": "00:27:38,631", "timestamp_s": 1658.0}, {"text": "being a single JavaScript function, created from like a string that happens", "timestamp": "00:27:43,471", "timestamp_s": 1663.0}, {"text": "to be valid JavaScript, that is very carefully constructed to, to execute.", "timestamp": "00:27:48,091", "timestamp_s": 1668.0}, {"text": "the JavaScript engine can optimize that it can actually turn it into native code.", "timestamp": "00:27:51,036", "timestamp_s": 1671.0}, {"text": "So it really has a very good chance of being running as native code rather than,", "timestamp": "00:27:55,956", "timestamp_s": 1675.0}, {"text": "lots of interpretations and then jumping around on the AST and all that stuff.", "timestamp": "00:28:00,886", "timestamp_s": 1680.0}, {"text": "So what we did was, okay, we introduced a cache when the query comes in and we", "timestamp": "00:28:06,466", "timestamp_s": 1686.0}, {"text": "parse it, we create this compilation artifact for it And then when it\u0027s", "timestamp": "00:28:10,176", "timestamp_s": 1690.0}, {"text": "time to execute the query, we grab the compilation artifact from the AST", "timestamp": "00:28:16,176", "timestamp_s": 1696.0}, {"text": "upon which we stored it during parse.", "timestamp": "00:28:21,196", "timestamp_s": 1701.0}, {"text": "And, if for some reason during parse, the creation of the compilation", "timestamp": "00:28:23,706", "timestamp_s": 1703.0}, {"text": "artifact failed, no big deal.", "timestamp": "00:28:26,706", "timestamp_s": 1706.0}, {"text": "We\u0027ll just go back and run the query the old fashioned way.", "timestamp": "00:28:28,486", "timestamp_s": 1708.0}, {"text": "Otherwise we\u0027ll run a JIT and it\u0027ll be faster.", "timestamp": "00:28:31,086", "timestamp_s": 1711.0}, {"text": "So with these two things put together, this is what we achieved.", "timestamp": "00:28:33,946", "timestamp_s": 1713.0}, {"text": "So we went from this guy to this guy.", "timestamp": "00:28:37,926", "timestamp_s": 1717.0}, {"text": "Again, perfect memory savings, right?", "timestamp": "00:28:43,841", "timestamp_s": 1723.0}, {"text": "The, this plateau genuinely got lower.", "timestamp": "00:28:46,001", "timestamp_s": 1726.0}, {"text": "and look at the difference between the original plateau and this plateau.", "timestamp": "00:28:48,391", "timestamp_s": 1728.0}, {"text": "Like it, it\u0027s substantially less.", "timestamp": "00:28:51,441", "timestamp_s": 1731.0}, {"text": "Like we went from 600 megs to 300 megs.", "timestamp": "00:28:53,581", "timestamp_s": 1733.0}, {"text": "we have the idle consumption.", "timestamp": "00:28:56,111", "timestamp_s": 1736.0}, {"text": "performance unaffected essentially and much lower memory.", "timestamp": "00:28:58,851", "timestamp_s": 1738.0}, {"text": "we got some ways towards our goal and that\u0027s, the scope of this presentation.", "timestamp": "00:29:02,221", "timestamp_s": 1742.0}, {"text": "things have happened since then.", "timestamp": "00:29:07,721", "timestamp_s": 1747.0}, {"text": "And, one of the future directions here was to upgrade packages and believe", "timestamp": "00:29:09,541", "timestamp_s": 1749.0}, {"text": "it or not, that actually solved the problem for us because it turns out", "timestamp": "00:29:13,541", "timestamp_s": 1753.0}, {"text": "that we did have a package in the mix in, in, in our supply chain that", "timestamp": "00:29:17,001", "timestamp_s": 1757.0}, {"text": "was basically, wasteful with memory.", "timestamp": "00:29:20,691", "timestamp_s": 1760.0}, {"text": "And then after switching to yarn four, whereupon we upgraded all our", "timestamp": "00:29:23,971", "timestamp_s": 1763.0}, {"text": "dependencies, that package either got, shoved aside because some of the", "timestamp": "00:29:29,156", "timestamp_s": 1769.0}, {"text": "package got hoisted instead, or some of the version of the package got hoisted", "timestamp": "00:29:33,646", "timestamp_s": 1773.0}, {"text": "instead, either way, Yarn 4 got rid of a lot of our, duplicate dependencies in", "timestamp": "00:29:37,126", "timestamp_s": 1777.0}, {"text": "terms of same package, different versions, and somehow a newer version ended up and.", "timestamp": "00:29:41,336", "timestamp_s": 1781.0}, {"text": "it solved the problem.", "timestamp": "00:29:47,301", "timestamp_s": 1787.0}, {"text": "But that doesn\u0027t mean that these future directions for any sort", "timestamp": "00:29:48,661", "timestamp_s": 1788.0}, {"text": "of, memory consumption reduction aren\u0027t a good idea, right?", "timestamp": "00:29:51,141", "timestamp_s": 1791.0}, {"text": "So using heap diffs, see what else we can shave off.", "timestamp": "00:29:55,451", "timestamp_s": 1795.0}, {"text": "We could still, just because a problem doesn\u0027t happen", "timestamp": "00:29:59,441", "timestamp_s": 1799.0}, {"text": "anymore, we don\u0027t have restarts.", "timestamp": "00:30:02,261", "timestamp_s": 1802.0}, {"text": "That doesn\u0027t mean that, you can\u0027t improve memory consumption.", "timestamp": "00:30:03,541", "timestamp_s": 1803.0}, {"text": "It\u0027s never a bad idea.", "timestamp": "00:30:05,591", "timestamp_s": 1805.0}, {"text": "Promise objects.", "timestamp": "00:30:07,041", "timestamp_s": 1807.0}, {"text": "Okay.", "timestamp": "00:30:08,331", "timestamp_s": 1808.0}, {"text": "I didn\u0027t really cover this in this talk, but basically we found that.", "timestamp": "00:30:08,591", "timestamp_s": 1808.0}, {"text": "if you treat promises and primitives, equally, then you\u0027re going to end up", "timestamp": "00:30:12,746", "timestamp_s": 1812.0}, {"text": "with a lot of extra code that, that gets executed, and a lot of memory", "timestamp": "00:30:17,086", "timestamp_s": 1817.0}, {"text": "because all these promise objects need to live somewhere that, that", "timestamp": "00:30:21,236", "timestamp_s": 1821.0}, {"text": "gets used that doesn\u0027t need to.", "timestamp": "00:30:24,136", "timestamp_s": 1824.0}, {"text": "So for example, if you have something like.", "timestamp": "00:30:25,076", "timestamp_s": 1825.0}, {"text": "Await function call, and that function call returns something,", "timestamp": "00:30:26,781", "timestamp_s": 1826.0}, {"text": "anything other than a promise.", "timestamp": "00:30:30,011", "timestamp_s": 1830.0}, {"text": "If it returns a number five, then you don\u0027t want to await that function call.", "timestamp": "00:30:31,361", "timestamp_s": 1831.0}, {"text": "You only want to call a wait on a function or dot then or whatever.", "timestamp": "00:30:34,681", "timestamp_s": 1834.0}, {"text": "If you can be absolutely a hundred percent sure that function", "timestamp": "00:30:38,831", "timestamp_s": 1838.0}, {"text": "is going to return a promise.", "timestamp": "00:30:41,711", "timestamp_s": 1841.0}, {"text": "If not, then just call it directly.", "timestamp": "00:30:42,691", "timestamp_s": 1842.0}, {"text": "Don\u0027t use await because that creates like three promises every time you use await.", "timestamp": "00:30:44,521", "timestamp_s": 1844.0}, {"text": "so that, that will save you memory and it\u0027ll save you execution time.", "timestamp": "00:30:49,281", "timestamp_s": 1849.0}, {"text": "Upgrading packages, like I said, That did it for us.", "timestamp": "00:30:52,901", "timestamp_s": 1852.0}, {"text": "And, this is still good.", "timestamp": "00:30:55,811", "timestamp_s": 1855.0}, {"text": "creating a realistic subscriptions load test, not just one", "timestamp": "00:30:57,381", "timestamp_s": 1857.0}, {"text": "message, have multiple messages.", "timestamp": "00:30:59,781", "timestamp_s": 1859.0}, {"text": "So you have some heterogeneity, in your workload.", "timestamp": "00:31:01,321", "timestamp_s": 1861.0}, {"text": "yeah, we can still do these things, but of course the impetus now is", "timestamp": "00:31:05,521", "timestamp_s": 1865.0}, {"text": "a lot less than it used to be.", "timestamp": "00:31:09,721", "timestamp_s": 1869.0}, {"text": "so these are some of the insights that we gained.", "timestamp": "00:31:11,671", "timestamp_s": 1871.0}, {"text": "choose very carefully what you attach to your context.", "timestamp": "00:31:14,111", "timestamp_s": 1874.0}, {"text": "That\u0027s never a bad idea.", "timestamp": "00:31:16,221", "timestamp_s": 1876.0}, {"text": "keep your context lean.", "timestamp": "00:31:18,201", "timestamp_s": 1878.0}, {"text": "and by the way, some of these insights, they apply to request response graph", "timestamp": "00:31:19,271", "timestamp_s": 1879.0}, {"text": "as well, not just to subscriptions.", "timestamp": "00:31:23,231", "timestamp_s": 1883.0}, {"text": "Like the fact that we made all these things lazy, reduce memory consumption", "timestamp": "00:31:24,461", "timestamp_s": 1884.0}, {"text": "on the request response side as well, not just the WebSocket side.", "timestamp": "00:31:27,801", "timestamp_s": 1887.0}, {"text": "So it\u0027s generally not a bad idea to, to have a lean context for graph execution.", "timestamp": "00:31:31,671", "timestamp_s": 1891.0}, {"text": "then, Execution efficiency and memory usage efficiency", "timestamp": "00:31:36,821", "timestamp_s": 1896.0}, {"text": "are not entirely orthogonal.", "timestamp": "00:31:40,451", "timestamp_s": 1900.0}, {"text": "Like we saw, we improved execution efficiency and memory consumption", "timestamp": "00:31:41,611", "timestamp_s": 1901.0}, {"text": "actually went up instead of stay, staying where it was.", "timestamp": "00:31:45,181", "timestamp_s": 1905.0}, {"text": "so yeah, they\u0027re not, yeah, they\u0027re not independent.", "timestamp": "00:31:48,721", "timestamp_s": 1908.0}, {"text": "they are related, which can be related in a positive way or a negative way.", "timestamp": "00:31:52,601", "timestamp_s": 1912.0}, {"text": "So improving execution efficiency is never a bad idea, but if it kills your memory", "timestamp": "00:31:56,801", "timestamp_s": 1916.0}, {"text": "consumption, then, you might want to think twice about it or find out why, of course.", "timestamp": "00:32:00,431", "timestamp_s": 1920.0}, {"text": "Yeah.", "timestamp": "00:32:04,191", "timestamp_s": 1924.0}, {"text": "node clinic I mentioned earlier, it\u0027s great for improving execution efficiency.", "timestamp": "00:32:04,991", "timestamp_s": 1924.0}, {"text": "And as a result of the previous statement, maybe memory consumption, efficiency,", "timestamp": "00:32:10,146", "timestamp_s": 1930.0}, {"text": "but definitely execution efficiency.", "timestamp": "00:32:15,236", "timestamp_s": 1935.0}, {"text": "it, it does a great job showing you, okay, there\u0027s a huge plateau here.", "timestamp": "00:32:17,736", "timestamp_s": 1937.0}, {"text": "You keep calling this function.", "timestamp": "00:32:21,176", "timestamp_s": 1941.0}, {"text": "Why?", "timestamp": "00:32:22,366", "timestamp_s": 1942.0}, {"text": "Stop calling it or, make it more efficient.", "timestamp": "00:32:23,436", "timestamp_s": 1943.0}, {"text": "It really points squarely at the culprit.", "timestamp": "00:32:25,246", "timestamp_s": 1945.0}, {"text": "and then heap snapshots came in very handy.", "timestamp": "00:32:28,466", "timestamp_s": 1948.0}, {"text": "especially the differential ones, because, they pointed squarely at the thing that", "timestamp": "00:32:31,366", "timestamp_s": 1951.0}, {"text": "you could remove, we don\u0027t need this.", "timestamp": "00:32:35,116", "timestamp_s": 1955.0}, {"text": "Goodbye.", "timestamp": "00:32:37,236", "timestamp_s": 1957.0}, {"text": "it\u0027s a great tool for that.", "timestamp": "00:32:38,086", "timestamp_s": 1958.0}, {"text": "All right.", "timestamp": "00:32:39,696", "timestamp_s": 1959.0}, {"text": "That concludes my presentation.", "timestamp": "00:32:40,026", "timestamp_s": 1960.0}, {"text": "If you have any questions, I think we have a means of answering them, but, either", "timestamp": "00:32:41,556", "timestamp_s": 1961.0}, {"text": "way, thank you so much for your attention.", "timestamp": "00:32:45,556", "timestamp_s": 1965.0}];
              

              var tag = document.createElement('script');

              tag.src = "https://www.youtube.com/iframe_api";
              var firstScriptTag = document.getElementsByTagName('script')[0];
              firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

              // 3. This function creates an <iframe> (and YouTube player)
              //    after the API code downloads.
              var player;
              function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                  height: '100%',
                  width: '100%',
                  videoId: '96mm86QVmtg',
                  playerVars: {
                    'playsinline': 1
                  },
                  events: {
                    'onReady': onPlayerReady,
                    // 'onStateChange': onPlayerStateChange
                  }
                });
              }
              function onPlayerReady(event) {
                console.log("Player ready");
                var sec = Number(location.href.split("#")[1]);
                if (sec){
                  player.seekTo(sec, true);
                }
                player.playVideo();
                highlightParagraph();
              }
              // find the number of the paragraph
              function findParagraph(sec){
                for (var i = 1; i < transcript.length; i++) {
                  if (transcript[i].timestamp_s > sec){
                    return i - 1;
                  }
                }
                return transcript.length - 1;
              }
              // move the video to the desired second
              function seek(sec){
                if(player){
                  player.playVideo();
                  player.seekTo(sec, true);
                }
                location.href = location.href.split("#")[0] + "#" + sec;
                highlightParagraph(sec);
              }
              // highlight the right paragraph
              var prevParagraph;
              function highlightParagraph(sec) {
                var currentTime = sec;
                if (!currentTime && player) {
                  currentTime = player.getCurrentTime();
                }
                if (!currentTime){
                  console.log("No current time")
                  return;
                }
                var currentParagraph = findParagraph(currentTime);
                if (currentParagraph !== prevParagraph){
                  prevParagraph = currentParagraph;
                  Array.from(document.getElementsByClassName("transcript-chunks")).forEach((e) => {
                    e.classList.remove('text-selected');
                  });
                  var body = document.getElementById("chunk-"+currentParagraph);
                  body.classList.add('text-selected');
                }
              }
              time_update_interval = setInterval(highlightParagraph, 1000);
            </script>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>
    

    <!-- CONTENT -->
    <section class="pt-2">
      <div class="container">
        <div class="row justify-content-center">

          <div class="col-12 mb-5">
            <h1>
              In Memory Of Travails
            </h1>
            
            <h3 class="bg-white">
              Video size:
              <a href="javascript:void(0);" onclick="resizeVideo(25)"><i class="fe fe-zoom-out me-2"></i></a>
              <a href="javascript:void(0);" onclick="resizeVideo(50)"><i class="fe fe-zoom-in me-2"></i></a>
            </h3>
            
          </div>

          <div class="col-12 mb-5">
            <h3>
              Abstract
            </h3>
<!-- Text -->
<p>Ride along on the rollercoaster of improving the performance of the Auction.com graph service, our coherent interface between all our backend services and our clients. Watch as an onslaught of heap profile diffs, flame graphs, and async_hooks lead to a better, more performant graph.</p>
<!-- End Text -->
          </div>

          
          

          <div class="col-12 mb-5">
            <h3>
              Summary
            </h3>
            <ul>
              
            </ul>
          </div>

          <div class="col-12 mb-5">
            <h3>
              Transcript
            </h3>
            <span class="text-muted">
              This transcript was autogenerated. To make changes, <a href="https://github.com/conf42/src/edit/main/./srt/js2024_Gabriel_Schulhof.srt" target="_blank">submit a PR</a>.
            </span>
            <div>
            
            <span id="chunk-0" class="transcript-chunks" onclick="console.log('00:00:00,190'); seek(0.0)">
              Hello, my name is Gabriel Schulhoff, and I'll be talking about how we improved
            </span>
            
            <span id="chunk-1" class="transcript-chunks" onclick="console.log('00:00:04,370'); seek(4.0)">
              the performance of resolvers at auction.
            </span>
            
            <span id="chunk-2" class="transcript-chunks" onclick="console.log('00:00:06,940'); seek(6.0)">
              com's subscription service.
            </span>
            
            <span id="chunk-3" class="transcript-chunks" onclick="console.log('00:00:09,269'); seek(9.0)">
              The problem we faced was that, in the course of operations, the Node.
            </span>
            
            <span id="chunk-4" class="transcript-chunks" onclick="console.log('00:00:14,870'); seek(14.0)">
              js process would, reach its heap limit.
            </span>
            
            <span id="chunk-5" class="transcript-chunks" onclick="console.log('00:00:17,830'); seek(17.0)">
              so the heap is a data structure that the JavaScript engine maintains.
            </span>
            
            <span id="chunk-6" class="transcript-chunks" onclick="console.log('00:00:22,570'); seek(22.0)">
              and it imposes a limit on it, which can be configured, but of course you
            </span>
            
            <span id="chunk-7" class="transcript-chunks" onclick="console.log('00:00:27,130'); seek(27.0)">
              cannot use an infinite amount of heap.
            </span>
            
            <span id="chunk-8" class="transcript-chunks" onclick="console.log('00:00:29,900'); seek(29.0)">
              So we have it configured to two gigs or so, and it was reaching that limit.
            </span>
            
            <span id="chunk-9" class="transcript-chunks" onclick="console.log('00:00:34,040'); seek(34.0)">
              And, that was a problem.
            </span>
            
            <span id="chunk-10" class="transcript-chunks" onclick="console.log('00:00:35,340'); seek(35.0)">
              So this is the story of how we tried different things and we
            </span>
            
            <span id="chunk-11" class="transcript-chunks" onclick="console.log('00:00:40,990'); seek(40.0)">
              managed to knock it down a bit.
            </span>
            
            <span id="chunk-12" class="transcript-chunks" onclick="console.log('00:00:42,940'); seek(42.0)">
              So the background, at auction.
            </span>
            
            <span id="chunk-13" class="transcript-chunks" onclick="console.log('00:00:45,620'); seek(45.0)">
              com, we have a GraphQL service that serves pretty much.
            </span>
            
            <span id="chunk-14" class="transcript-chunks" onclick="console.log('00:00:50,830'); seek(50.0)">
              Like 85 percent of the client's needs.
            </span>
            
            <span id="chunk-15" class="transcript-chunks" onclick="console.log('00:00:54,060'); seek(54.0)">
              There are a few places where, clients issue requests to services
            </span>
            
            <span id="chunk-16" class="transcript-chunks" onclick="console.log('00:00:58,000'); seek(58.0)">
              other than graph, but 85 percent of the time it goes to graph and
            </span>
            
            <span id="chunk-17" class="transcript-chunks" onclick="console.log('00:01:02,040'); seek(62.0)">
              we have request response type.
            </span>
            
            <span id="chunk-18" class="transcript-chunks" onclick="console.log('00:01:04,010'); seek(64.0)">
              operations with Graphen.
            </span>
            
            <span id="chunk-19" class="transcript-chunks" onclick="console.log('00:01:05,670'); seek(65.0)">
              We also have WebSockets, which serve subscriptions.
            </span>
            
            <span id="chunk-20" class="transcript-chunks" onclick="console.log('00:01:09,050'); seek(69.0)">
              The subscriptions themselves, are mostly not all of them.
            </span>
            
            <span id="chunk-21" class="transcript-chunks" onclick="console.log('00:01:12,610'); seek(72.0)">
              some subscriptions, have different content, but most of them are
            </span>
            
            <span id="chunk-22" class="transcript-chunks" onclick="console.log('00:01:15,970'); seek(75.0)">
              basically, rebroadcast Kafka messages coming from the background.
            </span>
            
            <span id="chunk-23" class="transcript-chunks" onclick="console.log('00:01:20,230'); seek(80.0)">
              And for those messages, we perform some transformations and then we send them to
            </span>
            
            <span id="chunk-24" class="transcript-chunks" onclick="console.log('00:01:24,370'); seek(84.0)">
              Redis and if Redis decides that we have subscribers, then it sends it back to us.
            </span>
            
            <span id="chunk-25" class="transcript-chunks" onclick="console.log('00:01:30,750'); seek(90.0)">
              And the reason for that is obviously because we have multiple pods in, Redis.
            </span>
            
            <span id="chunk-26" class="transcript-chunks" onclick="console.log('00:01:34,500'); seek(94.0)">
              in production and the Kafka sends the message to only one of those pods.
            </span>
            
            <span id="chunk-27" class="transcript-chunks" onclick="console.log('00:01:39,490'); seek(99.0)">
              And so if that pod happens not to have any subscribers for that particular
            </span>
            
            <span id="chunk-28" class="transcript-chunks" onclick="console.log('00:01:42,540'); seek(102.0)">
              message, but some other pod does, then we need Redis to regulate this.
            </span>
            
            <span id="chunk-29" class="transcript-chunks" onclick="console.log('00:01:46,500'); seek(106.0)">
              to reproduce this out of memory condition or rather to investigate Ways
            </span>
            
            <span id="chunk-30" class="transcript-chunks" onclick="console.log('00:01:51,920'); seek(111.0)">
              of, reducing memory consumption and, just improving performance in general.
            </span>
            
            <span id="chunk-31" class="transcript-chunks" onclick="console.log('00:01:56,670'); seek(116.0)">
              what I did was to set everything up locally on my Mac.
            </span>
            
            <span id="chunk-32" class="transcript-chunks" onclick="console.log('00:02:00,380'); seek(120.0)">
              Namely, I ran a broker locally, I ran graph locally, I connected 4,
            </span>
            
            <span id="chunk-33" class="transcript-chunks" onclick="console.log('00:02:06,800'); seek(126.0)">
              000 WebSockets locally, and then I used KCAD to basically flood,
            </span>
            
            <span id="chunk-34" class="transcript-chunks" onclick="console.log('00:02:10,600'); seek(130.0)">
              the graph with Kafka messages.
            </span>
            
            <span id="chunk-35" class="transcript-chunks" onclick="console.log('00:02:13,180'); seek(133.0)">
              There was only one message, but.
            </span>
            
            <span id="chunk-36" class="transcript-chunks" onclick="console.log('00:02:14,600'); seek(134.0)">
              just sent it repeatedly and see what, see where it gets hung up
            </span>
            
            <span id="chunk-37" class="transcript-chunks" onclick="console.log('00:02:18,190'); seek(138.0)">
              and what uses all that memory.
            </span>
            
            <span id="chunk-38" class="transcript-chunks" onclick="console.log('00:02:20,340'); seek(140.0)">
              All right.
            </span>
            
            <span id="chunk-39" class="transcript-chunks" onclick="console.log('00:02:20,740'); seek(140.0)">
              So this is what I measured at first.
            </span>
            
            <span id="chunk-40" class="transcript-chunks" onclick="console.log('00:02:22,990'); seek(142.0)">
              When I first tried this, I broke down the measurement into three different phases.
            </span>
            
            <span id="chunk-41" class="transcript-chunks" onclick="console.log('00:02:27,790'); seek(147.0)">
              The first one is just like run graph.
            </span>
            
            <span id="chunk-42" class="transcript-chunks" onclick="console.log('00:02:31,160'); seek(151.0)">
              And that's it, just node and graph, no sockets, no activity, nothing.
            </span>
            
            <span id="chunk-43" class="transcript-chunks" onclick="console.log('00:02:35,580'); seek(155.0)">
              Then, in the second phase, I connected 4, 000 sockets, and you can see that
            </span>
            
            <span id="chunk-44" class="transcript-chunks" onclick="console.log('00:02:39,540'); seek(159.0)">
              the memory consumption increased.
            </span>
            
            <span id="chunk-45" class="transcript-chunks" onclick="console.log('00:02:41,475'); seek(161.0)">
              And then leveled off to accommodate 4, 000 idle sockets.
            </span>
            
            <span id="chunk-46" class="transcript-chunks" onclick="console.log('00:02:44,985'); seek(164.0)">
              so this is the overhead of maintaining 4, 000 sockets.
            </span>
            
            <span id="chunk-47" class="transcript-chunks" onclick="console.log('00:02:48,735'); seek(168.0)">
              And then two minutes later, I started sending messages for the next four minutes
            </span>
            
            <span id="chunk-48" class="transcript-chunks" onclick="console.log('00:02:53,085'); seek(173.0)">
              and measured how many messages, were, received or it was able to receive and
            </span>
            
            <span id="chunk-49" class="transcript-chunks" onclick="console.log('00:02:58,985'); seek(178.0)">
              how many messages it was able to send out.
            </span>
            
            <span id="chunk-50" class="transcript-chunks" onclick="console.log('00:03:01,835'); seek(181.0)">
              And these are the results.
            </span>
            
            <span id="chunk-51" class="transcript-chunks" onclick="console.log('00:03:03,325'); seek(183.0)">
              It's not very good.
            </span>
            
            <span id="chunk-52" class="transcript-chunks" onclick="console.log('00:03:04,315'); seek(184.0)">
              16 Kafka messages in four minutes.
            </span>
            
            <span id="chunk-53" class="transcript-chunks" onclick="console.log('00:03:06,265'); seek(186.0)">
              That's not very good.
            </span>
            
            <span id="chunk-54" class="transcript-chunks" onclick="console.log('00:03:07,205'); seek(187.0)">
              That's 15 seconds processing a single message and sending
            </span>
            
            <span id="chunk-55" class="transcript-chunks" onclick="console.log('00:03:10,495'); seek(190.0)">
              it out to 4, 000 clients.
            </span>
            
            <span id="chunk-56" class="transcript-chunks" onclick="console.log('00:03:12,375'); seek(192.0)">
              We need to do better.
            </span>
            
            <span id="chunk-57" class="transcript-chunks" onclick="console.log('00:03:14,185'); seek(194.0)">
              And so what did we do to make things better, both memory
            </span>
            
            <span id="chunk-58" class="transcript-chunks" onclick="console.log('00:03:16,865'); seek(196.0)">
              wise and, performance wise?
            </span>
            
            <span id="chunk-59" class="transcript-chunks" onclick="console.log('00:03:19,125'); seek(199.0)">
              So memory wise, the first thing that we noticed was that,
            </span>
            
            <span id="chunk-60" class="transcript-chunks" onclick="console.log('00:03:22,145'); seek(202.0)">
              this being GraphQL, right?
            </span>
            
            <span id="chunk-61" class="transcript-chunks" onclick="console.log('00:03:23,905'); seek(203.0)">
              Answering, the subscription with a single, response means
            </span>
            
            <span id="chunk-62" class="transcript-chunks" onclick="console.log('00:03:29,255'); seek(209.0)">
              executing GraphQL, GraphQL, right?
            </span>
            
            <span id="chunk-63" class="transcript-chunks" onclick="console.log('00:03:31,855'); seek(211.0)">
              Performing a GraphQL execution.
            </span>
            
            <span id="chunk-64" class="transcript-chunks" onclick="console.log('00:03:33,365'); seek(213.0)">
              Now, every GraphQL execution has an associated context.
            </span>
            
            <span id="chunk-65" class="transcript-chunks" onclick="console.log('00:03:36,505'); seek(216.0)">
              The context is there to store the information that it, that pertains
            </span>
            
            <span id="chunk-66" class="transcript-chunks" onclick="console.log('00:03:41,155'); seek(221.0)">
              to that particular execution.
            </span>
            
            <span id="chunk-67" class="transcript-chunks" onclick="console.log('00:03:43,285'); seek(223.0)">
              And in the case of subscriptions, repeated executions, but either way that it's
            </span>
            
            <span id="chunk-68" class="transcript-chunks" onclick="console.log('00:03:47,425'); seek(227.0)">
              particular to the one connection, right?
            </span>
            
            <span id="chunk-69" class="transcript-chunks" onclick="console.log('00:03:49,495'); seek(229.0)">
              And one of the things that, GraphQL sometimes does is, it starts out with
            </span>
            
            <span id="chunk-70" class="transcript-chunks" onclick="console.log('00:03:55,035'); seek(235.0)">
              a certain object received by some means, in this case, Kafka, and if the
            </span>
            
            <span id="chunk-71" class="transcript-chunks" onclick="console.log('00:03:59,575'); seek(239.0)">
              subscription specifies that, it needs certain fields that cannot be found
            </span>
            
            <span id="chunk-72" class="transcript-chunks" onclick="console.log('00:04:04,875'); seek(244.0)">
              on that object, but for which there is a resolver, meaning that GraphQL is
            </span>
            
            <span id="chunk-73" class="transcript-chunks" onclick="console.log('00:04:09,455'); seek(249.0)">
              aware of a solution for providing those fields, even without, even though they
            </span>
            
            <span id="chunk-74" class="transcript-chunks" onclick="console.log('00:04:13,205'); seek(253.0)">
              are not on the original backend object.
            </span>
            
            <span id="chunk-75" class="transcript-chunks" onclick="console.log('00:04:15,935'); seek(255.0)">
              Then, it will reach out to backends and it, which are pre configured
            </span>
            
            <span id="chunk-76" class="transcript-chunks" onclick="console.log('00:04:20,385'); seek(260.0)">
              to provide that information.
            </span>
            
            <span id="chunk-77" class="transcript-chunks" onclick="console.log('00:04:21,985'); seek(261.0)">
              Then it massages that information and then returns the result
            </span>
            
            <span id="chunk-78" class="transcript-chunks" onclick="console.log('00:04:24,725'); seek(264.0)">
              and the client is happy.
            </span>
            
            <span id="chunk-79" class="transcript-chunks" onclick="console.log('00:04:26,895'); seek(266.0)">
              we have 32 different backends at auction.
            </span>
            
            <span id="chunk-80" class="transcript-chunks" onclick="console.log('00:04:29,885'); seek(269.0)">
              Each backend has, five different, methods being HTTP and all.
            </span>
            
            <span id="chunk-81" class="transcript-chunks" onclick="console.log('00:04:34,485'); seek(274.0)">
              and so we have these wrappers on the context for reaching out to the backends.
            </span>
            
            <span id="chunk-82" class="transcript-chunks" onclick="console.log('00:04:39,375'); seek(279.0)">
              basically the, it looks like this.
            </span>
            
            <span id="chunk-83" class="transcript-chunks" onclick="console.log('00:04:41,135'); seek(281.0)">
              so we have a backends object, which encapsulates all our backends.
            </span>
            
            <span id="chunk-84" class="transcript-chunks" onclick="console.log('00:04:44,245'); seek(284.0)">
              And then we, for each backend, we have it by name and then by method.
            </span>
            
            <span id="chunk-85" class="transcript-chunks" onclick="console.log('00:04:48,565'); seek(288.0)">
              And We construct this path whenever we construct the context.
            </span>
            
            <span id="chunk-86" class="transcript-chunks" onclick="console.log('00:04:53,745'); seek(293.0)">
              So every context has 160 objects on it.
            </span>
            
            <span id="chunk-87" class="transcript-chunks" onclick="console.log('00:04:58,005'); seek(298.0)">
              And that's a problem because we have 4, 000 contexts coexisting right in our test.
            </span>
            
            <span id="chunk-88" class="transcript-chunks" onclick="console.log('00:05:03,245'); seek(303.0)">
              And each one has 160 objects.
            </span>
            
            <span id="chunk-89" class="transcript-chunks" onclick="console.log('00:05:05,205'); seek(305.0)">
              That's a lot of objects.
            </span>
            
            <span id="chunk-90" class="transcript-chunks" onclick="console.log('00:05:06,345'); seek(306.0)">
              And chances are that, any one, response isn't going to cause.
            </span>
            
            <span id="chunk-91" class="transcript-chunks" onclick="console.log('00:05:11,740'); seek(311.0)">
              the executor to access every single method on every single backend.
            </span>
            
            <span id="chunk-92" class="transcript-chunks" onclick="console.log('00:05:16,220'); seek(316.0)">
              Quite the contrary.
            </span>
            
            <span id="chunk-93" class="transcript-chunks" onclick="console.log('00:05:17,380'); seek(317.0)">
              It's usually five, six accesses.
            </span>
            
            <span id="chunk-94" class="transcript-chunks" onclick="console.log('00:05:19,460'); seek(319.0)">
              if it's any more than that, then you need to worry about, Oh, is it N plus one?
            </span>
            
            <span id="chunk-95" class="transcript-chunks" onclick="console.log('00:05:23,939'); seek(323.0)">
              am I causing too much traffic?
            </span>
            
            <span id="chunk-96" class="transcript-chunks" onclick="console.log('00:05:26,009'); seek(326.0)">
              So either way, you're not going to need 160 objects.
            </span>
            
            <span id="chunk-97" class="transcript-chunks" onclick="console.log('00:05:29,439'); seek(329.0)">
              okay.
            </span>
            
            <span id="chunk-98" class="transcript-chunks" onclick="console.log('00:05:29,719'); seek(329.0)">
              what to do?
            </span>
            
            <span id="chunk-99" class="transcript-chunks" onclick="console.log('00:05:30,689'); seek(330.0)">
              let's make it lazy.
            </span>
            
            <span id="chunk-100" class="transcript-chunks" onclick="console.log('00:05:31,859'); seek(331.0)">
              Why not?
            </span>
            
            <span id="chunk-101" class="transcript-chunks" onclick="console.log('00:05:32,559'); seek(332.0)">
              JavaScript has this wonderful thing called a proxy object.
            </span>
            
            <span id="chunk-102" class="transcript-chunks" onclick="console.log('00:05:35,889'); seek(335.0)">
              Which basically is an object that pretends to have any number of, of, fields set.
            </span>
            
            <span id="chunk-103" class="transcript-chunks" onclick="console.log('00:05:41,294'); seek(341.0)">
              But it doesn't really have them set because what it means for a field,
            </span>
            
            <span id="chunk-104" class="transcript-chunks" onclick="console.log('00:05:45,324'); seek(345.0)">
              what it means to retrieve a field is up to a certain callback, right?
            </span>
            
            <span id="chunk-105" class="transcript-chunks" onclick="console.log('00:05:49,194'); seek(349.0)">
              Instead of just being like a property access, it's actually a function
            </span>
            
            <span id="chunk-106" class="transcript-chunks" onclick="console.log('00:05:52,774'); seek(352.0)">
              invocation where it's given the name of the property and the function
            </span>
            
            <span id="chunk-107" class="transcript-chunks" onclick="console.log('00:05:56,564'); seek(356.0)">
              can decide what to do about the fact that somebody wants that property.
            </span>
            
            <span id="chunk-108" class="transcript-chunks" onclick="console.log('00:06:01,474'); seek(361.0)">
              And so you don't necessarily need to store all possible values.
            </span>
            
            <span id="chunk-109" class="transcript-chunks" onclick="console.log('00:06:05,564'); seek(365.0)">
              And that's exactly what we did.
            </span>
            
            <span id="chunk-110" class="transcript-chunks" onclick="console.log('00:06:07,024'); seek(367.0)">
              when somebody asks for, UAA.
            </span>
            
            <span id="chunk-111" class="transcript-chunks" onclick="console.log('00:06:09,854'); seek(369.0)">
              And they ask for post and we create the UAA backend on the
            </span>
            
            <span id="chunk-112" class="transcript-chunks" onclick="console.log('00:06:13,794'); seek(373.0)">
              fly as they are asking for it.
            </span>
            
            <span id="chunk-113" class="transcript-chunks" onclick="console.log('00:06:15,584'); seek(375.0)">
              And then we create the wrapper for the post method as they are asking for it.
            </span>
            
            <span id="chunk-114" class="transcript-chunks" onclick="console.log('00:06:20,154'); seek(380.0)">
              And it's not as if we're delaying the response by this because we
            </span>
            
            <span id="chunk-115" class="transcript-chunks" onclick="console.log('00:06:23,144'); seek(383.0)">
              would have created these things anyway, when the execution happened.
            </span>
            
            <span id="chunk-116" class="transcript-chunks" onclick="console.log('00:06:25,934'); seek(385.0)">
              So the response is not going to be slower.
            </span>
            
            <span id="chunk-117" class="transcript-chunks" onclick="console.log('00:06:27,884'); seek(387.0)">
              In fact, it's going to be faster because we're not creating 160 of these.
            </span>
            
            <span id="chunk-118" class="transcript-chunks" onclick="console.log('00:06:30,514'); seek(390.0)">
              We're only creating maybe a total of four or five.
            </span>
            
            <span id="chunk-119" class="transcript-chunks" onclick="console.log('00:06:33,224'); seek(393.0)">
              So we're saving time.
            </span>
            
            <span id="chunk-120" class="transcript-chunks" onclick="console.log('00:06:34,774'); seek(394.0)">
              We're saying we're saving memory.
            </span>
            
            <span id="chunk-121" class="transcript-chunks" onclick="console.log('00:06:37,114'); seek(397.0)">
              Now let's see what this got us.
            </span>
            
            <span id="chunk-122" class="transcript-chunks" onclick="console.log('00:06:39,034'); seek(399.0)">
              turns out that the improvements here are in terms of throughput, aren't that great.
            </span>
            
            <span id="chunk-123" class="transcript-chunks" onclick="console.log('00:06:44,714'); seek(404.0)">
              So there's probably another bottleneck somewhere, creating 160 objects was not
            </span>
            
            <span id="chunk-124" class="transcript-chunks" onclick="console.log('00:06:49,044'); seek(409.0)">
              that expensive in terms of execution time.
            </span>
            
            <span id="chunk-125" class="transcript-chunks" onclick="console.log('00:06:51,694'); seek(411.0)">
              But it was pretty expensive in terms of memory.
            </span>
            
            <span id="chunk-126" class="transcript-chunks" onclick="console.log('00:06:53,434'); seek(413.0)">
              Like you can see that we lowered the plateau here.
            </span>
            
            <span id="chunk-127" class="transcript-chunks" onclick="console.log('00:06:56,739'); seek(416.0)">
              because, the, these contexts, which were causing this rise are
            </span>
            
            <span id="chunk-128" class="transcript-chunks" onclick="console.log('00:07:01,789'); seek(421.0)">
              now causing a lower rise because, we're not creating any, backends.
            </span>
            
            <span id="chunk-129" class="transcript-chunks" onclick="console.log('00:07:07,149'); seek(427.0)">
              And in fact, for this particular subscription, It
            </span>
            
            <span id="chunk-130" class="transcript-chunks" onclick="console.log('00:07:10,269'); seek(430.0)">
              doesn't take any backends.
            </span>
            
            <span id="chunk-131" class="transcript-chunks" onclick="console.log('00:07:11,879'); seek(431.0)">
              You'll see later.
            </span>
            
            <span id="chunk-132" class="transcript-chunks" onclick="console.log('00:07:12,639'); seek(432.0)">
              All it does is basically take the object that comes in over Kafka and
            </span>
            
            <span id="chunk-133" class="transcript-chunks" onclick="console.log('00:07:15,529'); seek(435.0)">
              transforms the keys and that's it.
            </span>
            
            <span id="chunk-134" class="transcript-chunks" onclick="console.log('00:07:17,029'); seek(437.0)">
              And then it sends it out.
            </span>
            
            <span id="chunk-135" class="transcript-chunks" onclick="console.log('00:07:18,149'); seek(438.0)">
              It doesn't need any backends.
            </span>
            
            <span id="chunk-136" class="transcript-chunks" onclick="console.log('00:07:19,929'); seek(439.0)">
              so then, okay, this is maybe a little optimistic because it's like
            </span>
            
            <span id="chunk-137" class="transcript-chunks" onclick="console.log('00:07:23,849'); seek(443.0)">
              maximally reduced, but it doesn't matter because it's going to be
            </span>
            
            <span id="chunk-138" class="transcript-chunks" onclick="console.log('00:07:27,179'); seek(447.0)">
              reduced in pretty much all cases.
            </span>
            
            <span id="chunk-139" class="transcript-chunks" onclick="console.log('00:07:29,589'); seek(449.0)">
              All right.
            </span>
            
            <span id="chunk-140" class="transcript-chunks" onclick="console.log('00:07:29,979'); seek(449.0)">
              So what else can we do?
            </span>
            
            <span id="chunk-141" class="transcript-chunks" onclick="console.log('00:07:31,769'); seek(451.0)">
              We've lowered memory consumption.
            </span>
            
            <span id="chunk-142" class="transcript-chunks" onclick="console.log('00:07:33,499'); seek(453.0)">
              Sure.
            </span>
            
            <span id="chunk-143" class="transcript-chunks" onclick="console.log('00:07:34,344'); seek(454.0)">
              But can we do more, lower it in different ways?
            </span>
            
            <span id="chunk-144" class="transcript-chunks" onclick="console.log('00:07:37,884'); seek(457.0)">
              So one of the things that, we explored was, If we make the execution more
            </span>
            
            <span id="chunk-145" class="transcript-chunks" onclick="console.log('00:07:44,074'); seek(464.0)">
              efficient, then maybe the memory usage is going to go down because we're
            </span>
            
            <span id="chunk-146" class="transcript-chunks" onclick="console.log('00:07:47,954'); seek(467.0)">
              using, more modern, style code that, that doesn't require so much support
            </span>
            
            <span id="chunk-147" class="transcript-chunks" onclick="console.log('00:07:52,074'); seek(472.0)">
              from the engine might even be leaner.
            </span>
            
            <span id="chunk-148" class="transcript-chunks" onclick="console.log('00:07:55,104'); seek(475.0)">
              it might be optimized, whereas the old code was not optimized.
            </span>
            
            <span id="chunk-149" class="transcript-chunks" onclick="console.log('00:07:57,584'); seek(477.0)">
              And so it doesn't need to create so many temporary objects
            </span>
            
            <span id="chunk-150" class="transcript-chunks" onclick="console.log('00:07:59,674'); seek(479.0)">
              to address, the execution.
            </span>
            
            <span id="chunk-151" class="transcript-chunks" onclick="console.log('00:08:02,704'); seek(482.0)">
              and so in this particular case, we have this one function called
            </span>
            
            <span id="chunk-152" class="transcript-chunks" onclick="console.log('00:08:05,554'); seek(485.0)">
              convert obj to snake keys.
            </span>
            
            <span id="chunk-153" class="transcript-chunks" onclick="console.log('00:08:06,904'); seek(486.0)">
              I told you earlier that, that we have objects that.
            </span>
            
            <span id="chunk-154" class="transcript-chunks" onclick="console.log('00:08:09,434'); seek(489.0)">
              That look like this when they come in from, Kafka and we need to
            </span>
            
            <span id="chunk-155" class="transcript-chunks" onclick="console.log('00:08:13,534'); seek(493.0)">
              convert them basically because our convention is that GraphQL fields,
            </span>
            
            <span id="chunk-156" class="transcript-chunks" onclick="console.log('00:08:17,544'); seek(497.0)">
              output fields are snake case.
            </span>
            
            <span id="chunk-157" class="transcript-chunks" onclick="console.log('00:08:19,744'); seek(499.0)">
              So we have this thing that converts a deep object to snake case.
            </span>
            
            <span id="chunk-158" class="transcript-chunks" onclick="console.log('00:08:24,024'); seek(504.0)">
              and that function.
            </span>
            
            <span id="chunk-159" class="transcript-chunks" onclick="console.log('00:08:26,239'); seek(506.0)">
              What's using low dash a lot because it's an old function that nobody has
            </span>
            
            <span id="chunk-160" class="transcript-chunks" onclick="console.log('00:08:30,219'); seek(510.0)">
              really touched because it works just fine And back in those days there was
            </span>
            
            <span id="chunk-161" class="transcript-chunks" onclick="console.log('00:08:34,399'); seek(514.0)">
              no like map there was no object entries that kind of thing so okay, so let's
            </span>
            
            <span id="chunk-162" class="transcript-chunks" onclick="console.log('00:08:41,249'); seek(521.0)">
              see if we can speed things up, right?
            </span>
            
            <span id="chunk-163" class="transcript-chunks" onclick="console.log('00:08:43,289'); seek(523.0)">
              let's replace all these calls to load dash and let's use some of the
            </span>
            
            <span id="chunk-164" class="transcript-chunks" onclick="console.log('00:08:47,109'); seek(527.0)">
              stuff that the engine has locally and natively, to accomplish the same thing.
            </span>
            
            <span id="chunk-165" class="transcript-chunks" onclick="console.log('00:08:51,039'); seek(531.0)">
              And so we made, we transformed the code like this.
            </span>
            
            <span id="chunk-166" class="transcript-chunks" onclick="console.log('00:08:53,519'); seek(533.0)">
              And the result was that performance was back into the positives relative
            </span>
            
            <span id="chunk-167" class="transcript-chunks" onclick="console.log('00:09:00,489'); seek(540.0)">
              to that 16 message baseline that I showed you on one of the first slides.
            </span>
            
            <span id="chunk-168" class="transcript-chunks" onclick="console.log('00:09:04,999'); seek(544.0)">
              we retained a little bit of a lowered plateau here because we're still not.
            </span>
            
            <span id="chunk-169" class="transcript-chunks" onclick="console.log('00:09:09,279'); seek(549.0)">
              So we're not doing any of those contacts, but because we're doing more work,
            </span>
            
            <span id="chunk-170" class="transcript-chunks" onclick="console.log('00:09:12,529'); seek(552.0)">
              memory consumption in the busy case has actually resumed where it was.
            </span>
            
            <span id="chunk-171" class="transcript-chunks" onclick="console.log('00:09:17,129'); seek(557.0)">
              It's a little tiny bit lower, but not as much as we'd like.
            </span>
            
            <span id="chunk-172" class="transcript-chunks" onclick="console.log('00:09:20,139'); seek(560.0)">
              All right.
            </span>
            
            <span id="chunk-173" class="transcript-chunks" onclick="console.log('00:09:20,449'); seek(560.0)">
              Let's see what else we can do.
            </span>
            
            <span id="chunk-174" class="transcript-chunks" onclick="console.log('00:09:22,189'); seek(562.0)">
              So I told you that we're using Redis because we have a situation where we
            </span>
            
            <span id="chunk-175" class="transcript-chunks" onclick="console.log('00:09:26,579'); seek(566.0)">
              have multiple graph pods like this, and they're declared as a single
            </span>
            
            <span id="chunk-176" class="transcript-chunks" onclick="console.log('00:09:30,139'); seek(570.0)">
              consumer group by Kafka, meaning Kafka will partition messages that
            </span>
            
            <span id="chunk-177" class="transcript-chunks" onclick="console.log('00:09:33,699'); seek(573.0)">
              are addressed to the consumer group among the members of the group.
            </span>
            
            <span id="chunk-178" class="transcript-chunks" onclick="console.log('00:09:38,499'); seek(578.0)">
              And so let's say, if, If G2 retrieves, receives the green message, then
            </span>
            
            <span id="chunk-179" class="transcript-chunks" onclick="console.log('00:09:44,480'); seek(584.0)">
              G2 can satisfy, C4 and C5 because they request the green message.
            </span>
            
            <span id="chunk-180" class="transcript-chunks" onclick="console.log('00:09:49,209'); seek(589.0)">
              But how can C2 be satisfied?
            </span>
            
            <span id="chunk-181" class="transcript-chunks" onclick="console.log('00:09:51,629'); seek(591.0)">
              C2, G1 never got the green message and yet somehow it still
            </span>
            
            <span id="chunk-182" class="transcript-chunks" onclick="console.log('00:09:55,169'); seek(595.0)">
              has to send it to C2, right?
            </span>
            
            <span id="chunk-183" class="transcript-chunks" onclick="console.log('00:09:57,359'); seek(597.0)">
              So the way we reconcile that is we send all the messages to Redis.
            </span>
            
            <span id="chunk-184" class="transcript-chunks" onclick="console.log('00:10:01,519'); seek(601.0)">
              And then Redis is does G1 have a subscriber for, this green message?
            </span>
            
            <span id="chunk-185" class="transcript-chunks" onclick="console.log('00:10:05,059'); seek(605.0)">
              Oh yeah, they do.
            </span>
            
            <span id="chunk-186" class="transcript-chunks" onclick="console.log('00:10:06,199'); seek(606.0)">
              Okay.
            </span>
            
            <span id="chunk-187" class="transcript-chunks" onclick="console.log('00:10:06,449'); seek(606.0)">
              Then I better forward it.
            </span>
            
            <span id="chunk-188" class="transcript-chunks" onclick="console.log('00:10:07,579'); seek(607.0)">
              So Redis doesn't just blindly forward everything to everyone
            </span>
            
            <span id="chunk-189" class="transcript-chunks" onclick="console.log('00:10:10,019'); seek(610.0)">
              because then we could just get rid of Redis entirely and just declare
            </span>
            
            <span id="chunk-190" class="transcript-chunks" onclick="console.log('00:10:13,069'); seek(613.0)">
              every graph instance to be its own consumer group, but it does filter.
            </span>
            
            <span id="chunk-191" class="transcript-chunks" onclick="console.log('00:10:16,999'); seek(616.0)">
              And so it does reduce traffic versus just like the Christmas tree case.
            </span>
            
            <span id="chunk-192" class="transcript-chunks" onclick="console.log('00:10:21,609'); seek(621.0)">
              while at the same time, allowing this.
            </span>
            
            <span id="chunk-193" class="transcript-chunks" onclick="console.log('00:10:24,669'); seek(624.0)">
              this, GRAF service to appear to be like a unified service rather than,
            </span>
            
            <span id="chunk-194" class="transcript-chunks" onclick="console.log('00:10:28,789'); seek(628.0)">
              being able to tell, Oh, I'm con I must be connected to pod number two
            </span>
            
            <span id="chunk-195" class="transcript-chunks" onclick="console.log('00:10:31,789'); seek(631.0)">
              because I can't see this and that.
            </span>
            
            <span id="chunk-196" class="transcript-chunks" onclick="console.log('00:10:33,409'); seek(633.0)">
              So it, it ensures correctness.
            </span>
            
            <span id="chunk-197" class="transcript-chunks" onclick="console.log('00:10:35,509'); seek(635.0)">
              It reduces traffic.
            </span>
            
            <span id="chunk-198" class="transcript-chunks" onclick="console.log('00:10:37,169'); seek(637.0)">
              and so that's why we use it.
            </span>
            
            <span id="chunk-199" class="transcript-chunks" onclick="console.log('00:10:38,489'); seek(638.0)">
              And I figured, okay.
            </span>
            
            <span id="chunk-200" class="transcript-chunks" onclick="console.log('00:10:39,899'); seek(639.0)">
              GRAFQL subs GraphQL Redis subscriptions.
            </span>
            
            <span id="chunk-201" class="transcript-chunks" onclick="console.log('00:10:42,219'); seek(642.0)">
              It does a lot of, serializing, deserializing a lot of streaming.
            </span>
            
            <span id="chunk-202" class="transcript-chunks" onclick="console.log('00:10:46,449'); seek(646.0)">
              And so So, can we improve it just by upgrading it?
            </span>
            
            <span id="chunk-203" class="transcript-chunks" onclick="console.log('00:10:50,179'); seek(650.0)">
              maybe, folks upstream, doing wonderful open source work have realized
            </span>
            
            <span id="chunk-204" class="transcript-chunks" onclick="console.log('00:10:54,479'); seek(654.0)">
              that there are better ways of doing what they're already doing without
            </span>
            
            <span id="chunk-205" class="transcript-chunks" onclick="console.log('00:10:57,219'); seek(657.0)">
              actually breaking compatibility.
            </span>
            
            <span id="chunk-206" class="transcript-chunks" onclick="console.log('00:10:59,179'); seek(659.0)">
              So we upgraded it and no, not quite.
            </span>
            
            <span id="chunk-207" class="transcript-chunks" onclick="console.log('00:11:03,439'); seek(663.0)">
              it's okay.
            </span>
            
            <span id="chunk-208" class="transcript-chunks" onclick="console.log('00:11:04,579'); seek(664.0)">
              it's worth a shot.
            </span>
            
            <span id="chunk-209" class="transcript-chunks" onclick="console.log('00:11:05,510'); seek(665.0)">
              It was worth a shot.
            </span>
            
            <span id="chunk-210" class="transcript-chunks" onclick="console.log('00:11:07,672'); seek(667.0)">
              the plateau remains.
            </span>
            
            <span id="chunk-211" class="transcript-chunks" onclick="console.log('00:11:08,969'); seek(668.0)">
              This memory consumption, is pretty much the same.
            </span>
            
            <span id="chunk-212" class="transcript-chunks" onclick="console.log('00:11:12,429'); seek(672.0)">
              Performance improved a little bit.
            </span>
            
            <span id="chunk-213" class="transcript-chunks" onclick="console.log('00:11:14,149'); seek(674.0)">
              but not spectacularly.
            </span>
            
            <span id="chunk-214" class="transcript-chunks" onclick="console.log('00:11:16,069'); seek(676.0)">
              okay.
            </span>
            
            <span id="chunk-215" class="transcript-chunks" onclick="console.log('00:11:16,379'); seek(676.0)">
              We tried it.
            </span>
            
            <span id="chunk-216" class="transcript-chunks" onclick="console.log('00:11:16,929'); seek(676.0)">
              At least now we have the latest and greatest GraphQL
            </span>
            
            <span id="chunk-217" class="transcript-chunks" onclick="console.log('00:11:18,479'); seek(678.0)">
              Redis subscriptions, right?
            </span>
            
            <span id="chunk-218" class="transcript-chunks" onclick="console.log('00:11:19,909'); seek(679.0)">
              Or we did at the time and that can never hurt.
            </span>
            
            <span id="chunk-219" class="transcript-chunks" onclick="console.log('00:11:22,959'); seek(682.0)">
              so then let's see, can we do more to improve this wonderful, convert
            </span>
            
            <span id="chunk-220" class="transcript-chunks" onclick="console.log('00:11:28,759'); seek(688.0)">
              object to snake keys function?
            </span>
            
            <span id="chunk-221" class="transcript-chunks" onclick="console.log('00:11:30,219'); seek(690.0)">
              can we make it leaner?
            </span>
            
            <span id="chunk-222" class="transcript-chunks" onclick="console.log('00:11:31,129'); seek(691.0)">
              Because to be honest, I keep coming back to this function
            </span>
            
            <span id="chunk-223" class="transcript-chunks" onclick="console.log('00:11:34,729'); seek(694.0)">
              because, I was running node clinic.
            </span>
            
            <span id="chunk-224" class="transcript-chunks" onclick="console.log('00:11:37,549'); seek(697.0)">
              on the whole workload, just to see what it is that's holding up the show.
            </span>
            
            <span id="chunk-225" class="transcript-chunks" onclick="console.log('00:11:41,689'); seek(701.0)">
              why is it performing so poorly with the sort of quote unquote
            </span>
            
            <span id="chunk-226" class="transcript-chunks" onclick="console.log('00:11:46,209'); seek(706.0)">
              on ulterior motive to actually try to reduce memory consumption.
            </span>
            
            <span id="chunk-227" class="transcript-chunks" onclick="console.log('00:11:50,339'); seek(710.0)">
              node clinic is not a memory consumption tool.
            </span>
            
            <span id="chunk-228" class="transcript-chunks" onclick="console.log('00:11:52,259'); seek(712.0)">
              It's a, it's an execution time measuring tool.
            </span>
            
            <span id="chunk-229" class="transcript-chunks" onclick="console.log('00:11:55,369'); seek(715.0)">
              It's a flame graph for execution time.
            </span>
            
            <span id="chunk-230" class="transcript-chunks" onclick="console.log('00:11:57,239'); seek(717.0)">
              Where is your.
            </span>
            
            <span id="chunk-231" class="transcript-chunks" onclick="console.log('00:11:59,299'); seek(719.0)">
              app spending most of its time, that's the question that it answers.
            </span>
            
            <span id="chunk-232" class="transcript-chunks" onclick="console.log('00:12:01,989'); seek(721.0)">
              And time and again, when I ran it, it came back with convert apps to snake key.
            </span>
            
            <span id="chunk-233" class="transcript-chunks" onclick="console.log('00:12:06,229'); seek(726.0)">
              So I'm like, okay, fine.
            </span>
            
            <span id="chunk-234" class="transcript-chunks" onclick="console.log('00:12:07,189'); seek(727.0)">
              let's get that off the way.
            </span>
            
            <span id="chunk-235" class="transcript-chunks" onclick="console.log('00:12:08,979'); seek(728.0)">
              And so I went back and, was thinking to myself, we have objects like these, right?
            </span>
            
            <span id="chunk-236" class="transcript-chunks" onclick="console.log('00:12:13,129'); seek(733.0)">
              And we're converting them, to Snakey.
            </span>
            
            <span id="chunk-237" class="transcript-chunks" onclick="console.log('00:12:15,839'); seek(735.0)">
              So we're not touching the values at all, unless the value is an object or an array.
            </span>
            
            <span id="chunk-238" class="transcript-chunks" onclick="console.log('00:12:19,269'); seek(739.0)">
              And so it's a deep thing and we recurse, but otherwise we're
            </span>
            
            <span id="chunk-239" class="transcript-chunks" onclick="console.log('00:12:21,589'); seek(741.0)">
              not touching the values at all.
            </span>
            
            <span id="chunk-240" class="transcript-chunks" onclick="console.log('00:12:22,789'); seek(742.0)">
              we're just touching the keys all the time, right?
            </span>
            
            <span id="chunk-241" class="transcript-chunks" onclick="console.log('00:12:25,369'); seek(745.0)">
              we are a company, we do stuff with data, right?
            </span>
            
            <span id="chunk-242" class="transcript-chunks" onclick="console.log('00:12:28,959'); seek(748.0)">
              Like every other company that does stuff with data.
            </span>
            
            <span id="chunk-243" class="transcript-chunks" onclick="console.log('00:12:31,279'); seek(751.0)">
              And so the data in this case is key value pairs, right?
            </span>
            
            <span id="chunk-244" class="transcript-chunks" onclick="console.log('00:12:34,519'); seek(754.0)">
              And, the keys can refer to all kinds of like business related things, You can
            </span>
            
            <span id="chunk-245" class="transcript-chunks" onclick="console.log('00:12:38,459'); seek(758.0)">
              see right here, for example, fallout history and, is auction status change.
            </span>
            
            <span id="chunk-246" class="transcript-chunks" onclick="console.log('00:12:42,799'); seek(762.0)">
              it's business related stuff, right?
            </span>
            
            <span id="chunk-247" class="transcript-chunks" onclick="console.log('00:12:44,889'); seek(764.0)">
              But these words, these are keywords.
            </span>
            
            <span id="chunk-248" class="transcript-chunks" onclick="console.log('00:12:46,579'); seek(766.0)">
              These are like variables that programmers use, to get the data
            </span>
            
            <span id="chunk-249" class="transcript-chunks" onclick="console.log('00:12:50,109'); seek(770.0)">
              at that particular location.
            </span>
            
            <span id="chunk-250" class="transcript-chunks" onclick="console.log('00:12:51,499'); seek(771.0)">
              And so, these names, they're not generated automatically.
            </span>
            
            <span id="chunk-251" class="transcript-chunks" onclick="console.log('00:12:55,999'); seek(775.0)">
              we agree on them and then we use them, So in terms of, processing them, into
            </span>
            
            <span id="chunk-252" class="transcript-chunks" onclick="console.log('00:13:00,599'); seek(780.0)">
              snake keys, once, once I've read days on market and I've turned it into snake
            </span>
            
            <span id="chunk-253" class="transcript-chunks" onclick="console.log('00:13:05,239'); seek(785.0)">
              keys, and this is what it looks like.
            </span>
            
            <span id="chunk-254" class="transcript-chunks" onclick="console.log('00:13:07,139'); seek(787.0)">
              The next time I encountered this days on market thing, and I need to
            </span>
            
            <span id="chunk-255" class="transcript-chunks" onclick="console.log('00:13:09,789'); seek(789.0)">
              turn it into snake case, why do I need to run that computation again?
            </span>
            
            <span id="chunk-256" class="transcript-chunks" onclick="console.log('00:13:13,679'); seek(793.0)">
              I already know how to do it.
            </span>
            
            <span id="chunk-257" class="transcript-chunks" onclick="console.log('00:13:15,119'); seek(795.0)">
              I've done it once, right?
            </span>
            
            <span id="chunk-258" class="transcript-chunks" onclick="console.log('00:13:16,809'); seek(796.0)">
              So why don't I just record the result and then not do it the second time?
            </span>
            
            <span id="chunk-259" class="transcript-chunks" onclick="console.log('00:13:20,189'); seek(800.0)">
              This is called memorization, right?
            </span>
            
            <span id="chunk-260" class="transcript-chunks" onclick="console.log('00:13:22,179'); seek(802.0)">
              and that's exactly where this is going, right?
            </span>
            
            <span id="chunk-261" class="transcript-chunks" onclick="console.log('00:13:24,069'); seek(804.0)">
              just memoize everything.
            </span>
            
            <span id="chunk-262" class="transcript-chunks" onclick="console.log('00:13:25,409'); seek(805.0)">
              And then, no matter where you find a key named external identifiers, you,
            </span>
            
            <span id="chunk-263" class="transcript-chunks" onclick="console.log('00:13:29,569'); seek(809.0)">
              you've already done it and that's it.
            </span>
            
            <span id="chunk-264" class="transcript-chunks" onclick="console.log('00:13:31,279'); seek(811.0)">
              Then you just look up the result and reuse it.
            </span>
            
            <span id="chunk-265" class="transcript-chunks" onclick="console.log('00:13:33,709'); seek(813.0)">
              So that's what we did here.
            </span>
            
            <span id="chunk-266" class="transcript-chunks" onclick="console.log('00:13:35,979'); seek(815.0)">
              We memoized it.
            </span>
            
            <span id="chunk-267" class="transcript-chunks" onclick="console.log('00:13:36,699'); seek(816.0)">
              It's, it was a super simple change, like literally just like practically
            </span>
            
            <span id="chunk-268" class="transcript-chunks" onclick="console.log('00:13:40,739'); seek(820.0)">
              two lines, like one, one addition and one replacement, and that's it.
            </span>
            
            <span id="chunk-269" class="transcript-chunks" onclick="console.log('00:13:43,469'); seek(823.0)">
              The rest is just like gravy.
            </span>
            
            <span id="chunk-270" class="transcript-chunks" onclick="console.log('00:13:45,669'); seek(825.0)">
              And, Incredibly performance went from up 20 percent versus
            </span>
            
            <span id="chunk-271" class="transcript-chunks" onclick="console.log('00:13:49,699'); seek(829.0)">
              the original baseline to up.
            </span>
            
            <span id="chunk-272" class="transcript-chunks" onclick="console.log('00:13:52,754'); seek(832.0)">
              331%, 0.
            </span>
            
            <span id="chunk-273" class="transcript-chunks" onclick="console.log('00:13:55,104'); seek(835.0)">
              3.
            </span>
            
            <span id="chunk-274" class="transcript-chunks" onclick="console.log('00:13:55,654'); seek(835.0)">
              Okay.
            </span>
            
            <span id="chunk-275" class="transcript-chunks" onclick="console.log('00:13:56,624'); seek(836.0)">
              So that was a huge improvement.
            </span>
            
            <span id="chunk-276" class="transcript-chunks" onclick="console.log('00:13:58,514'); seek(838.0)">
              and you can see here the curve that, you can see that it's not struggling so much
            </span>
            
            <span id="chunk-277" class="transcript-chunks" onclick="console.log('00:14:02,304'); seek(842.0)">
              to, to deliver these messages because it's the new curve is like the old curve, but.
            </span>
            
            <span id="chunk-278" class="transcript-chunks" onclick="console.log('00:14:07,960'); seek(847.0)">
              And many people are facing that issue of doing transcripts as well.
            </span>
            
            <span id="chunk-279" class="transcript-chunks" onclick="console.log('00:14:13,028'); seek(853.0)">
              And so what we've seen, the problem with the, and during the process
            </span>
            
            <span id="chunk-280" class="transcript-chunks" onclick="console.log('00:14:18,519'); seek(858.0)">
              of delivering those transcripts, we actually see some errors, a lot of
            </span>
            
            <span id="chunk-281" class="transcript-chunks" onclick="console.log('00:14:23,588'); seek(863.0)">
              typo errors, a lot of typos, some sheets are missing or something,
            </span>
            
            <span id="chunk-282" class="transcript-chunks" onclick="console.log('00:14:28,706'); seek(868.0)">
              A plateau, because it's more flat.
            </span>
            
            <span id="chunk-283" class="transcript-chunks" onclick="console.log('00:14:30,606'); seek(870.0)">
              And if the height of the plateau goes down, okay, then we've
            </span>
            
            <span id="chunk-284" class="transcript-chunks" onclick="console.log('00:14:33,196'); seek(873.0)">
              improved something across the board in terms of memory consumption.
            </span>
            
            <span id="chunk-285" class="transcript-chunks" onclick="console.log('00:14:36,346'); seek(876.0)">
              Whereas here it's very difficult to judge, because we don't have a plateau
            </span>
            
            <span id="chunk-286" class="transcript-chunks" onclick="console.log('00:14:39,986'); seek(879.0)">
              that we could systematically lower and observe that it's being lowered.
            </span>
            
            <span id="chunk-287" class="transcript-chunks" onclick="console.log('00:14:43,856'); seek(883.0)">
              All right.
            </span>
            
            <span id="chunk-288" class="transcript-chunks" onclick="console.log('00:14:44,326'); seek(884.0)">
              So let's see, what did we do next?
            </span>
            
            <span id="chunk-289" class="transcript-chunks" onclick="console.log('00:14:46,826'); seek(886.0)">
              okay, we can't, we step back a little bit and we're like,
            </span>
            
            <span id="chunk-290" class="transcript-chunks" onclick="console.log('00:14:49,556'); seek(889.0)">
              okay, so these pods are dying.
            </span>
            
            <span id="chunk-291" class="transcript-chunks" onclick="console.log('00:14:51,046'); seek(891.0)">
              Okay.
            </span>
            
            <span id="chunk-292" class="transcript-chunks" onclick="console.log('00:14:51,266'); seek(891.0)">
              That's the fundamental problem.
            </span>
            
            <span id="chunk-293" class="transcript-chunks" onclick="console.log('00:14:52,496'); seek(892.0)">
              that's what got us started on this whole process.
            </span>
            
            <span id="chunk-294" class="transcript-chunks" onclick="console.log('00:14:54,736'); seek(894.0)">
              So let's see if we can spread out the load.
            </span>
            
            <span id="chunk-295" class="transcript-chunks" onclick="console.log('00:14:59,136'); seek(899.0)">
              we see that the memory is rising precipitously.
            </span>
            
            <span id="chunk-296" class="transcript-chunks" onclick="console.log('00:15:02,111'); seek(902.0)">
              Because, of some activity that is causing that, that is completely
            </span>
            
            <span id="chunk-297" class="transcript-chunks" onclick="console.log('00:15:06,001'); seek(906.0)">
              valid business activity.
            </span>
            
            <span id="chunk-298" class="transcript-chunks" onclick="console.log('00:15:08,241'); seek(908.0)">
              And, it's not able to keep up.
            </span>
            
            <span id="chunk-299" class="transcript-chunks" onclick="console.log('00:15:09,891'); seek(909.0)">
              okay, let's quickly add more pods and then maybe now then
            </span>
            
            <span id="chunk-300" class="transcript-chunks" onclick="console.log('00:15:12,531'); seek(912.0)">
              it's going to be able to keep up.
            </span>
            
            <span id="chunk-301" class="transcript-chunks" onclick="console.log('00:15:14,691'); seek(914.0)">
              And so we did, we keyed the upscaling on memory consumption
            </span>
            
            <span id="chunk-302" class="transcript-chunks" onclick="console.log('00:15:18,481'); seek(918.0)">
              and equally the downscaling.
            </span>
            
            <span id="chunk-303" class="transcript-chunks" onclick="console.log('00:15:19,961'); seek(919.0)">
              And, it was okay.
            </span>
            
            <span id="chunk-304" class="transcript-chunks" onclick="console.log('00:15:21,656'); seek(921.0)">
              Um, it handled it a little bit better.
            </span>
            
            <span id="chunk-305" class="transcript-chunks" onclick="console.log('00:15:24,696'); seek(924.0)">
              Restarts went down a little bit, nothing spectacular.
            </span>
            
            <span id="chunk-306" class="transcript-chunks" onclick="console.log('00:15:27,776'); seek(927.0)">
              so then, okay.
            </span>
            
            <span id="chunk-307" class="transcript-chunks" onclick="console.log('00:15:29,276'); seek(929.0)">
              what else can we do about, by the way, aside from this precipitous
            </span>
            
            <span id="chunk-308" class="transcript-chunks" onclick="console.log('00:15:32,816'); seek(932.0)">
              increase and so forth, we also had a slow memory leak that would
            </span>
            
            <span id="chunk-309" class="transcript-chunks" onclick="console.log('00:15:35,546'); seek(935.0)">
              accumulate over like days on end.
            </span>
            
            <span id="chunk-310" class="transcript-chunks" onclick="console.log('00:15:38,676'); seek(938.0)">
              And so we also had to address that.
            </span>
            
            <span id="chunk-311" class="transcript-chunks" onclick="console.log('00:15:41,146'); seek(941.0)">
              And, the way we did that is drum roll, please.
            </span>
            
            <span id="chunk-312" class="transcript-chunks" onclick="console.log('00:15:44,376'); seek(944.0)">
              just restarted every night.
            </span>
            
            <span id="chunk-313" class="transcript-chunks" onclick="console.log('00:15:45,926'); seek(945.0)">
              Cause like we couldn't figure out where the leak was coming from, it doesn't
            </span>
            
            <span id="chunk-314" class="transcript-chunks" onclick="console.log('00:15:49,486'); seek(949.0)">
              matter you, this is a perfectly valid way of handling it because nobody's
            </span>
            
            <span id="chunk-315" class="transcript-chunks" onclick="console.log('00:15:54,546'); seek(954.0)">
              watching their web sockets at like 2 AM.
            </span>
            
            <span id="chunk-316" class="transcript-chunks" onclick="console.log('00:15:56,586'); seek(956.0)">
              So why not restart the service?
            </span>
            
            <span id="chunk-317" class="transcript-chunks" onclick="console.log('00:15:58,556'); seek(958.0)">
              And besides you, there are no auctions going on at 2 AM.
            </span>
            
            <span id="chunk-318" class="transcript-chunks" onclick="console.log('00:16:01,796'); seek(961.0)">
              Everybody's practically asleep all over the U S.
            </span>
            
            <span id="chunk-319" class="transcript-chunks" onclick="console.log('00:16:05,046'); seek(965.0)">
              And our clients, the, not the people, but the apps that they use and, the
            </span>
            
            <span id="chunk-320" class="transcript-chunks" onclick="console.log('00:16:10,406'); seek(970.0)">
              website that they use, those clients are designed to reconnect very quickly.
            </span>
            
            <span id="chunk-321" class="transcript-chunks" onclick="console.log('00:16:14,426'); seek(974.0)">
              So within a matter of seconds, they, they would reconnect their web
            </span>
            
            <span id="chunk-322" class="transcript-chunks" onclick="console.log('00:16:16,876'); seek(976.0)">
              sockets and continue to get data.
            </span>
            
            <span id="chunk-323" class="transcript-chunks" onclick="console.log('00:16:20,036'); seek(980.0)">
              So yeah, we quote unquote addressed this particular memory leak anyway.
            </span>
            
            <span id="chunk-324" class="transcript-chunks" onclick="console.log('00:16:25,646'); seek(985.0)">
              so back to the quest of lowering memory consumption, one of
            </span>
            
            <span id="chunk-325" class="transcript-chunks" onclick="console.log('00:16:29,886'); seek(989.0)">
              the things that I didn't.
            </span>
            
            <span id="chunk-326" class="transcript-chunks" onclick="console.log('00:16:32,086'); seek(992.0)">
              I'm going to add in my background slide is that, the way we deploy
            </span>
            
            <span id="chunk-327" class="transcript-chunks" onclick="console.log('00:16:36,026'); seek(996.0)">
              graph is we do a bunch of like transformations on the source code, right?
            </span>
            
            <span id="chunk-328" class="transcript-chunks" onclick="console.log('00:16:40,476'); seek(1000.0)">
              Like we, we have TypeScript in there.
            </span>
            
            <span id="chunk-329" class="transcript-chunks" onclick="console.log('00:16:42,346'); seek(1002.0)">
              So of course we compile that to, or transpile that to JavaScript.
            </span>
            
            <span id="chunk-330" class="transcript-chunks" onclick="console.log('00:16:47,376'); seek(1007.0)">
              But we also have this legacy sort of bundling system that is basically designed
            </span>
            
            <span id="chunk-331" class="transcript-chunks" onclick="console.log('00:16:52,346'); seek(1012.0)">
              for clients, but that we also use on the server, which just puts everything
            </span>
            
            <span id="chunk-332" class="transcript-chunks" onclick="console.log('00:16:56,006'); seek(1016.0)">
              through Babel and generates this one big file that is the entire server.
            </span>
            
            <span id="chunk-333" class="transcript-chunks" onclick="console.log('00:17:00,336'); seek(1020.0)">
              And.
            </span>
            
            <span id="chunk-334" class="transcript-chunks" onclick="console.log('00:17:01,396'); seek(1021.0)">
              that, that the configuration of that process was such that there, it made no
            </span>
            
            <span id="chunk-335" class="transcript-chunks" onclick="console.log('00:17:07,196'); seek(1027.0)">
              distinction between whether it creates a client bundle or a server bundle.
            </span>
            
            <span id="chunk-336" class="transcript-chunks" onclick="console.log('00:17:11,506'); seek(1031.0)">
              And with this optimization mindset, I went in there and I was like, okay, so let's
            </span>
            
            <span id="chunk-337" class="transcript-chunks" onclick="console.log('00:17:15,166'); seek(1035.0)">
              introduce such a distinction because, the client bundle has to address all kinds of
            </span>
            
            <span id="chunk-338" class="transcript-chunks" onclick="console.log('00:17:19,186'); seek(1039.0)">
              browsers with all kinds of capabilities and legacy browsers and all that.
            </span>
            
            <span id="chunk-339" class="transcript-chunks" onclick="console.log('00:17:22,906'); seek(1042.0)">
              And so it needs to be bulletproof and be able to function in no matter what level
            </span>
            
            <span id="chunk-340" class="transcript-chunks" onclick="console.log('00:17:27,451'); seek(1047.0)">
              of ECMA script is running on that browser, but that's not true for the server, right?
            </span>
            
            <span id="chunk-341" class="transcript-chunks" onclick="console.log('00:17:32,081'); seek(1052.0)">
              Node.
            </span>
            
            <span id="chunk-342" class="transcript-chunks" onclick="console.log('00:17:32,311'); seek(1052.0)">
              js, we know exactly what version of Node.
            </span>
            
            <span id="chunk-343" class="transcript-chunks" onclick="console.log('00:17:34,801'); seek(1054.0)">
              js we're going to have, 20 in this case, and so the translation algorithm might
            </span>
            
            <span id="chunk-344" class="transcript-chunks" onclick="console.log('00:17:40,421'); seek(1060.0)">
              as well target that version and leave a lot of the native stuff in place instead
            </span>
            
            <span id="chunk-345" class="transcript-chunks" onclick="console.log('00:17:44,601'); seek(1064.0)">
              of replacing it with polyfills, right?
            </span>
            
            <span id="chunk-346" class="transcript-chunks" onclick="console.log('00:17:46,631'); seek(1066.0)">
              Unnecessarily in this case.
            </span>
            
            <span id="chunk-347" class="transcript-chunks" onclick="console.log('00:17:48,491'); seek(1068.0)">
              So we did that and you can see that the curve has gotten a lot flatter.
            </span>
            
            <span id="chunk-348" class="transcript-chunks" onclick="console.log('00:17:51,981'); seek(1071.0)">
              if you look at this one, the peaks and the valleys are a lot smaller,
            </span>
            
            <span id="chunk-349" class="transcript-chunks" onclick="console.log('00:17:56,401'); seek(1076.0)">
              we've improved things a little bit and the performance went up by another 0.
            </span>
            
            <span id="chunk-350" class="transcript-chunks" onclick="console.log('00:18:01,091'); seek(1081.0)">
              3 X, right?
            </span>
            
            <span id="chunk-351" class="transcript-chunks" onclick="console.log('00:18:02,011'); seek(1082.0)">
              We're at 3.
            </span>
            
            <span id="chunk-352" class="transcript-chunks" onclick="console.log('00:18:02,691'); seek(1082.0)">
              6 X now versus the original.
            </span>
            
            <span id="chunk-353" class="transcript-chunks" onclick="console.log('00:18:04,911'); seek(1084.0)">
              okay.
            </span>
            
            <span id="chunk-354" class="transcript-chunks" onclick="console.log('00:18:05,451'); seek(1085.0)">
              it's good.
            </span>
            
            <span id="chunk-355" class="transcript-chunks" onclick="console.log('00:18:06,231'); seek(1086.0)">
              Memory consumption is a little more predictable.
            </span>
            
            <span id="chunk-356" class="transcript-chunks" onclick="console.log('00:18:08,621'); seek(1088.0)">
              Performance is slightly up.
            </span>
            
            <span id="chunk-357" class="transcript-chunks" onclick="console.log('00:18:10,841'); seek(1090.0)">
              Can't complain.
            </span>
            
            <span id="chunk-358" class="transcript-chunks" onclick="console.log('00:18:11,771'); seek(1091.0)">
              Except of course that we haven't really lowered this plateau.
            </span>
            
            <span id="chunk-359" class="transcript-chunks" onclick="console.log('00:18:14,391'); seek(1094.0)">
              It's still, hovering around just above one gig.
            </span>
            
            <span id="chunk-360" class="transcript-chunks" onclick="console.log('00:18:19,001'); seek(1099.0)">
              okay.
            </span>
            
            <span id="chunk-361" class="transcript-chunks" onclick="console.log('00:18:19,321'); seek(1099.0)">
              Let's see.
            </span>
            
            <span id="chunk-362" class="transcript-chunks" onclick="console.log('00:18:19,711'); seek(1099.0)">
              What else?
            </span>
            
            <span id="chunk-363" class="transcript-chunks" onclick="console.log('00:18:20,051'); seek(1100.0)">
              What else can we do?
            </span>
            
            <span id="chunk-364" class="transcript-chunks" onclick="console.log('00:18:21,271'); seek(1101.0)">
              Okay.
            </span>
            
            <span id="chunk-365" class="transcript-chunks" onclick="console.log('00:18:21,561'); seek(1101.0)">
              So back to optimizing this guy.
            </span>
            
            <span id="chunk-366" class="transcript-chunks" onclick="console.log('00:18:25,521'); seek(1105.0)">
              And, If you remember the code, we had a bunch of like object entries
            </span>
            
            <span id="chunk-367" class="transcript-chunks" onclick="console.log('00:18:29,251'); seek(1109.0)">
              and object from entries and map in there and that generates a
            </span>
            
            <span id="chunk-368" class="transcript-chunks" onclick="console.log('00:18:32,791'); seek(1112.0)">
              lot of temporary objects, right?
            </span>
            
            <span id="chunk-369" class="transcript-chunks" onclick="console.log('00:18:35,001'); seek(1115.0)">
              because, object entries converts an object to a map, to, to an array, and then from
            </span>
            
            <span id="chunk-370" class="transcript-chunks" onclick="console.log('00:18:40,581'); seek(1120.0)">
              entries converts that array back to a map.
            </span>
            
            <span id="chunk-371" class="transcript-chunks" onclick="console.log('00:18:42,936'); seek(1122.0)">
              An object, and that creates a new object.
            </span>
            
            <span id="chunk-372" class="transcript-chunks" onclick="console.log('00:18:44,876'); seek(1124.0)">
              Then you have the old object in the new object.
            </span>
            
            <span id="chunk-373" class="transcript-chunks" onclick="console.log('00:18:46,826'); seek(1126.0)">
              You have this array, which then gets destroyed.
            </span>
            
            <span id="chunk-374" class="transcript-chunks" onclick="console.log('00:18:48,806'); seek(1128.0)">
              Same thing with map.
            </span>
            
            <span id="chunk-375" class="transcript-chunks" onclick="console.log('00:18:49,696'); seek(1129.0)">
              It creates a new array and destroys the old array.
            </span>
            
            <span id="chunk-376" class="transcript-chunks" onclick="console.log('00:18:51,966'); seek(1131.0)">
              why don't, why do we do that?
            </span>
            
            <span id="chunk-377" class="transcript-chunks" onclick="console.log('00:18:54,086'); seek(1134.0)">
              why don't we just do things in place whenever we can.
            </span>
            
            <span id="chunk-378" class="transcript-chunks" onclick="console.log('00:18:56,756'); seek(1136.0)">
              So for objects, it's difficult to do things in place because with objects.
            </span>
            
            <span id="chunk-379" class="transcript-chunks" onclick="console.log('00:19:01,691'); seek(1141.0)">
              You would have to replace the keys.
            </span>
            
            <span id="chunk-380" class="transcript-chunks" onclick="console.log('00:19:03,581'); seek(1143.0)">
              and that's really difficult to do.
            </span>
            
            <span id="chunk-381" class="transcript-chunks" onclick="console.log('00:19:05,061'); seek(1145.0)">
              Cause you have to insert a new key, which is snake case, delete the old
            </span>
            
            <span id="chunk-382" class="transcript-chunks" onclick="console.log('00:19:08,371'); seek(1148.0)">
              key, which is, camel case and so forth.
            </span>
            
            <span id="chunk-383" class="transcript-chunks" onclick="console.log('00:19:11,161'); seek(1151.0)">
              It's much easier to just create an empty object, fill it in with the
            </span>
            
            <span id="chunk-384" class="transcript-chunks" onclick="console.log('00:19:14,041'); seek(1154.0)">
              converted keys, And then return that.
            </span>
            
            <span id="chunk-385" class="transcript-chunks" onclick="console.log('00:19:16,131'); seek(1156.0)">
              And then that is the object.
            </span>
            
            <span id="chunk-386" class="transcript-chunks" onclick="console.log('00:19:17,351'); seek(1157.0)">
              So okay, yes, we're creating a new object.
            </span>
            
            <span id="chunk-387" class="transcript-chunks" onclick="console.log('00:19:19,641'); seek(1159.0)">
              But in the case of an array, we can completely save ourselves that
            </span>
            
            <span id="chunk-388" class="transcript-chunks" onclick="console.log('00:19:22,121'); seek(1162.0)">
              because we're not touching the keys.
            </span>
            
            <span id="chunk-389" class="transcript-chunks" onclick="console.log('00:19:23,451'); seek(1163.0)">
              We're only touching the values, right?
            </span>
            
            <span id="chunk-390" class="transcript-chunks" onclick="console.log('00:19:25,111'); seek(1165.0)">
              So just replace the values with the snake case ified version of themselves.
            </span>
            
            <span id="chunk-391" class="transcript-chunks" onclick="console.log('00:19:29,201'); seek(1169.0)">
              And that's it.
            </span>
            
            <span id="chunk-392" class="transcript-chunks" onclick="console.log('00:19:29,651'); seek(1169.0)">
              And you can still use that same array.
            </span>
            
            <span id="chunk-393" class="transcript-chunks" onclick="console.log('00:19:32,211'); seek(1172.0)">
              And so when we deployed this, lo and behold, performance went from 3.
            </span>
            
            <span id="chunk-394" class="transcript-chunks" onclick="console.log('00:19:37,151'); seek(1177.0)">
              6x to 6.
            </span>
            
            <span id="chunk-395" class="transcript-chunks" onclick="console.log('00:19:37,311'); seek(1177.0)">
              3x.
            </span>
            
            <span id="chunk-396" class="transcript-chunks" onclick="console.log('00:19:38,391'); seek(1178.0)">
              So we tripled performance again.
            </span>
            
            <span id="chunk-397" class="transcript-chunks" onclick="console.log('00:19:40,991'); seek(1180.0)">
              memory consumption is very nice and flat now, but it's
            </span>
            
            <span id="chunk-398" class="transcript-chunks" onclick="console.log('00:19:44,381'); seek(1184.0)">
              still hovering at around a gig.
            </span>
            
            <span id="chunk-399" class="transcript-chunks" onclick="console.log('00:19:47,161'); seek(1187.0)">
              Okay.
            </span>
            
            <span id="chunk-400" class="transcript-chunks" onclick="console.log('00:19:47,631'); seek(1187.0)">
              all So then break out the big guns, so to speak.
            </span>
            
            <span id="chunk-401" class="transcript-chunks" onclick="console.log('00:19:50,361'); seek(1190.0)">
              this is Chrome DevTools, the memory tab, as you can see, because we're
            </span>
            
            <span id="chunk-402" class="transcript-chunks" onclick="console.log('00:19:55,431'); seek(1195.0)">
              looking at memory consumption and it has this wonderful feature called a heap
            </span>
            
            <span id="chunk-403" class="transcript-chunks" onclick="console.log('00:19:59,361'); seek(1199.0)">
              snapshot that you can use with Node.
            </span>
            
            <span id="chunk-404" class="transcript-chunks" onclick="console.log('00:20:01,481'); seek(1201.0)">
              js.
            </span>
            
            <span id="chunk-405" class="transcript-chunks" onclick="console.log('00:20:02,831'); seek(1202.0)">
              Now a heap snapshot will basically, as you might think, as you might imagine,
            </span>
            
            <span id="chunk-406" class="transcript-chunks" onclick="console.log('00:20:06,611'); seek(1206.0)">
              it'll take a snapshot of the heap, i.
            </span>
            
            <span id="chunk-407" class="transcript-chunks" onclick="console.log('00:20:08,341'); seek(1208.0)">
              e.
            </span>
            
            <span id="chunk-408" class="transcript-chunks" onclick="console.log('00:20:08,581'); seek(1208.0)">
              it'll tell you all the objects that are on the heap at that time, by their type.
            </span>
            
            <span id="chunk-409" class="transcript-chunks" onclick="console.log('00:20:14,001'); seek(1214.0)">
              And then, one of the best features here, of this tool is not only that it can
            </span>
            
            <span id="chunk-410" class="transcript-chunks" onclick="console.log('00:20:19,191'); seek(1219.0)">
              take these snapshots, but if you take two of them of the same process, earlier in
            </span>
            
            <span id="chunk-411" class="transcript-chunks" onclick="console.log('00:20:23,596'); seek(1223.0)">
              the process, later in the process, then, you can actually get, the difference.
            </span>
            
            <span id="chunk-412" class="transcript-chunks" onclick="console.log('00:20:28,246'); seek(1228.0)">
              Like what have I created since my last snapshot?
            </span>
            
            <span id="chunk-413" class="transcript-chunks" onclick="console.log('00:20:30,946'); seek(1230.0)">
              What have I destroyed since my last snapshot?
            </span>
            
            <span id="chunk-414" class="transcript-chunks" onclick="console.log('00:20:33,686'); seek(1233.0)">
              And so of course you, you'd want either zero or lots of
            </span>
            
            <span id="chunk-415" class="transcript-chunks" onclick="console.log('00:20:36,346'); seek(1236.0)">
              negatives, but unfortunately, that's not what we were seeing.
            </span>
            
            <span id="chunk-416" class="transcript-chunks" onclick="console.log('00:20:39,566'); seek(1239.0)">
              We took a snapshot at the point where the 4, 000 sockets were there, but idle.
            </span>
            
            <span id="chunk-417" class="transcript-chunks" onclick="console.log('00:20:44,016'); seek(1244.0)">
              And then we took another snapshot.
            </span>
            
            <span id="chunk-418" class="transcript-chunks" onclick="console.log('00:20:45,556'); seek(1245.0)">
              I'm sorry.
            </span>
            
            <span id="chunk-419" class="transcript-chunks" onclick="console.log('00:20:45,946'); seek(1245.0)">
              We took a, the first snapshot is where everything is idle.
            </span>
            
            <span id="chunk-420" class="transcript-chunks" onclick="console.log('00:20:48,626'); seek(1248.0)">
              Node.
            </span>
            
            <span id="chunk-421" class="transcript-chunks" onclick="console.log('00:20:48,806'); seek(1248.0)">
              js is just sitting there doing absolutely nothing.
            </span>
            
            <span id="chunk-422" class="transcript-chunks" onclick="console.log('00:20:51,346'); seek(1251.0)">
              The second snapshot is after, the sockets were connected, but before
            </span>
            
            <span id="chunk-423" class="transcript-chunks" onclick="console.log('00:20:55,436'); seek(1255.0)">
              there were any messages coming through.
            </span>
            
            <span id="chunk-424" class="transcript-chunks" onclick="console.log('00:20:57,776'); seek(1257.0)">
              And the difference is, for example, among other things that some more
            </span>
            
            <span id="chunk-425" class="transcript-chunks" onclick="console.log('00:21:03,346'); seek(1263.0)">
              recognizable things is that there are 261, 968 location objects.
            </span>
            
            <span id="chunk-426" class="transcript-chunks" onclick="console.log('00:21:08,696'); seek(1268.0)">
              Now, what is a location object and why do we have so many of them?
            </span>
            
            <span id="chunk-427" class="transcript-chunks" onclick="console.log('00:21:12,291'); seek(1272.0)">
              it turns out the location object is an artifact that is created whenever,
            </span>
            
            <span id="chunk-428" class="transcript-chunks" onclick="console.log('00:21:18,871'); seek(1278.0)">
              an incoming request, such as a subscription is processed by GraphQL.
            </span>
            
            <span id="chunk-429" class="transcript-chunks" onclick="console.log('00:21:23,691'); seek(1283.0)">
              It creates a syntax tree for it, an AST, and unless you ask otherwise,
            </span>
            
            <span id="chunk-430" class="transcript-chunks" onclick="console.log('00:21:30,361'); seek(1290.0)">
              it will attach to each AST node, it will attach the location of that
            </span>
            
            <span id="chunk-431" class="transcript-chunks" onclick="console.log('00:21:34,331'); seek(1294.0)">
              node in the original source codes, so row five, column 29, that's where
            </span>
            
            <span id="chunk-432" class="transcript-chunks" onclick="console.log('00:21:38,951'); seek(1298.0)">
              something starts, some kind of token.
            </span>
            
            <span id="chunk-433" class="transcript-chunks" onclick="console.log('00:21:41,001'); seek(1301.0)">
              And that token is stored in an object in the AST, and associated
            </span>
            
            <span id="chunk-434" class="transcript-chunks" onclick="console.log('00:21:44,891'); seek(1304.0)">
              to that token is a location object that will allow you to go to that
            </span>
            
            <span id="chunk-435" class="transcript-chunks" onclick="console.log('00:21:49,561'); seek(1309.0)">
              location and do something interesting.
            </span>
            
            <span id="chunk-436" class="transcript-chunks" onclick="console.log('00:21:52,061'); seek(1312.0)">
              we're worried about, answering these queries.
            </span>
            
            <span id="chunk-437" class="transcript-chunks" onclick="console.log('00:21:54,976'); seek(1314.0)">
              We're worried about giving responses to these queries.
            </span>
            
            <span id="chunk-438" class="transcript-chunks" onclick="console.log('00:21:57,046'); seek(1317.0)">
              We don't actually care where in the query string, something is located.
            </span>
            
            <span id="chunk-439" class="transcript-chunks" onclick="console.log('00:22:02,086'); seek(1322.0)">
              So we don't need these locations at all.
            </span>
            
            <span id="chunk-440" class="transcript-chunks" onclick="console.log('00:22:04,796'); seek(1324.0)">
              And we configured the parser.
            </span>
            
            <span id="chunk-441" class="transcript-chunks" onclick="console.log('00:22:07,056'); seek(1327.0)">
              We kind of monkey patched it at first, but then we found better ways.
            </span>
            
            <span id="chunk-442" class="transcript-chunks" onclick="console.log('00:22:11,086'); seek(1331.0)">
              We configured it so that, we actually had to reach into subscriptions,
            </span>
            
            <span id="chunk-443" class="transcript-chunks" onclick="console.log('00:22:14,666'); seek(1334.0)">
              transport WS at first and basically just tell it, okay, please don't.
            </span>
            
            <span id="chunk-444" class="transcript-chunks" onclick="console.log('00:22:19,306'); seek(1339.0)">
              And I can do the same thing with a std.
            </span>
            
            <span id="chunk-445" class="transcript-chunks" onclick="console.log('00:22:22,320'); seek(1342.0)">
              So I can then say, oh, where can I convert it?
            </span>
            
            <span id="chunk-446" class="transcript-chunks" onclick="console.log('00:22:25,636'); seek(1345.0)">
              Or I can give it a transcription, a transaction.
            </span>
            
            <span id="chunk-447" class="transcript-chunks" onclick="console.log('00:22:28,349'); seek(1348.0)">
              I can give it a transcription, a transaction.
            </span>
            
            <span id="chunk-448" class="transcript-chunks" onclick="console.log('00:22:30,760'); seek(1350.0)">
              And that's basically the kind of thing that we're going to be doing.
            </span>
            
            <span id="chunk-449" class="transcript-chunks" onclick="console.log('00:22:34,679'); seek(1354.0)">
              And what I mean by that is I'm not going to be converting that logic into, say,
            </span>
            
            <span id="chunk-450" class="transcript-chunks" onclick="console.log('00:22:39,803'); seek(1359.0)">
              a translation disk, but I'm going to be converting it into a transcription
            </span>
            
            <span id="chunk-451" class="transcript-chunks" onclick="console.log('00:22:43,721'); seek(1363.0)">
              of some sort of, a state definition.
            </span>
            
            <span id="chunk-452" class="transcript-chunks" onclick="console.log('00:22:47,041'); seek(1367.0)">
              it didn't take very long to get through the one gig barrier.
            </span>
            
            <span id="chunk-453" class="transcript-chunks" onclick="console.log('00:22:49,291'); seek(1369.0)">
              Whereas now it barely makes it to one gig.
            </span>
            
            <span id="chunk-454" class="transcript-chunks" onclick="console.log('00:22:51,381'); seek(1371.0)">
              we got some performance in terms of memory consumption reduction.
            </span>
            
            <span id="chunk-455" class="transcript-chunks" onclick="console.log('00:22:55,011'); seek(1375.0)">
              Great.
            </span>
            
            <span id="chunk-456" class="transcript-chunks" onclick="console.log('00:22:55,711'); seek(1375.0)">
              And the execution performance hasn't really decreased.
            </span>
            
            <span id="chunk-457" class="transcript-chunks" onclick="console.log('00:22:59,191'); seek(1379.0)">
              it's pretty good.
            </span>
            
            <span id="chunk-458" class="transcript-chunks" onclick="console.log('00:23:00,151'); seek(1380.0)">
              In fact, If I think about it, it's actually gone up from 5.
            </span>
            
            <span id="chunk-459" class="transcript-chunks" onclick="console.log('00:23:04,371'); seek(1384.0)">
              So, not so bad.
            </span>
            
            <span id="chunk-460" class="transcript-chunks" onclick="console.log('00:23:06,651'); seek(1386.0)">
              but is there anything else we can do?
            </span>
            
            <span id="chunk-461" class="transcript-chunks" onclick="console.log('00:23:08,051'); seek(1388.0)">
              let's see how low we can go, all So the next thing we did was we went
            </span>
            
            <span id="chunk-462" class="transcript-chunks" onclick="console.log('00:23:11,471'); seek(1391.0)">
              back to the context and we're like, okay, can we lower this plateau a
            </span>
            
            <span id="chunk-463" class="transcript-chunks" onclick="console.log('00:23:14,441'); seek(1394.0)">
              little more like in the idle case?
            </span>
            
            <span id="chunk-464" class="transcript-chunks" onclick="console.log('00:23:16,111'); seek(1396.0)">
              Because if it's low in the idle.
            </span>
            
            <span id="chunk-465" class="transcript-chunks" onclick="console.log('00:23:17,941'); seek(1397.0)">
              It's going to be proportionally lower in the case of execution,
            </span>
            
            <span id="chunk-466" class="transcript-chunks" onclick="console.log('00:23:22,571'); seek(1402.0)">
              or at least most of the time.
            </span>
            
            <span id="chunk-467" class="transcript-chunks" onclick="console.log('00:23:24,241'); seek(1404.0)">
              we realized that in addition to backends, the other thing on our context is
            </span>
            
            <span id="chunk-468" class="transcript-chunks" onclick="console.log('00:23:29,361'); seek(1409.0)">
              something called data loaders and primers.
            </span>
            
            <span id="chunk-469" class="transcript-chunks" onclick="console.log('00:23:31,621'); seek(1411.0)">
              So a data loader is basically just a kind of a backend where, you ask it for a bunch
            </span>
            
            <span id="chunk-470" class="transcript-chunks" onclick="console.log('00:23:38,581'); seek(1418.0)">
              of things and you ask it one at a time.
            </span>
            
            <span id="chunk-471" class="transcript-chunks" onclick="console.log('00:23:40,521'); seek(1420.0)">
              And it pretends to answer right away.
            </span>
            
            <span id="chunk-472" class="transcript-chunks" onclick="console.log('00:23:42,921'); seek(1422.0)">
              But really, one of its most important features is that it batches those
            </span>
            
            <span id="chunk-473" class="transcript-chunks" onclick="console.log('00:23:46,661'); seek(1426.0)">
              requests and then it issues a single backend call saying, give me all of
            </span>
            
            <span id="chunk-474" class="transcript-chunks" onclick="console.log('00:23:52,101'); seek(1432.0)">
              these things, if the backend is capable.
            </span>
            
            <span id="chunk-475" class="transcript-chunks" onclick="console.log('00:23:54,401'); seek(1434.0)">
              And then when the backend responds, it doles out the various objects that it was
            </span>
            
            <span id="chunk-476" class="transcript-chunks" onclick="console.log('00:23:58,931'); seek(1438.0)">
              requested to, to provide as they come in.
            </span>
            
            <span id="chunk-477" class="transcript-chunks" onclick="console.log('00:24:02,531'); seek(1442.0)">
              And so it's a great tool for avoiding N plus one situations.
            </span>
            
            <span id="chunk-478" class="transcript-chunks" onclick="console.log('00:24:07,191'); seek(1447.0)">
              And we have lots of them.
            </span>
            
            <span id="chunk-479" class="transcript-chunks" onclick="console.log('00:24:08,251'); seek(1448.0)">
              Like we, we load, we use data loaders for lots of different things.
            </span>
            
            <span id="chunk-480" class="transcript-chunks" onclick="console.log('00:24:12,331'); seek(1452.0)">
              and we have 50 of them and primers, which prime the data loaders when
            </span>
            
            <span id="chunk-481" class="transcript-chunks" onclick="console.log('00:24:15,971'); seek(1455.0)">
              the execution knows that it's going to subsequently need that data.
            </span>
            
            <span id="chunk-482" class="transcript-chunks" onclick="console.log('00:24:19,651'); seek(1459.0)">
              of those we have even more.
            </span>
            
            <span id="chunk-483" class="transcript-chunks" onclick="console.log('00:24:21,541'); seek(1461.0)">
              and we store them all like this.
            </span>
            
            <span id="chunk-484" class="transcript-chunks" onclick="console.log('00:24:23,851'); seek(1463.0)">
              the name of the loader and then the function that creates the loader,
            </span>
            
            <span id="chunk-485" class="transcript-chunks" onclick="console.log('00:24:27,101'); seek(1467.0)">
              then the name of the loader and the function that creates the loader.
            </span>
            
            <span id="chunk-486" class="transcript-chunks" onclick="console.log('00:24:29,581'); seek(1469.0)">
              and the result of these function calls is always an object.
            </span>
            
            <span id="chunk-487" class="transcript-chunks" onclick="console.log('00:24:32,751'); seek(1472.0)">
              And so again, we were in the same situation as with backends, where
            </span>
            
            <span id="chunk-488" class="transcript-chunks" onclick="console.log('00:24:35,291'); seek(1475.0)">
              we were creating like hundreds of these objects, if not thousands,
            </span>
            
            <span id="chunk-489" class="transcript-chunks" onclick="console.log('00:24:38,441'); seek(1478.0)">
              for the data loaders, and for the primers for every single context.
            </span>
            
            <span id="chunk-490" class="transcript-chunks" onclick="console.log('00:24:42,851'); seek(1482.0)">
              But unlike the backends, this required a little more subtle solution to, to
            </span>
            
            <span id="chunk-491" class="transcript-chunks" onclick="console.log('00:24:47,711'); seek(1487.0)">
              transform into a lazy object because, it's a much bigger sort of object
            </span>
            
            <span id="chunk-492" class="transcript-chunks" onclick="console.log('00:24:52,591'); seek(1492.0)">
              and it's constructed statically.
            </span>
            
            <span id="chunk-493" class="transcript-chunks" onclick="console.log('00:24:55,021'); seek(1495.0)">
              So the backends, they're actually constructed in a loop, but this
            </span>
            
            <span id="chunk-494" class="transcript-chunks" onclick="console.log('00:24:58,061'); seek(1498.0)">
              object is literally just a big giant object literal declaration.
            </span>
            
            <span id="chunk-495" class="transcript-chunks" onclick="console.log('00:25:02,291'); seek(1502.0)">
              And so we didn't want to turn this into like complicated code
            </span>
            
            <span id="chunk-496" class="transcript-chunks" onclick="console.log('00:25:05,261'); seek(1505.0)">
              that looks like this, right?
            </span>
            
            <span id="chunk-497" class="transcript-chunks" onclick="console.log('00:25:06,791'); seek(1506.0)">
              while at the same time, wanting that, that laziness about it
            </span>
            
            <span id="chunk-498" class="transcript-chunks" onclick="console.log('00:25:10,091'); seek(1510.0)">
              so that we might save memory.
            </span>
            
            <span id="chunk-499" class="transcript-chunks" onclick="console.log('00:25:12,211'); seek(1512.0)">
              And so what we did since we're, since, as I explained earlier, we run
            </span>
            
            <span id="chunk-500" class="transcript-chunks" onclick="console.log('00:25:15,831'); seek(1515.0)">
              through these build steps to convert things and run Babel on them and so
            </span>
            
            <span id="chunk-501" class="transcript-chunks" onclick="console.log('00:25:19,301'); seek(1519.0)">
              forth until it's just one big file.
            </span>
            
            <span id="chunk-502" class="transcript-chunks" onclick="console.log('00:25:21,421'); seek(1521.0)">
              Babel has these things called plugins.
            </span>
            
            <span id="chunk-503" class="transcript-chunks" onclick="console.log('00:25:23,131'); seek(1523.0)">
              So why don't we make a that takes one of these objects and turns it into.
            </span>
            
            <span id="chunk-504" class="transcript-chunks" onclick="console.log('00:25:27,461'); seek(1527.0)">
              In the end, the output of the package starts from the statement,
            </span>
            
            <span id="chunk-505" class="transcript-chunks" onclick="console.log('00:25:29,872'); seek(1529.0)">
              which is something like this, which is the name of the parameter,
            </span>
            
            <span id="chunk-506" class="transcript-chunks" onclick="console.log('00:25:32,284'); seek(1532.0)">
              which is the name of the function, which is the name of the function.
            </span>
            
            <span id="chunk-507" class="transcript-chunks" onclick="console.log('00:25:35,097'); seek(1535.0)">
              This is the number, which is the value of this specific function.
            </span>
            
            <span id="chunk-508" class="transcript-chunks" onclick="console.log('00:25:37,508'); seek(1537.0)">
              So it's basically the name of the function.
            </span>
            
            <span id="chunk-509" class="transcript-chunks" onclick="console.log('00:25:39,115'); seek(1539.0)">
              Every function that you have in the database, and the name of the function,
            </span>
            
            <span id="chunk-510" class="transcript-chunks" onclick="console.log('00:25:41,928'); seek(1541.0)">
              which are actually one of the properties in this object is actually primers,
            </span>
            
            <span id="chunk-511" class="transcript-chunks" onclick="console.log('00:25:46,371'); seek(1546.0)">
              which itself is a, lazy object.
            </span>
            
            <span id="chunk-512" class="transcript-chunks" onclick="console.log('00:25:48,851'); seek(1548.0)">
              So it gets complicated quickly.
            </span>
            
            <span id="chunk-513" class="transcript-chunks" onclick="console.log('00:25:50,781'); seek(1550.0)">
              And so better, better to use that Babel plugin.
            </span>
            
            <span id="chunk-514" class="transcript-chunks" onclick="console.log('00:25:53,081'); seek(1553.0)">
              And so the Babel plugin works like this.
            </span>
            
            <span id="chunk-515" class="transcript-chunks" onclick="console.log('00:25:54,671'); seek(1554.0)">
              It looks for instances of proxy.
            </span>
            
            <span id="chunk-516" class="transcript-chunks" onclick="console.log('00:25:56,951'); seek(1556.0)">
              lazy in the code.
            </span>
            
            <span id="chunk-517" class="transcript-chunks" onclick="console.log('00:25:58,621'); seek(1558.0)">
              which, proxy is a perfectly valid, JavaScript or ECMA script, specified,
            </span>
            
            <span id="chunk-518" class="transcript-chunks" onclick="console.log('00:26:04,121'); seek(1564.0)">
              global, but that global doesn't have a static function called lazy.
            </span>
            
            <span id="chunk-519" class="transcript-chunks" onclick="console.log('00:26:07,871'); seek(1567.0)">
              That's fictitious that we invented that function, right?
            </span>
            
            <span id="chunk-520" class="transcript-chunks" onclick="console.log('00:26:10,841'); seek(1570.0)">
              But with Babel, that can be turned into quote unquote, a real function by virtue
            </span>
            
            <span id="chunk-521" class="transcript-chunks" onclick="console.log('00:26:15,881'); seek(1575.0)">
              of the fact that, we create code to satisfy this and to turn this into an
            </span>
            
            <span id="chunk-522" class="transcript-chunks" onclick="console.log('00:26:20,531'); seek(1580.0)">
              object literal, that is really a proxy.
            </span>
            
            <span id="chunk-523" class="transcript-chunks" onclick="console.log('00:26:22,541'); seek(1582.0)">
              so that's basically our excuse is to find this word lazy here.
            </span>
            
            <span id="chunk-524" class="transcript-chunks" onclick="console.log('00:26:26,261'); seek(1586.0)">
              And so that's our hook actually.
            </span>
            
            <span id="chunk-525" class="transcript-chunks" onclick="console.log('00:26:28,601'); seek(1588.0)">
              And okay.
            </span>
            
            <span id="chunk-526" class="transcript-chunks" onclick="console.log('00:26:29,051'); seek(1589.0)">
              So then that turns the code into something like this, where if you're asking for
            </span>
            
            <span id="chunk-527" class="transcript-chunks" onclick="console.log('00:26:33,201'); seek(1593.0)">
              key one, then you call function one, if you're asking for key two, you call
            </span>
            
            <span id="chunk-528" class="transcript-chunks" onclick="console.log('00:26:35,831'); seek(1595.0)">
              function two, but you also memoize, right?
            </span>
            
            <span id="chunk-529" class="transcript-chunks" onclick="console.log('00:26:38,601'); seek(1598.0)">
              So originally.
            </span>
            
            <span id="chunk-530" class="transcript-chunks" onclick="console.log('00:26:40,596'); seek(1600.0)">
              You have all the keys because the object still has to look
            </span>
            
            <span id="chunk-531" class="transcript-chunks" onclick="console.log('00:26:43,896'); seek(1603.0)">
              like it has all the keys, right?
            </span>
            
            <span id="chunk-532" class="transcript-chunks" onclick="console.log('00:26:45,386'); seek(1605.0)">
              But each key has only like this the symbol assigned to it, which is one
            </span>
            
            <span id="chunk-533" class="transcript-chunks" onclick="console.log('00:26:49,876'); seek(1609.0)">
              symbol that is getting reused for all keys Instead of having one symbol per key
            </span>
            
            <span id="chunk-534" class="transcript-chunks" onclick="console.log('00:26:54,586'); seek(1614.0)">
              that's a big savings while not affecting the look and feel of the object And
            </span>
            
            <span id="chunk-535" class="transcript-chunks" onclick="console.log('00:26:59,526'); seek(1619.0)">
              then when, you want one of these data loaders, then you just ask for the key.
            </span>
            
            <span id="chunk-536" class="transcript-chunks" onclick="console.log('00:27:04,036'); seek(1624.0)">
              It checks, Oh, geez, the key is a, is one of these symbols, then I better create it.
            </span>
            
            <span id="chunk-537" class="transcript-chunks" onclick="console.log('00:27:07,956'); seek(1627.0)">
              So it creates it and then it replaces the symbol with the
            </span>
            
            <span id="chunk-538" class="transcript-chunks" onclick="console.log('00:27:10,536'); seek(1630.0)">
              result of the function call, i.
            </span>
            
            <span id="chunk-539" class="transcript-chunks" onclick="console.log('00:27:12,206'); seek(1632.0)">
              e.
            </span>
            
            <span id="chunk-540" class="transcript-chunks" onclick="console.log('00:27:12,366'); seek(1632.0)">
              memorization.
            </span>
            
            <span id="chunk-541" class="transcript-chunks" onclick="console.log('00:27:13,636'); seek(1633.0)">
              and that's it.
            </span>
            
            <span id="chunk-542" class="transcript-chunks" onclick="console.log('00:27:15,056'); seek(1635.0)">
              And let's see what ha what happened when we did that.
            </span>
            
            <span id="chunk-543" class="transcript-chunks" onclick="console.log('00:27:17,186'); seek(1637.0)">
              we did another thing first too.
            </span>
            
            <span id="chunk-544" class="transcript-chunks" onclick="console.log('00:27:18,916'); seek(1638.0)">
              we introduced a query cache.
            </span>
            
            <span id="chunk-545" class="transcript-chunks" onclick="console.log('00:27:20,726'); seek(1640.0)">
              Because, we didn't want to have 4, 000 copies of an AST if we could
            </span>
            
            <span id="chunk-546" class="transcript-chunks" onclick="console.log('00:27:24,446'); seek(1644.0)">
              avoid it, why not just have one copy?
            </span>
            
            <span id="chunk-547" class="transcript-chunks" onclick="console.log('00:27:26,161'); seek(1646.0)">
              And we also added, JITing, which basically creates a function for every,
            </span>
            
            <span id="chunk-548" class="transcript-chunks" onclick="console.log('00:27:32,301'); seek(1652.0)">
              document, every AST that comes in.
            </span>
            
            <span id="chunk-549" class="transcript-chunks" onclick="console.log('00:27:34,571'); seek(1654.0)">
              It creates a function, which when called will have exactly the same
            </span>
            
            <span id="chunk-550" class="transcript-chunks" onclick="console.log('00:27:38,631'); seek(1658.0)">
              effect as if you had called execute with that particular AST only this
            </span>
            
            <span id="chunk-551" class="transcript-chunks" onclick="console.log('00:27:43,471'); seek(1663.0)">
              being a single JavaScript function, created from like a string that happens
            </span>
            
            <span id="chunk-552" class="transcript-chunks" onclick="console.log('00:27:48,091'); seek(1668.0)">
              to be valid JavaScript, that is very carefully constructed to, to execute.
            </span>
            
            <span id="chunk-553" class="transcript-chunks" onclick="console.log('00:27:51,036'); seek(1671.0)">
              the JavaScript engine can optimize that it can actually turn it into native code.
            </span>
            
            <span id="chunk-554" class="transcript-chunks" onclick="console.log('00:27:55,956'); seek(1675.0)">
              So it really has a very good chance of being running as native code rather than,
            </span>
            
            <span id="chunk-555" class="transcript-chunks" onclick="console.log('00:28:00,886'); seek(1680.0)">
              lots of interpretations and then jumping around on the AST and all that stuff.
            </span>
            
            <span id="chunk-556" class="transcript-chunks" onclick="console.log('00:28:06,466'); seek(1686.0)">
              So what we did was, okay, we introduced a cache when the query comes in and we
            </span>
            
            <span id="chunk-557" class="transcript-chunks" onclick="console.log('00:28:10,176'); seek(1690.0)">
              parse it, we create this compilation artifact for it And then when it's
            </span>
            
            <span id="chunk-558" class="transcript-chunks" onclick="console.log('00:28:16,176'); seek(1696.0)">
              time to execute the query, we grab the compilation artifact from the AST
            </span>
            
            <span id="chunk-559" class="transcript-chunks" onclick="console.log('00:28:21,196'); seek(1701.0)">
              upon which we stored it during parse.
            </span>
            
            <span id="chunk-560" class="transcript-chunks" onclick="console.log('00:28:23,706'); seek(1703.0)">
              And, if for some reason during parse, the creation of the compilation
            </span>
            
            <span id="chunk-561" class="transcript-chunks" onclick="console.log('00:28:26,706'); seek(1706.0)">
              artifact failed, no big deal.
            </span>
            
            <span id="chunk-562" class="transcript-chunks" onclick="console.log('00:28:28,486'); seek(1708.0)">
              We'll just go back and run the query the old fashioned way.
            </span>
            
            <span id="chunk-563" class="transcript-chunks" onclick="console.log('00:28:31,086'); seek(1711.0)">
              Otherwise we'll run a JIT and it'll be faster.
            </span>
            
            <span id="chunk-564" class="transcript-chunks" onclick="console.log('00:28:33,946'); seek(1713.0)">
              So with these two things put together, this is what we achieved.
            </span>
            
            <span id="chunk-565" class="transcript-chunks" onclick="console.log('00:28:37,926'); seek(1717.0)">
              So we went from this guy to this guy.
            </span>
            
            <span id="chunk-566" class="transcript-chunks" onclick="console.log('00:28:43,841'); seek(1723.0)">
              Again, perfect memory savings, right?
            </span>
            
            <span id="chunk-567" class="transcript-chunks" onclick="console.log('00:28:46,001'); seek(1726.0)">
              The, this plateau genuinely got lower.
            </span>
            
            <span id="chunk-568" class="transcript-chunks" onclick="console.log('00:28:48,391'); seek(1728.0)">
              and look at the difference between the original plateau and this plateau.
            </span>
            
            <span id="chunk-569" class="transcript-chunks" onclick="console.log('00:28:51,441'); seek(1731.0)">
              Like it, it's substantially less.
            </span>
            
            <span id="chunk-570" class="transcript-chunks" onclick="console.log('00:28:53,581'); seek(1733.0)">
              Like we went from 600 megs to 300 megs.
            </span>
            
            <span id="chunk-571" class="transcript-chunks" onclick="console.log('00:28:56,111'); seek(1736.0)">
              we have the idle consumption.
            </span>
            
            <span id="chunk-572" class="transcript-chunks" onclick="console.log('00:28:58,851'); seek(1738.0)">
              performance unaffected essentially and much lower memory.
            </span>
            
            <span id="chunk-573" class="transcript-chunks" onclick="console.log('00:29:02,221'); seek(1742.0)">
              we got some ways towards our goal and that's, the scope of this presentation.
            </span>
            
            <span id="chunk-574" class="transcript-chunks" onclick="console.log('00:29:07,721'); seek(1747.0)">
              things have happened since then.
            </span>
            
            <span id="chunk-575" class="transcript-chunks" onclick="console.log('00:29:09,541'); seek(1749.0)">
              And, one of the future directions here was to upgrade packages and believe
            </span>
            
            <span id="chunk-576" class="transcript-chunks" onclick="console.log('00:29:13,541'); seek(1753.0)">
              it or not, that actually solved the problem for us because it turns out
            </span>
            
            <span id="chunk-577" class="transcript-chunks" onclick="console.log('00:29:17,001'); seek(1757.0)">
              that we did have a package in the mix in, in, in our supply chain that
            </span>
            
            <span id="chunk-578" class="transcript-chunks" onclick="console.log('00:29:20,691'); seek(1760.0)">
              was basically, wasteful with memory.
            </span>
            
            <span id="chunk-579" class="transcript-chunks" onclick="console.log('00:29:23,971'); seek(1763.0)">
              And then after switching to yarn four, whereupon we upgraded all our
            </span>
            
            <span id="chunk-580" class="transcript-chunks" onclick="console.log('00:29:29,156'); seek(1769.0)">
              dependencies, that package either got, shoved aside because some of the
            </span>
            
            <span id="chunk-581" class="transcript-chunks" onclick="console.log('00:29:33,646'); seek(1773.0)">
              package got hoisted instead, or some of the version of the package got hoisted
            </span>
            
            <span id="chunk-582" class="transcript-chunks" onclick="console.log('00:29:37,126'); seek(1777.0)">
              instead, either way, Yarn 4 got rid of a lot of our, duplicate dependencies in
            </span>
            
            <span id="chunk-583" class="transcript-chunks" onclick="console.log('00:29:41,336'); seek(1781.0)">
              terms of same package, different versions, and somehow a newer version ended up and.
            </span>
            
            <span id="chunk-584" class="transcript-chunks" onclick="console.log('00:29:47,301'); seek(1787.0)">
              it solved the problem.
            </span>
            
            <span id="chunk-585" class="transcript-chunks" onclick="console.log('00:29:48,661'); seek(1788.0)">
              But that doesn't mean that these future directions for any sort
            </span>
            
            <span id="chunk-586" class="transcript-chunks" onclick="console.log('00:29:51,141'); seek(1791.0)">
              of, memory consumption reduction aren't a good idea, right?
            </span>
            
            <span id="chunk-587" class="transcript-chunks" onclick="console.log('00:29:55,451'); seek(1795.0)">
              So using heap diffs, see what else we can shave off.
            </span>
            
            <span id="chunk-588" class="transcript-chunks" onclick="console.log('00:29:59,441'); seek(1799.0)">
              We could still, just because a problem doesn't happen
            </span>
            
            <span id="chunk-589" class="transcript-chunks" onclick="console.log('00:30:02,261'); seek(1802.0)">
              anymore, we don't have restarts.
            </span>
            
            <span id="chunk-590" class="transcript-chunks" onclick="console.log('00:30:03,541'); seek(1803.0)">
              That doesn't mean that, you can't improve memory consumption.
            </span>
            
            <span id="chunk-591" class="transcript-chunks" onclick="console.log('00:30:05,591'); seek(1805.0)">
              It's never a bad idea.
            </span>
            
            <span id="chunk-592" class="transcript-chunks" onclick="console.log('00:30:07,041'); seek(1807.0)">
              Promise objects.
            </span>
            
            <span id="chunk-593" class="transcript-chunks" onclick="console.log('00:30:08,331'); seek(1808.0)">
              Okay.
            </span>
            
            <span id="chunk-594" class="transcript-chunks" onclick="console.log('00:30:08,591'); seek(1808.0)">
              I didn't really cover this in this talk, but basically we found that.
            </span>
            
            <span id="chunk-595" class="transcript-chunks" onclick="console.log('00:30:12,746'); seek(1812.0)">
              if you treat promises and primitives, equally, then you're going to end up
            </span>
            
            <span id="chunk-596" class="transcript-chunks" onclick="console.log('00:30:17,086'); seek(1817.0)">
              with a lot of extra code that, that gets executed, and a lot of memory
            </span>
            
            <span id="chunk-597" class="transcript-chunks" onclick="console.log('00:30:21,236'); seek(1821.0)">
              because all these promise objects need to live somewhere that, that
            </span>
            
            <span id="chunk-598" class="transcript-chunks" onclick="console.log('00:30:24,136'); seek(1824.0)">
              gets used that doesn't need to.
            </span>
            
            <span id="chunk-599" class="transcript-chunks" onclick="console.log('00:30:25,076'); seek(1825.0)">
              So for example, if you have something like.
            </span>
            
            <span id="chunk-600" class="transcript-chunks" onclick="console.log('00:30:26,781'); seek(1826.0)">
              Await function call, and that function call returns something,
            </span>
            
            <span id="chunk-601" class="transcript-chunks" onclick="console.log('00:30:30,011'); seek(1830.0)">
              anything other than a promise.
            </span>
            
            <span id="chunk-602" class="transcript-chunks" onclick="console.log('00:30:31,361'); seek(1831.0)">
              If it returns a number five, then you don't want to await that function call.
            </span>
            
            <span id="chunk-603" class="transcript-chunks" onclick="console.log('00:30:34,681'); seek(1834.0)">
              You only want to call a wait on a function or dot then or whatever.
            </span>
            
            <span id="chunk-604" class="transcript-chunks" onclick="console.log('00:30:38,831'); seek(1838.0)">
              If you can be absolutely a hundred percent sure that function
            </span>
            
            <span id="chunk-605" class="transcript-chunks" onclick="console.log('00:30:41,711'); seek(1841.0)">
              is going to return a promise.
            </span>
            
            <span id="chunk-606" class="transcript-chunks" onclick="console.log('00:30:42,691'); seek(1842.0)">
              If not, then just call it directly.
            </span>
            
            <span id="chunk-607" class="transcript-chunks" onclick="console.log('00:30:44,521'); seek(1844.0)">
              Don't use await because that creates like three promises every time you use await.
            </span>
            
            <span id="chunk-608" class="transcript-chunks" onclick="console.log('00:30:49,281'); seek(1849.0)">
              so that, that will save you memory and it'll save you execution time.
            </span>
            
            <span id="chunk-609" class="transcript-chunks" onclick="console.log('00:30:52,901'); seek(1852.0)">
              Upgrading packages, like I said, That did it for us.
            </span>
            
            <span id="chunk-610" class="transcript-chunks" onclick="console.log('00:30:55,811'); seek(1855.0)">
              And, this is still good.
            </span>
            
            <span id="chunk-611" class="transcript-chunks" onclick="console.log('00:30:57,381'); seek(1857.0)">
              creating a realistic subscriptions load test, not just one
            </span>
            
            <span id="chunk-612" class="transcript-chunks" onclick="console.log('00:30:59,781'); seek(1859.0)">
              message, have multiple messages.
            </span>
            
            <span id="chunk-613" class="transcript-chunks" onclick="console.log('00:31:01,321'); seek(1861.0)">
              So you have some heterogeneity, in your workload.
            </span>
            
            <span id="chunk-614" class="transcript-chunks" onclick="console.log('00:31:05,521'); seek(1865.0)">
              yeah, we can still do these things, but of course the impetus now is
            </span>
            
            <span id="chunk-615" class="transcript-chunks" onclick="console.log('00:31:09,721'); seek(1869.0)">
              a lot less than it used to be.
            </span>
            
            <span id="chunk-616" class="transcript-chunks" onclick="console.log('00:31:11,671'); seek(1871.0)">
              so these are some of the insights that we gained.
            </span>
            
            <span id="chunk-617" class="transcript-chunks" onclick="console.log('00:31:14,111'); seek(1874.0)">
              choose very carefully what you attach to your context.
            </span>
            
            <span id="chunk-618" class="transcript-chunks" onclick="console.log('00:31:16,221'); seek(1876.0)">
              That's never a bad idea.
            </span>
            
            <span id="chunk-619" class="transcript-chunks" onclick="console.log('00:31:18,201'); seek(1878.0)">
              keep your context lean.
            </span>
            
            <span id="chunk-620" class="transcript-chunks" onclick="console.log('00:31:19,271'); seek(1879.0)">
              and by the way, some of these insights, they apply to request response graph
            </span>
            
            <span id="chunk-621" class="transcript-chunks" onclick="console.log('00:31:23,231'); seek(1883.0)">
              as well, not just to subscriptions.
            </span>
            
            <span id="chunk-622" class="transcript-chunks" onclick="console.log('00:31:24,461'); seek(1884.0)">
              Like the fact that we made all these things lazy, reduce memory consumption
            </span>
            
            <span id="chunk-623" class="transcript-chunks" onclick="console.log('00:31:27,801'); seek(1887.0)">
              on the request response side as well, not just the WebSocket side.
            </span>
            
            <span id="chunk-624" class="transcript-chunks" onclick="console.log('00:31:31,671'); seek(1891.0)">
              So it's generally not a bad idea to, to have a lean context for graph execution.
            </span>
            
            <span id="chunk-625" class="transcript-chunks" onclick="console.log('00:31:36,821'); seek(1896.0)">
              then, Execution efficiency and memory usage efficiency
            </span>
            
            <span id="chunk-626" class="transcript-chunks" onclick="console.log('00:31:40,451'); seek(1900.0)">
              are not entirely orthogonal.
            </span>
            
            <span id="chunk-627" class="transcript-chunks" onclick="console.log('00:31:41,611'); seek(1901.0)">
              Like we saw, we improved execution efficiency and memory consumption
            </span>
            
            <span id="chunk-628" class="transcript-chunks" onclick="console.log('00:31:45,181'); seek(1905.0)">
              actually went up instead of stay, staying where it was.
            </span>
            
            <span id="chunk-629" class="transcript-chunks" onclick="console.log('00:31:48,721'); seek(1908.0)">
              so yeah, they're not, yeah, they're not independent.
            </span>
            
            <span id="chunk-630" class="transcript-chunks" onclick="console.log('00:31:52,601'); seek(1912.0)">
              they are related, which can be related in a positive way or a negative way.
            </span>
            
            <span id="chunk-631" class="transcript-chunks" onclick="console.log('00:31:56,801'); seek(1916.0)">
              So improving execution efficiency is never a bad idea, but if it kills your memory
            </span>
            
            <span id="chunk-632" class="transcript-chunks" onclick="console.log('00:32:00,431'); seek(1920.0)">
              consumption, then, you might want to think twice about it or find out why, of course.
            </span>
            
            <span id="chunk-633" class="transcript-chunks" onclick="console.log('00:32:04,191'); seek(1924.0)">
              Yeah.
            </span>
            
            <span id="chunk-634" class="transcript-chunks" onclick="console.log('00:32:04,991'); seek(1924.0)">
              node clinic I mentioned earlier, it's great for improving execution efficiency.
            </span>
            
            <span id="chunk-635" class="transcript-chunks" onclick="console.log('00:32:10,146'); seek(1930.0)">
              And as a result of the previous statement, maybe memory consumption, efficiency,
            </span>
            
            <span id="chunk-636" class="transcript-chunks" onclick="console.log('00:32:15,236'); seek(1935.0)">
              but definitely execution efficiency.
            </span>
            
            <span id="chunk-637" class="transcript-chunks" onclick="console.log('00:32:17,736'); seek(1937.0)">
              it, it does a great job showing you, okay, there's a huge plateau here.
            </span>
            
            <span id="chunk-638" class="transcript-chunks" onclick="console.log('00:32:21,176'); seek(1941.0)">
              You keep calling this function.
            </span>
            
            <span id="chunk-639" class="transcript-chunks" onclick="console.log('00:32:22,366'); seek(1942.0)">
              Why?
            </span>
            
            <span id="chunk-640" class="transcript-chunks" onclick="console.log('00:32:23,436'); seek(1943.0)">
              Stop calling it or, make it more efficient.
            </span>
            
            <span id="chunk-641" class="transcript-chunks" onclick="console.log('00:32:25,246'); seek(1945.0)">
              It really points squarely at the culprit.
            </span>
            
            <span id="chunk-642" class="transcript-chunks" onclick="console.log('00:32:28,466'); seek(1948.0)">
              and then heap snapshots came in very handy.
            </span>
            
            <span id="chunk-643" class="transcript-chunks" onclick="console.log('00:32:31,366'); seek(1951.0)">
              especially the differential ones, because, they pointed squarely at the thing that
            </span>
            
            <span id="chunk-644" class="transcript-chunks" onclick="console.log('00:32:35,116'); seek(1955.0)">
              you could remove, we don't need this.
            </span>
            
            <span id="chunk-645" class="transcript-chunks" onclick="console.log('00:32:37,236'); seek(1957.0)">
              Goodbye.
            </span>
            
            <span id="chunk-646" class="transcript-chunks" onclick="console.log('00:32:38,086'); seek(1958.0)">
              it's a great tool for that.
            </span>
            
            <span id="chunk-647" class="transcript-chunks" onclick="console.log('00:32:39,696'); seek(1959.0)">
              All right.
            </span>
            
            <span id="chunk-648" class="transcript-chunks" onclick="console.log('00:32:40,026'); seek(1960.0)">
              That concludes my presentation.
            </span>
            
            <span id="chunk-649" class="transcript-chunks" onclick="console.log('00:32:41,556'); seek(1961.0)">
              If you have any questions, I think we have a means of answering them, but, either
            </span>
            
            <span id="chunk-650" class="transcript-chunks" onclick="console.log('00:32:45,556'); seek(1965.0)">
              way, thank you so much for your attention.
            </span>
            
            </div>
          </div>
          
          

          
          <div class="col-12 mb-5">
            <h3>
              Slides
            </h3>
            <iframe src="https://conf42.github.io/static/slides/Gabriel%20Schulhof%20-%20Conf42%20JavaScript%202024.pdf" width="100%" height="500px"></iframe>
            <a href="https://conf42.github.io/static/slides/Gabriel%20Schulhof%20-%20Conf42%20JavaScript%202024.pdf" class="btn btn-xs btn-info shadow lift" style="background-color: #521776;" target="_blank">
              <i class="fe fe-paperclip me-2"></i>
              Download slides (PDF)
            </a>
          </div>
          

          <div class="col-12 mb-2 text-center">
            <div class="text-center mb-5">
              <a href="https://www.conf42.com/js2024" class="btn btn-sm btn-danger shadow lift" style="background-color: #521776;">
                <i class="fe fe-grid me-2"></i>
                See all 36 talks at this event!
              </a>
            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- PHOTO -->
    <section class="pt-8 pb-6">
      <div class="container">

        <div class="row align-items-center">
          <div class="col-12 col-md-6 col-lg-7">

            <div class="mb-8 mb-md-0">

              <!-- Image -->
              <img src="https://conf42.github.io/static/headshots/Gabriel%20Schulhof_javascript.png" alt="..." class="screenshot img-fluid mw-md-110 float-end me-md-6 mb-6 mb-md-0">

            </div>

          </div>
          <div class="col-12 col-md-6 col-lg-5">

            <!-- List -->
            <div class="d-flex">

              <!-- Body -->
              <div class="ms-5">

                <!-- Author 1 -->
                <h2 class="me-2">
                  Gabriel Schulhof
                </h2>
                <h3 class="me-2">
                  <span class="text-muted">
                    Software Engineer @ Intel
                  </span>
                </h3>

                <p class="text-uppercase text-muted me-2 mb-3">
                  
                  <a href="https://www.linkedin.com/in/gabriel-schulhof-0663622/" target="_blank" class="mr-3">
                    <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Gabriel Schulhof's LinkedIn account" />
                  </a>
                  
                  
                </p>
                

                <br />

                <a
                  href="https://twitter.com/share?ref_src=twsrc%5Etfw"
                  class="twitter-share-button"

                  data-text="Check out this talk by Gabriel Schulhof"
                  data-url="https://www.conf42.com/js2024"
                  data-via="conf42com"
                  data-related=""
                  data-show-count="false"
                >
                  Tweet
                </a>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

                <br />

                <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
                <script type="IN/Share" data-url="https://www.conf42.com/js2024"></script>
              </div>

            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>






    <!-- WELCOME -->
    <section class="pt-8 pt-md-11 pb-10 pb-md-15 bg-info" id="register">

      <!-- Shape -->
      <div class="shape shape-blur-3 text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>      </div>

      <!-- Content -->
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 col-md-10 col-lg-8 text-center">

            <!-- Heading -->
            <h1 class="display-2 text-white">
              Join the community!
            </h1>

            <!-- Text -->
            <p class="lead text-white text-opacity-80 mb-6 mb-md-8">
              Learn for free, join the best tech learning community 
              for a <a class="text-white" href="https://www.reddit.com/r/sanfrancisco/comments/1bz90f6/why_are_coffee_shops_in_sf_so_expensive/" target="_blank">price of a pumpkin latte</a>.
            </p>

            <!-- Form -->
            <form class="d-flex align-items-center justify-content-center mb-7 mb-md-9">

              <!-- Label -->
              <span class="text-white text-opacity-80">
                Annual
              </span>

              <!-- Switch -->
              <div class="form-check form-check-dark form-switch mx-3">
                <input class="form-check-input" type="checkbox" id="billingSwitch" data-toggle="price" data-target=".price">
              </div>

              <!-- Label -->
              <span class="text-white text-opacity-80">
                Monthly
              </span>

            </form>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->

    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- PRICING -->
    <section class="mt-n8 mt-md-n15">
      <div class="container">
        <div class="row gx-4">
          <div class="col-12 col-md-6">

            <!-- Card -->
            <div class="card shadow-lg mb-6 mb-md-1">
              <div class="card-body">

                <!-- Preheading -->
                <div class="text-center mb-3">
                  <span class="badge rounded-pill bg-primary-soft">
                    <span class="h6 text-uppercase">Newsletter</span>
                  </span>
                </div>

                <!-- Price -->
                <div class="d-flex justify-content-center">
                  <span class="h2 mb-0 mt-2">$</span>
                  <span class="price display-2 mb-0" data-annual="0" data-monthly="0">0</span>
                  <span class="h2 align-self-end mb-1">/mo</span>
                </div>

                <!-- Text -->
                <p class="text-center text-muted mb-5">
                </p>

              
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Event notifications, weekly newsletter
                  </p>
                </div>
              
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <b>Delayed access</b> to all content
                  </p>
                </div>
              
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Immediate access to Keynotes & Panels
                  </p>
                </div>
              
              
              </div>
            </div>

            <!-- Card -->
            <div class="card shadow-lg mb-6 border border-success">
              <div class="card-body">

                <script>
    function gtag_report_conversion(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.location = url;
        }
      };
      gtag('event', 'conversion', {
          'send_to': 'AW-882275635/jLVTCPbt1N8CELPq2aQD',
          'event_callback': callback
      });
      return false;
    }
</script>

<!-- Form -->
<link rel="stylesheet" href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css">
<p class="emailoctopus-success-message text-success"></p>
<p class="emailoctopus-error-message text-danger"></p>
<form
    action="https://emailoctopus.com/lists/a3ba0cb5-7524-11eb-a3d0-06b4694bee2a/members/embedded/1.3/add"
    method="post"
    data-message-success="Thanks! Check your email for further directions!"
    data-message-missing-email-address="Your email address is required."
    data-message-invalid-email-address="Your email address looks incorrect, please try again."
    data-message-bot-submission-error="This doesn't look like a human submission."
    data-message-consent-required="Please check the checkbox to indicate your consent."
    data-message-invalid-parameters-error="This form has missing or invalid fields."
    data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
    class="emailoctopus-form"
    data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
>
<div class="form-floating emailoctopus-form-row">
    <input type="email" class="form-control form-control-flush" name="field_0" id="field_0" placeholder="Email" required>
    <label for="field_0">Email address</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_1" id="field_1" placeholder="First Name" required>
    <label for="field_1">First Name</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_2" id="field_2" placeholder="Last Name" required>
    <label for="field_2">Last Name</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_4" id="field_4" placeholder="Company" required>
    <label for="field_4">Company</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_5" id="field_5" placeholder="Job Title" required>
    <label for="field_5">Job Title</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_3" id="field_3" placeholder="Phone">
    <label for="field_3">Phone Number</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <select type="text" class="form-control form-control-flush" name="field_7" id="country-source" required
    oninput="updateCountry()"
    >
    <!-- Country names and Country Name -->
    <option value="">Please select your country</option>
    <option value="Afghanistan">Afghanistan</option>
    <option value="Aland Islands">Aland Islands</option>
    <option value="Albania">Albania</option>
    <option value="Algeria">Algeria</option>
    <option value="American Samoa">American Samoa</option>
    <option value="Andorra">Andorra</option>
    <option value="Angola">Angola</option>
    <option value="Anguilla">Anguilla</option>
    <option value="Antarctica">Antarctica</option>
    <option value="Antigua and Barbuda">Antigua and Barbuda</option>
    <option value="Argentina">Argentina</option>
    <option value="Armenia">Armenia</option>
    <option value="Aruba">Aruba</option>
    <option value="Australia">Australia</option>
    <option value="Austria">Austria</option>
    <option value="Azerbaijan">Azerbaijan</option>
    <option value="Bahamas">Bahamas</option>
    <option value="Bahrain">Bahrain</option>
    <option value="Bangladesh">Bangladesh</option>
    <option value="Barbados">Barbados</option>
    <option value="Belarus">Belarus</option>
    <option value="Belgium">Belgium</option>
    <option value="Belize">Belize</option>
    <option value="Benin">Benin</option>
    <option value="Bermuda">Bermuda</option>
    <option value="Bhutan">Bhutan</option>
    <option value="Bolivia">Bolivia</option>
    <option value="Bonaire, Sint Eustatius and Saba">Bonaire, Sint Eustatius and Saba</option>
    <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
    <option value="Botswana">Botswana</option>
    <option value="Bouvet Island">Bouvet Island</option>
    <option value="Brazil">Brazil</option>
    <option value="British Indian Ocean Territory">British Indian Ocean Territory</option>
    <option value="Brunei Darussalam">Brunei Darussalam</option>
    <option value="Bulgaria">Bulgaria</option>
    <option value="Burkina Faso">Burkina Faso</option>
    <option value="Burundi">Burundi</option>
    <option value="Cambodia">Cambodia</option>
    <option value="Cameroon">Cameroon</option>
    <option value="Canada">Canada</option>
    <option value="Cape Verde">Cape Verde</option>
    <option value="Cayman Islands">Cayman Islands</option>
    <option value="Central African Republic">Central African Republic</option>
    <option value="Chad">Chad</option>
    <option value="Chile">Chile</option>
    <option value="China">China</option>
    <option value="Christmas Island">Christmas Island</option>
    <option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
    <option value="Colombia">Colombia</option>
    <option value="Comoros">Comoros</option>
    <option value="Congo">Congo</option>
    <option value="Congo, Democratic Republic of the Congo">Congo, Democratic Republic of the Congo</option>
    <option value="Cook Islands">Cook Islands</option>
    <option value="Costa Rica">Costa Rica</option>
    <option value="Cote D'Ivoire">Cote D'Ivoire</option>
    <option value="Croatia">Croatia</option>
    <option value="Cuba">Cuba</option>
    <option value="Curacao">Curacao</option>
    <option value="Cyprus">Cyprus</option>
    <option value="Czech Republic">Czech Republic</option>
    <option value="Denmark">Denmark</option>
    <option value="Djibouti">Djibouti</option>
    <option value="Dominica">Dominica</option>
    <option value="Dominican Republic">Dominican Republic</option>
    <option value="Ecuador">Ecuador</option>
    <option value="Egypt">Egypt</option>
    <option value="El Salvador">El Salvador</option>
    <option value="Equatorial Guinea">Equatorial Guinea</option>
    <option value="Eritrea">Eritrea</option>
    <option value="Estonia">Estonia</option>
    <option value="Ethiopia">Ethiopia</option>
    <option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
    <option value="Faroe Islands">Faroe Islands</option>
    <option value="Fiji">Fiji</option>
    <option value="Finland">Finland</option>
    <option value="France">France</option>
    <option value="French Guiana">French Guiana</option>
    <option value="French Polynesia">French Polynesia</option>
    <option value="French Southern Territories">French Southern Territories</option>
    <option value="Gabon">Gabon</option>
    <option value="Gambia">Gambia</option>
    <option value="Georgia">Georgia</option>
    <option value="Germany">Germany</option>
    <option value="Ghana">Ghana</option>
    <option value="Gibraltar">Gibraltar</option>
    <option value="Greece">Greece</option>
    <option value="Greenland">Greenland</option>
    <option value="Grenada">Grenada</option>
    <option value="Guadeloupe">Guadeloupe</option>
    <option value="Guam">Guam</option>
    <option value="Guatemala">Guatemala</option>
    <option value="Guernsey">Guernsey</option>
    <option value="Guinea">Guinea</option>
    <option value="Guinea-Bissau">Guinea-Bissau</option>
    <option value="Guyana">Guyana</option>
    <option value="Haiti">Haiti</option>
    <option value="Heard Island and Mcdonald Islands">Heard Island and Mcdonald Islands</option>
    <option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
    <option value="Honduras">Honduras</option>
    <option value="Hong Kong">Hong Kong</option>
    <option value="Hungary">Hungary</option>
    <option value="Iceland">Iceland</option>
    <option value="India">India</option>
    <option value="Indonesia">Indonesia</option>
    <option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
    <option value="Iraq">Iraq</option>
    <option value="Ireland">Ireland</option>
    <option value="Isle of Man">Isle of Man</option>
    <option value="Israel">Israel</option>
    <option value="Italy">Italy</option>
    <option value="Jamaica">Jamaica</option>
    <option value="Japan">Japan</option>
    <option value="Jersey">Jersey</option>
    <option value="Jordan">Jordan</option>
    <option value="Kazakhstan">Kazakhstan</option>
    <option value="Kenya">Kenya</option>
    <option value="Kiribati">Kiribati</option>
    <option value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
    <option value="Korea, Republic of">Korea, Republic of</option>
    <option value="Kosovo">Kosovo</option>
    <option value="Kuwait">Kuwait</option>
    <option value="Kyrgyzstan">Kyrgyzstan</option>
    <option value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
    <option value="Latvia">Latvia</option>
    <option value="Lebanon">Lebanon</option>
    <option value="Lesotho">Lesotho</option>
    <option value="Liberia">Liberia</option>
    <option value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option>
    <option value="Liechtenstein">Liechtenstein</option>
    <option value="Lithuania">Lithuania</option>
    <option value="Luxembourg">Luxembourg</option>
    <option value="Macao">Macao</option>
    <option value="Macedonia, the Former Yugoslav Republic of">Macedonia, the Former Yugoslav Republic of</option>
    <option value="Madagascar">Madagascar</option>
    <option value="Malawi">Malawi</option>
    <option value="Malaysia">Malaysia</option>
    <option value="Maldives">Maldives</option>
    <option value="Mali">Mali</option>
    <option value="Malta">Malta</option>
    <option value="Marshall Islands">Marshall Islands</option>
    <option value="Martinique">Martinique</option>
    <option value="Mauritania">Mauritania</option>
    <option value="Mauritius">Mauritius</option>
    <option value="Mayotte">Mayotte</option>
    <option value="Mexico">Mexico</option>
    <option value="Micronesia, Federated States of">Micronesia, Federated States of</option>
    <option value="Moldova, Republic of">Moldova, Republic of</option>
    <option value="Monaco">Monaco</option>
    <option value="Mongolia">Mongolia</option>
    <option value="Montenegro">Montenegro</option>
    <option value="Montserrat">Montserrat</option>
    <option value="Morocco">Morocco</option>
    <option value="Mozambique">Mozambique</option>
    <option value="Myanmar">Myanmar</option>
    <option value="Namibia">Namibia</option>
    <option value="Nauru">Nauru</option>
    <option value="Nepal">Nepal</option>
    <option value="Netherlands">Netherlands</option>
    <option value="Netherlands Antilles">Netherlands Antilles</option>
    <option value="New Caledonia">New Caledonia</option>
    <option value="New Zealand">New Zealand</option>
    <option value="Nicaragua">Nicaragua</option>
    <option value="Niger">Niger</option>
    <option value="Nigeria">Nigeria</option>
    <option value="Niue">Niue</option>
    <option value="Norfolk Island">Norfolk Island</option>
    <option value="Northern Mariana Islands">Northern Mariana Islands</option>
    <option value="Norway">Norway</option>
    <option value="Oman">Oman</option>
    <option value="Pakistan">Pakistan</option>
    <option value="Palau">Palau</option>
    <option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option>
    <option value="Panama">Panama</option>
    <option value="Papua New Guinea">Papua New Guinea</option>
    <option value="Paraguay">Paraguay</option>
    <option value="Peru">Peru</option>
    <option value="Philippines">Philippines</option>
    <option value="Pitcairn">Pitcairn</option>
    <option value="Poland">Poland</option>
    <option value="Portugal">Portugal</option>
    <option value="Puerto Rico">Puerto Rico</option>
    <option value="Qatar">Qatar</option>
    <option value="Reunion">Reunion</option>
    <option value="Romania">Romania</option>
    <option value="Russian Federation">Russian Federation</option>
    <option value="Rwanda">Rwanda</option>
    <option value="Saint Barthelemy">Saint Barthelemy</option>
    <option value="Saint Helena">Saint Helena</option>
    <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
    <option value="Saint Lucia">Saint Lucia</option>
    <option value="Saint Martin">Saint Martin</option>
    <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
    <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
    <option value="Samoa">Samoa</option>
    <option value="San Marino">San Marino</option>
    <option value="Sao Tome and Principe">Sao Tome and Principe</option>
    <option value="Saudi Arabia">Saudi Arabia</option>
    <option value="Senegal">Senegal</option>
    <option value="Serbia">Serbia</option>
    <option value="Serbia and Montenegro">Serbia and Montenegro</option>
    <option value="Seychelles">Seychelles</option>
    <option value="Sierra Leone">Sierra Leone</option>
    <option value="Singapore">Singapore</option>
    <option value="Sint Maarten">Sint Maarten</option>
    <option value="Slovakia">Slovakia</option>
    <option value="Slovenia">Slovenia</option>
    <option value="Solomon Islands">Solomon Islands</option>
    <option value="Somalia">Somalia</option>
    <option value="South Africa">South Africa</option>
    <option value="South Georgia and the South Sandwich Islands">South Georgia and the South Sandwich Islands</option>
    <option value="South Sudan">South Sudan</option>
    <option value="Spain">Spain</option>
    <option value="Sri Lanka">Sri Lanka</option>
    <option value="Sudan">Sudan</option>
    <option value="Suriname">Suriname</option>
    <option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
    <option value="Swaziland">Swaziland</option>
    <option value="Sweden">Sweden</option>
    <option value="Switzerland">Switzerland</option>
    <option value="Syrian Arab Republic">Syrian Arab Republic</option>
    <option value="Taiwan, Province of China">Taiwan, Province of China</option>
    <option value="Tajikistan">Tajikistan</option>
    <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
    <option value="Thailand">Thailand</option>
    <option value="Timor-Leste">Timor-Leste</option>
    <option value="Togo">Togo</option>
    <option value="Tokelau">Tokelau</option>
    <option value="Tonga">Tonga</option>
    <option value="Trinidad and Tobago">Trinidad and Tobago</option>
    <option value="Tunisia">Tunisia</option>
    <option value="Turkey">Turkey</option>
    <option value="Turkmenistan">Turkmenistan</option>
    <option value="Turks and Caicos Islands">Turks and Caicos Islands</option>
    <option value="Tuvalu">Tuvalu</option>
    <option value="Uganda">Uganda</option>
    <option value="Ukraine">Ukraine</option>
    <option value="United Arab Emirates">United Arab Emirates</option>
    <option value="United Kingdom">United Kingdom</option>
    <option value="United States">United States</option>
    <option value="United States Minor Outlying Islands">United States Minor Outlying Islands</option>
    <option value="Uruguay">Uruguay</option>
    <option value="Uzbekistan">Uzbekistan</option>
    <option value="Vanuatu">Vanuatu</option>
    <option value="Venezuela">Venezuela</option>
    <option value="Viet Nam">Viet Nam</option>
    <option value="Virgin Islands, British">Virgin Islands, British</option>
    <option value="Virgin Islands, U.s.">Virgin Islands, U.s.</option>
    <option value="Wallis and Futuna">Wallis and Futuna</option>
    <option value="Western Sahara">Western Sahara</option>
    <option value="Yemen">Yemen</option>
    <option value="Zambia">Zambia</option>
    <option value="Zimbabwe">Zimbabwe</option>
    </select>
    <label for="field_7">Country</label>
</div>
<input id="country-destination" name="field_7" type="hidden">
<input id="tz-country" name="field_8" type="hidden">

<input
    name="field_6"
    type="hidden"
    value="JavaScript"
>

<div class="emailoctopus-form-row-consent">
    <input
    type="checkbox"
    id="consent"
    name="consent"
    >
    <label for="consent">
    I consent to the following terms:
    </label>
    <a href="https://www.conf42.com/terms-and-conditions.pdf" target="_blank">
    Terms and Conditions
    </a>
    &amp;
    <a href="./code-of-conduct" target="_blank">
    Code of Conduct
    </a>
</div>
<div
    aria-hidden="true"
    class="emailoctopus-form-row-hp"
>
    <input
    type="text"
    name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
    tabindex="-1"
    autocomplete="nope"
    >
</div>
<div class="mt-6 emailoctopus-form-row-subscribe">
    <input
    type="hidden"
    name="successRedirectUrl"
    >
    <button class="btn w-100 btn-success lift" type="submit" onclick="gtag_report_conversion(); rdt('track', 'SignUp');">
    Subscribe to free newsletter <i class="fe fe-arrow-right ms-3"></i>
    </button>
</div>
</form>

<!-- <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js"></script> -->
<script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js"></script>

              </div>
            </div>
          </div>
          <div class="col-12 col-md-6">

            <!-- Card -->
            <div class="card shadow-lg mb-6 mb-md-0">
              <div class="card-body">

                <!-- Preheading -->
                <div class="text-center mb-3">
                  <span class="badge rounded-pill bg-primary-soft">
                    <span class="h6 text-uppercase">Community</span>
                  </span>
                </div>

                <!-- Price -->
                <div class="d-flex justify-content-center">
                  <span class="h2 mb-0 mt-2">$</span>
                  <span class="price display-2 mb-0" data-annual="8.34" data-monthly="10">8.34</span>
                  <span class="h2 align-self-end mb-1">/mo</span>
                </div>

                <!-- Text -->
                <p class="text-center text-muted mb-5">
                </p>

                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Access to <a href="https://conf42.circle.so/">Circle community platform</a>
                  </p>
                </div>

                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <b>Immediate access</b> to all content
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <a href="https://conf42.circle.so/c/live-events/" target="_blank"><b>Live events!</b></a>
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <a href="https://conf42.circle.so/c/live-events/" target="_blank">Regular office hours, Q&As, CV reviews</a>
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Courses, quizes & certificates
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Community chats
                  </p>
                </div>
                

                <!-- Button -->
                <a href="https://conf42.circle.so/checkout/subscribe" class="btn w-100 btn-primary">
                  Join the community (7 day free trial)<i class="fe fe-arrow-right ms-3"></i>
                </a>

              </div>
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-dark">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- FOOTER -->
    <footer class="py-8 py-md-11 bg-dark">
      <div class="container">
        <div class="row">

          <div class="col-12 col-md-4 col-lg-3">
            <!-- Brand -->
            <img src="./assets/conf42/conf42_logo_white_small.png" alt="..." class="footer-brand img-fluid mb-2">
    
            <!-- Text -->
            <p class="text-gray-700 mb-2">
              Online tech events
            </p>
    
            <!-- Social -->
            <ul class="list-unstyled list-inline list-social mb-5">
              <li class="list-inline-item list-social-item me-3">
                <a href="https://www.linkedin.com/company/49110720/" class="text-decoration-none">
                  <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="...">
                </a>
              </li>
              <li class="list-inline-item list-social-item me-3">
                <a href="https://twitter.com/conf42com" class="text-decoration-none">
                  <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="...">
                </a>
              </li>
            </ul>

            <!-- QR Code -->
            <img src="./assets/conf42/CONF42.QR.png" style="width: 100px;" class="mb-5 img-fluid" />
          </div>


          <div class="col-12 col-md-4 col-lg-3">
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2025
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2025">
                  DevOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2025">
                  Python 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2025">
                  Chaos Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2025">
                  Cloud Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2025">
                  Large Language Models (LLMs) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2025">
                  Golang 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2025">
                  Site Reliability Engineering (SRE) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2025">
                  Machine Learning 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2025">
                  Observability 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2025">
                  Quantum Computing 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2025">
                  Rustlang 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2025">
                  Platform Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mlops2025">
                  MLOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2025">
                  Incident Management 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2025">
                  Kube Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2025">
                  JavaScript 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2025">
                  Prompt Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/robotics2025">
                  Robotics 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2025">
                  DevSecOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2025">
                  Internet of Things (IoT) 2025
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2024
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2024">
                  DevOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2024">
                  Chaos Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2024">
                  Python 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2024">
                  Cloud Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2024">
                  Large Language Models (LLMs) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2024">
                  Golang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2024">
                  Site Reliability Engineering (SRE) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2024">
                  Machine Learning 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2024">
                  Observability 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2024">
                  Quantum Computing 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2024">
                  Rustlang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2024">
                  Platform Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2024">
                  Kube Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2024">
                  Incident Management 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2024">
                  JavaScript 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2024">
                  Prompt Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2024">
                  DevSecOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2024">
                  Internet of Things (IoT) 2024
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2023
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2023">
                  DevOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2023">
                  Chaos Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2023">
                  Python 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2023">
                  Cloud Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2023">
                  Golang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2023">
                  Site Reliability Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2023">
                  Machine Learning 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2023">
                  Observability 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2023">
                  Quantum Computing 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2023">
                  Rustlang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2023">
                  Platform Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2023">
                  Kube Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2023">
                  Incident Management 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2023">
                  JavaScript 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2023">
                  DevSecOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2023">
                  Internet of Things (IoT) 2023
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2022
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2022">
                  Python 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mobile2022">
                  Mobile 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2022">
                  Chaos Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2022">
                  Golang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2022">
                  Cloud Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2022">
                  Machine Learning 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2022">
                  Site Reliability Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2022">
                  Quantum Computing 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2022">
                  Rustlang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2022">
                  Incident Management 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2022">
                  Kube Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2022">
                  JavaScript 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2022">
                  DevSecOps 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/web2022">
                  Web 3.0 2022
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2021
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2021">
                  Chaos Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/enterprise2021">
                  Enterprise Software 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2021">
                  Cloud Native 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2021">
                  Python 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2021">
                  Golang 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2021">
                  Machine Learning 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2021">
                  Site Reliability Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2021">
                  JavaScript 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2021">
                  DevSecOps 2021
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2020
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2020">
                  Chaos Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/oss2020">
                  Open Source Showcase 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2020">
                  Site Reliability Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2020">
                  JavaScript 2020
                </a>
              </li>
            
            </ul>
          
          </div>

          
          <div class="col-12 col-md-4 offset-md-4 col-lg-3 offset-lg-0">

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Community
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./support" class="text-reset">
                  Support us
                </a>
              </li>
              <li class="mb-3">
                <a href="./speakers" class="text-reset">
                  Speakers
                </a>
              </li>
              <li class="mb-3">
                <a href="./hall-of-fame" class="text-reset">
                  Hall of fame
                </a>
              </li>
              <li class="mb-3">
                <a href="https://discord.gg/DnyHgrC7jC" class="text-reset" target="_blank">
                  Discord
                </a>
              </li>
              <li class="mb-3">
                <a href="./about" class="text-reset">
                  About the team
                </a>
              </li>
            </ul>

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Sponsors
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./sponsor" class="text-reset" target="_blank">
                  Sponsorship
                </a>
              </li>
              <li class="mb-3">
                <a href="mailto:mark@conf42.com?subject=We would like to sponsor" class="text-reset" target="_blank">
                  Request the Prospectus
                </a>
              </li>
              <li class="mb-3">
                <a href="https://drive.google.com/drive/folders/1tT2lspLQgj3sdfxG9FwDVkBUt-TYSPGe?usp=sharing" class="text-reset" target="_blank">
                  Media kit
                </a>
              </li>
            </ul>
    
          </div>


          <div class="col-12 col-md-4 col-lg-3">
    
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Legal
            </h6>
    
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./code-of-conduct" class="text-reset">
                  Code of Conduct
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/terms-and-conditions.pdf" class="text-reset" target="_blank">
                  Terms and Conditions
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/privacy-policy.pdf" class="text-reset" target="_blank">
                  Privacy policy
                </a>
              </li>
            </ul>
          </div>


        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </footer>

    <!-- JAVASCRIPT -->
    <!-- Map JS -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    
    <!-- Vendor JS -->
    <script src="./assets/js/vendor.bundle.js"></script>
    
    <!-- Theme JS -->
    <script src="./assets/js/theme.bundle.js"></script>

    <!-- Various JS -->
    <script src="./assets/js/various.js"></script>

    <script src='https://cdn.jsdelivr.net/npm/@widgetbot/crate@3' async defer>
      new Crate({
          notifications: true,
          indicator: true,
          server: '814240231606714368', // Conf42.com
          channel: '814240231788249115' // #community
      })
    </script>
  </body>
</html>