<!doctype html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-77190356-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-77190356-3');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css" />
    <link rel="stylesheet" href="./assets/css/libs.bundle.css" />
    <link rel="stylesheet" href="./assets/css/theme.bundle.css" />
    <link rel="stylesheet" href="./assets/css/various.css" />

    <title>Conf42: Transaction Management and Repository Pattern</title>
    <meta name="description" content="Say hello to the Gophers from outer space!!">

    
    <meta name="image" property="og:image" content="https://www.conf42.com/assets/headshots/https://conf42.github.io/static/headshots/golang_ilia_sergunin.png">
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Transaction Management and Repository Pattern | Conf42"/>
    <meta property="og:description" content="Most apps work with DB. Repository pattern hides complexity working with DB, but most implementations aren't GoLang and show simple examples. I want to demonstrate a complex sample with transactions, nested use cases with multi-table entities, and share used approaches with pros and cons."/>
    <meta property="og:url" content="https://conf42.com/Golang_2023_Ilia_Sergunin_transaction_management_repository_pattern"/>
    

    <link rel="shortcut icon" href="./assets/favicon/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="./assets/favicon/site.webmanifest">

    

  <!-- Reddit Pixel -->
  <script>
  !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt('init','a2_e019g7ndfhrm', {"optOut":false,"useDecimalCurrencyValues":true,"aaid":"<AAID-HERE>"});rdt('track', 'PageVisit');
  </script>
  <!-- DO NOT MODIFY UNLESS TO REPLACE A USER IDENTIFIER -->
  <!-- End Reddit Pixel -->

  </head>
  <body>

    <!-- NAVBAR -->
    
    <!-- <nav class="navbar navbar-expand-lg navbar-light bg-light"> -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    
      <div class="container">
    
        <!-- Brand -->
        <a class="navbar-brand" href="./">
          <img src="./assets/conf42/conf42_logo_black_small.png" class="navbar-brand-img" alt="...">
        </a>
    
        <!-- Toggler -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    
        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="navbarCollapse">
    
          <!-- Toggler -->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fe fe-x"></i>
          </button>
    
          <!-- Navigation -->
          <ul class="navbar-nav ms-auto">

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Events
              </a>
              <div class="dropdown-menu dropdown-menu-xl p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-6">
                    <!-- <div class="dropdown-img-start" style="background-image: url(./assets/splash/DEVOPS2025_Event_Splash.png);"> -->
                    <div class="dropdown-img-start">
                      <!-- Heading -->
                      <h4 class="fw-bold text-white mb-0">
                        Featured event
                      </h4>
                      <!-- Text -->
                      <p class="fs-sm text-white">
                        DevOps 2025
                      </p>
                      <p class="fs-sm text-white">
                        Premiere 2025-01-23
                      </p>
                      <!-- Button -->
                      <a href="https://www.conf42.com/devops2025" class="btn btn-sm btn-white shadow-dark fonFt-size-sm">
                        Learn more
                      </a>
                    </div>
                  </div>
                  <div class="col-12 col-lg-6">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
    
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2025
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2025">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2025">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2025">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2025">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2025">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2025">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2025">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2025">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2025">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2025">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2025">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2025">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/mlops2025">
                            MLOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2025">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2025">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2025">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2025">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/robotics2025">
                            Robotics
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2025">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2025">
                            Internet of Things (IoT)
                          </a>
                          
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2024
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2024">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2024">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2024">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2024">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2024">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2024">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2024">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2024">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2024">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2024">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2024">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2024">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2024">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2024">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2024">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2024">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2024">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2024">
                            Internet of Things (IoT)
                          </a>
                          
                        

                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            Info
                          </h6>
                          <a class="dropdown-item" href="./code-of-conduct">
                            Code of Conduct
                          </a>
    
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Community
              </a>
              <div class="dropdown-menu dropdown-menu-l p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-3">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
                          <a class="dropdown-item" href="https://conf42.circle.so/">
                            <b>Community platform login</b>
                          </a>
                          <a class="dropdown-item" href="https://discord.gg/mvHyZzRGaQ" target="_blank">
                            Discord
                          </a>
                          <a class="dropdown-item" href="./hall-of-fame">
                            Hall of Fame
                          </a>
                          <a class="dropdown-item" href="./speakers">
                            Speakers
                          </a>
                          <a class="dropdown-item" href="https://www.papercall.io/events?cfps-scope=&keywords=conf42" target="_blank">
                            Become a speaker (CFPs)
                          </a>
                          <a class="dropdown-item" href="./testimonials">
                            Testimonials
                          </a>
                          <a class="dropdown-item" href="./about">
                            About the team
                          </a>
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./podcast">
                Podcast
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./blog">
                Blog
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./sponsor">
                Sponsor
              </a>
            </li>
          </ul>
    
          <!-- Button -->
          <a class="navbar-btn btn btn-sm btn-primary lift ms-auto" href="#register">
            Join the community!
          </a>
    
        </div>
    
      </div>
    </nav>



<style>
.text-selected {
  background-color: #42ba96!important;
  color: white;
}
</style>
	

    <!-- WELCOME -->
    <section class="py-5 py-md-10" style="background-color: #881E4B;">

      <!-- Shape -->
      <div class="shape shape-blur-3 svg-shim text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>
      </div>

      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 text-center" data-aos="fade-up">

            <!-- Heading -->
            <h1 class="display-2 fw-bold text-white">
              Conf42 Golang 2023 - Online
            </h1>

            <h2 class="text-white">
              
              <time datetime="2023-04-20">April 20 2023</time>
              
              
            </h2>

            <!-- Text -->
            <p class="lead mb-0 text-white-75">
              
              <!-- Say hello to the Gophers from outer space!!
 -->
              <script>
                const event_date = new Date("2023-04-20T17:00:00.000+00:00");
                const local_timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const local_date = new Date("2023-04-20T17:00:00.000+00:00");
                // const local_offset = new Date().getTimezoneOffset() / 60;
                // local_date.setHours(local_date.getHours() + local_offset);
                document.getElementById("localtime").innerHTML = local_date + " in " + local_timezone
              </script>
            </p>

            <!-- Buttons -->
            <div class="text-center mt-5">
              
              <a href="#register" class="btn btn-primary shadow lift me-1 mb-3">
                <i class="fe fe-user-check me-2"></i>
                Subscribe to watch
              </a>
              
              
              <a class="btn btn-danger lift mb-3" data-bigpicture='{"ytSrc": "aRsea6FFAyA"}' href="#">
                <i class="fe fe-youtube me-2"></i>
                Watch this talk
              </a>
              
              
              <a class="btn btn-info lift mb-3" data-bigpicture='{"ytSrc": "NEp8QZKi19s"}' href="#">
                <i class="fe fe-eye me-2"></i>
                Watch Premiere
              </a>
              
              <!-- 
              <a class="btn btn-danger lift mb-3" href="https://youtube.com/playlist?list=PLIuxSyKxlQrBDOCy9ThDZ0kJX7skLE2ks" target="_blank">
                <i class="fe fe-youtube me-2"></i>
                Playlist
              </a>
               -->
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>
      </div>
    </div>

    
    <!-- VIDEO -->
    <section class="pt-2 sticky">
      <div class="container">
        <div class="row justify-content-center">

          <div id="video-container" class="col-9 col-lg-12 mb-5">

          <!-- Video -->

            <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
            <div id="player" class="sticky"></div>

            <script>
              
              var transcript = [{"text": "Hello gophers and all those who are interested in Goa.", "timestamp": "00:00:19,850", "timestamp_s": 19.0}, {"text": "Today I am going to talk about how to concentrate on business", "timestamp": "00:00:23,434", "timestamp_s": 23.0}, {"text": "logic by hiding transaction management and using a repository", "timestamp": "00:00:27,036", "timestamp_s": 27.0}, {"text": "and unit of work pattern. Small piece of information.", "timestamp": "00:00:31,234", "timestamp_s": 31.0}, {"text": "You can find the presentation using QR code at the bottom", "timestamp": "00:00:34,684", "timestamp_s": 34.0}, {"text": "left of the slide. All QR code in", "timestamp": "00:00:38,320", "timestamp_s": 38.0}, {"text": "the slides are links. Let\u0027s continue.", "timestamp": "00:00:41,728", "timestamp_s": 41.0}, {"text": "I work at Avita, one of the most popular classifieds in the world.", "timestamp": "00:00:45,072", "timestamp_s": 45.0}, {"text": "Our main language is Golang. We use it for more than", "timestamp": "00:00:49,440", "timestamp_s": 49.0}, {"text": "a thousand microservices. We use Golang almost", "timestamp": "00:00:52,800", "timestamp_s": 52.0}, {"text": "everywhere in cloud and network service,", "timestamp": "00:00:56,788", "timestamp_s": 56.0}, {"text": "command line interface DevOps and web development", "timestamp": "00:01:00,370", "timestamp_s": 60.0}, {"text": "and we can handle about 300 million visits", "timestamp": "00:01:03,886", "timestamp_s": 63.0}, {"text": "per month. That\u0027s cool, but we write the application", "timestamp": "00:01:07,646", "timestamp_s": 67.0}, {"text": "with business logic, not a benchmark.", "timestamp": "00:01:10,904", "timestamp_s": 70.0}, {"text": "My team and I work on smartphone reselling.", "timestamp": "00:01:14,470", "timestamp_s": 74.0}, {"text": "That complex domain includes more than 20 states where", "timestamp": "00:01:18,482", "timestamp_s": 78.0}, {"text": "phone cases from a seller to a buyer through verification,", "timestamp": "00:01:22,252", "timestamp_s": 82.0}, {"text": "repair, adding of warranty and delivery. Nevertheless,", "timestamp": "00:01:25,810", "timestamp_s": 85.0}, {"text": "I will use another domain as an example on the", "timestamp": "00:01:29,830", "timestamp_s": 89.0}, {"text": "slide, the all known domain of the shop.", "timestamp": "00:01:32,928", "timestamp_s": 92.0}, {"text": "Unfortunately, we cannot directly use approach from other languages", "timestamp": "00:01:36,910", "timestamp_s": 96.0}, {"text": "in Go because of the error handling. The small", "timestamp": "00:01:40,950", "timestamp_s": 100.0}, {"text": "disclaimer here is the most of the year handling in the slide", "timestamp": "00:01:44,592", "timestamp_s": 104.0}, {"text": "is hidden instead of full error processing. I will", "timestamp": "00:01:48,442", "timestamp_s": 108.0}, {"text": "hide if with checking from the slide then", "timestamp": "00:01:52,212", "timestamp_s": 112.0}, {"text": "Go is not conventionally object oriented language.", "timestamp": "00:01:56,792", "timestamp_s": 116.0}, {"text": "Go has unique insign into interfaces,", "timestamp": "00:02:00,478", "timestamp_s": 120.0}, {"text": "no inheritance, no protected access modification", "timestamp": "00:02:04,110", "timestamp_s": 124.0}, {"text": "and others. Also Go is young", "timestamp": "00:02:07,358", "timestamp_s": 127.0}, {"text": "programming language and there are no ready libraries", "timestamp": "00:02:10,988", "timestamp_s": 130.0}, {"text": "to build an enterprise application. Despite these reasons", "timestamp": "00:02:15,202", "timestamp_s": 135.0}, {"text": "and the difference between Go and other languages, we can use some", "timestamp": "00:02:19,238", "timestamp_s": 139.0}, {"text": "concepts from them. Let\u0027s see the repository pattern", "timestamp": "00:02:22,992", "timestamp_s": 142.0}, {"text": "in Golem. The repository has a simple interface and", "timestamp": "00:02:26,262", "timestamp_s": 146.0}, {"text": "hides saving, getting and mapping data from", "timestamp": "00:02:30,064", "timestamp_s": 150.0}, {"text": "the database that help us to concentrate on business", "timestamp": "00:02:33,492", "timestamp_s": 153.0}, {"text": "domain instead of database. We don\u0027t add validation", "timestamp": "00:02:37,972", "timestamp_s": 157.0}, {"text": "of usernames, product count in an order", "timestamp": "00:02:42,026", "timestamp_s": 162.0}, {"text": "or other business rules because the implementation of", "timestamp": "00:02:46,200", "timestamp_s": 166.0}, {"text": "the concrete repository is not a part of the domain.", "timestamp": "00:02:49,752", "timestamp_s": 169.0}, {"text": "The repository should work with only one model. If we", "timestamp": "00:02:55,130", "timestamp_s": 175.0}, {"text": "add several models to the repository, we create a", "timestamp": "00:02:58,908", "timestamp_s": 178.0}, {"text": "super repository which is difficult to modify,", "timestamp": "00:03:02,716", "timestamp_s": 182.0}, {"text": "extend and testing.", "timestamp": "00:03:07,074", "timestamp_s": 187.0}, {"text": "The sequence diagram for any repository looks like", "timestamp": "00:03:10,030", "timestamp_s": 190.0}, {"text": "that. When we call the repositories method,", "timestamp": "00:03:13,712", "timestamp_s": 193.0}, {"text": "we convert data from domain", "timestamp": "00:03:17,830", "timestamp_s": 197.0}, {"text": "view to database or vice versa. Then we receive", "timestamp": "00:03:21,178", "timestamp_s": 201.0}, {"text": "or save data in the database.", "timestamp": "00:03:25,146", "timestamp_s": 205.0}, {"text": "However, the repository can use data", "timestamp": "00:03:28,138", "timestamp_s": 208.0}, {"text": "mapper pattern if we have a complex model", "timestamp": "00:03:31,924", "timestamp_s": 211.0}, {"text": "and the repository will work with a data mapper", "timestamp": "00:03:35,240", "timestamp_s": 215.0}, {"text": "instead of direct calling the database.", "timestamp": "00:03:39,230", "timestamp_s": 219.0}, {"text": "The description is simple, but what is inside?", "timestamp": "00:03:43,190", "timestamp_s": 223.0}, {"text": "We little modify the repository interface", "timestamp": "00:03:47,450", "timestamp_s": 227.0}, {"text": "to our model and that\u0027s still simple. Then suppose we", "timestamp": "00:03:51,602", "timestamp_s": 231.0}, {"text": "have a user with username password and data data and", "timestamp": "00:03:55,532", "timestamp_s": 235.0}, {"text": "each user have profile information about avatar first", "timestamp": "00:04:00,144", "timestamp_s": 240.0}, {"text": "and last names, et cetera and Zed\u0027s", "timestamp": "00:04:03,856", "timestamp_s": 243.0}, {"text": "knowledge belongs to a user model. However,", "timestamp": "00:04:07,398", "timestamp_s": 247.0}, {"text": "we store this data in database as two different tables.", "timestamp": "00:04:10,564", "timestamp_s": 250.0}, {"text": "The repository includes machinery to hide the difference and", "timestamp": "00:04:15,210", "timestamp_s": 255.0}, {"text": "help us think more about the domain, not the database.", "timestamp": "00:04:19,012", "timestamp_s": 259.0}, {"text": "On the left side of the slide you can see domain", "timestamp": "00:04:23,990", "timestamp_s": 263.0}, {"text": "view of the model and on the right side you can see", "timestamp": "00:04:28,142", "timestamp_s": 268.0}, {"text": "database view of the model and you", "timestamp": "00:04:32,088", "timestamp_s": 272.0}, {"text": "see that\u0027s different and repository help us", "timestamp": "00:04:35,852", "timestamp_s": 275.0}, {"text": "to hide it.", "timestamp": "00:04:39,340", "timestamp_s": 279.0}, {"text": "Let\u0027s see an example. This is getting model I use", "timestamp": "00:04:42,810", "timestamp_s": 282.0}, {"text": "SQlix to review the code of data mapping from", "timestamp": "00:04:46,476", "timestamp_s": 286.0}, {"text": "a database. When the app receives data after", "timestamp": "00:04:50,480", "timestamp_s": 290.0}, {"text": "receiving, we have a database view in the user", "timestamp": "00:04:54,160", "timestamp_s": 294.0}, {"text": "row and profile row. Then we convert data in", "timestamp": "00:04:58,182", "timestamp_s": 298.0}, {"text": "a domain view as a single model user with a nested", "timestamp": "00:05:02,276", "timestamp_s": 302.0}, {"text": "profile model. In the save method, we convert", "timestamp": "00:05:06,602", "timestamp_s": 306.0}, {"text": "the data view in the database and then save data.", "timestamp": "00:05:10,698", "timestamp_s": 310.0}, {"text": "I use an insert and update in one query", "timestamp": "00:05:14,164", "timestamp_s": 314.0}, {"text": "to place it in one slide. Then we use two tables", "timestamp": "00:05:17,646", "timestamp_s": 317.0}, {"text": "and we need to add transactions to prevent corrupting", "timestamp": "00:05:21,726", "timestamp_s": 321.0}, {"text": "data if a problem happens in gap between two", "timestamp": "00:05:25,762", "timestamp_s": 325.0}, {"text": "updates. Comments leads Disclaimer I", "timestamp": "00:05:29,276", "timestamp_s": 329.0}, {"text": "simplify models to a few fields in the", "timestamp": "00:05:33,196", "timestamp_s": 333.0}, {"text": "next slides to feed code on a slide now", "timestamp": "00:05:36,508", "timestamp_s": 336.0}, {"text": "we have a user repository. Next our business tell us", "timestamp": "00:05:40,416", "timestamp_s": 340.0}, {"text": "to register a user. We create the message", "timestamp": "00:05:44,096", "timestamp_s": 344.0}, {"text": "register, add validation method", "timestamp": "00:05:47,952", "timestamp_s": 347.0}, {"text": "and save a model with the registry.", "timestamp": "00:05:51,562", "timestamp_s": 351.0}, {"text": "Then the product tell us that we must notify the", "timestamp": "00:05:56,850", "timestamp_s": 356.0}, {"text": "new user about registration. For that purpose.", "timestamp": "00:06:00,708", "timestamp_s": 360.0}, {"text": "We publish a message in queue about that.", "timestamp": "00:06:04,590", "timestamp_s": 364.0}, {"text": "However, we can catch an issue when", "timestamp": "00:06:08,390", "timestamp_s": 368.0}, {"text": "the queue goes down. We save data in the database and", "timestamp": "00:06:11,608", "timestamp_s": 371.0}, {"text": "load the message. This situation is unacceptable for us.", "timestamp": "00:06:15,900", "timestamp_s": 375.0}, {"text": "Let\u0027s cover saving data and publishing with a", "timestamp": "00:06:20,890", "timestamp_s": 380.0}, {"text": "transaction to prevent it. These are just two lines.", "timestamp": "00:06:24,572", "timestamp_s": 384.0}, {"text": "The first one is to begin the", "timestamp": "00:06:28,502", "timestamp_s": 388.0}, {"text": "transaction and other one to commit. But we", "timestamp": "00:06:31,712", "timestamp_s": 391.0}, {"text": "should explicitly pass the transaction to the", "timestamp": "00:06:35,168", "timestamp_s": 395.0}, {"text": "repository and publish method.", "timestamp": "00:06:38,880", "timestamp_s": 398.0}, {"text": "Passing the transaction in the repository complexity the", "timestamp": "00:06:43,010", "timestamp_s": 403.0}, {"text": "code with additional knowledge. They say knowledge is power.", "timestamp": "00:06:46,308", "timestamp_s": 406.0}, {"text": "However in this case additional knowledge is not about", "timestamp": "00:06:49,860", "timestamp_s": 409.0}, {"text": "power, it\u0027s just complication for complication sake.", "timestamp": "00:06:53,396", "timestamp_s": 413.0}, {"text": "And we change our repository interface by adding knowledge", "timestamp": "00:06:58,310", "timestamp_s": 418.0}, {"text": "about the database transaction. That makes our repository nonel.", "timestamp": "00:07:02,206", "timestamp_s": 422.0}, {"text": "But we get atomic registration. It\u0027s not a big", "timestamp": "00:07:06,942", "timestamp_s": 426.0}, {"text": "deal. We now have a registration but the app", "timestamp": "00:07:10,412", "timestamp_s": 430.0}, {"text": "can just create a user. Businesses want to sell", "timestamp": "00:07:14,236", "timestamp_s": 434.0}, {"text": "goods and we already matter. And easy making new", "timestamp": "00:07:17,980", "timestamp_s": 437.0}, {"text": "repository with getting and saving methods.", "timestamp": "00:07:22,204", "timestamp_s": 442.0}, {"text": "Then we create a new use case with validation,", "timestamp": "00:07:25,870", "timestamp_s": 445.0}, {"text": "saving and message publication in a", "timestamp": "00:07:29,078", "timestamp_s": 449.0}, {"text": "transaction. And now we see our elegant solution", "timestamp": "00:07:32,628", "timestamp_s": 452.0}, {"text": "with transaction registration and buying while", "timestamp": "00:07:36,122", "timestamp_s": 456.0}, {"text": "the developers are daydreaming, being perfectly", "timestamp": "00:07:40,116", "timestamp_s": 460.0}, {"text": "contempt with the result of their work, business comes", "timestamp": "00:07:44,366", "timestamp_s": 464.0}, {"text": "to them and demands a new scenario to increase the conversion", "timestamp": "00:07:48,136", "timestamp_s": 468.0}, {"text": "of new users into our customers. Throw purchase", "timestamp": "00:07:51,902", "timestamp_s": 471.0}, {"text": "without completed registration. That is technique when", "timestamp": "00:07:56,530", "timestamp_s": 476.0}, {"text": "users can buy things on the site without authorization", "timestamp": "00:08:00,380", "timestamp_s": 480.0}, {"text": "and by just typing email or phone number only.", "timestamp": "00:08:05,290", "timestamp_s": 485.0}, {"text": "Let\u0027s see on the hides. An attentive listener may have", "timestamp": "00:08:10,650", "timestamp_s": 490.0}, {"text": "already noticed the issue in the code.", "timestamp": "00:08:14,768", "timestamp_s": 494.0}, {"text": "The solution is the same as for the two previous scenarios.", "timestamp": "00:08:18,030", "timestamp_s": 498.0}, {"text": "We add control, transaction control and passing the", "timestamp": "00:08:22,730", "timestamp_s": 502.0}, {"text": "transaction in the use cases in. Additionally,", "timestamp": "00:08:26,532", "timestamp_s": 506.0}, {"text": "we complicate transaction control inside the use cases.", "timestamp": "00:08:29,850", "timestamp_s": 509.0}, {"text": "The two lines are changed to if else to decide", "timestamp": "00:08:33,934", "timestamp_s": 513.0}, {"text": "whether the flow is on the top level or it", "timestamp": "00:08:37,678", "timestamp_s": 517.0}, {"text": "was called something else and it\u0027s not good.", "timestamp": "00:08:41,592", "timestamp_s": 521.0}, {"text": "But as we know, with great business logics comes", "timestamp": "00:08:45,930", "timestamp_s": 525.0}, {"text": "great legacy. Let me briefly", "timestamp": "00:08:50,636", "timestamp_s": 530.0}, {"text": "recap what we have here. First, we have", "timestamp": "00:08:54,370", "timestamp_s": 534.0}, {"text": "nested transaction use cases and that\u0027s cool.", "timestamp": "00:08:58,176", "timestamp_s": 538.0}, {"text": "However, the transaction spread everywhere.", "timestamp": "00:09:01,952", "timestamp_s": 541.0}, {"text": "That forces us to duplicate the routine code to", "timestamp": "00:09:05,558", "timestamp_s": 545.0}, {"text": "control them. Duplication adds an increased", "timestamp": "00:09:09,152", "timestamp_s": 549.0}, {"text": "chance of making mistakes. Also, if we want", "timestamp": "00:09:13,330", "timestamp_s": 553.0}, {"text": "to change the database, we must change the app in many places.", "timestamp": "00:09:17,268", "timestamp_s": 557.0}, {"text": "Now I won\u0027t rephrase our issues to our wishes.", "timestamp": "00:09:21,834", "timestamp_s": 561.0}, {"text": "The first one is an EDL repository for", "timestamp": "00:09:25,566", "timestamp_s": 565.0}, {"text": "simple work with the database. Second,", "timestamp": "00:09:29,816", "timestamp_s": 569.0}, {"text": "the use cases are transactional and nested.", "timestamp": "00:09:33,032", "timestamp_s": 573.0}, {"text": "I want to save different models in the single scenario without", "timestamp": "00:09:36,738", "timestamp_s": 576.0}, {"text": "thinking about how to open close the transaction and", "timestamp": "00:09:40,396", "timestamp_s": 580.0}, {"text": "rollback it on error. The third is", "timestamp": "00:09:44,508", "timestamp_s": 584.0}, {"text": "supporting nested use cases.", "timestamp": "00:09:47,872", "timestamp_s": 587.0}, {"text": "Now I won\u0027t rephrase our issues in our wishes.", "timestamp": "00:09:51,230", "timestamp_s": 591.0}, {"text": "The first one is an EDEL repository for simple", "timestamp": "00:09:54,774", "timestamp_s": 594.0}, {"text": "work with the database. Second, the use cases arent", "timestamp": "00:09:58,384", "timestamp_s": 598.0}, {"text": "transactional and nested. I want to save different models", "timestamp": "00:10:02,356", "timestamp_s": 602.0}, {"text": "in a single scenario without thinking about how to", "timestamp": "00:10:06,314", "timestamp_s": 606.0}, {"text": "open close the transaction and roll back it on error.", "timestamp": "00:10:09,412", "timestamp_s": 609.0}, {"text": "Also, I want to hide transaction control and", "timestamp": "00:10:13,750", "timestamp_s": 613.0}, {"text": "finally I want to replace the database easily.", "timestamp": "00:10:17,576", "timestamp_s": 617.0}, {"text": "We already have some wishes done as nested transactional", "timestamp": "00:10:21,510", "timestamp_s": 621.0}, {"text": "use cases, but we need to get the others.", "timestamp": "00:10:25,150", "timestamp_s": 625.0}, {"text": "Let\u0027s try to hide transaction control.", "timestamp": "00:10:28,764", "timestamp_s": 628.0}, {"text": "The simple solution is using closure, but where", "timestamp": "00:10:31,850", "timestamp_s": 631.0}, {"text": "should we place it? We can add closure in the repository.", "timestamp": "00:10:35,436", "timestamp_s": 635.0}, {"text": "We call our scenario in the transaction, get the user", "timestamp": "00:10:39,670", "timestamp_s": 639.0}, {"text": "and the order as a result and", "timestamp": "00:10:43,686", "timestamp_s": 643.0}, {"text": "then save them. However, I hoped that", "timestamp": "00:10:47,152", "timestamp_s": 647.0}, {"text": "you will be skeptical about this solution.", "timestamp": "00:10:50,836", "timestamp_s": 650.0}, {"text": "First, we still should pass transactions in the repository,", "timestamp": "00:10:54,290", "timestamp_s": 654.0}, {"text": "in this case in the order repository.", "timestamp": "00:10:57,978", "timestamp_s": 657.0}, {"text": "Another problem is that for each new scenario", "timestamp": "00:11:01,002", "timestamp_s": 661.0}, {"text": "we need to code a new closure with new range of models.", "timestamp": "00:11:04,526", "timestamp_s": 664.0}, {"text": "And the last problem is that over time our", "timestamp": "00:11:08,702", "timestamp_s": 668.0}, {"text": "scenario will became more complex and the user repository", "timestamp": "00:11:11,896", "timestamp_s": 671.0}, {"text": "would be smarty and it would know about almost everywhere", "timestamp": "00:11:16,706", "timestamp_s": 676.0}, {"text": "a model in the app. As a result,", "timestamp": "00:11:21,746", "timestamp_s": 681.0}, {"text": "we would need much more time to extend and", "timestamp": "00:11:24,732", "timestamp_s": 684.0}, {"text": "test our apps functionally. However,", "timestamp": "00:11:28,576", "timestamp_s": 688.0}, {"text": "we can move the closer to a separate function and see the result at", "timestamp": "00:11:32,560", "timestamp_s": 692.0}, {"text": "first sight with transaction is just a copy code from the", "timestamp": "00:11:36,832", "timestamp_s": 696.0}, {"text": "use case. Take a look at transaction control pros in", "timestamp": "00:11:40,272", "timestamp_s": 700.0}, {"text": "the closer and register scenario.", "timestamp": "00:11:43,728", "timestamp_s": 703.0}, {"text": "Let\u0027s simplify our scenario. With closure we", "timestamp": "00:11:46,794", "timestamp_s": 706.0}, {"text": "replace it lines onto and decrease the", "timestamp": "00:11:49,972", "timestamp_s": 709.0}, {"text": "chance of create a bug. The code is", "timestamp": "00:11:53,560", "timestamp_s": 713.0}, {"text": "entirely placed on the slide and looks better than it was", "timestamp": "00:11:57,288", "timestamp_s": 717.0}, {"text": "and I hope you agree with me. However, our code", "timestamp": "00:12:01,288", "timestamp_s": 721.0}, {"text": "is still bound with the SqLix Tx transaction.", "timestamp": "00:12:05,016", "timestamp_s": 725.0}, {"text": "As a result, we can only change the database by", "timestamp": "00:12:08,402", "timestamp_s": 728.0}, {"text": "rewriting all use cases and somebody can make", "timestamp": "00:12:11,612", "timestamp_s": 731.0}, {"text": "mistakes by handling control of a transaction.", "timestamp": "00:12:15,132", "timestamp_s": 735.0}, {"text": "Next, I want to hide passing the transaction in", "timestamp": "00:12:19,230", "timestamp_s": 739.0}, {"text": "the repository. To do that, we can use the", "timestamp": "00:12:22,912", "timestamp_s": 742.0}, {"text": "factory method in the repository which enrichs", "timestamp": "00:12:26,496", "timestamp_s": 746.0}, {"text": "our repository with a transaction, the factory method", "timestamp": "00:12:30,822", "timestamp_s": 750.0}, {"text": "getting the transaction and save it in our repository", "timestamp": "00:12:35,354", "timestamp_s": 755.0}, {"text": "and then we can use the saved", "timestamp": "00:12:40,410", "timestamp_s": 760.0}, {"text": "transaction in our methods.", "timestamp": "00:12:43,966", "timestamp_s": 763.0}, {"text": "The code in the getting and save methods will change slightly.", "timestamp": "00:12:46,990", "timestamp_s": 766.0}, {"text": "We replace one if condition on the", "timestamp": "00:12:51,518", "timestamp_s": 771.0}, {"text": "single line. Nevertheless, I am eager to", "timestamp": "00:12:55,496", "timestamp_s": 775.0}, {"text": "see how our use case would look after", "timestamp": "00:12:59,068", "timestamp_s": 779.0}, {"text": "updates. We call this transaction", "timestamp": "00:13:02,796", "timestamp_s": 782.0}, {"text": "repository method and then the use case is not", "timestamp": "00:13:06,690", "timestamp_s": 786.0}, {"text": "changed. Is that better than it was?", "timestamp": "00:13:10,032", "timestamp_s": 790.0}, {"text": "Unfortunately no. We add time dependency colon.", "timestamp": "00:13:13,792", "timestamp_s": 793.0}, {"text": "We must call repository methods only after factory method", "timestamp": "00:13:19,070", "timestamp_s": 799.0}, {"text": "and I don\u0027t think it\u0027s cool. Could we use", "timestamp": "00:13:23,818", "timestamp_s": 803.0}, {"text": "reflection in this case to remove the time dependency.", "timestamp": "00:13:27,236", "timestamp_s": 807.0}, {"text": "Let\u0027s use a function with repositories as argument", "timestamp": "00:13:31,730", "timestamp_s": 811.0}, {"text": "in this transaction. We pass it in our closer,", "timestamp": "00:13:35,818", "timestamp_s": 815.0}, {"text": "then the reflection retrieves a list", "timestamp": "00:13:39,902", "timestamp_s": 819.0}, {"text": "of repositories and calls the method", "timestamp": "00:13:43,032", "timestamp_s": 823.0}, {"text": "with transaction to enrich them.", "timestamp": "00:13:46,866", "timestamp_s": 826.0}, {"text": "As a result, we remove an argument with a", "timestamp": "00:13:49,850", "timestamp_s": 829.0}, {"text": "transaction in repository method. However,", "timestamp": "00:13:53,308", "timestamp_s": 833.0}, {"text": "reflection is not a golden way and we still", "timestamp": "00:13:56,444", "timestamp_s": 836.0}, {"text": "should pass the transaction in the use cases and the", "timestamp": "00:14:00,416", "timestamp_s": 840.0}, {"text": "queue. Also, explicit passing spreads knowledge", "timestamp": "00:14:03,632", "timestamp_s": 843.0}, {"text": "about the database through the application and", "timestamp": "00:14:07,366", "timestamp_s": 847.0}, {"text": "where we can to store a transaction. Let\u0027s see how other", "timestamp": "00:14:11,796", "timestamp_s": 851.0}, {"text": "languages solve this issue.", "timestamp": "00:14:15,412", "timestamp_s": 855.0}, {"text": "In Python, the passing depends on a library.", "timestamp": "00:14:18,850", "timestamp_s": 858.0}, {"text": "In SQL alchemy, we cases the transaction explicitly", "timestamp": "00:14:23,750", "timestamp_s": 863.0}, {"text": "as a function argument and we already have", "timestamp": "00:14:27,486", "timestamp_s": 867.0}, {"text": "it. Solution in Django,", "timestamp": "00:14:30,712", "timestamp_s": 870.0}, {"text": "transactions are stored in a global variable because Django", "timestamp": "00:14:33,630", "timestamp_s": 873.0}, {"text": "processes one request in one thread.", "timestamp": "00:14:37,438", "timestamp_s": 877.0}, {"text": "PHP uses the same approaches because it does not have", "timestamp": "00:14:40,322", "timestamp_s": 880.0}, {"text": "multi threads processing at all. Unfortunately,", "timestamp": "00:14:44,140", "timestamp_s": 884.0}, {"text": "it\u0027s not our solution at all and", "timestamp": "00:14:47,570", "timestamp_s": 887.0}, {"text": "fortunately go can work with multiple threads by", "timestamp": "00:14:51,184", "timestamp_s": 891.0}, {"text": "Go routines. More enterprise languages such as", "timestamp": "00:14:54,976", "timestamp_s": 894.0}, {"text": "Java or C sharp use thread local storage that", "timestamp": "00:14:58,896", "timestamp_s": 898.0}, {"text": "is similar to the global variable but limited by a single thread.", "timestamp": "00:15:02,932", "timestamp_s": 902.0}, {"text": "But where to store a transaction in go passing", "timestamp": "00:15:07,570", "timestamp_s": 907.0}, {"text": "as an arent is not our solution. We want to", "timestamp": "00:15:11,674", "timestamp_s": 911.0}, {"text": "hides a transaction to provide high coupling use", "timestamp": "00:15:15,464", "timestamp_s": 915.0}, {"text": "cases with a database. We have Gorotine and", "timestamp": "00:15:18,872", "timestamp_s": 918.0}, {"text": "God doesn\u0027t support built in Gorotin local", "timestamp": "00:15:22,904", "timestamp_s": 922.0}, {"text": "storage. Could we create a similar solution", "timestamp": "00:15:27,724", "timestamp_s": 927.0}, {"text": "by Gorotine Id? And the answer is probably no.", "timestamp": "00:15:31,282", "timestamp_s": 931.0}, {"text": "Golang does not allow us to get a gorotine id directly.", "timestamp": "00:15:35,610", "timestamp_s": 935.0}, {"text": "Go experts don\u0027t recommend using Gorotine", "timestamp": "00:15:39,602", "timestamp_s": 939.0}, {"text": "because it contradicts Golang Way and they", "timestamp": "00:15:43,682", "timestamp_s": 943.0}, {"text": "want to prevent building applications that associated", "timestamp": "00:15:47,616", "timestamp_s": 947.0}, {"text": "all consumption with a single gorotine. And now we should", "timestamp": "00:15:51,562", "timestamp_s": 951.0}, {"text": "use hacks to get an id. Also, new language", "timestamp": "00:15:55,396", "timestamp_s": 955.0}, {"text": "updates can break the hacks and no one", "timestamp": "00:15:59,562", "timestamp_s": 959.0}, {"text": "can guarantee the stability of the solution.", "timestamp": "00:16:03,272", "timestamp_s": 963.0}, {"text": "However, some libraries implementations Gortin", "timestamp": "00:16:06,478", "timestamp_s": 966.0}, {"text": "local storage but all of them arent built on the", "timestamp": "00:16:10,702", "timestamp_s": 970.0}, {"text": "hacks and most arent not my intended.", "timestamp": "00:16:14,280", "timestamp_s": 974.0}, {"text": "Fortunately we are not in 2016 and we", "timestamp": "00:16:18,970", "timestamp_s": 978.0}, {"text": "have the context package that can be used", "timestamp": "00:16:22,492", "timestamp_s": 982.0}, {"text": "to store the transaction. However, there are", "timestamp": "00:16:26,604", "timestamp_s": 986.0}, {"text": "opinions that storing something more than primitive types", "timestamp": "00:16:30,288", "timestamp_s": 990.0}, {"text": "in a context is a bad idea.", "timestamp": "00:16:34,246", "timestamp_s": 994.0}, {"text": "That means should we reinvent the wheel?", "timestamp": "00:16:39,470", "timestamp_s": 999.0}, {"text": "Fortunately not some experts articles", "timestamp": "00:16:44,370", "timestamp_s": 1004.0}, {"text": "there is an exception for the specific", "timestamp": "00:16:48,378", "timestamp_s": 1008.0}, {"text": "values to be scoped to the request and destroyed after", "timestamp": "00:16:52,468", "timestamp_s": 1012.0}, {"text": "request. That gives us the ability to", "timestamp": "00:16:56,616", "timestamp_s": 1016.0}, {"text": "use context to store a transaction inside", "timestamp": "00:16:59,688", "timestamp_s": 1019.0}, {"text": "the context. Excellent. We have a place", "timestamp": "00:17:03,320", "timestamp_s": 1023.0}, {"text": "for our transaction. Let\u0027s look at our closer.", "timestamp": "00:17:06,460", "timestamp_s": 1026.0}, {"text": "That\u0027s not so bad. We check a transaction in the context.", "timestamp": "00:17:09,970", "timestamp_s": 1029.0}, {"text": "If not, we create and put a new transaction in", "timestamp": "00:17:14,890", "timestamp_s": 1034.0}, {"text": "context. In the use cases, we replace the transaction", "timestamp": "00:17:18,576", "timestamp_s": 1038.0}, {"text": "with a new context. Then we add", "timestamp": "00:17:22,374", "timestamp_s": 1042.0}, {"text": "getting a transaction from the context in the repository to work", "timestamp": "00:17:26,176", "timestamp_s": 1046.0}, {"text": "with the database. Also, we create a", "timestamp": "00:17:30,276", "timestamp_s": 1050.0}, {"text": "TR interface to replace direct", "timestamp": "00:17:35,170", "timestamp_s": 1055.0}, {"text": "database connection on a transaction and vice versa.", "timestamp": "00:17:38,612", "timestamp_s": 1058.0}, {"text": "Now we have a simple repository interface without the explicit", "timestamp": "00:17:44,070", "timestamp_s": 1064.0}, {"text": "transaction argument and nested transactional use cases,", "timestamp": "00:17:48,318", "timestamp_s": 1068.0}, {"text": "we can forgot about transaction control by using transaction", "timestamp": "00:17:52,590", "timestamp_s": 1072.0}, {"text": "closure in. Additionally, we concentrate on working", "timestamp": "00:17:56,542", "timestamp_s": 1076.0}, {"text": "with database in closure and repository", "timestamp": "00:18:00,140", "timestamp_s": 1080.0}, {"text": "and can replace that database without changing use", "timestamp": "00:18:04,402", "timestamp_s": 1084.0}, {"text": "cases. However, we have a problem with closure,", "timestamp": "00:18:07,836", "timestamp_s": 1087.0}, {"text": "which is difficult to test because we cannot create a mock or", "timestamp": "00:18:11,654", "timestamp_s": 1091.0}, {"text": "stop for a function and a global variable", "timestamp": "00:18:15,408", "timestamp_s": 1095.0}, {"text": "works with a database. Also, we need to", "timestamp": "00:18:18,870", "timestamp_s": 1098.0}, {"text": "rewrite use cases to add a new closure or replace the", "timestamp": "00:18:22,452", "timestamp_s": 1102.0}, {"text": "current one. Let\u0027s fix it. We must", "timestamp": "00:18:26,068", "timestamp_s": 1106.0}, {"text": "convert with transaction closure in a structure", "timestamp": "00:18:29,716", "timestamp_s": 1109.0}, {"text": "with an interface. The structure allows", "timestamp": "00:18:33,582", "timestamp_s": 1113.0}, {"text": "us to create a mock and path that database as an arent instead", "timestamp": "00:18:36,974", "timestamp_s": 1116.0}, {"text": "of global variable. Let\u0027s name the interface manage", "timestamp": "00:18:41,016", "timestamp_s": 1121.0}, {"text": "to do function calls, do with settings with default settings", "timestamp": "00:18:45,176", "timestamp_s": 1125.0}, {"text": "and do with settings. Control a transaction as with", "timestamp": "00:18:49,282", "timestamp_s": 1129.0}, {"text": "transaction with additional features such as nested", "timestamp": "00:18:53,116", "timestamp_s": 1133.0}, {"text": "transaction readonly transaction timeout,", "timestamp": "00:18:56,818", "timestamp_s": 1136.0}, {"text": "et cetera. Then we introduce a generic", "timestamp": "00:19:00,022", "timestamp_s": 1140.0}, {"text": "general interface transaction which can commit", "timestamp": "00:19:04,662", "timestamp_s": 1144.0}, {"text": "rollback, show the transaction status and return", "timestamp": "00:19:07,878", "timestamp_s": 1147.0}, {"text": "an actual transaction. Also we have the interface", "timestamp": "00:19:11,348", "timestamp_s": 1151.0}, {"text": "to create nested transactions if a database supports", "timestamp": "00:19:15,242", "timestamp_s": 1155.0}, {"text": "them. Also we adding the settings", "timestamp": "00:19:18,394", "timestamp_s": 1158.0}, {"text": "interface store standard configurations for different databases.", "timestamp": "00:19:22,266", "timestamp_s": 1162.0}, {"text": "We implementations new settings for each database transaction", "timestamp": "00:19:26,790", "timestamp_s": 1166.0}, {"text": "because different database have their configurations and", "timestamp": "00:19:31,006", "timestamp_s": 1171.0}, {"text": "abilities. We cases settings in", "timestamp": "00:19:35,000", "timestamp_s": 1175.0}, {"text": "specific interface to configuration the transaction", "timestamp": "00:19:38,652", "timestamp_s": 1178.0}, {"text": "in a factory. It\u0027s time to see what we have", "timestamp": "00:19:42,066", "timestamp_s": 1182.0}, {"text": "in the use case. Manager replaces this transaction", "timestamp": "00:19:46,092", "timestamp_s": 1186.0}, {"text": "and visually everything changes. However, we can", "timestamp": "00:19:49,926", "timestamp_s": 1189.0}, {"text": "mock manager or our staff for testing", "timestamp": "00:19:53,312", "timestamp_s": 1193.0}, {"text": "in Java. We can hides the transaction from the use case by", "timestamp": "00:19:57,334", "timestamp_s": 1197.0}, {"text": "annotation or XML configuration.", "timestamp": "00:20:00,996", "timestamp_s": 1200.0}, {"text": "We can do the same in go by reflection code", "timestamp": "00:20:05,010", "timestamp_s": 1205.0}, {"text": "generation. Some tricks with generic or just decorator", "timestamp": "00:20:08,836", "timestamp_s": 1208.0}, {"text": "a simple decorator on the slide, but we should create a new", "timestamp": "00:20:13,750", "timestamp_s": 1213.0}, {"text": "decorator for each use case. It\u0027s not hard", "timestamp": "00:20:17,512", "timestamp_s": 1217.0}, {"text": "but it\u0027s so boring. Let\u0027s try to", "timestamp": "00:20:21,160", "timestamp_s": 1221.0}, {"text": "use generic decorator. To get", "timestamp": "00:20:24,568", "timestamp_s": 1224.0}, {"text": "generic decorator, we should use trick. The trick", "timestamp": "00:20:28,572", "timestamp_s": 1228.0}, {"text": "consists of using the structure for", "timestamp": "00:20:32,322", "timestamp_s": 1232.0}, {"text": "arguments of the use case and naming the method", "timestamp": "00:20:35,660", "timestamp_s": 1235.0}, {"text": "identical in all use cases.", "timestamp": "00:20:39,446", "timestamp_s": 1239.0}, {"text": "In our case we use the name handle.", "timestamp": "00:20:42,830", "timestamp_s": 1242.0}, {"text": "Then we create an interface which match our", "timestamp": "00:20:46,750", "timestamp_s": 1246.0}, {"text": "use cases. The structure gives us the ability", "timestamp": "00:20:51,540", "timestamp_s": 1251.0}, {"text": "to create the generic interface which can work with any", "timestamp": "00:20:55,674", "timestamp_s": 1255.0}, {"text": "use cases. After that we implement", "timestamp": "00:20:59,684", "timestamp_s": 1259.0}, {"text": "a decorator by using the interface and generic.", "timestamp": "00:21:03,854", "timestamp_s": 1263.0}, {"text": "The decorator is not idiot generic,", "timestamp": "00:21:09,430", "timestamp_s": 1269.0}, {"text": "but we can easily implement it", "timestamp": "00:21:12,654", "timestamp_s": 1272.0}, {"text": "and remove routine code. Writing the", "timestamp": "00:21:15,992", "timestamp_s": 1275.0}, {"text": "using of the decorator is simple and", "timestamp": "00:21:21,020", "timestamp_s": 1281.0}, {"text": "presented on the slide.", "timestamp": "00:21:24,940", "timestamp_s": 1284.0}, {"text": "Then we can simplify getting a transaction from the context in", "timestamp": "00:21:27,710", "timestamp_s": 1287.0}, {"text": "their repository. Let\u0027s create an", "timestamp": "00:21:31,568", "timestamp_s": 1291.0}, {"text": "interface to extract the transaction. The default", "timestamp": "00:21:34,832", "timestamp_s": 1294.0}, {"text": "method returns a transaction with the default context", "timestamp": "00:21:38,550", "timestamp_s": 1298.0}, {"text": "k and thereby k returns a", "timestamp": "00:21:42,842", "timestamp_s": 1302.0}, {"text": "custom k. It is", "timestamp": "00:21:46,468", "timestamp_s": 1306.0}, {"text": "necessary when the repository process two transactions simultaneously,", "timestamp": "00:21:50,244", "timestamp_s": 1310.0}, {"text": "but be careful with that. Also, when we create", "timestamp": "00:21:55,326", "timestamp_s": 1315.0}, {"text": "context manager, we set the default k to have the ability", "timestamp": "00:21:59,384", "timestamp_s": 1319.0}, {"text": "to change the k without changing code in the repository.", "timestamp": "00:22:03,406", "timestamp_s": 1323.0}, {"text": "However, we should cast transaction in the transaction", "timestamp": "00:22:07,690", "timestamp_s": 1327.0}, {"text": "structure of the database to work with it and casting", "timestamp": "00:22:11,154", "timestamp_s": 1331.0}, {"text": "is not safe. We can create an interface for each", "timestamp": "00:22:15,202", "timestamp_s": 1335.0}, {"text": "database to skip casting in the repository. In the", "timestamp": "00:22:19,360", "timestamp_s": 1339.0}, {"text": "first iteration, the saving methods look like that.", "timestamp": "00:22:23,168", "timestamp_s": 1343.0}, {"text": "Let\u0027s use SQL context manager in the repository.", "timestamp": "00:22:27,072", "timestamp_s": 1347.0}, {"text": "This simplifies the code a bit and reduces", "timestamp": "00:22:31,178", "timestamp_s": 1351.0}, {"text": "the chance of error. Let me briefly recap", "timestamp": "00:22:34,730", "timestamp_s": 1354.0}, {"text": "what we have. We kept the transaction interface simple", "timestamp": "00:22:39,242", "timestamp_s": 1359.0}, {"text": "by hiding the transaction in the context. We get", "timestamp": "00:22:43,160", "timestamp_s": 1363.0}, {"text": "transaction operation nested use cases and", "timestamp": "00:22:47,032", "timestamp_s": 1367.0}, {"text": "hiding transaction by the transaction manager.", "timestamp": "00:22:50,776", "timestamp_s": 1370.0}, {"text": "And also we can migrate to another database without changing", "timestamp": "00:22:54,430", "timestamp_s": 1374.0}, {"text": "use cases. And finally, the solution does", "timestamp": "00:22:58,242", "timestamp_s": 1378.0}, {"text": "not create a problem with testing,", "timestamp": "00:23:01,948", "timestamp_s": 1381.0}, {"text": "but what did it cost? Fortunately not", "timestamp": "00:23:04,890", "timestamp_s": 1384.0}, {"text": "everything. The solution works only on the Go", "timestamp": "00:23:09,040", "timestamp_s": 1389.0}, {"text": "1.13 version which was", "timestamp": "00:23:13,072", "timestamp_s": 1393.0}, {"text": "released in the 2019. It was not", "timestamp": "00:23:17,008", "timestamp_s": 1397.0}, {"text": "so long ago. Nevertheless, Go is updated", "timestamp": "00:23:20,292", "timestamp_s": 1400.0}, {"text": "by a minor version and I hope you have already updated or", "timestamp": "00:23:23,786", "timestamp_s": 1403.0}, {"text": "it is not problem for you.", "timestamp": "00:23:28,100", "timestamp_s": 1408.0}, {"text": "Also there are a few ready transaction adaptations", "timestamp": "00:23:31,412", "timestamp_s": 1411.0}, {"text": "such as SQL, SQL leaks, Gorm,", "timestamp": "00:23:34,718", "timestamp_s": 1414.0}, {"text": "Mongo and Redis, but you can write", "timestamp": "00:23:37,726", "timestamp_s": 1417.0}, {"text": "new adaptations by 70 code offlines.", "timestamp": "00:23:41,128", "timestamp_s": 1421.0}, {"text": "The next disadvantage is losing performance.", "timestamp": "00:23:46,570", "timestamp_s": 1426.0}, {"text": "The first benchmark shows that the difference with and", "timestamp": "00:23:50,002", "timestamp_s": 1430.0}, {"text": "without the solution is about 3.4%.", "timestamp": "00:23:53,692", "timestamp_s": 1433.0}, {"text": "The result was impressive but the reason was SQL mock the", "timestamp": "00:23:58,110", "timestamp_s": 1438.0}, {"text": "library for mocking SQL requests.", "timestamp": "00:24:02,352", "timestamp_s": 1442.0}, {"text": "SQL mock consumes a lot of resources.", "timestamp": "00:24:05,638", "timestamp_s": 1445.0}, {"text": "Therefore I decided to rewrite the benchmark on", "timestamp": "00:24:09,230", "timestamp_s": 1449.0}, {"text": "SQL Lite in memory. The result was more natural and", "timestamp": "00:24:12,612", "timestamp_s": 1452.0}, {"text": "the difference is about 18%. However,", "timestamp": "00:24:16,452", "timestamp_s": 1456.0}, {"text": "most applications which I have seen use database that", "timestamp": "00:24:19,844", "timestamp_s": 1459.0}, {"text": "store data on disk or are dedicated on another", "timestamp": "00:24:23,592", "timestamp_s": 1463.0}, {"text": "server. For that reason I", "timestamp": "00:24:27,544", "timestamp_s": 1467.0}, {"text": "wrote benchmark with MySQL on the", "timestamp": "00:24:31,064", "timestamp_s": 1471.0}, {"text": "same server. The file system has added overhead", "timestamp": "00:24:34,568", "timestamp_s": 1474.0}, {"text": "and the solution takes the same amount of the time as", "timestamp": "00:24:38,514", "timestamp_s": 1478.0}, {"text": "code. Without the transaction manager,", "timestamp": "00:24:41,724", "timestamp_s": 1481.0}, {"text": "the network would consume significantly more time than the file", "timestamp": "00:24:45,010", "timestamp_s": 1485.0}, {"text": "systems which mean the overhead of the", "timestamp": "00:24:49,042", "timestamp_s": 1489.0}, {"text": "solution would be minor. The other disadvantage", "timestamp": "00:24:53,056", "timestamp_s": 1493.0}, {"text": "is that we should pass context everywhere. I hope you", "timestamp": "00:24:56,806", "timestamp_s": 1496.0}, {"text": "already use context in applications to store request id", "timestamp": "00:25:00,352", "timestamp_s": 1500.0}, {"text": "or other data for login or to cancel a request if a", "timestamp": "00:25:04,100", "timestamp_s": 1504.0}, {"text": "user closes a connection. Therefore passing context", "timestamp": "00:25:07,652", "timestamp_s": 1507.0}, {"text": "is acceptable for you. The last and most", "timestamp": "00:25:11,482", "timestamp_s": 1511.0}, {"text": "considerable drawback is that we cannot do a long business", "timestamp": "00:25:15,016", "timestamp_s": 1515.0}, {"text": "transaction because the transaction in the database takes", "timestamp": "00:25:18,600", "timestamp_s": 1518.0}, {"text": "a connection and limited database resources.", "timestamp": "00:25:22,296", "timestamp_s": 1522.0}, {"text": "That can happen when we call external services thoroughly.", "timestamp": "00:25:25,726", "timestamp_s": 1525.0}, {"text": "The simple solution is to request all data before", "timestamp": "00:25:30,050", "timestamp_s": 1530.0}, {"text": "the transaction, but we lose the ability to simple", "timestamp": "00:25:33,820", "timestamp_s": 1533.0}, {"text": "insert a use case into another.", "timestamp": "00:25:37,356", "timestamp_s": 1537.0}, {"text": "And another solution is the unit of work pattern which I", "timestamp": "00:25:41,630", "timestamp_s": 1541.0}, {"text": "will discuss later. Now we can see and repeat the drawbacks.", "timestamp": "00:25:45,728", "timestamp_s": 1545.0}, {"text": "The first is a limitation of the", "timestamp": "00:25:50,278", "timestamp_s": 1550.0}, {"text": "Golang version when the solution can work.", "timestamp": "00:25:54,052", "timestamp_s": 1554.0}, {"text": "The next one is that there are only five", "timestamp": "00:25:58,050", "timestamp_s": 1558.0}, {"text": "adapters but there are more than five database drivers", "timestamp": "00:26:01,300", "timestamp_s": 1561.0}, {"text": "and orms in go. However, only 70 new", "timestamp": "00:26:05,418", "timestamp_s": 1565.0}, {"text": "hides can solve it. Third one,", "timestamp": "00:26:08,952", "timestamp_s": 1568.0}, {"text": "the solution consumes about 17% more than", "timestamp": "00:26:12,696", "timestamp_s": 1572.0}, {"text": "without it or five microseconds.", "timestamp": "00:26:16,428", "timestamp_s": 1576.0}, {"text": "Next one is passing context everywhere. And finally,", "timestamp": "00:26:20,170", "timestamp_s": 1580.0}, {"text": "the solution does not support long business transactions,", "timestamp": "00:26:24,332", "timestamp_s": 1584.0}, {"text": "but the unit of work pattern can solve it.", "timestamp": "00:26:28,258", "timestamp_s": 1588.0}, {"text": "Let\u0027s take a look at what was and what is", "timestamp": "00:26:31,870", "timestamp_s": 1591.0}, {"text": "now in the code. We remove the storing connection", "timestamp": "00:26:35,328", "timestamp_s": 1595.0}, {"text": "of the database with the repository interface by hiding", "timestamp": "00:26:39,318", "timestamp_s": 1599.0}, {"text": "a transaction in context in a repository,", "timestamp": "00:26:43,514", "timestamp_s": 1603.0}, {"text": "we replace checking an existing transaction with", "timestamp": "00:26:46,874", "timestamp_s": 1606.0}, {"text": "context manager code is shorter than it was and", "timestamp": "00:26:51,108", "timestamp_s": 1611.0}, {"text": "now it\u0027s harder for us to make mistakes.", "timestamp": "00:26:54,712", "timestamp_s": 1614.0}, {"text": "Then we can skip a massive block of database infrastructure", "timestamp": "00:26:58,310", "timestamp_s": 1618.0}, {"text": "to focus on business actions in", "timestamp": "00:27:02,286", "timestamp_s": 1622.0}, {"text": "use case. The chart on the slide", "timestamp": "00:27:05,836", "timestamp_s": 1625.0}, {"text": "shows the dependence of the number of additional lines on the", "timestamp": "00:27:09,202", "timestamp_s": 1629.0}, {"text": "number of nested scenarios. The red line presents data", "timestamp": "00:27:12,956", "timestamp_s": 1632.0}, {"text": "without the solution. The green lines is for the solution.", "timestamp": "00:27:17,180", "timestamp_s": 1637.0}, {"text": "The cross point is 1.8 when road code", "timestamp": "00:27:21,030", "timestamp_s": 1641.0}, {"text": "loses in comparison to the solution", "timestamp": "00:27:25,152", "timestamp_s": 1645.0}, {"text": "regarding the amount of additional code in a use case.", "timestamp": "00:27:29,390", "timestamp_s": 1649.0}, {"text": "In addition, not only the count of code is", "timestamp": "00:27:33,890", "timestamp_s": 1653.0}, {"text": "growing when adding nesting use cases, the chance", "timestamp": "00:27:37,492", "timestamp_s": 1657.0}, {"text": "of making bugs and cognitive load on", "timestamp": "00:27:41,124", "timestamp_s": 1661.0}, {"text": "developers is increasing too. Nevertheless, I give", "timestamp": "00:27:45,112", "timestamp_s": 1665.0}, {"text": "you a tool and you decide whether to use it", "timestamp": "00:27:48,872", "timestamp_s": 1668.0}, {"text": "or not. The link to the library is in", "timestamp": "00:27:52,296", "timestamp_s": 1672.0}, {"text": "the last slide. Now I want to go back", "timestamp": "00:27:56,344", "timestamp_s": 1676.0}, {"text": "to the long transaction drawback. I mentioned that", "timestamp": "00:27:59,852", "timestamp_s": 1679.0}, {"text": "the unit of fork could solve it. The interface of", "timestamp": "00:28:03,292", "timestamp_s": 1683.0}, {"text": "the pattern for Golang on the slide. Let\u0027s describe", "timestamp": "00:28:06,428", "timestamp_s": 1686.0}, {"text": "each method. Register new", "timestamp": "00:28:10,678", "timestamp_s": 1690.0}, {"text": "marks a model as new, register dirty marks", "timestamp": "00:28:14,496", "timestamp_s": 1694.0}, {"text": "a model as dirty or updated. Register clean marks", "timestamp": "00:28:18,646", "timestamp_s": 1698.0}, {"text": "a model as clean of getting from database without changes", "timestamp": "00:28:23,146", "timestamp_s": 1703.0}, {"text": "and register delete marks model", "timestamp": "00:28:27,348", "timestamp_s": 1707.0}, {"text": "as deleted. Then comet saves", "timestamp": "00:28:30,900", "timestamp_s": 1710.0}, {"text": "data atomically in a database in one transaction", "timestamp": "00:28:35,822", "timestamp_s": 1715.0}, {"text": "and finally roll back reset state", "timestamp": "00:28:39,838", "timestamp_s": 1719.0}, {"text": "to initial or previous success commit", "timestamp": "00:28:44,168", "timestamp_s": 1724.0}, {"text": "okay, we know what each method does,", "timestamp": "00:28:47,586", "timestamp_s": 1727.0}, {"text": "but how and when can we use it?", "timestamp": "00:28:51,132", "timestamp_s": 1731.0}, {"text": "Let\u0027s see the definition to catch it.", "timestamp": "00:28:54,172", "timestamp_s": 1734.0}, {"text": "Martin Fowler defines a pattern as maintaining a list", "timestamp": "00:28:57,390", "timestamp_s": 1737.0}, {"text": "of objects affected by a business transaction and", "timestamp": "00:29:00,912", "timestamp_s": 1740.0}, {"text": "coordinating the writing out of changes and", "timestamp": "00:29:04,688", "timestamp_s": 1744.0}, {"text": "the resolution of concurrency problems.", "timestamp": "00:29:08,128", "timestamp_s": 1748.0}, {"text": "The first fun fact about the definition I mentioned concurrency", "timestamp": "00:29:11,490", "timestamp_s": 1751.0}, {"text": "problems which are situated with the database,", "timestamp": "00:29:15,386", "timestamp_s": 1755.0}, {"text": "but they are resolved by pessimistic or optimistic", "timestamp": "00:29:18,986", "timestamp_s": 1758.0}, {"text": "lock and it\u0027s not a part of the unit of work. The second", "timestamp": "00:29:22,762", "timestamp_s": 1762.0}, {"text": "one, in the original book pattern of enterprise", "timestamp": "00:29:26,840", "timestamp_s": 1766.0}, {"text": "application architecture, where the pattern was written,", "timestamp": "00:29:30,366", "timestamp_s": 1770.0}, {"text": "there is no rollback method.", "timestamp": "00:29:34,310", "timestamp_s": 1774.0}, {"text": "Let\u0027s understand what does pattern give us first,", "timestamp": "00:29:38,870", "timestamp_s": 1778.0}, {"text": "that gives batch changes in the database,", "timestamp": "00:29:42,204", "timestamp_s": 1782.0}, {"text": "which can be significantly faster than sending each change", "timestamp": "00:29:45,682", "timestamp_s": 1785.0}, {"text": "individually. We can optimize insert by", "timestamp": "00:29:49,264", "timestamp_s": 1789.0}, {"text": "insert into values with multiple rows and", "timestamp": "00:29:52,800", "timestamp_s": 1792.0}, {"text": "other commands by removing network overhead on", "timestamp": "00:29:56,784", "timestamp_s": 1796.0}, {"text": "each command sending. Also, we can only update", "timestamp": "00:30:00,592", "timestamp_s": 1800.0}, {"text": "the changed data even if we change the", "timestamp": "00:30:04,554", "timestamp_s": 1804.0}, {"text": "model several times.", "timestamp": "00:30:08,436", "timestamp_s": 1808.0}, {"text": "The second, a business transaction can be long and", "timestamp": "00:30:11,170", "timestamp_s": 1811.0}, {"text": "not depend on the database transaction.", "timestamp": "00:30:15,304", "timestamp_s": 1815.0}, {"text": "And the last one, our update is atomic.", "timestamp": "00:30:18,870", "timestamp_s": 1818.0}, {"text": "What are disadvantages? First, we can\u0027t use a", "timestamp": "00:30:23,350", "timestamp_s": 1823.0}, {"text": "pessimistic log. Sorry, we can, but we lose", "timestamp": "00:30:26,972", "timestamp_s": 1826.0}, {"text": "the ability of a long business transaction because the optimistic", "timestamp": "00:30:30,434", "timestamp_s": 1830.0}, {"text": "log uses database transactions. Second is", "timestamp": "00:30:34,002", "timestamp_s": 1834.0}, {"text": "complexity. At the first view,", "timestamp": "00:30:37,788", "timestamp_s": 1837.0}, {"text": "the pattern interface is simple, but the implementation is", "timestamp": "00:30:40,880", "timestamp_s": 1840.0}, {"text": "not let\u0027s present the UML class diagram", "timestamp": "00:30:45,136", "timestamp_s": 1845.0}, {"text": "of the pattern. The first block is our pattern.", "timestamp": "00:30:48,550", "timestamp_s": 1848.0}, {"text": "The next block is the identity map pattern which stores our", "timestamp": "00:30:52,050", "timestamp_s": 1852.0}, {"text": "models after they are registered in the sum", "timestamp": "00:30:56,212", "timestamp_s": 1856.0}, {"text": "state, new, clean, dirty or deleted.", "timestamp": "00:30:59,498", "timestamp_s": 1859.0}, {"text": "Further, we have classes to work with. Database transaction I", "timestamp": "00:31:02,986", "timestamp_s": 1862.0}, {"text": "prefer to replace it with an interface to unchain", "timestamp": "00:31:07,272", "timestamp_s": 1867.0}, {"text": "from the database. The interface help us to", "timestamp": "00:31:11,102", "timestamp_s": 1871.0}, {"text": "use the transaction management which we wrote.", "timestamp": "00:31:14,792", "timestamp_s": 1874.0}, {"text": "The next part of the pattern is mapper register which", "timestamp": "00:31:18,250", "timestamp_s": 1878.0}, {"text": "returns a suitable data mapper for a model. And data mapper", "timestamp": "00:31:22,076", "timestamp_s": 1882.0}, {"text": "is a pattern which maps data from models to database", "timestamp": "00:31:26,402", "timestamp_s": 1886.0}, {"text": "view and vice versa. Some implementations of data", "timestamp": "00:31:30,022", "timestamp_s": 1890.0}, {"text": "Maple in other languages use reflection to work", "timestamp": "00:31:33,712", "timestamp_s": 1893.0}, {"text": "with any model and they support configuration", "timestamp": "00:31:37,136", "timestamp_s": 1897.0}, {"text": "by YAML, XML annotations and", "timestamp": "00:31:40,934", "timestamp_s": 1900.0}, {"text": "ETCA. Additionally, if you want to implement the pattern,", "timestamp": "00:31:45,344", "timestamp_s": 1905.0}, {"text": "you should remember a problem with Avito increment", "timestamp": "00:31:49,658", "timestamp_s": 1909.0}, {"text": "identifiers. The application can get", "timestamp": "00:31:53,230", "timestamp_s": 1913.0}, {"text": "the identifiers only after the saving data in", "timestamp": "00:31:57,064", "timestamp_s": 1917.0}, {"text": "the database. You can use generic identifiers", "timestamp": "00:32:01,048", "timestamp_s": 1921.0}, {"text": "on the app site as a simple solution,", "timestamp": "00:32:04,686", "timestamp_s": 1924.0}, {"text": "we finish with depicting the UML", "timestamp": "00:32:08,650", "timestamp_s": 1928.0}, {"text": "cases diagram. Next, let\u0027s see the", "timestamp": "00:32:12,690", "timestamp_s": 1932.0}, {"text": "example. Order and product are our models", "timestamp": "00:32:16,572", "timestamp_s": 1936.0}, {"text": "and the pattern coordinates the saving of their changes.", "timestamp": "00:32:20,822", "timestamp_s": 1940.0}, {"text": "Order function is our business transaction.", "timestamp": "00:32:25,230", "timestamp_s": 1945.0}, {"text": "We check if the user exists in the external service.", "timestamp": "00:32:28,598", "timestamp_s": 1948.0}, {"text": "Then we create a new order and mark it as", "timestamp": "00:32:32,436", "timestamp_s": 1952.0}, {"text": "new. After that we get and marks product as clean.", "timestamp": "00:32:35,556", "timestamp_s": 1955.0}, {"text": "Then we write off the product from our warehouse", "timestamp": "00:32:39,620", "timestamp_s": 1959.0}, {"text": "and mark it as dirty or updated.", "timestamp": "00:32:43,806", "timestamp_s": 1963.0}, {"text": "And finally we commit changes to save it in the database.", "timestamp": "00:32:47,278", "timestamp_s": 1967.0}, {"text": "On the slide you see the sequence diagram. For our", "timestamp": "00:32:52,150", "timestamp_s": 1972.0}, {"text": "use case we get mark, change and save data.", "timestamp": "00:32:55,756", "timestamp_s": 1975.0}, {"text": "However, the most interesting part is hidden", "timestamp": "00:32:59,788", "timestamp_s": 1979.0}, {"text": "in the commit call because all magic happens there.", "timestamp": "00:33:02,962", "timestamp_s": 1982.0}, {"text": "When we call the commit we create a", "timestamp": "00:33:07,210", "timestamp_s": 1987.0}, {"text": "database transaction. Then we get the data mapper", "timestamp": "00:33:10,352", "timestamp_s": 1990.0}, {"text": "for a model. In our use case it", "timestamp": "00:33:14,422", "timestamp_s": 1994.0}, {"text": "is the order. After that the code execute", "timestamp": "00:33:17,632", "timestamp_s": 1997.0}, {"text": "batch changes in database.", "timestamp": "00:33:22,378", "timestamp_s": 2002.0}, {"text": "Finally we commit the transaction.", "timestamp": "00:33:25,866", "timestamp_s": 2005.0}, {"text": "I hope I have explained the unit of fork pattern and", "timestamp": "00:33:29,250", "timestamp_s": 2009.0}, {"text": "shown its complexity.", "timestamp": "00:33:33,572", "timestamp_s": 2013.0}, {"text": "Fortunately, we can simplify it to the interface.", "timestamp": "00:33:36,150", "timestamp_s": 2016.0}, {"text": "On the slide we remove identity map mapper, register and", "timestamp": "00:33:39,582", "timestamp_s": 2019.0}, {"text": "data mapper patterns. The implementation still", "timestamp": "00:33:44,136", "timestamp_s": 2024.0}, {"text": "has a long business transaction and atomic update,", "timestamp": "00:33:47,884", "timestamp_s": 2027.0}, {"text": "but this is bad updates because we work", "timestamp": "00:33:51,154", "timestamp_s": 2031.0}, {"text": "with a callback function and in. Additionally,", "timestamp": "00:33:54,956", "timestamp_s": 2034.0}, {"text": "the model will be updated multiple times instead", "timestamp": "00:33:58,534", "timestamp_s": 2038.0}, {"text": "of once. That means if we add three", "timestamp": "00:34:02,096", "timestamp_s": 2042.0}, {"text": "commas updating the same model, we send", "timestamp": "00:34:06,080", "timestamp_s": 2046.0}, {"text": "three queries in a database.", "timestamp": "00:34:09,616", "timestamp_s": 2049.0}, {"text": "However, the original implementation optimized that.", "timestamp": "00:34:12,442", "timestamp_s": 2052.0}, {"text": "Nevertheless, the implementations even fits in", "timestamp": "00:34:16,692", "timestamp_s": 2056.0}, {"text": "two slides. We use callback function as", "timestamp": "00:34:19,908", "timestamp_s": 2059.0}, {"text": "comments, register methods save comments in", "timestamp": "00:34:24,136", "timestamp_s": 2064.0}, {"text": "list. The comment is", "timestamp": "00:34:27,896", "timestamp_s": 2067.0}, {"text": "a part of the data mapper which we simplify", "timestamp": "00:34:31,880", "timestamp_s": 2071.0}, {"text": "when our business transaction is finished, we call", "timestamp": "00:34:35,694", "timestamp_s": 2075.0}, {"text": "all comments in the comment method.", "timestamp": "00:34:40,268", "timestamp_s": 2080.0}, {"text": "Also, we can replace comments on queries or", "timestamp": "00:34:44,490", "timestamp_s": 2084.0}, {"text": "operations of some databases, so we", "timestamp": "00:34:48,064", "timestamp_s": 2088.0}, {"text": "return batch updates. Then we add the", "timestamp": "00:34:52,224", "timestamp_s": 2092.0}, {"text": "interface DB runner to send queries to", "timestamp": "00:34:56,016", "timestamp_s": 2096.0}, {"text": "a database as batch data.", "timestamp": "00:35:00,064", "timestamp_s": 2100.0}, {"text": "However, the model will still be updated multiple times instead of", "timestamp": "00:35:04,290", "timestamp_s": 2104.0}, {"text": "just once and we have a problem with after increment", "timestamp": "00:35:08,068", "timestamp_s": 2108.0}, {"text": "entities. The next step is a complete", "timestamp": "00:35:12,154", "timestamp_s": 2112.0}, {"text": "unit of work pattern with blackjack, an identity", "timestamp": "00:35:15,864", "timestamp_s": 2115.0}, {"text": "map, a fully implemented data mapper and a mapper", "timestamp": "00:35:19,038", "timestamp_s": 2119.0}, {"text": "registry. Unfortunately, there is", "timestamp": "00:35:23,022", "timestamp_s": 2123.0}, {"text": "no ready library where we need to add only", "timestamp": "00:35:26,172", "timestamp_s": 2126.0}, {"text": "the data mapper for our mobile. However,", "timestamp": "00:35:29,996", "timestamp_s": 2129.0}, {"text": "the library with the name works tries to solve that problem", "timestamp": "00:35:33,770", "timestamp_s": 2133.0}, {"text": "for SQL databases. Also you can help the go", "timestamp": "00:35:37,770", "timestamp_s": 2137.0}, {"text": "community and implement the universal unit", "timestamp": "00:35:41,852", "timestamp_s": 2141.0}, {"text": "of work pattern. In conclusion, I want to remember", "timestamp": "00:35:45,318", "timestamp_s": 2145.0}, {"text": "what we have passed. The first is a repository. It is", "timestamp": "00:35:49,328", "timestamp_s": 2149.0}, {"text": "used if your application grows and data in the application standing", "timestamp": "00:35:53,172", "timestamp_s": 2153.0}, {"text": "differs from the database view. Then we use", "timestamp": "00:35:57,482", "timestamp_s": 2157.0}, {"text": "the transaction manager to have nested transaction use cases", "timestamp": "00:36:01,396", "timestamp_s": 2161.0}, {"text": "and hides knowledge about transaction in them.", "timestamp": "00:36:05,258", "timestamp_s": 2165.0}, {"text": "And finally, if you want a long business transaction,", "timestamp": "00:36:09,250", "timestamp_s": 2169.0}, {"text": "the unit of war is your solution.", "timestamp": "00:36:13,770", "timestamp_s": 2173.0}, {"text": "Thank you for your attention. The source code of", "timestamp": "00:36:17,770", "timestamp_s": 2177.0}, {"text": "examples and libraries access by second", "timestamp": "00:36:20,972", "timestamp_s": 2180.0}, {"text": "link and please press the like button", "timestamp": "00:36:24,844", "timestamp_s": 2184.0}, {"text": "if the presentation was helpful for you or", "timestamp": "00:36:28,284", "timestamp_s": 2188.0}, {"text": "write comments if I missed something and", "timestamp": "00:36:31,420", "timestamp_s": 2191.0}, {"text": "simple writing of business logic. Good luck.", "timestamp": "00:36:35,276", "timestamp_s": 2195.0}];
              

              var tag = document.createElement('script');

              tag.src = "https://www.youtube.com/iframe_api";
              var firstScriptTag = document.getElementsByTagName('script')[0];
              firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

              // 3. This function creates an <iframe> (and YouTube player)
              //    after the API code downloads.
              var player;
              function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                  height: '100%',
                  width: '100%',
                  videoId: 'aRsea6FFAyA',
                  playerVars: {
                    'playsinline': 1
                  },
                  events: {
                    'onReady': onPlayerReady,
                    // 'onStateChange': onPlayerStateChange
                  }
                });
              }
              function onPlayerReady(event) {
                console.log("Player ready");
                var sec = Number(location.href.split("#")[1]);
                if (sec){
                  player.seekTo(sec, true);
                }
                player.playVideo();
                highlightParagraph();
              }
              // find the number of the paragraph
              function findParagraph(sec){
                for (var i = 1; i < transcript.length; i++) {
                  if (transcript[i].timestamp_s > sec){
                    return i - 1;
                  }
                }
                return transcript.length - 1;
              }
              // move the video to the desired second
              function seek(sec){
                if(player){
                  player.playVideo();
                  player.seekTo(sec, true);
                }
                location.href = location.href.split("#")[0] + "#" + sec;
                highlightParagraph(sec);
              }
              // highlight the right paragraph
              var prevParagraph;
              function highlightParagraph(sec) {
                var currentTime = sec;
                if (!currentTime && player) {
                  currentTime = player.getCurrentTime();
                }
                if (!currentTime){
                  console.log("No current time")
                  return;
                }
                var currentParagraph = findParagraph(currentTime);
                if (currentParagraph !== prevParagraph){
                  prevParagraph = currentParagraph;
                  Array.from(document.getElementsByClassName("transcript-chunks")).forEach((e) => {
                    e.classList.remove('text-selected');
                  });
                  var body = document.getElementById("chunk-"+currentParagraph);
                  body.classList.add('text-selected');
                }
              }
              time_update_interval = setInterval(highlightParagraph, 1000);
            </script>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>
    

    <!-- CONTENT -->
    <section class="pt-2">
      <div class="container">
        <div class="row justify-content-center">

          <div class="col-12 mb-5">
            <h1>
              Transaction Management and Repository Pattern
            </h1>
            
            <h3 class="bg-white">
              Video size:
              <a href="javascript:void(0);" onclick="resizeVideo(25)"><i class="fe fe-zoom-out me-2"></i></a>
              <a href="javascript:void(0);" onclick="resizeVideo(50)"><i class="fe fe-zoom-in me-2"></i></a>
            </h3>
            
          </div>

          <div class="col-12 mb-5">
            <h3>
              Abstract
            </h3>
<!-- Text -->
<p>Most apps work with DB. Repository pattern hides complexity working with DB, but most implementations aren&rsquo;t GoLang and show simple examples. I want to demonstrate a complex sample with transactions, nested use cases with multi-table entities, and share used approaches with pros and cons.</p>
<!-- End Text -->
          </div>

          
          

          <div class="col-12 mb-5">
            <h3>
              Summary
            </h3>
            <ul>
              
              <li>
                Goa is a young programming language and there are no ready libraries to build an enterprise application. The repository has a simple interface and hides saving, getting and mapping data from the database that help us to concentrate on business domain instead of database.

              </li>
              
              <li>
                We should explicitly pass the transaction to the repository and publish method. Passing the transaction in the repository complexity the code with additional knowledge. Third is supporting nested use cases. With great business logics comes great legacy.

              </li>
              
              <li>
                That gives us the ability to use context to store a transaction inside the context. However, we have a problem with closure, which is difficult to test. We need to rewrite use cases to add a new closure or replace the current one. Let's try to use generic decorator.

              </li>
              
              <li>
                The solution works only on the Go 1.13 version which was released in the 2019. The drawbacks include passing context everywhere and not being able to do long business transactions. The first benchmark shows that the difference with and without the solution is about 3.4%.

              </li>
              
              <li>
                Martin Fowler defines a pattern as maintaining a list of objects affected by a business transaction. The unit of fork pattern gives batch changes in the database, which can be significantly faster than sending each change individually. The drawback is complexity. Fortunately, we can simplify it to the interface.
              </li>
              
            </ul>
          </div>

          <div class="col-12 mb-5">
            <h3>
              Transcript
            </h3>
            <span class="text-muted">
              This transcript was autogenerated. To make changes, <a href="https://github.com/conf42/src/edit/main/./assemblyai/aRsea6FFAyA.srt" target="_blank">submit a PR</a>.
            </span>
            <div>
            
            <span id="chunk-0" class="transcript-chunks" onclick="console.log('00:00:19,850'); seek(19.0)">
              Hello gophers and all those who are interested in Goa.
            </span>
            
            <span id="chunk-1" class="transcript-chunks" onclick="console.log('00:00:23,434'); seek(23.0)">
              Today I am going to talk about how to concentrate on business
            </span>
            
            <span id="chunk-2" class="transcript-chunks" onclick="console.log('00:00:27,036'); seek(27.0)">
              logic by hiding transaction management and using a repository
            </span>
            
            <span id="chunk-3" class="transcript-chunks" onclick="console.log('00:00:31,234'); seek(31.0)">
              and unit of work pattern. Small piece of information.
            </span>
            
            <span id="chunk-4" class="transcript-chunks" onclick="console.log('00:00:34,684'); seek(34.0)">
              You can find the presentation using QR code at the bottom
            </span>
            
            <span id="chunk-5" class="transcript-chunks" onclick="console.log('00:00:38,320'); seek(38.0)">
              left of the slide. All QR code in
            </span>
            
            <span id="chunk-6" class="transcript-chunks" onclick="console.log('00:00:41,728'); seek(41.0)">
              the slides are links. Let's continue.
            </span>
            
            <span id="chunk-7" class="transcript-chunks" onclick="console.log('00:00:45,072'); seek(45.0)">
              I work at Avita, one of the most popular classifieds in the world.
            </span>
            
            <span id="chunk-8" class="transcript-chunks" onclick="console.log('00:00:49,440'); seek(49.0)">
              Our main language is Golang. We use it for more than
            </span>
            
            <span id="chunk-9" class="transcript-chunks" onclick="console.log('00:00:52,800'); seek(52.0)">
              a thousand microservices. We use Golang almost
            </span>
            
            <span id="chunk-10" class="transcript-chunks" onclick="console.log('00:00:56,788'); seek(56.0)">
              everywhere in cloud and network service,
            </span>
            
            <span id="chunk-11" class="transcript-chunks" onclick="console.log('00:01:00,370'); seek(60.0)">
              command line interface DevOps and web development
            </span>
            
            <span id="chunk-12" class="transcript-chunks" onclick="console.log('00:01:03,886'); seek(63.0)">
              and we can handle about 300 million visits
            </span>
            
            <span id="chunk-13" class="transcript-chunks" onclick="console.log('00:01:07,646'); seek(67.0)">
              per month. That's cool, but we write the application
            </span>
            
            <span id="chunk-14" class="transcript-chunks" onclick="console.log('00:01:10,904'); seek(70.0)">
              with business logic, not a benchmark.
            </span>
            
            <span id="chunk-15" class="transcript-chunks" onclick="console.log('00:01:14,470'); seek(74.0)">
              My team and I work on smartphone reselling.
            </span>
            
            <span id="chunk-16" class="transcript-chunks" onclick="console.log('00:01:18,482'); seek(78.0)">
              That complex domain includes more than 20 states where
            </span>
            
            <span id="chunk-17" class="transcript-chunks" onclick="console.log('00:01:22,252'); seek(82.0)">
              phone cases from a seller to a buyer through verification,
            </span>
            
            <span id="chunk-18" class="transcript-chunks" onclick="console.log('00:01:25,810'); seek(85.0)">
              repair, adding of warranty and delivery. Nevertheless,
            </span>
            
            <span id="chunk-19" class="transcript-chunks" onclick="console.log('00:01:29,830'); seek(89.0)">
              I will use another domain as an example on the
            </span>
            
            <span id="chunk-20" class="transcript-chunks" onclick="console.log('00:01:32,928'); seek(92.0)">
              slide, the all known domain of the shop.
            </span>
            
            <span id="chunk-21" class="transcript-chunks" onclick="console.log('00:01:36,910'); seek(96.0)">
              Unfortunately, we cannot directly use approach from other languages
            </span>
            
            <span id="chunk-22" class="transcript-chunks" onclick="console.log('00:01:40,950'); seek(100.0)">
              in Go because of the error handling. The small
            </span>
            
            <span id="chunk-23" class="transcript-chunks" onclick="console.log('00:01:44,592'); seek(104.0)">
              disclaimer here is the most of the year handling in the slide
            </span>
            
            <span id="chunk-24" class="transcript-chunks" onclick="console.log('00:01:48,442'); seek(108.0)">
              is hidden instead of full error processing. I will
            </span>
            
            <span id="chunk-25" class="transcript-chunks" onclick="console.log('00:01:52,212'); seek(112.0)">
              hide if with checking from the slide then
            </span>
            
            <span id="chunk-26" class="transcript-chunks" onclick="console.log('00:01:56,792'); seek(116.0)">
              Go is not conventionally object oriented language.
            </span>
            
            <span id="chunk-27" class="transcript-chunks" onclick="console.log('00:02:00,478'); seek(120.0)">
              Go has unique insign into interfaces,
            </span>
            
            <span id="chunk-28" class="transcript-chunks" onclick="console.log('00:02:04,110'); seek(124.0)">
              no inheritance, no protected access modification
            </span>
            
            <span id="chunk-29" class="transcript-chunks" onclick="console.log('00:02:07,358'); seek(127.0)">
              and others. Also Go is young
            </span>
            
            <span id="chunk-30" class="transcript-chunks" onclick="console.log('00:02:10,988'); seek(130.0)">
              programming language and there are no ready libraries
            </span>
            
            <span id="chunk-31" class="transcript-chunks" onclick="console.log('00:02:15,202'); seek(135.0)">
              to build an enterprise application. Despite these reasons
            </span>
            
            <span id="chunk-32" class="transcript-chunks" onclick="console.log('00:02:19,238'); seek(139.0)">
              and the difference between Go and other languages, we can use some
            </span>
            
            <span id="chunk-33" class="transcript-chunks" onclick="console.log('00:02:22,992'); seek(142.0)">
              concepts from them. Let's see the repository pattern
            </span>
            
            <span id="chunk-34" class="transcript-chunks" onclick="console.log('00:02:26,262'); seek(146.0)">
              in Golem. The repository has a simple interface and
            </span>
            
            <span id="chunk-35" class="transcript-chunks" onclick="console.log('00:02:30,064'); seek(150.0)">
              hides saving, getting and mapping data from
            </span>
            
            <span id="chunk-36" class="transcript-chunks" onclick="console.log('00:02:33,492'); seek(153.0)">
              the database that help us to concentrate on business
            </span>
            
            <span id="chunk-37" class="transcript-chunks" onclick="console.log('00:02:37,972'); seek(157.0)">
              domain instead of database. We don't add validation
            </span>
            
            <span id="chunk-38" class="transcript-chunks" onclick="console.log('00:02:42,026'); seek(162.0)">
              of usernames, product count in an order
            </span>
            
            <span id="chunk-39" class="transcript-chunks" onclick="console.log('00:02:46,200'); seek(166.0)">
              or other business rules because the implementation of
            </span>
            
            <span id="chunk-40" class="transcript-chunks" onclick="console.log('00:02:49,752'); seek(169.0)">
              the concrete repository is not a part of the domain.
            </span>
            
            <span id="chunk-41" class="transcript-chunks" onclick="console.log('00:02:55,130'); seek(175.0)">
              The repository should work with only one model. If we
            </span>
            
            <span id="chunk-42" class="transcript-chunks" onclick="console.log('00:02:58,908'); seek(178.0)">
              add several models to the repository, we create a
            </span>
            
            <span id="chunk-43" class="transcript-chunks" onclick="console.log('00:03:02,716'); seek(182.0)">
              super repository which is difficult to modify,
            </span>
            
            <span id="chunk-44" class="transcript-chunks" onclick="console.log('00:03:07,074'); seek(187.0)">
              extend and testing.
            </span>
            
            <span id="chunk-45" class="transcript-chunks" onclick="console.log('00:03:10,030'); seek(190.0)">
              The sequence diagram for any repository looks like
            </span>
            
            <span id="chunk-46" class="transcript-chunks" onclick="console.log('00:03:13,712'); seek(193.0)">
              that. When we call the repositories method,
            </span>
            
            <span id="chunk-47" class="transcript-chunks" onclick="console.log('00:03:17,830'); seek(197.0)">
              we convert data from domain
            </span>
            
            <span id="chunk-48" class="transcript-chunks" onclick="console.log('00:03:21,178'); seek(201.0)">
              view to database or vice versa. Then we receive
            </span>
            
            <span id="chunk-49" class="transcript-chunks" onclick="console.log('00:03:25,146'); seek(205.0)">
              or save data in the database.
            </span>
            
            <span id="chunk-50" class="transcript-chunks" onclick="console.log('00:03:28,138'); seek(208.0)">
              However, the repository can use data
            </span>
            
            <span id="chunk-51" class="transcript-chunks" onclick="console.log('00:03:31,924'); seek(211.0)">
              mapper pattern if we have a complex model
            </span>
            
            <span id="chunk-52" class="transcript-chunks" onclick="console.log('00:03:35,240'); seek(215.0)">
              and the repository will work with a data mapper
            </span>
            
            <span id="chunk-53" class="transcript-chunks" onclick="console.log('00:03:39,230'); seek(219.0)">
              instead of direct calling the database.
            </span>
            
            <span id="chunk-54" class="transcript-chunks" onclick="console.log('00:03:43,190'); seek(223.0)">
              The description is simple, but what is inside?
            </span>
            
            <span id="chunk-55" class="transcript-chunks" onclick="console.log('00:03:47,450'); seek(227.0)">
              We little modify the repository interface
            </span>
            
            <span id="chunk-56" class="transcript-chunks" onclick="console.log('00:03:51,602'); seek(231.0)">
              to our model and that's still simple. Then suppose we
            </span>
            
            <span id="chunk-57" class="transcript-chunks" onclick="console.log('00:03:55,532'); seek(235.0)">
              have a user with username password and data data and
            </span>
            
            <span id="chunk-58" class="transcript-chunks" onclick="console.log('00:04:00,144'); seek(240.0)">
              each user have profile information about avatar first
            </span>
            
            <span id="chunk-59" class="transcript-chunks" onclick="console.log('00:04:03,856'); seek(243.0)">
              and last names, et cetera and Zed's
            </span>
            
            <span id="chunk-60" class="transcript-chunks" onclick="console.log('00:04:07,398'); seek(247.0)">
              knowledge belongs to a user model. However,
            </span>
            
            <span id="chunk-61" class="transcript-chunks" onclick="console.log('00:04:10,564'); seek(250.0)">
              we store this data in database as two different tables.
            </span>
            
            <span id="chunk-62" class="transcript-chunks" onclick="console.log('00:04:15,210'); seek(255.0)">
              The repository includes machinery to hide the difference and
            </span>
            
            <span id="chunk-63" class="transcript-chunks" onclick="console.log('00:04:19,012'); seek(259.0)">
              help us think more about the domain, not the database.
            </span>
            
            <span id="chunk-64" class="transcript-chunks" onclick="console.log('00:04:23,990'); seek(263.0)">
              On the left side of the slide you can see domain
            </span>
            
            <span id="chunk-65" class="transcript-chunks" onclick="console.log('00:04:28,142'); seek(268.0)">
              view of the model and on the right side you can see
            </span>
            
            <span id="chunk-66" class="transcript-chunks" onclick="console.log('00:04:32,088'); seek(272.0)">
              database view of the model and you
            </span>
            
            <span id="chunk-67" class="transcript-chunks" onclick="console.log('00:04:35,852'); seek(275.0)">
              see that's different and repository help us
            </span>
            
            <span id="chunk-68" class="transcript-chunks" onclick="console.log('00:04:39,340'); seek(279.0)">
              to hide it.
            </span>
            
            <span id="chunk-69" class="transcript-chunks" onclick="console.log('00:04:42,810'); seek(282.0)">
              Let's see an example. This is getting model I use
            </span>
            
            <span id="chunk-70" class="transcript-chunks" onclick="console.log('00:04:46,476'); seek(286.0)">
              SQlix to review the code of data mapping from
            </span>
            
            <span id="chunk-71" class="transcript-chunks" onclick="console.log('00:04:50,480'); seek(290.0)">
              a database. When the app receives data after
            </span>
            
            <span id="chunk-72" class="transcript-chunks" onclick="console.log('00:04:54,160'); seek(294.0)">
              receiving, we have a database view in the user
            </span>
            
            <span id="chunk-73" class="transcript-chunks" onclick="console.log('00:04:58,182'); seek(298.0)">
              row and profile row. Then we convert data in
            </span>
            
            <span id="chunk-74" class="transcript-chunks" onclick="console.log('00:05:02,276'); seek(302.0)">
              a domain view as a single model user with a nested
            </span>
            
            <span id="chunk-75" class="transcript-chunks" onclick="console.log('00:05:06,602'); seek(306.0)">
              profile model. In the save method, we convert
            </span>
            
            <span id="chunk-76" class="transcript-chunks" onclick="console.log('00:05:10,698'); seek(310.0)">
              the data view in the database and then save data.
            </span>
            
            <span id="chunk-77" class="transcript-chunks" onclick="console.log('00:05:14,164'); seek(314.0)">
              I use an insert and update in one query
            </span>
            
            <span id="chunk-78" class="transcript-chunks" onclick="console.log('00:05:17,646'); seek(317.0)">
              to place it in one slide. Then we use two tables
            </span>
            
            <span id="chunk-79" class="transcript-chunks" onclick="console.log('00:05:21,726'); seek(321.0)">
              and we need to add transactions to prevent corrupting
            </span>
            
            <span id="chunk-80" class="transcript-chunks" onclick="console.log('00:05:25,762'); seek(325.0)">
              data if a problem happens in gap between two
            </span>
            
            <span id="chunk-81" class="transcript-chunks" onclick="console.log('00:05:29,276'); seek(329.0)">
              updates. Comments leads Disclaimer I
            </span>
            
            <span id="chunk-82" class="transcript-chunks" onclick="console.log('00:05:33,196'); seek(333.0)">
              simplify models to a few fields in the
            </span>
            
            <span id="chunk-83" class="transcript-chunks" onclick="console.log('00:05:36,508'); seek(336.0)">
              next slides to feed code on a slide now
            </span>
            
            <span id="chunk-84" class="transcript-chunks" onclick="console.log('00:05:40,416'); seek(340.0)">
              we have a user repository. Next our business tell us
            </span>
            
            <span id="chunk-85" class="transcript-chunks" onclick="console.log('00:05:44,096'); seek(344.0)">
              to register a user. We create the message
            </span>
            
            <span id="chunk-86" class="transcript-chunks" onclick="console.log('00:05:47,952'); seek(347.0)">
              register, add validation method
            </span>
            
            <span id="chunk-87" class="transcript-chunks" onclick="console.log('00:05:51,562'); seek(351.0)">
              and save a model with the registry.
            </span>
            
            <span id="chunk-88" class="transcript-chunks" onclick="console.log('00:05:56,850'); seek(356.0)">
              Then the product tell us that we must notify the
            </span>
            
            <span id="chunk-89" class="transcript-chunks" onclick="console.log('00:06:00,708'); seek(360.0)">
              new user about registration. For that purpose.
            </span>
            
            <span id="chunk-90" class="transcript-chunks" onclick="console.log('00:06:04,590'); seek(364.0)">
              We publish a message in queue about that.
            </span>
            
            <span id="chunk-91" class="transcript-chunks" onclick="console.log('00:06:08,390'); seek(368.0)">
              However, we can catch an issue when
            </span>
            
            <span id="chunk-92" class="transcript-chunks" onclick="console.log('00:06:11,608'); seek(371.0)">
              the queue goes down. We save data in the database and
            </span>
            
            <span id="chunk-93" class="transcript-chunks" onclick="console.log('00:06:15,900'); seek(375.0)">
              load the message. This situation is unacceptable for us.
            </span>
            
            <span id="chunk-94" class="transcript-chunks" onclick="console.log('00:06:20,890'); seek(380.0)">
              Let's cover saving data and publishing with a
            </span>
            
            <span id="chunk-95" class="transcript-chunks" onclick="console.log('00:06:24,572'); seek(384.0)">
              transaction to prevent it. These are just two lines.
            </span>
            
            <span id="chunk-96" class="transcript-chunks" onclick="console.log('00:06:28,502'); seek(388.0)">
              The first one is to begin the
            </span>
            
            <span id="chunk-97" class="transcript-chunks" onclick="console.log('00:06:31,712'); seek(391.0)">
              transaction and other one to commit. But we
            </span>
            
            <span id="chunk-98" class="transcript-chunks" onclick="console.log('00:06:35,168'); seek(395.0)">
              should explicitly pass the transaction to the
            </span>
            
            <span id="chunk-99" class="transcript-chunks" onclick="console.log('00:06:38,880'); seek(398.0)">
              repository and publish method.
            </span>
            
            <span id="chunk-100" class="transcript-chunks" onclick="console.log('00:06:43,010'); seek(403.0)">
              Passing the transaction in the repository complexity the
            </span>
            
            <span id="chunk-101" class="transcript-chunks" onclick="console.log('00:06:46,308'); seek(406.0)">
              code with additional knowledge. They say knowledge is power.
            </span>
            
            <span id="chunk-102" class="transcript-chunks" onclick="console.log('00:06:49,860'); seek(409.0)">
              However in this case additional knowledge is not about
            </span>
            
            <span id="chunk-103" class="transcript-chunks" onclick="console.log('00:06:53,396'); seek(413.0)">
              power, it's just complication for complication sake.
            </span>
            
            <span id="chunk-104" class="transcript-chunks" onclick="console.log('00:06:58,310'); seek(418.0)">
              And we change our repository interface by adding knowledge
            </span>
            
            <span id="chunk-105" class="transcript-chunks" onclick="console.log('00:07:02,206'); seek(422.0)">
              about the database transaction. That makes our repository nonel.
            </span>
            
            <span id="chunk-106" class="transcript-chunks" onclick="console.log('00:07:06,942'); seek(426.0)">
              But we get atomic registration. It's not a big
            </span>
            
            <span id="chunk-107" class="transcript-chunks" onclick="console.log('00:07:10,412'); seek(430.0)">
              deal. We now have a registration but the app
            </span>
            
            <span id="chunk-108" class="transcript-chunks" onclick="console.log('00:07:14,236'); seek(434.0)">
              can just create a user. Businesses want to sell
            </span>
            
            <span id="chunk-109" class="transcript-chunks" onclick="console.log('00:07:17,980'); seek(437.0)">
              goods and we already matter. And easy making new
            </span>
            
            <span id="chunk-110" class="transcript-chunks" onclick="console.log('00:07:22,204'); seek(442.0)">
              repository with getting and saving methods.
            </span>
            
            <span id="chunk-111" class="transcript-chunks" onclick="console.log('00:07:25,870'); seek(445.0)">
              Then we create a new use case with validation,
            </span>
            
            <span id="chunk-112" class="transcript-chunks" onclick="console.log('00:07:29,078'); seek(449.0)">
              saving and message publication in a
            </span>
            
            <span id="chunk-113" class="transcript-chunks" onclick="console.log('00:07:32,628'); seek(452.0)">
              transaction. And now we see our elegant solution
            </span>
            
            <span id="chunk-114" class="transcript-chunks" onclick="console.log('00:07:36,122'); seek(456.0)">
              with transaction registration and buying while
            </span>
            
            <span id="chunk-115" class="transcript-chunks" onclick="console.log('00:07:40,116'); seek(460.0)">
              the developers are daydreaming, being perfectly
            </span>
            
            <span id="chunk-116" class="transcript-chunks" onclick="console.log('00:07:44,366'); seek(464.0)">
              contempt with the result of their work, business comes
            </span>
            
            <span id="chunk-117" class="transcript-chunks" onclick="console.log('00:07:48,136'); seek(468.0)">
              to them and demands a new scenario to increase the conversion
            </span>
            
            <span id="chunk-118" class="transcript-chunks" onclick="console.log('00:07:51,902'); seek(471.0)">
              of new users into our customers. Throw purchase
            </span>
            
            <span id="chunk-119" class="transcript-chunks" onclick="console.log('00:07:56,530'); seek(476.0)">
              without completed registration. That is technique when
            </span>
            
            <span id="chunk-120" class="transcript-chunks" onclick="console.log('00:08:00,380'); seek(480.0)">
              users can buy things on the site without authorization
            </span>
            
            <span id="chunk-121" class="transcript-chunks" onclick="console.log('00:08:05,290'); seek(485.0)">
              and by just typing email or phone number only.
            </span>
            
            <span id="chunk-122" class="transcript-chunks" onclick="console.log('00:08:10,650'); seek(490.0)">
              Let's see on the hides. An attentive listener may have
            </span>
            
            <span id="chunk-123" class="transcript-chunks" onclick="console.log('00:08:14,768'); seek(494.0)">
              already noticed the issue in the code.
            </span>
            
            <span id="chunk-124" class="transcript-chunks" onclick="console.log('00:08:18,030'); seek(498.0)">
              The solution is the same as for the two previous scenarios.
            </span>
            
            <span id="chunk-125" class="transcript-chunks" onclick="console.log('00:08:22,730'); seek(502.0)">
              We add control, transaction control and passing the
            </span>
            
            <span id="chunk-126" class="transcript-chunks" onclick="console.log('00:08:26,532'); seek(506.0)">
              transaction in the use cases in. Additionally,
            </span>
            
            <span id="chunk-127" class="transcript-chunks" onclick="console.log('00:08:29,850'); seek(509.0)">
              we complicate transaction control inside the use cases.
            </span>
            
            <span id="chunk-128" class="transcript-chunks" onclick="console.log('00:08:33,934'); seek(513.0)">
              The two lines are changed to if else to decide
            </span>
            
            <span id="chunk-129" class="transcript-chunks" onclick="console.log('00:08:37,678'); seek(517.0)">
              whether the flow is on the top level or it
            </span>
            
            <span id="chunk-130" class="transcript-chunks" onclick="console.log('00:08:41,592'); seek(521.0)">
              was called something else and it's not good.
            </span>
            
            <span id="chunk-131" class="transcript-chunks" onclick="console.log('00:08:45,930'); seek(525.0)">
              But as we know, with great business logics comes
            </span>
            
            <span id="chunk-132" class="transcript-chunks" onclick="console.log('00:08:50,636'); seek(530.0)">
              great legacy. Let me briefly
            </span>
            
            <span id="chunk-133" class="transcript-chunks" onclick="console.log('00:08:54,370'); seek(534.0)">
              recap what we have here. First, we have
            </span>
            
            <span id="chunk-134" class="transcript-chunks" onclick="console.log('00:08:58,176'); seek(538.0)">
              nested transaction use cases and that's cool.
            </span>
            
            <span id="chunk-135" class="transcript-chunks" onclick="console.log('00:09:01,952'); seek(541.0)">
              However, the transaction spread everywhere.
            </span>
            
            <span id="chunk-136" class="transcript-chunks" onclick="console.log('00:09:05,558'); seek(545.0)">
              That forces us to duplicate the routine code to
            </span>
            
            <span id="chunk-137" class="transcript-chunks" onclick="console.log('00:09:09,152'); seek(549.0)">
              control them. Duplication adds an increased
            </span>
            
            <span id="chunk-138" class="transcript-chunks" onclick="console.log('00:09:13,330'); seek(553.0)">
              chance of making mistakes. Also, if we want
            </span>
            
            <span id="chunk-139" class="transcript-chunks" onclick="console.log('00:09:17,268'); seek(557.0)">
              to change the database, we must change the app in many places.
            </span>
            
            <span id="chunk-140" class="transcript-chunks" onclick="console.log('00:09:21,834'); seek(561.0)">
              Now I won't rephrase our issues to our wishes.
            </span>
            
            <span id="chunk-141" class="transcript-chunks" onclick="console.log('00:09:25,566'); seek(565.0)">
              The first one is an EDL repository for
            </span>
            
            <span id="chunk-142" class="transcript-chunks" onclick="console.log('00:09:29,816'); seek(569.0)">
              simple work with the database. Second,
            </span>
            
            <span id="chunk-143" class="transcript-chunks" onclick="console.log('00:09:33,032'); seek(573.0)">
              the use cases are transactional and nested.
            </span>
            
            <span id="chunk-144" class="transcript-chunks" onclick="console.log('00:09:36,738'); seek(576.0)">
              I want to save different models in the single scenario without
            </span>
            
            <span id="chunk-145" class="transcript-chunks" onclick="console.log('00:09:40,396'); seek(580.0)">
              thinking about how to open close the transaction and
            </span>
            
            <span id="chunk-146" class="transcript-chunks" onclick="console.log('00:09:44,508'); seek(584.0)">
              rollback it on error. The third is
            </span>
            
            <span id="chunk-147" class="transcript-chunks" onclick="console.log('00:09:47,872'); seek(587.0)">
              supporting nested use cases.
            </span>
            
            <span id="chunk-148" class="transcript-chunks" onclick="console.log('00:09:51,230'); seek(591.0)">
              Now I won't rephrase our issues in our wishes.
            </span>
            
            <span id="chunk-149" class="transcript-chunks" onclick="console.log('00:09:54,774'); seek(594.0)">
              The first one is an EDEL repository for simple
            </span>
            
            <span id="chunk-150" class="transcript-chunks" onclick="console.log('00:09:58,384'); seek(598.0)">
              work with the database. Second, the use cases arent
            </span>
            
            <span id="chunk-151" class="transcript-chunks" onclick="console.log('00:10:02,356'); seek(602.0)">
              transactional and nested. I want to save different models
            </span>
            
            <span id="chunk-152" class="transcript-chunks" onclick="console.log('00:10:06,314'); seek(606.0)">
              in a single scenario without thinking about how to
            </span>
            
            <span id="chunk-153" class="transcript-chunks" onclick="console.log('00:10:09,412'); seek(609.0)">
              open close the transaction and roll back it on error.
            </span>
            
            <span id="chunk-154" class="transcript-chunks" onclick="console.log('00:10:13,750'); seek(613.0)">
              Also, I want to hide transaction control and
            </span>
            
            <span id="chunk-155" class="transcript-chunks" onclick="console.log('00:10:17,576'); seek(617.0)">
              finally I want to replace the database easily.
            </span>
            
            <span id="chunk-156" class="transcript-chunks" onclick="console.log('00:10:21,510'); seek(621.0)">
              We already have some wishes done as nested transactional
            </span>
            
            <span id="chunk-157" class="transcript-chunks" onclick="console.log('00:10:25,150'); seek(625.0)">
              use cases, but we need to get the others.
            </span>
            
            <span id="chunk-158" class="transcript-chunks" onclick="console.log('00:10:28,764'); seek(628.0)">
              Let's try to hide transaction control.
            </span>
            
            <span id="chunk-159" class="transcript-chunks" onclick="console.log('00:10:31,850'); seek(631.0)">
              The simple solution is using closure, but where
            </span>
            
            <span id="chunk-160" class="transcript-chunks" onclick="console.log('00:10:35,436'); seek(635.0)">
              should we place it? We can add closure in the repository.
            </span>
            
            <span id="chunk-161" class="transcript-chunks" onclick="console.log('00:10:39,670'); seek(639.0)">
              We call our scenario in the transaction, get the user
            </span>
            
            <span id="chunk-162" class="transcript-chunks" onclick="console.log('00:10:43,686'); seek(643.0)">
              and the order as a result and
            </span>
            
            <span id="chunk-163" class="transcript-chunks" onclick="console.log('00:10:47,152'); seek(647.0)">
              then save them. However, I hoped that
            </span>
            
            <span id="chunk-164" class="transcript-chunks" onclick="console.log('00:10:50,836'); seek(650.0)">
              you will be skeptical about this solution.
            </span>
            
            <span id="chunk-165" class="transcript-chunks" onclick="console.log('00:10:54,290'); seek(654.0)">
              First, we still should pass transactions in the repository,
            </span>
            
            <span id="chunk-166" class="transcript-chunks" onclick="console.log('00:10:57,978'); seek(657.0)">
              in this case in the order repository.
            </span>
            
            <span id="chunk-167" class="transcript-chunks" onclick="console.log('00:11:01,002'); seek(661.0)">
              Another problem is that for each new scenario
            </span>
            
            <span id="chunk-168" class="transcript-chunks" onclick="console.log('00:11:04,526'); seek(664.0)">
              we need to code a new closure with new range of models.
            </span>
            
            <span id="chunk-169" class="transcript-chunks" onclick="console.log('00:11:08,702'); seek(668.0)">
              And the last problem is that over time our
            </span>
            
            <span id="chunk-170" class="transcript-chunks" onclick="console.log('00:11:11,896'); seek(671.0)">
              scenario will became more complex and the user repository
            </span>
            
            <span id="chunk-171" class="transcript-chunks" onclick="console.log('00:11:16,706'); seek(676.0)">
              would be smarty and it would know about almost everywhere
            </span>
            
            <span id="chunk-172" class="transcript-chunks" onclick="console.log('00:11:21,746'); seek(681.0)">
              a model in the app. As a result,
            </span>
            
            <span id="chunk-173" class="transcript-chunks" onclick="console.log('00:11:24,732'); seek(684.0)">
              we would need much more time to extend and
            </span>
            
            <span id="chunk-174" class="transcript-chunks" onclick="console.log('00:11:28,576'); seek(688.0)">
              test our apps functionally. However,
            </span>
            
            <span id="chunk-175" class="transcript-chunks" onclick="console.log('00:11:32,560'); seek(692.0)">
              we can move the closer to a separate function and see the result at
            </span>
            
            <span id="chunk-176" class="transcript-chunks" onclick="console.log('00:11:36,832'); seek(696.0)">
              first sight with transaction is just a copy code from the
            </span>
            
            <span id="chunk-177" class="transcript-chunks" onclick="console.log('00:11:40,272'); seek(700.0)">
              use case. Take a look at transaction control pros in
            </span>
            
            <span id="chunk-178" class="transcript-chunks" onclick="console.log('00:11:43,728'); seek(703.0)">
              the closer and register scenario.
            </span>
            
            <span id="chunk-179" class="transcript-chunks" onclick="console.log('00:11:46,794'); seek(706.0)">
              Let's simplify our scenario. With closure we
            </span>
            
            <span id="chunk-180" class="transcript-chunks" onclick="console.log('00:11:49,972'); seek(709.0)">
              replace it lines onto and decrease the
            </span>
            
            <span id="chunk-181" class="transcript-chunks" onclick="console.log('00:11:53,560'); seek(713.0)">
              chance of create a bug. The code is
            </span>
            
            <span id="chunk-182" class="transcript-chunks" onclick="console.log('00:11:57,288'); seek(717.0)">
              entirely placed on the slide and looks better than it was
            </span>
            
            <span id="chunk-183" class="transcript-chunks" onclick="console.log('00:12:01,288'); seek(721.0)">
              and I hope you agree with me. However, our code
            </span>
            
            <span id="chunk-184" class="transcript-chunks" onclick="console.log('00:12:05,016'); seek(725.0)">
              is still bound with the SqLix Tx transaction.
            </span>
            
            <span id="chunk-185" class="transcript-chunks" onclick="console.log('00:12:08,402'); seek(728.0)">
              As a result, we can only change the database by
            </span>
            
            <span id="chunk-186" class="transcript-chunks" onclick="console.log('00:12:11,612'); seek(731.0)">
              rewriting all use cases and somebody can make
            </span>
            
            <span id="chunk-187" class="transcript-chunks" onclick="console.log('00:12:15,132'); seek(735.0)">
              mistakes by handling control of a transaction.
            </span>
            
            <span id="chunk-188" class="transcript-chunks" onclick="console.log('00:12:19,230'); seek(739.0)">
              Next, I want to hide passing the transaction in
            </span>
            
            <span id="chunk-189" class="transcript-chunks" onclick="console.log('00:12:22,912'); seek(742.0)">
              the repository. To do that, we can use the
            </span>
            
            <span id="chunk-190" class="transcript-chunks" onclick="console.log('00:12:26,496'); seek(746.0)">
              factory method in the repository which enrichs
            </span>
            
            <span id="chunk-191" class="transcript-chunks" onclick="console.log('00:12:30,822'); seek(750.0)">
              our repository with a transaction, the factory method
            </span>
            
            <span id="chunk-192" class="transcript-chunks" onclick="console.log('00:12:35,354'); seek(755.0)">
              getting the transaction and save it in our repository
            </span>
            
            <span id="chunk-193" class="transcript-chunks" onclick="console.log('00:12:40,410'); seek(760.0)">
              and then we can use the saved
            </span>
            
            <span id="chunk-194" class="transcript-chunks" onclick="console.log('00:12:43,966'); seek(763.0)">
              transaction in our methods.
            </span>
            
            <span id="chunk-195" class="transcript-chunks" onclick="console.log('00:12:46,990'); seek(766.0)">
              The code in the getting and save methods will change slightly.
            </span>
            
            <span id="chunk-196" class="transcript-chunks" onclick="console.log('00:12:51,518'); seek(771.0)">
              We replace one if condition on the
            </span>
            
            <span id="chunk-197" class="transcript-chunks" onclick="console.log('00:12:55,496'); seek(775.0)">
              single line. Nevertheless, I am eager to
            </span>
            
            <span id="chunk-198" class="transcript-chunks" onclick="console.log('00:12:59,068'); seek(779.0)">
              see how our use case would look after
            </span>
            
            <span id="chunk-199" class="transcript-chunks" onclick="console.log('00:13:02,796'); seek(782.0)">
              updates. We call this transaction
            </span>
            
            <span id="chunk-200" class="transcript-chunks" onclick="console.log('00:13:06,690'); seek(786.0)">
              repository method and then the use case is not
            </span>
            
            <span id="chunk-201" class="transcript-chunks" onclick="console.log('00:13:10,032'); seek(790.0)">
              changed. Is that better than it was?
            </span>
            
            <span id="chunk-202" class="transcript-chunks" onclick="console.log('00:13:13,792'); seek(793.0)">
              Unfortunately no. We add time dependency colon.
            </span>
            
            <span id="chunk-203" class="transcript-chunks" onclick="console.log('00:13:19,070'); seek(799.0)">
              We must call repository methods only after factory method
            </span>
            
            <span id="chunk-204" class="transcript-chunks" onclick="console.log('00:13:23,818'); seek(803.0)">
              and I don't think it's cool. Could we use
            </span>
            
            <span id="chunk-205" class="transcript-chunks" onclick="console.log('00:13:27,236'); seek(807.0)">
              reflection in this case to remove the time dependency.
            </span>
            
            <span id="chunk-206" class="transcript-chunks" onclick="console.log('00:13:31,730'); seek(811.0)">
              Let's use a function with repositories as argument
            </span>
            
            <span id="chunk-207" class="transcript-chunks" onclick="console.log('00:13:35,818'); seek(815.0)">
              in this transaction. We pass it in our closer,
            </span>
            
            <span id="chunk-208" class="transcript-chunks" onclick="console.log('00:13:39,902'); seek(819.0)">
              then the reflection retrieves a list
            </span>
            
            <span id="chunk-209" class="transcript-chunks" onclick="console.log('00:13:43,032'); seek(823.0)">
              of repositories and calls the method
            </span>
            
            <span id="chunk-210" class="transcript-chunks" onclick="console.log('00:13:46,866'); seek(826.0)">
              with transaction to enrich them.
            </span>
            
            <span id="chunk-211" class="transcript-chunks" onclick="console.log('00:13:49,850'); seek(829.0)">
              As a result, we remove an argument with a
            </span>
            
            <span id="chunk-212" class="transcript-chunks" onclick="console.log('00:13:53,308'); seek(833.0)">
              transaction in repository method. However,
            </span>
            
            <span id="chunk-213" class="transcript-chunks" onclick="console.log('00:13:56,444'); seek(836.0)">
              reflection is not a golden way and we still
            </span>
            
            <span id="chunk-214" class="transcript-chunks" onclick="console.log('00:14:00,416'); seek(840.0)">
              should pass the transaction in the use cases and the
            </span>
            
            <span id="chunk-215" class="transcript-chunks" onclick="console.log('00:14:03,632'); seek(843.0)">
              queue. Also, explicit passing spreads knowledge
            </span>
            
            <span id="chunk-216" class="transcript-chunks" onclick="console.log('00:14:07,366'); seek(847.0)">
              about the database through the application and
            </span>
            
            <span id="chunk-217" class="transcript-chunks" onclick="console.log('00:14:11,796'); seek(851.0)">
              where we can to store a transaction. Let's see how other
            </span>
            
            <span id="chunk-218" class="transcript-chunks" onclick="console.log('00:14:15,412'); seek(855.0)">
              languages solve this issue.
            </span>
            
            <span id="chunk-219" class="transcript-chunks" onclick="console.log('00:14:18,850'); seek(858.0)">
              In Python, the passing depends on a library.
            </span>
            
            <span id="chunk-220" class="transcript-chunks" onclick="console.log('00:14:23,750'); seek(863.0)">
              In SQL alchemy, we cases the transaction explicitly
            </span>
            
            <span id="chunk-221" class="transcript-chunks" onclick="console.log('00:14:27,486'); seek(867.0)">
              as a function argument and we already have
            </span>
            
            <span id="chunk-222" class="transcript-chunks" onclick="console.log('00:14:30,712'); seek(870.0)">
              it. Solution in Django,
            </span>
            
            <span id="chunk-223" class="transcript-chunks" onclick="console.log('00:14:33,630'); seek(873.0)">
              transactions are stored in a global variable because Django
            </span>
            
            <span id="chunk-224" class="transcript-chunks" onclick="console.log('00:14:37,438'); seek(877.0)">
              processes one request in one thread.
            </span>
            
            <span id="chunk-225" class="transcript-chunks" onclick="console.log('00:14:40,322'); seek(880.0)">
              PHP uses the same approaches because it does not have
            </span>
            
            <span id="chunk-226" class="transcript-chunks" onclick="console.log('00:14:44,140'); seek(884.0)">
              multi threads processing at all. Unfortunately,
            </span>
            
            <span id="chunk-227" class="transcript-chunks" onclick="console.log('00:14:47,570'); seek(887.0)">
              it's not our solution at all and
            </span>
            
            <span id="chunk-228" class="transcript-chunks" onclick="console.log('00:14:51,184'); seek(891.0)">
              fortunately go can work with multiple threads by
            </span>
            
            <span id="chunk-229" class="transcript-chunks" onclick="console.log('00:14:54,976'); seek(894.0)">
              Go routines. More enterprise languages such as
            </span>
            
            <span id="chunk-230" class="transcript-chunks" onclick="console.log('00:14:58,896'); seek(898.0)">
              Java or C sharp use thread local storage that
            </span>
            
            <span id="chunk-231" class="transcript-chunks" onclick="console.log('00:15:02,932'); seek(902.0)">
              is similar to the global variable but limited by a single thread.
            </span>
            
            <span id="chunk-232" class="transcript-chunks" onclick="console.log('00:15:07,570'); seek(907.0)">
              But where to store a transaction in go passing
            </span>
            
            <span id="chunk-233" class="transcript-chunks" onclick="console.log('00:15:11,674'); seek(911.0)">
              as an arent is not our solution. We want to
            </span>
            
            <span id="chunk-234" class="transcript-chunks" onclick="console.log('00:15:15,464'); seek(915.0)">
              hides a transaction to provide high coupling use
            </span>
            
            <span id="chunk-235" class="transcript-chunks" onclick="console.log('00:15:18,872'); seek(918.0)">
              cases with a database. We have Gorotine and
            </span>
            
            <span id="chunk-236" class="transcript-chunks" onclick="console.log('00:15:22,904'); seek(922.0)">
              God doesn't support built in Gorotin local
            </span>
            
            <span id="chunk-237" class="transcript-chunks" onclick="console.log('00:15:27,724'); seek(927.0)">
              storage. Could we create a similar solution
            </span>
            
            <span id="chunk-238" class="transcript-chunks" onclick="console.log('00:15:31,282'); seek(931.0)">
              by Gorotine Id? And the answer is probably no.
            </span>
            
            <span id="chunk-239" class="transcript-chunks" onclick="console.log('00:15:35,610'); seek(935.0)">
              Golang does not allow us to get a gorotine id directly.
            </span>
            
            <span id="chunk-240" class="transcript-chunks" onclick="console.log('00:15:39,602'); seek(939.0)">
              Go experts don't recommend using Gorotine
            </span>
            
            <span id="chunk-241" class="transcript-chunks" onclick="console.log('00:15:43,682'); seek(943.0)">
              because it contradicts Golang Way and they
            </span>
            
            <span id="chunk-242" class="transcript-chunks" onclick="console.log('00:15:47,616'); seek(947.0)">
              want to prevent building applications that associated
            </span>
            
            <span id="chunk-243" class="transcript-chunks" onclick="console.log('00:15:51,562'); seek(951.0)">
              all consumption with a single gorotine. And now we should
            </span>
            
            <span id="chunk-244" class="transcript-chunks" onclick="console.log('00:15:55,396'); seek(955.0)">
              use hacks to get an id. Also, new language
            </span>
            
            <span id="chunk-245" class="transcript-chunks" onclick="console.log('00:15:59,562'); seek(959.0)">
              updates can break the hacks and no one
            </span>
            
            <span id="chunk-246" class="transcript-chunks" onclick="console.log('00:16:03,272'); seek(963.0)">
              can guarantee the stability of the solution.
            </span>
            
            <span id="chunk-247" class="transcript-chunks" onclick="console.log('00:16:06,478'); seek(966.0)">
              However, some libraries implementations Gortin
            </span>
            
            <span id="chunk-248" class="transcript-chunks" onclick="console.log('00:16:10,702'); seek(970.0)">
              local storage but all of them arent built on the
            </span>
            
            <span id="chunk-249" class="transcript-chunks" onclick="console.log('00:16:14,280'); seek(974.0)">
              hacks and most arent not my intended.
            </span>
            
            <span id="chunk-250" class="transcript-chunks" onclick="console.log('00:16:18,970'); seek(978.0)">
              Fortunately we are not in 2016 and we
            </span>
            
            <span id="chunk-251" class="transcript-chunks" onclick="console.log('00:16:22,492'); seek(982.0)">
              have the context package that can be used
            </span>
            
            <span id="chunk-252" class="transcript-chunks" onclick="console.log('00:16:26,604'); seek(986.0)">
              to store the transaction. However, there are
            </span>
            
            <span id="chunk-253" class="transcript-chunks" onclick="console.log('00:16:30,288'); seek(990.0)">
              opinions that storing something more than primitive types
            </span>
            
            <span id="chunk-254" class="transcript-chunks" onclick="console.log('00:16:34,246'); seek(994.0)">
              in a context is a bad idea.
            </span>
            
            <span id="chunk-255" class="transcript-chunks" onclick="console.log('00:16:39,470'); seek(999.0)">
              That means should we reinvent the wheel?
            </span>
            
            <span id="chunk-256" class="transcript-chunks" onclick="console.log('00:16:44,370'); seek(1004.0)">
              Fortunately not some experts articles
            </span>
            
            <span id="chunk-257" class="transcript-chunks" onclick="console.log('00:16:48,378'); seek(1008.0)">
              there is an exception for the specific
            </span>
            
            <span id="chunk-258" class="transcript-chunks" onclick="console.log('00:16:52,468'); seek(1012.0)">
              values to be scoped to the request and destroyed after
            </span>
            
            <span id="chunk-259" class="transcript-chunks" onclick="console.log('00:16:56,616'); seek(1016.0)">
              request. That gives us the ability to
            </span>
            
            <span id="chunk-260" class="transcript-chunks" onclick="console.log('00:16:59,688'); seek(1019.0)">
              use context to store a transaction inside
            </span>
            
            <span id="chunk-261" class="transcript-chunks" onclick="console.log('00:17:03,320'); seek(1023.0)">
              the context. Excellent. We have a place
            </span>
            
            <span id="chunk-262" class="transcript-chunks" onclick="console.log('00:17:06,460'); seek(1026.0)">
              for our transaction. Let's look at our closer.
            </span>
            
            <span id="chunk-263" class="transcript-chunks" onclick="console.log('00:17:09,970'); seek(1029.0)">
              That's not so bad. We check a transaction in the context.
            </span>
            
            <span id="chunk-264" class="transcript-chunks" onclick="console.log('00:17:14,890'); seek(1034.0)">
              If not, we create and put a new transaction in
            </span>
            
            <span id="chunk-265" class="transcript-chunks" onclick="console.log('00:17:18,576'); seek(1038.0)">
              context. In the use cases, we replace the transaction
            </span>
            
            <span id="chunk-266" class="transcript-chunks" onclick="console.log('00:17:22,374'); seek(1042.0)">
              with a new context. Then we add
            </span>
            
            <span id="chunk-267" class="transcript-chunks" onclick="console.log('00:17:26,176'); seek(1046.0)">
              getting a transaction from the context in the repository to work
            </span>
            
            <span id="chunk-268" class="transcript-chunks" onclick="console.log('00:17:30,276'); seek(1050.0)">
              with the database. Also, we create a
            </span>
            
            <span id="chunk-269" class="transcript-chunks" onclick="console.log('00:17:35,170'); seek(1055.0)">
              TR interface to replace direct
            </span>
            
            <span id="chunk-270" class="transcript-chunks" onclick="console.log('00:17:38,612'); seek(1058.0)">
              database connection on a transaction and vice versa.
            </span>
            
            <span id="chunk-271" class="transcript-chunks" onclick="console.log('00:17:44,070'); seek(1064.0)">
              Now we have a simple repository interface without the explicit
            </span>
            
            <span id="chunk-272" class="transcript-chunks" onclick="console.log('00:17:48,318'); seek(1068.0)">
              transaction argument and nested transactional use cases,
            </span>
            
            <span id="chunk-273" class="transcript-chunks" onclick="console.log('00:17:52,590'); seek(1072.0)">
              we can forgot about transaction control by using transaction
            </span>
            
            <span id="chunk-274" class="transcript-chunks" onclick="console.log('00:17:56,542'); seek(1076.0)">
              closure in. Additionally, we concentrate on working
            </span>
            
            <span id="chunk-275" class="transcript-chunks" onclick="console.log('00:18:00,140'); seek(1080.0)">
              with database in closure and repository
            </span>
            
            <span id="chunk-276" class="transcript-chunks" onclick="console.log('00:18:04,402'); seek(1084.0)">
              and can replace that database without changing use
            </span>
            
            <span id="chunk-277" class="transcript-chunks" onclick="console.log('00:18:07,836'); seek(1087.0)">
              cases. However, we have a problem with closure,
            </span>
            
            <span id="chunk-278" class="transcript-chunks" onclick="console.log('00:18:11,654'); seek(1091.0)">
              which is difficult to test because we cannot create a mock or
            </span>
            
            <span id="chunk-279" class="transcript-chunks" onclick="console.log('00:18:15,408'); seek(1095.0)">
              stop for a function and a global variable
            </span>
            
            <span id="chunk-280" class="transcript-chunks" onclick="console.log('00:18:18,870'); seek(1098.0)">
              works with a database. Also, we need to
            </span>
            
            <span id="chunk-281" class="transcript-chunks" onclick="console.log('00:18:22,452'); seek(1102.0)">
              rewrite use cases to add a new closure or replace the
            </span>
            
            <span id="chunk-282" class="transcript-chunks" onclick="console.log('00:18:26,068'); seek(1106.0)">
              current one. Let's fix it. We must
            </span>
            
            <span id="chunk-283" class="transcript-chunks" onclick="console.log('00:18:29,716'); seek(1109.0)">
              convert with transaction closure in a structure
            </span>
            
            <span id="chunk-284" class="transcript-chunks" onclick="console.log('00:18:33,582'); seek(1113.0)">
              with an interface. The structure allows
            </span>
            
            <span id="chunk-285" class="transcript-chunks" onclick="console.log('00:18:36,974'); seek(1116.0)">
              us to create a mock and path that database as an arent instead
            </span>
            
            <span id="chunk-286" class="transcript-chunks" onclick="console.log('00:18:41,016'); seek(1121.0)">
              of global variable. Let's name the interface manage
            </span>
            
            <span id="chunk-287" class="transcript-chunks" onclick="console.log('00:18:45,176'); seek(1125.0)">
              to do function calls, do with settings with default settings
            </span>
            
            <span id="chunk-288" class="transcript-chunks" onclick="console.log('00:18:49,282'); seek(1129.0)">
              and do with settings. Control a transaction as with
            </span>
            
            <span id="chunk-289" class="transcript-chunks" onclick="console.log('00:18:53,116'); seek(1133.0)">
              transaction with additional features such as nested
            </span>
            
            <span id="chunk-290" class="transcript-chunks" onclick="console.log('00:18:56,818'); seek(1136.0)">
              transaction readonly transaction timeout,
            </span>
            
            <span id="chunk-291" class="transcript-chunks" onclick="console.log('00:19:00,022'); seek(1140.0)">
              et cetera. Then we introduce a generic
            </span>
            
            <span id="chunk-292" class="transcript-chunks" onclick="console.log('00:19:04,662'); seek(1144.0)">
              general interface transaction which can commit
            </span>
            
            <span id="chunk-293" class="transcript-chunks" onclick="console.log('00:19:07,878'); seek(1147.0)">
              rollback, show the transaction status and return
            </span>
            
            <span id="chunk-294" class="transcript-chunks" onclick="console.log('00:19:11,348'); seek(1151.0)">
              an actual transaction. Also we have the interface
            </span>
            
            <span id="chunk-295" class="transcript-chunks" onclick="console.log('00:19:15,242'); seek(1155.0)">
              to create nested transactions if a database supports
            </span>
            
            <span id="chunk-296" class="transcript-chunks" onclick="console.log('00:19:18,394'); seek(1158.0)">
              them. Also we adding the settings
            </span>
            
            <span id="chunk-297" class="transcript-chunks" onclick="console.log('00:19:22,266'); seek(1162.0)">
              interface store standard configurations for different databases.
            </span>
            
            <span id="chunk-298" class="transcript-chunks" onclick="console.log('00:19:26,790'); seek(1166.0)">
              We implementations new settings for each database transaction
            </span>
            
            <span id="chunk-299" class="transcript-chunks" onclick="console.log('00:19:31,006'); seek(1171.0)">
              because different database have their configurations and
            </span>
            
            <span id="chunk-300" class="transcript-chunks" onclick="console.log('00:19:35,000'); seek(1175.0)">
              abilities. We cases settings in
            </span>
            
            <span id="chunk-301" class="transcript-chunks" onclick="console.log('00:19:38,652'); seek(1178.0)">
              specific interface to configuration the transaction
            </span>
            
            <span id="chunk-302" class="transcript-chunks" onclick="console.log('00:19:42,066'); seek(1182.0)">
              in a factory. It's time to see what we have
            </span>
            
            <span id="chunk-303" class="transcript-chunks" onclick="console.log('00:19:46,092'); seek(1186.0)">
              in the use case. Manager replaces this transaction
            </span>
            
            <span id="chunk-304" class="transcript-chunks" onclick="console.log('00:19:49,926'); seek(1189.0)">
              and visually everything changes. However, we can
            </span>
            
            <span id="chunk-305" class="transcript-chunks" onclick="console.log('00:19:53,312'); seek(1193.0)">
              mock manager or our staff for testing
            </span>
            
            <span id="chunk-306" class="transcript-chunks" onclick="console.log('00:19:57,334'); seek(1197.0)">
              in Java. We can hides the transaction from the use case by
            </span>
            
            <span id="chunk-307" class="transcript-chunks" onclick="console.log('00:20:00,996'); seek(1200.0)">
              annotation or XML configuration.
            </span>
            
            <span id="chunk-308" class="transcript-chunks" onclick="console.log('00:20:05,010'); seek(1205.0)">
              We can do the same in go by reflection code
            </span>
            
            <span id="chunk-309" class="transcript-chunks" onclick="console.log('00:20:08,836'); seek(1208.0)">
              generation. Some tricks with generic or just decorator
            </span>
            
            <span id="chunk-310" class="transcript-chunks" onclick="console.log('00:20:13,750'); seek(1213.0)">
              a simple decorator on the slide, but we should create a new
            </span>
            
            <span id="chunk-311" class="transcript-chunks" onclick="console.log('00:20:17,512'); seek(1217.0)">
              decorator for each use case. It's not hard
            </span>
            
            <span id="chunk-312" class="transcript-chunks" onclick="console.log('00:20:21,160'); seek(1221.0)">
              but it's so boring. Let's try to
            </span>
            
            <span id="chunk-313" class="transcript-chunks" onclick="console.log('00:20:24,568'); seek(1224.0)">
              use generic decorator. To get
            </span>
            
            <span id="chunk-314" class="transcript-chunks" onclick="console.log('00:20:28,572'); seek(1228.0)">
              generic decorator, we should use trick. The trick
            </span>
            
            <span id="chunk-315" class="transcript-chunks" onclick="console.log('00:20:32,322'); seek(1232.0)">
              consists of using the structure for
            </span>
            
            <span id="chunk-316" class="transcript-chunks" onclick="console.log('00:20:35,660'); seek(1235.0)">
              arguments of the use case and naming the method
            </span>
            
            <span id="chunk-317" class="transcript-chunks" onclick="console.log('00:20:39,446'); seek(1239.0)">
              identical in all use cases.
            </span>
            
            <span id="chunk-318" class="transcript-chunks" onclick="console.log('00:20:42,830'); seek(1242.0)">
              In our case we use the name handle.
            </span>
            
            <span id="chunk-319" class="transcript-chunks" onclick="console.log('00:20:46,750'); seek(1246.0)">
              Then we create an interface which match our
            </span>
            
            <span id="chunk-320" class="transcript-chunks" onclick="console.log('00:20:51,540'); seek(1251.0)">
              use cases. The structure gives us the ability
            </span>
            
            <span id="chunk-321" class="transcript-chunks" onclick="console.log('00:20:55,674'); seek(1255.0)">
              to create the generic interface which can work with any
            </span>
            
            <span id="chunk-322" class="transcript-chunks" onclick="console.log('00:20:59,684'); seek(1259.0)">
              use cases. After that we implement
            </span>
            
            <span id="chunk-323" class="transcript-chunks" onclick="console.log('00:21:03,854'); seek(1263.0)">
              a decorator by using the interface and generic.
            </span>
            
            <span id="chunk-324" class="transcript-chunks" onclick="console.log('00:21:09,430'); seek(1269.0)">
              The decorator is not idiot generic,
            </span>
            
            <span id="chunk-325" class="transcript-chunks" onclick="console.log('00:21:12,654'); seek(1272.0)">
              but we can easily implement it
            </span>
            
            <span id="chunk-326" class="transcript-chunks" onclick="console.log('00:21:15,992'); seek(1275.0)">
              and remove routine code. Writing the
            </span>
            
            <span id="chunk-327" class="transcript-chunks" onclick="console.log('00:21:21,020'); seek(1281.0)">
              using of the decorator is simple and
            </span>
            
            <span id="chunk-328" class="transcript-chunks" onclick="console.log('00:21:24,940'); seek(1284.0)">
              presented on the slide.
            </span>
            
            <span id="chunk-329" class="transcript-chunks" onclick="console.log('00:21:27,710'); seek(1287.0)">
              Then we can simplify getting a transaction from the context in
            </span>
            
            <span id="chunk-330" class="transcript-chunks" onclick="console.log('00:21:31,568'); seek(1291.0)">
              their repository. Let's create an
            </span>
            
            <span id="chunk-331" class="transcript-chunks" onclick="console.log('00:21:34,832'); seek(1294.0)">
              interface to extract the transaction. The default
            </span>
            
            <span id="chunk-332" class="transcript-chunks" onclick="console.log('00:21:38,550'); seek(1298.0)">
              method returns a transaction with the default context
            </span>
            
            <span id="chunk-333" class="transcript-chunks" onclick="console.log('00:21:42,842'); seek(1302.0)">
              k and thereby k returns a
            </span>
            
            <span id="chunk-334" class="transcript-chunks" onclick="console.log('00:21:46,468'); seek(1306.0)">
              custom k. It is
            </span>
            
            <span id="chunk-335" class="transcript-chunks" onclick="console.log('00:21:50,244'); seek(1310.0)">
              necessary when the repository process two transactions simultaneously,
            </span>
            
            <span id="chunk-336" class="transcript-chunks" onclick="console.log('00:21:55,326'); seek(1315.0)">
              but be careful with that. Also, when we create
            </span>
            
            <span id="chunk-337" class="transcript-chunks" onclick="console.log('00:21:59,384'); seek(1319.0)">
              context manager, we set the default k to have the ability
            </span>
            
            <span id="chunk-338" class="transcript-chunks" onclick="console.log('00:22:03,406'); seek(1323.0)">
              to change the k without changing code in the repository.
            </span>
            
            <span id="chunk-339" class="transcript-chunks" onclick="console.log('00:22:07,690'); seek(1327.0)">
              However, we should cast transaction in the transaction
            </span>
            
            <span id="chunk-340" class="transcript-chunks" onclick="console.log('00:22:11,154'); seek(1331.0)">
              structure of the database to work with it and casting
            </span>
            
            <span id="chunk-341" class="transcript-chunks" onclick="console.log('00:22:15,202'); seek(1335.0)">
              is not safe. We can create an interface for each
            </span>
            
            <span id="chunk-342" class="transcript-chunks" onclick="console.log('00:22:19,360'); seek(1339.0)">
              database to skip casting in the repository. In the
            </span>
            
            <span id="chunk-343" class="transcript-chunks" onclick="console.log('00:22:23,168'); seek(1343.0)">
              first iteration, the saving methods look like that.
            </span>
            
            <span id="chunk-344" class="transcript-chunks" onclick="console.log('00:22:27,072'); seek(1347.0)">
              Let's use SQL context manager in the repository.
            </span>
            
            <span id="chunk-345" class="transcript-chunks" onclick="console.log('00:22:31,178'); seek(1351.0)">
              This simplifies the code a bit and reduces
            </span>
            
            <span id="chunk-346" class="transcript-chunks" onclick="console.log('00:22:34,730'); seek(1354.0)">
              the chance of error. Let me briefly recap
            </span>
            
            <span id="chunk-347" class="transcript-chunks" onclick="console.log('00:22:39,242'); seek(1359.0)">
              what we have. We kept the transaction interface simple
            </span>
            
            <span id="chunk-348" class="transcript-chunks" onclick="console.log('00:22:43,160'); seek(1363.0)">
              by hiding the transaction in the context. We get
            </span>
            
            <span id="chunk-349" class="transcript-chunks" onclick="console.log('00:22:47,032'); seek(1367.0)">
              transaction operation nested use cases and
            </span>
            
            <span id="chunk-350" class="transcript-chunks" onclick="console.log('00:22:50,776'); seek(1370.0)">
              hiding transaction by the transaction manager.
            </span>
            
            <span id="chunk-351" class="transcript-chunks" onclick="console.log('00:22:54,430'); seek(1374.0)">
              And also we can migrate to another database without changing
            </span>
            
            <span id="chunk-352" class="transcript-chunks" onclick="console.log('00:22:58,242'); seek(1378.0)">
              use cases. And finally, the solution does
            </span>
            
            <span id="chunk-353" class="transcript-chunks" onclick="console.log('00:23:01,948'); seek(1381.0)">
              not create a problem with testing,
            </span>
            
            <span id="chunk-354" class="transcript-chunks" onclick="console.log('00:23:04,890'); seek(1384.0)">
              but what did it cost? Fortunately not
            </span>
            
            <span id="chunk-355" class="transcript-chunks" onclick="console.log('00:23:09,040'); seek(1389.0)">
              everything. The solution works only on the Go
            </span>
            
            <span id="chunk-356" class="transcript-chunks" onclick="console.log('00:23:13,072'); seek(1393.0)">
              1.13 version which was
            </span>
            
            <span id="chunk-357" class="transcript-chunks" onclick="console.log('00:23:17,008'); seek(1397.0)">
              released in the 2019. It was not
            </span>
            
            <span id="chunk-358" class="transcript-chunks" onclick="console.log('00:23:20,292'); seek(1400.0)">
              so long ago. Nevertheless, Go is updated
            </span>
            
            <span id="chunk-359" class="transcript-chunks" onclick="console.log('00:23:23,786'); seek(1403.0)">
              by a minor version and I hope you have already updated or
            </span>
            
            <span id="chunk-360" class="transcript-chunks" onclick="console.log('00:23:28,100'); seek(1408.0)">
              it is not problem for you.
            </span>
            
            <span id="chunk-361" class="transcript-chunks" onclick="console.log('00:23:31,412'); seek(1411.0)">
              Also there are a few ready transaction adaptations
            </span>
            
            <span id="chunk-362" class="transcript-chunks" onclick="console.log('00:23:34,718'); seek(1414.0)">
              such as SQL, SQL leaks, Gorm,
            </span>
            
            <span id="chunk-363" class="transcript-chunks" onclick="console.log('00:23:37,726'); seek(1417.0)">
              Mongo and Redis, but you can write
            </span>
            
            <span id="chunk-364" class="transcript-chunks" onclick="console.log('00:23:41,128'); seek(1421.0)">
              new adaptations by 70 code offlines.
            </span>
            
            <span id="chunk-365" class="transcript-chunks" onclick="console.log('00:23:46,570'); seek(1426.0)">
              The next disadvantage is losing performance.
            </span>
            
            <span id="chunk-366" class="transcript-chunks" onclick="console.log('00:23:50,002'); seek(1430.0)">
              The first benchmark shows that the difference with and
            </span>
            
            <span id="chunk-367" class="transcript-chunks" onclick="console.log('00:23:53,692'); seek(1433.0)">
              without the solution is about 3.4%.
            </span>
            
            <span id="chunk-368" class="transcript-chunks" onclick="console.log('00:23:58,110'); seek(1438.0)">
              The result was impressive but the reason was SQL mock the
            </span>
            
            <span id="chunk-369" class="transcript-chunks" onclick="console.log('00:24:02,352'); seek(1442.0)">
              library for mocking SQL requests.
            </span>
            
            <span id="chunk-370" class="transcript-chunks" onclick="console.log('00:24:05,638'); seek(1445.0)">
              SQL mock consumes a lot of resources.
            </span>
            
            <span id="chunk-371" class="transcript-chunks" onclick="console.log('00:24:09,230'); seek(1449.0)">
              Therefore I decided to rewrite the benchmark on
            </span>
            
            <span id="chunk-372" class="transcript-chunks" onclick="console.log('00:24:12,612'); seek(1452.0)">
              SQL Lite in memory. The result was more natural and
            </span>
            
            <span id="chunk-373" class="transcript-chunks" onclick="console.log('00:24:16,452'); seek(1456.0)">
              the difference is about 18%. However,
            </span>
            
            <span id="chunk-374" class="transcript-chunks" onclick="console.log('00:24:19,844'); seek(1459.0)">
              most applications which I have seen use database that
            </span>
            
            <span id="chunk-375" class="transcript-chunks" onclick="console.log('00:24:23,592'); seek(1463.0)">
              store data on disk or are dedicated on another
            </span>
            
            <span id="chunk-376" class="transcript-chunks" onclick="console.log('00:24:27,544'); seek(1467.0)">
              server. For that reason I
            </span>
            
            <span id="chunk-377" class="transcript-chunks" onclick="console.log('00:24:31,064'); seek(1471.0)">
              wrote benchmark with MySQL on the
            </span>
            
            <span id="chunk-378" class="transcript-chunks" onclick="console.log('00:24:34,568'); seek(1474.0)">
              same server. The file system has added overhead
            </span>
            
            <span id="chunk-379" class="transcript-chunks" onclick="console.log('00:24:38,514'); seek(1478.0)">
              and the solution takes the same amount of the time as
            </span>
            
            <span id="chunk-380" class="transcript-chunks" onclick="console.log('00:24:41,724'); seek(1481.0)">
              code. Without the transaction manager,
            </span>
            
            <span id="chunk-381" class="transcript-chunks" onclick="console.log('00:24:45,010'); seek(1485.0)">
              the network would consume significantly more time than the file
            </span>
            
            <span id="chunk-382" class="transcript-chunks" onclick="console.log('00:24:49,042'); seek(1489.0)">
              systems which mean the overhead of the
            </span>
            
            <span id="chunk-383" class="transcript-chunks" onclick="console.log('00:24:53,056'); seek(1493.0)">
              solution would be minor. The other disadvantage
            </span>
            
            <span id="chunk-384" class="transcript-chunks" onclick="console.log('00:24:56,806'); seek(1496.0)">
              is that we should pass context everywhere. I hope you
            </span>
            
            <span id="chunk-385" class="transcript-chunks" onclick="console.log('00:25:00,352'); seek(1500.0)">
              already use context in applications to store request id
            </span>
            
            <span id="chunk-386" class="transcript-chunks" onclick="console.log('00:25:04,100'); seek(1504.0)">
              or other data for login or to cancel a request if a
            </span>
            
            <span id="chunk-387" class="transcript-chunks" onclick="console.log('00:25:07,652'); seek(1507.0)">
              user closes a connection. Therefore passing context
            </span>
            
            <span id="chunk-388" class="transcript-chunks" onclick="console.log('00:25:11,482'); seek(1511.0)">
              is acceptable for you. The last and most
            </span>
            
            <span id="chunk-389" class="transcript-chunks" onclick="console.log('00:25:15,016'); seek(1515.0)">
              considerable drawback is that we cannot do a long business
            </span>
            
            <span id="chunk-390" class="transcript-chunks" onclick="console.log('00:25:18,600'); seek(1518.0)">
              transaction because the transaction in the database takes
            </span>
            
            <span id="chunk-391" class="transcript-chunks" onclick="console.log('00:25:22,296'); seek(1522.0)">
              a connection and limited database resources.
            </span>
            
            <span id="chunk-392" class="transcript-chunks" onclick="console.log('00:25:25,726'); seek(1525.0)">
              That can happen when we call external services thoroughly.
            </span>
            
            <span id="chunk-393" class="transcript-chunks" onclick="console.log('00:25:30,050'); seek(1530.0)">
              The simple solution is to request all data before
            </span>
            
            <span id="chunk-394" class="transcript-chunks" onclick="console.log('00:25:33,820'); seek(1533.0)">
              the transaction, but we lose the ability to simple
            </span>
            
            <span id="chunk-395" class="transcript-chunks" onclick="console.log('00:25:37,356'); seek(1537.0)">
              insert a use case into another.
            </span>
            
            <span id="chunk-396" class="transcript-chunks" onclick="console.log('00:25:41,630'); seek(1541.0)">
              And another solution is the unit of work pattern which I
            </span>
            
            <span id="chunk-397" class="transcript-chunks" onclick="console.log('00:25:45,728'); seek(1545.0)">
              will discuss later. Now we can see and repeat the drawbacks.
            </span>
            
            <span id="chunk-398" class="transcript-chunks" onclick="console.log('00:25:50,278'); seek(1550.0)">
              The first is a limitation of the
            </span>
            
            <span id="chunk-399" class="transcript-chunks" onclick="console.log('00:25:54,052'); seek(1554.0)">
              Golang version when the solution can work.
            </span>
            
            <span id="chunk-400" class="transcript-chunks" onclick="console.log('00:25:58,050'); seek(1558.0)">
              The next one is that there are only five
            </span>
            
            <span id="chunk-401" class="transcript-chunks" onclick="console.log('00:26:01,300'); seek(1561.0)">
              adapters but there are more than five database drivers
            </span>
            
            <span id="chunk-402" class="transcript-chunks" onclick="console.log('00:26:05,418'); seek(1565.0)">
              and orms in go. However, only 70 new
            </span>
            
            <span id="chunk-403" class="transcript-chunks" onclick="console.log('00:26:08,952'); seek(1568.0)">
              hides can solve it. Third one,
            </span>
            
            <span id="chunk-404" class="transcript-chunks" onclick="console.log('00:26:12,696'); seek(1572.0)">
              the solution consumes about 17% more than
            </span>
            
            <span id="chunk-405" class="transcript-chunks" onclick="console.log('00:26:16,428'); seek(1576.0)">
              without it or five microseconds.
            </span>
            
            <span id="chunk-406" class="transcript-chunks" onclick="console.log('00:26:20,170'); seek(1580.0)">
              Next one is passing context everywhere. And finally,
            </span>
            
            <span id="chunk-407" class="transcript-chunks" onclick="console.log('00:26:24,332'); seek(1584.0)">
              the solution does not support long business transactions,
            </span>
            
            <span id="chunk-408" class="transcript-chunks" onclick="console.log('00:26:28,258'); seek(1588.0)">
              but the unit of work pattern can solve it.
            </span>
            
            <span id="chunk-409" class="transcript-chunks" onclick="console.log('00:26:31,870'); seek(1591.0)">
              Let's take a look at what was and what is
            </span>
            
            <span id="chunk-410" class="transcript-chunks" onclick="console.log('00:26:35,328'); seek(1595.0)">
              now in the code. We remove the storing connection
            </span>
            
            <span id="chunk-411" class="transcript-chunks" onclick="console.log('00:26:39,318'); seek(1599.0)">
              of the database with the repository interface by hiding
            </span>
            
            <span id="chunk-412" class="transcript-chunks" onclick="console.log('00:26:43,514'); seek(1603.0)">
              a transaction in context in a repository,
            </span>
            
            <span id="chunk-413" class="transcript-chunks" onclick="console.log('00:26:46,874'); seek(1606.0)">
              we replace checking an existing transaction with
            </span>
            
            <span id="chunk-414" class="transcript-chunks" onclick="console.log('00:26:51,108'); seek(1611.0)">
              context manager code is shorter than it was and
            </span>
            
            <span id="chunk-415" class="transcript-chunks" onclick="console.log('00:26:54,712'); seek(1614.0)">
              now it's harder for us to make mistakes.
            </span>
            
            <span id="chunk-416" class="transcript-chunks" onclick="console.log('00:26:58,310'); seek(1618.0)">
              Then we can skip a massive block of database infrastructure
            </span>
            
            <span id="chunk-417" class="transcript-chunks" onclick="console.log('00:27:02,286'); seek(1622.0)">
              to focus on business actions in
            </span>
            
            <span id="chunk-418" class="transcript-chunks" onclick="console.log('00:27:05,836'); seek(1625.0)">
              use case. The chart on the slide
            </span>
            
            <span id="chunk-419" class="transcript-chunks" onclick="console.log('00:27:09,202'); seek(1629.0)">
              shows the dependence of the number of additional lines on the
            </span>
            
            <span id="chunk-420" class="transcript-chunks" onclick="console.log('00:27:12,956'); seek(1632.0)">
              number of nested scenarios. The red line presents data
            </span>
            
            <span id="chunk-421" class="transcript-chunks" onclick="console.log('00:27:17,180'); seek(1637.0)">
              without the solution. The green lines is for the solution.
            </span>
            
            <span id="chunk-422" class="transcript-chunks" onclick="console.log('00:27:21,030'); seek(1641.0)">
              The cross point is 1.8 when road code
            </span>
            
            <span id="chunk-423" class="transcript-chunks" onclick="console.log('00:27:25,152'); seek(1645.0)">
              loses in comparison to the solution
            </span>
            
            <span id="chunk-424" class="transcript-chunks" onclick="console.log('00:27:29,390'); seek(1649.0)">
              regarding the amount of additional code in a use case.
            </span>
            
            <span id="chunk-425" class="transcript-chunks" onclick="console.log('00:27:33,890'); seek(1653.0)">
              In addition, not only the count of code is
            </span>
            
            <span id="chunk-426" class="transcript-chunks" onclick="console.log('00:27:37,492'); seek(1657.0)">
              growing when adding nesting use cases, the chance
            </span>
            
            <span id="chunk-427" class="transcript-chunks" onclick="console.log('00:27:41,124'); seek(1661.0)">
              of making bugs and cognitive load on
            </span>
            
            <span id="chunk-428" class="transcript-chunks" onclick="console.log('00:27:45,112'); seek(1665.0)">
              developers is increasing too. Nevertheless, I give
            </span>
            
            <span id="chunk-429" class="transcript-chunks" onclick="console.log('00:27:48,872'); seek(1668.0)">
              you a tool and you decide whether to use it
            </span>
            
            <span id="chunk-430" class="transcript-chunks" onclick="console.log('00:27:52,296'); seek(1672.0)">
              or not. The link to the library is in
            </span>
            
            <span id="chunk-431" class="transcript-chunks" onclick="console.log('00:27:56,344'); seek(1676.0)">
              the last slide. Now I want to go back
            </span>
            
            <span id="chunk-432" class="transcript-chunks" onclick="console.log('00:27:59,852'); seek(1679.0)">
              to the long transaction drawback. I mentioned that
            </span>
            
            <span id="chunk-433" class="transcript-chunks" onclick="console.log('00:28:03,292'); seek(1683.0)">
              the unit of fork could solve it. The interface of
            </span>
            
            <span id="chunk-434" class="transcript-chunks" onclick="console.log('00:28:06,428'); seek(1686.0)">
              the pattern for Golang on the slide. Let's describe
            </span>
            
            <span id="chunk-435" class="transcript-chunks" onclick="console.log('00:28:10,678'); seek(1690.0)">
              each method. Register new
            </span>
            
            <span id="chunk-436" class="transcript-chunks" onclick="console.log('00:28:14,496'); seek(1694.0)">
              marks a model as new, register dirty marks
            </span>
            
            <span id="chunk-437" class="transcript-chunks" onclick="console.log('00:28:18,646'); seek(1698.0)">
              a model as dirty or updated. Register clean marks
            </span>
            
            <span id="chunk-438" class="transcript-chunks" onclick="console.log('00:28:23,146'); seek(1703.0)">
              a model as clean of getting from database without changes
            </span>
            
            <span id="chunk-439" class="transcript-chunks" onclick="console.log('00:28:27,348'); seek(1707.0)">
              and register delete marks model
            </span>
            
            <span id="chunk-440" class="transcript-chunks" onclick="console.log('00:28:30,900'); seek(1710.0)">
              as deleted. Then comet saves
            </span>
            
            <span id="chunk-441" class="transcript-chunks" onclick="console.log('00:28:35,822'); seek(1715.0)">
              data atomically in a database in one transaction
            </span>
            
            <span id="chunk-442" class="transcript-chunks" onclick="console.log('00:28:39,838'); seek(1719.0)">
              and finally roll back reset state
            </span>
            
            <span id="chunk-443" class="transcript-chunks" onclick="console.log('00:28:44,168'); seek(1724.0)">
              to initial or previous success commit
            </span>
            
            <span id="chunk-444" class="transcript-chunks" onclick="console.log('00:28:47,586'); seek(1727.0)">
              okay, we know what each method does,
            </span>
            
            <span id="chunk-445" class="transcript-chunks" onclick="console.log('00:28:51,132'); seek(1731.0)">
              but how and when can we use it?
            </span>
            
            <span id="chunk-446" class="transcript-chunks" onclick="console.log('00:28:54,172'); seek(1734.0)">
              Let's see the definition to catch it.
            </span>
            
            <span id="chunk-447" class="transcript-chunks" onclick="console.log('00:28:57,390'); seek(1737.0)">
              Martin Fowler defines a pattern as maintaining a list
            </span>
            
            <span id="chunk-448" class="transcript-chunks" onclick="console.log('00:29:00,912'); seek(1740.0)">
              of objects affected by a business transaction and
            </span>
            
            <span id="chunk-449" class="transcript-chunks" onclick="console.log('00:29:04,688'); seek(1744.0)">
              coordinating the writing out of changes and
            </span>
            
            <span id="chunk-450" class="transcript-chunks" onclick="console.log('00:29:08,128'); seek(1748.0)">
              the resolution of concurrency problems.
            </span>
            
            <span id="chunk-451" class="transcript-chunks" onclick="console.log('00:29:11,490'); seek(1751.0)">
              The first fun fact about the definition I mentioned concurrency
            </span>
            
            <span id="chunk-452" class="transcript-chunks" onclick="console.log('00:29:15,386'); seek(1755.0)">
              problems which are situated with the database,
            </span>
            
            <span id="chunk-453" class="transcript-chunks" onclick="console.log('00:29:18,986'); seek(1758.0)">
              but they are resolved by pessimistic or optimistic
            </span>
            
            <span id="chunk-454" class="transcript-chunks" onclick="console.log('00:29:22,762'); seek(1762.0)">
              lock and it's not a part of the unit of work. The second
            </span>
            
            <span id="chunk-455" class="transcript-chunks" onclick="console.log('00:29:26,840'); seek(1766.0)">
              one, in the original book pattern of enterprise
            </span>
            
            <span id="chunk-456" class="transcript-chunks" onclick="console.log('00:29:30,366'); seek(1770.0)">
              application architecture, where the pattern was written,
            </span>
            
            <span id="chunk-457" class="transcript-chunks" onclick="console.log('00:29:34,310'); seek(1774.0)">
              there is no rollback method.
            </span>
            
            <span id="chunk-458" class="transcript-chunks" onclick="console.log('00:29:38,870'); seek(1778.0)">
              Let's understand what does pattern give us first,
            </span>
            
            <span id="chunk-459" class="transcript-chunks" onclick="console.log('00:29:42,204'); seek(1782.0)">
              that gives batch changes in the database,
            </span>
            
            <span id="chunk-460" class="transcript-chunks" onclick="console.log('00:29:45,682'); seek(1785.0)">
              which can be significantly faster than sending each change
            </span>
            
            <span id="chunk-461" class="transcript-chunks" onclick="console.log('00:29:49,264'); seek(1789.0)">
              individually. We can optimize insert by
            </span>
            
            <span id="chunk-462" class="transcript-chunks" onclick="console.log('00:29:52,800'); seek(1792.0)">
              insert into values with multiple rows and
            </span>
            
            <span id="chunk-463" class="transcript-chunks" onclick="console.log('00:29:56,784'); seek(1796.0)">
              other commands by removing network overhead on
            </span>
            
            <span id="chunk-464" class="transcript-chunks" onclick="console.log('00:30:00,592'); seek(1800.0)">
              each command sending. Also, we can only update
            </span>
            
            <span id="chunk-465" class="transcript-chunks" onclick="console.log('00:30:04,554'); seek(1804.0)">
              the changed data even if we change the
            </span>
            
            <span id="chunk-466" class="transcript-chunks" onclick="console.log('00:30:08,436'); seek(1808.0)">
              model several times.
            </span>
            
            <span id="chunk-467" class="transcript-chunks" onclick="console.log('00:30:11,170'); seek(1811.0)">
              The second, a business transaction can be long and
            </span>
            
            <span id="chunk-468" class="transcript-chunks" onclick="console.log('00:30:15,304'); seek(1815.0)">
              not depend on the database transaction.
            </span>
            
            <span id="chunk-469" class="transcript-chunks" onclick="console.log('00:30:18,870'); seek(1818.0)">
              And the last one, our update is atomic.
            </span>
            
            <span id="chunk-470" class="transcript-chunks" onclick="console.log('00:30:23,350'); seek(1823.0)">
              What are disadvantages? First, we can't use a
            </span>
            
            <span id="chunk-471" class="transcript-chunks" onclick="console.log('00:30:26,972'); seek(1826.0)">
              pessimistic log. Sorry, we can, but we lose
            </span>
            
            <span id="chunk-472" class="transcript-chunks" onclick="console.log('00:30:30,434'); seek(1830.0)">
              the ability of a long business transaction because the optimistic
            </span>
            
            <span id="chunk-473" class="transcript-chunks" onclick="console.log('00:30:34,002'); seek(1834.0)">
              log uses database transactions. Second is
            </span>
            
            <span id="chunk-474" class="transcript-chunks" onclick="console.log('00:30:37,788'); seek(1837.0)">
              complexity. At the first view,
            </span>
            
            <span id="chunk-475" class="transcript-chunks" onclick="console.log('00:30:40,880'); seek(1840.0)">
              the pattern interface is simple, but the implementation is
            </span>
            
            <span id="chunk-476" class="transcript-chunks" onclick="console.log('00:30:45,136'); seek(1845.0)">
              not let's present the UML class diagram
            </span>
            
            <span id="chunk-477" class="transcript-chunks" onclick="console.log('00:30:48,550'); seek(1848.0)">
              of the pattern. The first block is our pattern.
            </span>
            
            <span id="chunk-478" class="transcript-chunks" onclick="console.log('00:30:52,050'); seek(1852.0)">
              The next block is the identity map pattern which stores our
            </span>
            
            <span id="chunk-479" class="transcript-chunks" onclick="console.log('00:30:56,212'); seek(1856.0)">
              models after they are registered in the sum
            </span>
            
            <span id="chunk-480" class="transcript-chunks" onclick="console.log('00:30:59,498'); seek(1859.0)">
              state, new, clean, dirty or deleted.
            </span>
            
            <span id="chunk-481" class="transcript-chunks" onclick="console.log('00:31:02,986'); seek(1862.0)">
              Further, we have classes to work with. Database transaction I
            </span>
            
            <span id="chunk-482" class="transcript-chunks" onclick="console.log('00:31:07,272'); seek(1867.0)">
              prefer to replace it with an interface to unchain
            </span>
            
            <span id="chunk-483" class="transcript-chunks" onclick="console.log('00:31:11,102'); seek(1871.0)">
              from the database. The interface help us to
            </span>
            
            <span id="chunk-484" class="transcript-chunks" onclick="console.log('00:31:14,792'); seek(1874.0)">
              use the transaction management which we wrote.
            </span>
            
            <span id="chunk-485" class="transcript-chunks" onclick="console.log('00:31:18,250'); seek(1878.0)">
              The next part of the pattern is mapper register which
            </span>
            
            <span id="chunk-486" class="transcript-chunks" onclick="console.log('00:31:22,076'); seek(1882.0)">
              returns a suitable data mapper for a model. And data mapper
            </span>
            
            <span id="chunk-487" class="transcript-chunks" onclick="console.log('00:31:26,402'); seek(1886.0)">
              is a pattern which maps data from models to database
            </span>
            
            <span id="chunk-488" class="transcript-chunks" onclick="console.log('00:31:30,022'); seek(1890.0)">
              view and vice versa. Some implementations of data
            </span>
            
            <span id="chunk-489" class="transcript-chunks" onclick="console.log('00:31:33,712'); seek(1893.0)">
              Maple in other languages use reflection to work
            </span>
            
            <span id="chunk-490" class="transcript-chunks" onclick="console.log('00:31:37,136'); seek(1897.0)">
              with any model and they support configuration
            </span>
            
            <span id="chunk-491" class="transcript-chunks" onclick="console.log('00:31:40,934'); seek(1900.0)">
              by YAML, XML annotations and
            </span>
            
            <span id="chunk-492" class="transcript-chunks" onclick="console.log('00:31:45,344'); seek(1905.0)">
              ETCA. Additionally, if you want to implement the pattern,
            </span>
            
            <span id="chunk-493" class="transcript-chunks" onclick="console.log('00:31:49,658'); seek(1909.0)">
              you should remember a problem with Avito increment
            </span>
            
            <span id="chunk-494" class="transcript-chunks" onclick="console.log('00:31:53,230'); seek(1913.0)">
              identifiers. The application can get
            </span>
            
            <span id="chunk-495" class="transcript-chunks" onclick="console.log('00:31:57,064'); seek(1917.0)">
              the identifiers only after the saving data in
            </span>
            
            <span id="chunk-496" class="transcript-chunks" onclick="console.log('00:32:01,048'); seek(1921.0)">
              the database. You can use generic identifiers
            </span>
            
            <span id="chunk-497" class="transcript-chunks" onclick="console.log('00:32:04,686'); seek(1924.0)">
              on the app site as a simple solution,
            </span>
            
            <span id="chunk-498" class="transcript-chunks" onclick="console.log('00:32:08,650'); seek(1928.0)">
              we finish with depicting the UML
            </span>
            
            <span id="chunk-499" class="transcript-chunks" onclick="console.log('00:32:12,690'); seek(1932.0)">
              cases diagram. Next, let's see the
            </span>
            
            <span id="chunk-500" class="transcript-chunks" onclick="console.log('00:32:16,572'); seek(1936.0)">
              example. Order and product are our models
            </span>
            
            <span id="chunk-501" class="transcript-chunks" onclick="console.log('00:32:20,822'); seek(1940.0)">
              and the pattern coordinates the saving of their changes.
            </span>
            
            <span id="chunk-502" class="transcript-chunks" onclick="console.log('00:32:25,230'); seek(1945.0)">
              Order function is our business transaction.
            </span>
            
            <span id="chunk-503" class="transcript-chunks" onclick="console.log('00:32:28,598'); seek(1948.0)">
              We check if the user exists in the external service.
            </span>
            
            <span id="chunk-504" class="transcript-chunks" onclick="console.log('00:32:32,436'); seek(1952.0)">
              Then we create a new order and mark it as
            </span>
            
            <span id="chunk-505" class="transcript-chunks" onclick="console.log('00:32:35,556'); seek(1955.0)">
              new. After that we get and marks product as clean.
            </span>
            
            <span id="chunk-506" class="transcript-chunks" onclick="console.log('00:32:39,620'); seek(1959.0)">
              Then we write off the product from our warehouse
            </span>
            
            <span id="chunk-507" class="transcript-chunks" onclick="console.log('00:32:43,806'); seek(1963.0)">
              and mark it as dirty or updated.
            </span>
            
            <span id="chunk-508" class="transcript-chunks" onclick="console.log('00:32:47,278'); seek(1967.0)">
              And finally we commit changes to save it in the database.
            </span>
            
            <span id="chunk-509" class="transcript-chunks" onclick="console.log('00:32:52,150'); seek(1972.0)">
              On the slide you see the sequence diagram. For our
            </span>
            
            <span id="chunk-510" class="transcript-chunks" onclick="console.log('00:32:55,756'); seek(1975.0)">
              use case we get mark, change and save data.
            </span>
            
            <span id="chunk-511" class="transcript-chunks" onclick="console.log('00:32:59,788'); seek(1979.0)">
              However, the most interesting part is hidden
            </span>
            
            <span id="chunk-512" class="transcript-chunks" onclick="console.log('00:33:02,962'); seek(1982.0)">
              in the commit call because all magic happens there.
            </span>
            
            <span id="chunk-513" class="transcript-chunks" onclick="console.log('00:33:07,210'); seek(1987.0)">
              When we call the commit we create a
            </span>
            
            <span id="chunk-514" class="transcript-chunks" onclick="console.log('00:33:10,352'); seek(1990.0)">
              database transaction. Then we get the data mapper
            </span>
            
            <span id="chunk-515" class="transcript-chunks" onclick="console.log('00:33:14,422'); seek(1994.0)">
              for a model. In our use case it
            </span>
            
            <span id="chunk-516" class="transcript-chunks" onclick="console.log('00:33:17,632'); seek(1997.0)">
              is the order. After that the code execute
            </span>
            
            <span id="chunk-517" class="transcript-chunks" onclick="console.log('00:33:22,378'); seek(2002.0)">
              batch changes in database.
            </span>
            
            <span id="chunk-518" class="transcript-chunks" onclick="console.log('00:33:25,866'); seek(2005.0)">
              Finally we commit the transaction.
            </span>
            
            <span id="chunk-519" class="transcript-chunks" onclick="console.log('00:33:29,250'); seek(2009.0)">
              I hope I have explained the unit of fork pattern and
            </span>
            
            <span id="chunk-520" class="transcript-chunks" onclick="console.log('00:33:33,572'); seek(2013.0)">
              shown its complexity.
            </span>
            
            <span id="chunk-521" class="transcript-chunks" onclick="console.log('00:33:36,150'); seek(2016.0)">
              Fortunately, we can simplify it to the interface.
            </span>
            
            <span id="chunk-522" class="transcript-chunks" onclick="console.log('00:33:39,582'); seek(2019.0)">
              On the slide we remove identity map mapper, register and
            </span>
            
            <span id="chunk-523" class="transcript-chunks" onclick="console.log('00:33:44,136'); seek(2024.0)">
              data mapper patterns. The implementation still
            </span>
            
            <span id="chunk-524" class="transcript-chunks" onclick="console.log('00:33:47,884'); seek(2027.0)">
              has a long business transaction and atomic update,
            </span>
            
            <span id="chunk-525" class="transcript-chunks" onclick="console.log('00:33:51,154'); seek(2031.0)">
              but this is bad updates because we work
            </span>
            
            <span id="chunk-526" class="transcript-chunks" onclick="console.log('00:33:54,956'); seek(2034.0)">
              with a callback function and in. Additionally,
            </span>
            
            <span id="chunk-527" class="transcript-chunks" onclick="console.log('00:33:58,534'); seek(2038.0)">
              the model will be updated multiple times instead
            </span>
            
            <span id="chunk-528" class="transcript-chunks" onclick="console.log('00:34:02,096'); seek(2042.0)">
              of once. That means if we add three
            </span>
            
            <span id="chunk-529" class="transcript-chunks" onclick="console.log('00:34:06,080'); seek(2046.0)">
              commas updating the same model, we send
            </span>
            
            <span id="chunk-530" class="transcript-chunks" onclick="console.log('00:34:09,616'); seek(2049.0)">
              three queries in a database.
            </span>
            
            <span id="chunk-531" class="transcript-chunks" onclick="console.log('00:34:12,442'); seek(2052.0)">
              However, the original implementation optimized that.
            </span>
            
            <span id="chunk-532" class="transcript-chunks" onclick="console.log('00:34:16,692'); seek(2056.0)">
              Nevertheless, the implementations even fits in
            </span>
            
            <span id="chunk-533" class="transcript-chunks" onclick="console.log('00:34:19,908'); seek(2059.0)">
              two slides. We use callback function as
            </span>
            
            <span id="chunk-534" class="transcript-chunks" onclick="console.log('00:34:24,136'); seek(2064.0)">
              comments, register methods save comments in
            </span>
            
            <span id="chunk-535" class="transcript-chunks" onclick="console.log('00:34:27,896'); seek(2067.0)">
              list. The comment is
            </span>
            
            <span id="chunk-536" class="transcript-chunks" onclick="console.log('00:34:31,880'); seek(2071.0)">
              a part of the data mapper which we simplify
            </span>
            
            <span id="chunk-537" class="transcript-chunks" onclick="console.log('00:34:35,694'); seek(2075.0)">
              when our business transaction is finished, we call
            </span>
            
            <span id="chunk-538" class="transcript-chunks" onclick="console.log('00:34:40,268'); seek(2080.0)">
              all comments in the comment method.
            </span>
            
            <span id="chunk-539" class="transcript-chunks" onclick="console.log('00:34:44,490'); seek(2084.0)">
              Also, we can replace comments on queries or
            </span>
            
            <span id="chunk-540" class="transcript-chunks" onclick="console.log('00:34:48,064'); seek(2088.0)">
              operations of some databases, so we
            </span>
            
            <span id="chunk-541" class="transcript-chunks" onclick="console.log('00:34:52,224'); seek(2092.0)">
              return batch updates. Then we add the
            </span>
            
            <span id="chunk-542" class="transcript-chunks" onclick="console.log('00:34:56,016'); seek(2096.0)">
              interface DB runner to send queries to
            </span>
            
            <span id="chunk-543" class="transcript-chunks" onclick="console.log('00:35:00,064'); seek(2100.0)">
              a database as batch data.
            </span>
            
            <span id="chunk-544" class="transcript-chunks" onclick="console.log('00:35:04,290'); seek(2104.0)">
              However, the model will still be updated multiple times instead of
            </span>
            
            <span id="chunk-545" class="transcript-chunks" onclick="console.log('00:35:08,068'); seek(2108.0)">
              just once and we have a problem with after increment
            </span>
            
            <span id="chunk-546" class="transcript-chunks" onclick="console.log('00:35:12,154'); seek(2112.0)">
              entities. The next step is a complete
            </span>
            
            <span id="chunk-547" class="transcript-chunks" onclick="console.log('00:35:15,864'); seek(2115.0)">
              unit of work pattern with blackjack, an identity
            </span>
            
            <span id="chunk-548" class="transcript-chunks" onclick="console.log('00:35:19,038'); seek(2119.0)">
              map, a fully implemented data mapper and a mapper
            </span>
            
            <span id="chunk-549" class="transcript-chunks" onclick="console.log('00:35:23,022'); seek(2123.0)">
              registry. Unfortunately, there is
            </span>
            
            <span id="chunk-550" class="transcript-chunks" onclick="console.log('00:35:26,172'); seek(2126.0)">
              no ready library where we need to add only
            </span>
            
            <span id="chunk-551" class="transcript-chunks" onclick="console.log('00:35:29,996'); seek(2129.0)">
              the data mapper for our mobile. However,
            </span>
            
            <span id="chunk-552" class="transcript-chunks" onclick="console.log('00:35:33,770'); seek(2133.0)">
              the library with the name works tries to solve that problem
            </span>
            
            <span id="chunk-553" class="transcript-chunks" onclick="console.log('00:35:37,770'); seek(2137.0)">
              for SQL databases. Also you can help the go
            </span>
            
            <span id="chunk-554" class="transcript-chunks" onclick="console.log('00:35:41,852'); seek(2141.0)">
              community and implement the universal unit
            </span>
            
            <span id="chunk-555" class="transcript-chunks" onclick="console.log('00:35:45,318'); seek(2145.0)">
              of work pattern. In conclusion, I want to remember
            </span>
            
            <span id="chunk-556" class="transcript-chunks" onclick="console.log('00:35:49,328'); seek(2149.0)">
              what we have passed. The first is a repository. It is
            </span>
            
            <span id="chunk-557" class="transcript-chunks" onclick="console.log('00:35:53,172'); seek(2153.0)">
              used if your application grows and data in the application standing
            </span>
            
            <span id="chunk-558" class="transcript-chunks" onclick="console.log('00:35:57,482'); seek(2157.0)">
              differs from the database view. Then we use
            </span>
            
            <span id="chunk-559" class="transcript-chunks" onclick="console.log('00:36:01,396'); seek(2161.0)">
              the transaction manager to have nested transaction use cases
            </span>
            
            <span id="chunk-560" class="transcript-chunks" onclick="console.log('00:36:05,258'); seek(2165.0)">
              and hides knowledge about transaction in them.
            </span>
            
            <span id="chunk-561" class="transcript-chunks" onclick="console.log('00:36:09,250'); seek(2169.0)">
              And finally, if you want a long business transaction,
            </span>
            
            <span id="chunk-562" class="transcript-chunks" onclick="console.log('00:36:13,770'); seek(2173.0)">
              the unit of war is your solution.
            </span>
            
            <span id="chunk-563" class="transcript-chunks" onclick="console.log('00:36:17,770'); seek(2177.0)">
              Thank you for your attention. The source code of
            </span>
            
            <span id="chunk-564" class="transcript-chunks" onclick="console.log('00:36:20,972'); seek(2180.0)">
              examples and libraries access by second
            </span>
            
            <span id="chunk-565" class="transcript-chunks" onclick="console.log('00:36:24,844'); seek(2184.0)">
              link and please press the like button
            </span>
            
            <span id="chunk-566" class="transcript-chunks" onclick="console.log('00:36:28,284'); seek(2188.0)">
              if the presentation was helpful for you or
            </span>
            
            <span id="chunk-567" class="transcript-chunks" onclick="console.log('00:36:31,420'); seek(2191.0)">
              write comments if I missed something and
            </span>
            
            <span id="chunk-568" class="transcript-chunks" onclick="console.log('00:36:35,276'); seek(2195.0)">
              simple writing of business logic. Good luck.
            </span>
            
            </div>
          </div>
          
          

          
          <div class="col-12 mb-5">
            <h3>
              Slides
            </h3>
            <iframe src="https://conf42.github.io/static/slides/Conf42%20Golang%202023%20-%20Ilia%20Sergunin.pdf" width="100%" height="500px"></iframe>
            <a href="https://conf42.github.io/static/slides/Conf42%20Golang%202023%20-%20Ilia%20Sergunin.pdf" class="btn btn-xs btn-info shadow lift" style="background-color: #881E4B;" target="_blank">
              <i class="fe fe-paperclip me-2"></i>
              Download slides (PDF)
            </a>
          </div>
          

          <div class="col-12 mb-2 text-center">
            <div class="text-center mb-5">
              <a href="https://www.conf42.com/golang2023" class="btn btn-sm btn-danger shadow lift" style="background-color: #881E4B;">
                <i class="fe fe-grid me-2"></i>
                See all 17 talks at this event!
              </a>
            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- PHOTO -->
    <section class="pt-8 pb-6">
      <div class="container">

        <div class="row align-items-center">
          <div class="col-12 col-md-6 col-lg-7">

            <div class="mb-8 mb-md-0">

              <!-- Image -->
              <img src="https://conf42.github.io/static/headshots/golang_ilia_sergunin.png" alt="..." class="screenshot img-fluid mw-md-110 float-end me-md-6 mb-6 mb-md-0">

            </div>

          </div>
          <div class="col-12 col-md-6 col-lg-5">

            <!-- List -->
            <div class="d-flex">

              <!-- Body -->
              <div class="ms-5">

                <!-- Author 1 -->
                <h2 class="me-2">
                  Ilia Sergunin
                </h2>
                <h3 class="me-2">
                  <span class="text-muted">
                    Senior Software Engineer @ Avito
                  </span>
                </h3>

                <p class="text-uppercase text-muted me-2 mb-3">
                  
                  <a href="https://www.linkedin.com/in/iliasergunin/" target="_blank" class="mr-3">
                    <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Ilia Sergunin's LinkedIn account" />
                  </a>
                  
                  
                </p>
                

                <br />

                <a
                  href="https://twitter.com/share?ref_src=twsrc%5Etfw"
                  class="twitter-share-button"

                  data-text="Check out this talk by Ilia Sergunin"
                  data-url="https://www.conf42.com/golang2023"
                  data-via="conf42com"
                  data-related=""
                  data-show-count="false"
                >
                  Tweet
                </a>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

                <br />

                <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
                <script type="IN/Share" data-url="https://www.conf42.com/golang2023"></script>
              </div>

            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>






    <!-- WELCOME -->
    <section class="pt-8 pt-md-11 pb-10 pb-md-15 bg-info" id="register">

      <!-- Shape -->
      <div class="shape shape-blur-3 text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>      </div>

      <!-- Content -->
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 col-md-10 col-lg-8 text-center">

            <!-- Heading -->
            <h1 class="display-2 text-white">
              Join the community!
            </h1>

            <!-- Text -->
            <p class="lead text-white text-opacity-80 mb-6 mb-md-8">
              Learn for free, join the best tech learning community 
              for a <a class="text-white" href="https://www.reddit.com/r/sanfrancisco/comments/1bz90f6/why_are_coffee_shops_in_sf_so_expensive/" target="_blank">price of a pumpkin latte</a>.
            </p>

            <!-- Form -->
            <form class="d-flex align-items-center justify-content-center mb-7 mb-md-9">

              <!-- Label -->
              <span class="text-white text-opacity-80">
                Annual
              </span>

              <!-- Switch -->
              <div class="form-check form-check-dark form-switch mx-3">
                <input class="form-check-input" type="checkbox" id="billingSwitch" data-toggle="price" data-target=".price">
              </div>

              <!-- Label -->
              <span class="text-white text-opacity-80">
                Monthly
              </span>

            </form>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->

    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- PRICING -->
    <section class="mt-n8 mt-md-n15">
      <div class="container">
        <div class="row gx-4">
          <div class="col-12 col-md-6">

            <!-- Card -->
            <div class="card shadow-lg mb-6 mb-md-1">
              <div class="card-body">

                <!-- Preheading -->
                <div class="text-center mb-3">
                  <span class="badge rounded-pill bg-primary-soft">
                    <span class="h6 text-uppercase">Newsletter</span>
                  </span>
                </div>

                <!-- Price -->
                <div class="d-flex justify-content-center">
                  <span class="h2 mb-0 mt-2">$</span>
                  <span class="price display-2 mb-0" data-annual="0" data-monthly="0">0</span>
                  <span class="h2 align-self-end mb-1">/mo</span>
                </div>

                <!-- Text -->
                <p class="text-center text-muted mb-5">
                </p>

              
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Event notifications, weekly newsletter
                  </p>
                </div>
              
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <b>Delayed access</b> to all content
                  </p>
                </div>
              
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Immediate access to Keynotes & Panels
                  </p>
                </div>
              
              
              </div>
            </div>

            <!-- Card -->
            <div class="card shadow-lg mb-6 border border-success">
              <div class="card-body">

                <script>
    function gtag_report_conversion(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.location = url;
        }
      };
      gtag('event', 'conversion', {
          'send_to': 'AW-882275635/jLVTCPbt1N8CELPq2aQD',
          'event_callback': callback
      });
      return false;
    }
</script>

<!-- Form -->
<link rel="stylesheet" href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css">
<p class="emailoctopus-success-message text-success"></p>
<p class="emailoctopus-error-message text-danger"></p>
<form
    action="https://emailoctopus.com/lists/a3ba0cb5-7524-11eb-a3d0-06b4694bee2a/members/embedded/1.3/add"
    method="post"
    data-message-success="Thanks! Check your email for further directions!"
    data-message-missing-email-address="Your email address is required."
    data-message-invalid-email-address="Your email address looks incorrect, please try again."
    data-message-bot-submission-error="This doesn't look like a human submission."
    data-message-consent-required="Please check the checkbox to indicate your consent."
    data-message-invalid-parameters-error="This form has missing or invalid fields."
    data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
    class="emailoctopus-form"
    data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
>
<div class="form-floating emailoctopus-form-row">
    <input type="email" class="form-control form-control-flush" name="field_0" id="field_0" placeholder="Email" required>
    <label for="field_0">Email address</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_1" id="field_1" placeholder="First Name" required>
    <label for="field_1">First Name</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_2" id="field_2" placeholder="Last Name" required>
    <label for="field_2">Last Name</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_4" id="field_4" placeholder="Company" required>
    <label for="field_4">Company</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_5" id="field_5" placeholder="Job Title" required>
    <label for="field_5">Job Title</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <input type="text" class="form-control form-control-flush" name="field_3" id="field_3" placeholder="Phone">
    <label for="field_3">Phone Number</label>
</div>
<div class="form-floating emailoctopus-form-row">
    <select type="text" class="form-control form-control-flush" name="field_7" id="country-source" required
    oninput="updateCountry()"
    >
    <!-- Country names and Country Name -->
    <option value="">Please select your country</option>
    <option value="Afghanistan">Afghanistan</option>
    <option value="Aland Islands">Aland Islands</option>
    <option value="Albania">Albania</option>
    <option value="Algeria">Algeria</option>
    <option value="American Samoa">American Samoa</option>
    <option value="Andorra">Andorra</option>
    <option value="Angola">Angola</option>
    <option value="Anguilla">Anguilla</option>
    <option value="Antarctica">Antarctica</option>
    <option value="Antigua and Barbuda">Antigua and Barbuda</option>
    <option value="Argentina">Argentina</option>
    <option value="Armenia">Armenia</option>
    <option value="Aruba">Aruba</option>
    <option value="Australia">Australia</option>
    <option value="Austria">Austria</option>
    <option value="Azerbaijan">Azerbaijan</option>
    <option value="Bahamas">Bahamas</option>
    <option value="Bahrain">Bahrain</option>
    <option value="Bangladesh">Bangladesh</option>
    <option value="Barbados">Barbados</option>
    <option value="Belarus">Belarus</option>
    <option value="Belgium">Belgium</option>
    <option value="Belize">Belize</option>
    <option value="Benin">Benin</option>
    <option value="Bermuda">Bermuda</option>
    <option value="Bhutan">Bhutan</option>
    <option value="Bolivia">Bolivia</option>
    <option value="Bonaire, Sint Eustatius and Saba">Bonaire, Sint Eustatius and Saba</option>
    <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
    <option value="Botswana">Botswana</option>
    <option value="Bouvet Island">Bouvet Island</option>
    <option value="Brazil">Brazil</option>
    <option value="British Indian Ocean Territory">British Indian Ocean Territory</option>
    <option value="Brunei Darussalam">Brunei Darussalam</option>
    <option value="Bulgaria">Bulgaria</option>
    <option value="Burkina Faso">Burkina Faso</option>
    <option value="Burundi">Burundi</option>
    <option value="Cambodia">Cambodia</option>
    <option value="Cameroon">Cameroon</option>
    <option value="Canada">Canada</option>
    <option value="Cape Verde">Cape Verde</option>
    <option value="Cayman Islands">Cayman Islands</option>
    <option value="Central African Republic">Central African Republic</option>
    <option value="Chad">Chad</option>
    <option value="Chile">Chile</option>
    <option value="China">China</option>
    <option value="Christmas Island">Christmas Island</option>
    <option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
    <option value="Colombia">Colombia</option>
    <option value="Comoros">Comoros</option>
    <option value="Congo">Congo</option>
    <option value="Congo, Democratic Republic of the Congo">Congo, Democratic Republic of the Congo</option>
    <option value="Cook Islands">Cook Islands</option>
    <option value="Costa Rica">Costa Rica</option>
    <option value="Cote D'Ivoire">Cote D'Ivoire</option>
    <option value="Croatia">Croatia</option>
    <option value="Cuba">Cuba</option>
    <option value="Curacao">Curacao</option>
    <option value="Cyprus">Cyprus</option>
    <option value="Czech Republic">Czech Republic</option>
    <option value="Denmark">Denmark</option>
    <option value="Djibouti">Djibouti</option>
    <option value="Dominica">Dominica</option>
    <option value="Dominican Republic">Dominican Republic</option>
    <option value="Ecuador">Ecuador</option>
    <option value="Egypt">Egypt</option>
    <option value="El Salvador">El Salvador</option>
    <option value="Equatorial Guinea">Equatorial Guinea</option>
    <option value="Eritrea">Eritrea</option>
    <option value="Estonia">Estonia</option>
    <option value="Ethiopia">Ethiopia</option>
    <option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
    <option value="Faroe Islands">Faroe Islands</option>
    <option value="Fiji">Fiji</option>
    <option value="Finland">Finland</option>
    <option value="France">France</option>
    <option value="French Guiana">French Guiana</option>
    <option value="French Polynesia">French Polynesia</option>
    <option value="French Southern Territories">French Southern Territories</option>
    <option value="Gabon">Gabon</option>
    <option value="Gambia">Gambia</option>
    <option value="Georgia">Georgia</option>
    <option value="Germany">Germany</option>
    <option value="Ghana">Ghana</option>
    <option value="Gibraltar">Gibraltar</option>
    <option value="Greece">Greece</option>
    <option value="Greenland">Greenland</option>
    <option value="Grenada">Grenada</option>
    <option value="Guadeloupe">Guadeloupe</option>
    <option value="Guam">Guam</option>
    <option value="Guatemala">Guatemala</option>
    <option value="Guernsey">Guernsey</option>
    <option value="Guinea">Guinea</option>
    <option value="Guinea-Bissau">Guinea-Bissau</option>
    <option value="Guyana">Guyana</option>
    <option value="Haiti">Haiti</option>
    <option value="Heard Island and Mcdonald Islands">Heard Island and Mcdonald Islands</option>
    <option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
    <option value="Honduras">Honduras</option>
    <option value="Hong Kong">Hong Kong</option>
    <option value="Hungary">Hungary</option>
    <option value="Iceland">Iceland</option>
    <option value="India">India</option>
    <option value="Indonesia">Indonesia</option>
    <option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
    <option value="Iraq">Iraq</option>
    <option value="Ireland">Ireland</option>
    <option value="Isle of Man">Isle of Man</option>
    <option value="Israel">Israel</option>
    <option value="Italy">Italy</option>
    <option value="Jamaica">Jamaica</option>
    <option value="Japan">Japan</option>
    <option value="Jersey">Jersey</option>
    <option value="Jordan">Jordan</option>
    <option value="Kazakhstan">Kazakhstan</option>
    <option value="Kenya">Kenya</option>
    <option value="Kiribati">Kiribati</option>
    <option value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
    <option value="Korea, Republic of">Korea, Republic of</option>
    <option value="Kosovo">Kosovo</option>
    <option value="Kuwait">Kuwait</option>
    <option value="Kyrgyzstan">Kyrgyzstan</option>
    <option value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
    <option value="Latvia">Latvia</option>
    <option value="Lebanon">Lebanon</option>
    <option value="Lesotho">Lesotho</option>
    <option value="Liberia">Liberia</option>
    <option value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option>
    <option value="Liechtenstein">Liechtenstein</option>
    <option value="Lithuania">Lithuania</option>
    <option value="Luxembourg">Luxembourg</option>
    <option value="Macao">Macao</option>
    <option value="Macedonia, the Former Yugoslav Republic of">Macedonia, the Former Yugoslav Republic of</option>
    <option value="Madagascar">Madagascar</option>
    <option value="Malawi">Malawi</option>
    <option value="Malaysia">Malaysia</option>
    <option value="Maldives">Maldives</option>
    <option value="Mali">Mali</option>
    <option value="Malta">Malta</option>
    <option value="Marshall Islands">Marshall Islands</option>
    <option value="Martinique">Martinique</option>
    <option value="Mauritania">Mauritania</option>
    <option value="Mauritius">Mauritius</option>
    <option value="Mayotte">Mayotte</option>
    <option value="Mexico">Mexico</option>
    <option value="Micronesia, Federated States of">Micronesia, Federated States of</option>
    <option value="Moldova, Republic of">Moldova, Republic of</option>
    <option value="Monaco">Monaco</option>
    <option value="Mongolia">Mongolia</option>
    <option value="Montenegro">Montenegro</option>
    <option value="Montserrat">Montserrat</option>
    <option value="Morocco">Morocco</option>
    <option value="Mozambique">Mozambique</option>
    <option value="Myanmar">Myanmar</option>
    <option value="Namibia">Namibia</option>
    <option value="Nauru">Nauru</option>
    <option value="Nepal">Nepal</option>
    <option value="Netherlands">Netherlands</option>
    <option value="Netherlands Antilles">Netherlands Antilles</option>
    <option value="New Caledonia">New Caledonia</option>
    <option value="New Zealand">New Zealand</option>
    <option value="Nicaragua">Nicaragua</option>
    <option value="Niger">Niger</option>
    <option value="Nigeria">Nigeria</option>
    <option value="Niue">Niue</option>
    <option value="Norfolk Island">Norfolk Island</option>
    <option value="Northern Mariana Islands">Northern Mariana Islands</option>
    <option value="Norway">Norway</option>
    <option value="Oman">Oman</option>
    <option value="Pakistan">Pakistan</option>
    <option value="Palau">Palau</option>
    <option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option>
    <option value="Panama">Panama</option>
    <option value="Papua New Guinea">Papua New Guinea</option>
    <option value="Paraguay">Paraguay</option>
    <option value="Peru">Peru</option>
    <option value="Philippines">Philippines</option>
    <option value="Pitcairn">Pitcairn</option>
    <option value="Poland">Poland</option>
    <option value="Portugal">Portugal</option>
    <option value="Puerto Rico">Puerto Rico</option>
    <option value="Qatar">Qatar</option>
    <option value="Reunion">Reunion</option>
    <option value="Romania">Romania</option>
    <option value="Russian Federation">Russian Federation</option>
    <option value="Rwanda">Rwanda</option>
    <option value="Saint Barthelemy">Saint Barthelemy</option>
    <option value="Saint Helena">Saint Helena</option>
    <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
    <option value="Saint Lucia">Saint Lucia</option>
    <option value="Saint Martin">Saint Martin</option>
    <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
    <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
    <option value="Samoa">Samoa</option>
    <option value="San Marino">San Marino</option>
    <option value="Sao Tome and Principe">Sao Tome and Principe</option>
    <option value="Saudi Arabia">Saudi Arabia</option>
    <option value="Senegal">Senegal</option>
    <option value="Serbia">Serbia</option>
    <option value="Serbia and Montenegro">Serbia and Montenegro</option>
    <option value="Seychelles">Seychelles</option>
    <option value="Sierra Leone">Sierra Leone</option>
    <option value="Singapore">Singapore</option>
    <option value="Sint Maarten">Sint Maarten</option>
    <option value="Slovakia">Slovakia</option>
    <option value="Slovenia">Slovenia</option>
    <option value="Solomon Islands">Solomon Islands</option>
    <option value="Somalia">Somalia</option>
    <option value="South Africa">South Africa</option>
    <option value="South Georgia and the South Sandwich Islands">South Georgia and the South Sandwich Islands</option>
    <option value="South Sudan">South Sudan</option>
    <option value="Spain">Spain</option>
    <option value="Sri Lanka">Sri Lanka</option>
    <option value="Sudan">Sudan</option>
    <option value="Suriname">Suriname</option>
    <option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
    <option value="Swaziland">Swaziland</option>
    <option value="Sweden">Sweden</option>
    <option value="Switzerland">Switzerland</option>
    <option value="Syrian Arab Republic">Syrian Arab Republic</option>
    <option value="Taiwan, Province of China">Taiwan, Province of China</option>
    <option value="Tajikistan">Tajikistan</option>
    <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
    <option value="Thailand">Thailand</option>
    <option value="Timor-Leste">Timor-Leste</option>
    <option value="Togo">Togo</option>
    <option value="Tokelau">Tokelau</option>
    <option value="Tonga">Tonga</option>
    <option value="Trinidad and Tobago">Trinidad and Tobago</option>
    <option value="Tunisia">Tunisia</option>
    <option value="Turkey">Turkey</option>
    <option value="Turkmenistan">Turkmenistan</option>
    <option value="Turks and Caicos Islands">Turks and Caicos Islands</option>
    <option value="Tuvalu">Tuvalu</option>
    <option value="Uganda">Uganda</option>
    <option value="Ukraine">Ukraine</option>
    <option value="United Arab Emirates">United Arab Emirates</option>
    <option value="United Kingdom">United Kingdom</option>
    <option value="United States">United States</option>
    <option value="United States Minor Outlying Islands">United States Minor Outlying Islands</option>
    <option value="Uruguay">Uruguay</option>
    <option value="Uzbekistan">Uzbekistan</option>
    <option value="Vanuatu">Vanuatu</option>
    <option value="Venezuela">Venezuela</option>
    <option value="Viet Nam">Viet Nam</option>
    <option value="Virgin Islands, British">Virgin Islands, British</option>
    <option value="Virgin Islands, U.s.">Virgin Islands, U.s.</option>
    <option value="Wallis and Futuna">Wallis and Futuna</option>
    <option value="Western Sahara">Western Sahara</option>
    <option value="Yemen">Yemen</option>
    <option value="Zambia">Zambia</option>
    <option value="Zimbabwe">Zimbabwe</option>
    </select>
    <label for="field_7">Country</label>
</div>
<input id="country-destination" name="field_7" type="hidden">
<input id="tz-country" name="field_8" type="hidden">

<input
    name="field_6"
    type="hidden"
    value="Golang"
>

<div class="emailoctopus-form-row-consent">
    <input
    type="checkbox"
    id="consent"
    name="consent"
    >
    <label for="consent">
    I consent to the following terms:
    </label>
    <a href="https://www.conf42.com/terms-and-conditions.pdf" target="_blank">
    Terms and Conditions
    </a>
    &amp;
    <a href="./code-of-conduct" target="_blank">
    Code of Conduct
    </a>
</div>
<div
    aria-hidden="true"
    class="emailoctopus-form-row-hp"
>
    <input
    type="text"
    name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
    tabindex="-1"
    autocomplete="nope"
    >
</div>
<div class="mt-6 emailoctopus-form-row-subscribe">
    <input
    type="hidden"
    name="successRedirectUrl"
    >
    <button class="btn w-100 btn-success lift" type="submit" onclick="gtag_report_conversion(); rdt('track', 'SignUp');">
    Subscribe to free newsletter <i class="fe fe-arrow-right ms-3"></i>
    </button>
</div>
</form>

<!-- <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js"></script> -->
<script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js"></script>

              </div>
            </div>
          </div>
          <div class="col-12 col-md-6">

            <!-- Card -->
            <div class="card shadow-lg mb-6 mb-md-0">
              <div class="card-body">

                <!-- Preheading -->
                <div class="text-center mb-3">
                  <span class="badge rounded-pill bg-primary-soft">
                    <span class="h6 text-uppercase">Community</span>
                  </span>
                </div>

                <!-- Price -->
                <div class="d-flex justify-content-center">
                  <span class="h2 mb-0 mt-2">$</span>
                  <span class="price display-2 mb-0" data-annual="8.34" data-monthly="10">8.34</span>
                  <span class="h2 align-self-end mb-1">/mo</span>
                </div>

                <!-- Text -->
                <p class="text-center text-muted mb-5">
                </p>

                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Access to <a href="https://conf42.circle.so/">Circle community platform</a>
                  </p>
                </div>

                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <b>Immediate access</b> to all content
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <a href="https://conf42.circle.so/c/live-events/" target="_blank"><b>Live events!</b></a>
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    <a href="https://conf42.circle.so/c/live-events/" target="_blank">Regular office hours, Q&As, CV reviews</a>
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Courses, quizes & certificates
                  </p>
                </div>
                
                <div class="d-flex">
                  <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                    <i class="fe fe-check"></i>
                  </div>
                  <p>
                    Community chats
                  </p>
                </div>
                

                <!-- Button -->
                <a href="https://conf42.circle.so/checkout/subscribe" class="btn w-100 btn-primary">
                  Join the community (7 day free trial)<i class="fe fe-arrow-right ms-3"></i>
                </a>

              </div>
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-dark">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- FOOTER -->
    <footer class="py-8 py-md-11 bg-dark">
      <div class="container">
        <div class="row">

          <div class="col-12 col-md-4 col-lg-3">
            <!-- Brand -->
            <img src="./assets/conf42/conf42_logo_white_small.png" alt="..." class="footer-brand img-fluid mb-2">
    
            <!-- Text -->
            <p class="text-gray-700 mb-2">
              Online tech events
            </p>
    
            <!-- Social -->
            <ul class="list-unstyled list-inline list-social mb-5">
              <li class="list-inline-item list-social-item me-3">
                <a href="https://www.linkedin.com/company/49110720/" class="text-decoration-none">
                  <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="...">
                </a>
              </li>
              <li class="list-inline-item list-social-item me-3">
                <a href="https://twitter.com/conf42com" class="text-decoration-none">
                  <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="...">
                </a>
              </li>
            </ul>

            <!-- QR Code -->
            <img src="./assets/conf42/CONF42.QR.png" style="width: 100px;" class="mb-5 img-fluid" />
          </div>


          <div class="col-12 col-md-4 col-lg-3">
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2025
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2025">
                  DevOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2025">
                  Python 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2025">
                  Chaos Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2025">
                  Cloud Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2025">
                  Large Language Models (LLMs) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2025">
                  Golang 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2025">
                  Site Reliability Engineering (SRE) 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2025">
                  Machine Learning 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2025">
                  Observability 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2025">
                  Quantum Computing 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2025">
                  Rustlang 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2025">
                  Platform Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mlops2025">
                  MLOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2025">
                  Incident Management 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2025">
                  Kube Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2025">
                  JavaScript 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2025">
                  Prompt Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/robotics2025">
                  Robotics 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2025">
                  DevSecOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2025">
                  Internet of Things (IoT) 2025
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2024
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2024">
                  DevOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2024">
                  Chaos Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2024">
                  Python 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2024">
                  Cloud Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2024">
                  Large Language Models (LLMs) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2024">
                  Golang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2024">
                  Site Reliability Engineering (SRE) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2024">
                  Machine Learning 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2024">
                  Observability 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2024">
                  Quantum Computing 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2024">
                  Rustlang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2024">
                  Platform Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2024">
                  Kube Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2024">
                  Incident Management 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2024">
                  JavaScript 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2024">
                  Prompt Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2024">
                  DevSecOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2024">
                  Internet of Things (IoT) 2024
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2023
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2023">
                  DevOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2023">
                  Chaos Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2023">
                  Python 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2023">
                  Cloud Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2023">
                  Golang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2023">
                  Site Reliability Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2023">
                  Machine Learning 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2023">
                  Observability 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2023">
                  Quantum Computing 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2023">
                  Rustlang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2023">
                  Platform Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2023">
                  Kube Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2023">
                  Incident Management 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2023">
                  JavaScript 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2023">
                  DevSecOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2023">
                  Internet of Things (IoT) 2023
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2022
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2022">
                  Python 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mobile2022">
                  Mobile 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2022">
                  Chaos Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2022">
                  Golang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2022">
                  Cloud Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2022">
                  Machine Learning 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2022">
                  Site Reliability Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2022">
                  Quantum Computing 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2022">
                  Rustlang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2022">
                  Incident Management 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2022">
                  Kube Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2022">
                  JavaScript 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2022">
                  DevSecOps 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/web2022">
                  Web 3.0 2022
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2021
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2021">
                  Chaos Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/enterprise2021">
                  Enterprise Software 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2021">
                  Cloud Native 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2021">
                  Python 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2021">
                  Golang 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2021">
                  Machine Learning 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2021">
                  Site Reliability Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2021">
                  JavaScript 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2021">
                  DevSecOps 2021
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2020
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2020">
                  Chaos Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/oss2020">
                  Open Source Showcase 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2020">
                  Site Reliability Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2020">
                  JavaScript 2020
                </a>
              </li>
            
            </ul>
          
          </div>

          
          <div class="col-12 col-md-4 offset-md-4 col-lg-3 offset-lg-0">

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Community
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./support" class="text-reset">
                  Support us
                </a>
              </li>
              <li class="mb-3">
                <a href="./speakers" class="text-reset">
                  Speakers
                </a>
              </li>
              <li class="mb-3">
                <a href="./hall-of-fame" class="text-reset">
                  Hall of fame
                </a>
              </li>
              <li class="mb-3">
                <a href="https://discord.gg/DnyHgrC7jC" class="text-reset" target="_blank">
                  Discord
                </a>
              </li>
              <li class="mb-3">
                <a href="./about" class="text-reset">
                  About the team
                </a>
              </li>
            </ul>

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Sponsors
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./sponsor" class="text-reset" target="_blank">
                  Sponsorship
                </a>
              </li>
              <li class="mb-3">
                <a href="mailto:mark@conf42.com?subject=We would like to sponsor" class="text-reset" target="_blank">
                  Request the Prospectus
                </a>
              </li>
              <li class="mb-3">
                <a href="https://drive.google.com/drive/folders/1tT2lspLQgj3sdfxG9FwDVkBUt-TYSPGe?usp=sharing" class="text-reset" target="_blank">
                  Media kit
                </a>
              </li>
            </ul>
    
          </div>


          <div class="col-12 col-md-4 col-lg-3">
    
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Legal
            </h6>
    
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./code-of-conduct" class="text-reset">
                  Code of Conduct
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/terms-and-conditions.pdf" class="text-reset" target="_blank">
                  Terms and Conditions
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/privacy-policy.pdf" class="text-reset" target="_blank">
                  Privacy policy
                </a>
              </li>
            </ul>
          </div>


        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </footer>

    <!-- JAVASCRIPT -->
    <!-- Map JS -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    
    <!-- Vendor JS -->
    <script src="./assets/js/vendor.bundle.js"></script>
    
    <!-- Theme JS -->
    <script src="./assets/js/theme.bundle.js"></script>

    <!-- Various JS -->
    <script src="./assets/js/various.js"></script>

    <script src='https://cdn.jsdelivr.net/npm/@widgetbot/crate@3' async defer>
      new Crate({
          notifications: true,
          indicator: true,
          server: '814240231606714368', // Conf42.com
          channel: '814240231788249115' // #community
      })
    </script>
  </body>
</html>