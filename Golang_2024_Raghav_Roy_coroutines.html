<!doctype html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-77190356-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-77190356-3');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css" />
    <link rel="stylesheet" href="./assets/css/libs.bundle.css" />
    <link rel="stylesheet" href="./assets/css/theme.bundle.css" />
    <link rel="stylesheet" href="./assets/css/various.css" />

    <title>Conf42: Coroutines and Go</title>
    <meta name="description" content="Say hello to the Gophers from outer space!">

    
    <meta name="image" property="og:image" content="https://www.conf42.com/assets/headshots/https://conf42.github.io/static/headshots/Raghav%20Roy_golang.png">
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Coroutines and Go | Conf42"/>
    <meta property="og:description" content="Go provides great primitives for concurrency, but Coroutines are a concurrency pattern not served natively. They are one of the oldest proposals of a general control abstraction, can we implement them using existing Go definitions? What changes can be made to the Go runtime for efficiency?"/>
    <meta property="og:url" content="https://conf42.com/Golang_2024_Raghav_Roy_coroutines"/>
    

    <link rel="shortcut icon" href="./assets/favicon/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="./assets/favicon/site.webmanifest">

    

  <!-- Reddit Pixel -->
  <script>
  !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt('init','a2_e019g7ndfhrm', {"optOut":false,"useDecimalCurrencyValues":true,"aaid":"<AAID-HERE>"});rdt('track', 'PageVisit');
  </script>
  <!-- DO NOT MODIFY UNLESS TO REPLACE A USER IDENTIFIER -->
  <!-- End Reddit Pixel -->

  </head>
  <body>

    <!-- NAVBAR -->
    
    <!-- <nav class="navbar navbar-expand-lg navbar-light bg-light"> -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    
      <div class="container">
    
        <!-- Brand -->
        <a class="navbar-brand" href="./">
          <img src="./assets/conf42/conf42_logo_black_small.png" class="navbar-brand-img" alt="...">
        </a>
    
        <!-- Toggler -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    
        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="navbarCollapse">
    
          <!-- Toggler -->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fe fe-x"></i>
          </button>
    
          <!-- Navigation -->
          <ul class="navbar-nav ms-auto">

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Events
              </a>
              <div class="dropdown-menu dropdown-menu-xl p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-6">
                    <!-- <div class="dropdown-img-start" style="background-image: url(./assets/splash/QUANTUM2024_Event_Splash.png);"> -->
                    <div class="dropdown-img-start">
                      <!-- Heading -->
                      <h4 class="fw-bold text-white mb-0">
                        Featured event
                      </h4>
                      <!-- Text -->
                      <p class="fs-sm text-white">
                        Quantum Computing 2024
                      </p>
                      <p class="fs-sm text-white">
                        Premiere 2024-06-27
                      </p>
                      <!-- Button -->
                      <a href="https://www.conf42.com/quantum2024" class="btn btn-sm btn-white shadow-dark fonFt-size-sm">
                        Learn more
                      </a>
                    </div>
                  </div>
                  <div class="col-12 col-lg-6">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
    
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2025
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2025">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2025">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2025">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2025">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2025">
                            Large Language Models (LLMs)
                          </a>
                          
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2024
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2024">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2024">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2024">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2024">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2024">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2024">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2024">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2024">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2024">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2024">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2024">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2024">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.sreday.com/">
                            SREday London
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2024">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2024">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2024">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2024">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.sreday.com/">
                            SREday Amsterdam
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2024">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2024">
                            Internet of Things (IoT)
                          </a>
                          
                        

                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            Info
                          </h6>
                          <a class="dropdown-item" href="./code-of-conduct">
                            Code of Conduct
                          </a>
    
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Community
              </a>
              <div class="dropdown-menu dropdown-menu-l p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-3">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
                          <a class="dropdown-item" href="./support">
                            Support us
                          </a>
                          <a class="dropdown-item" href="./hall-of-fame">
                            Hall of Fame
                          </a>
                          <a class="dropdown-item" href="./speakers">
                            Speakers
                          </a>
                          <a class="dropdown-item" href="https://www.papercall.io/events?cfps-scope=&keywords=conf42" target="_blank">
                            Become a speaker (CFPs)
                          </a>
                          <a class="dropdown-item" href="https://discord.gg/mvHyZzRGaQ" target="_blank">
                            Discord
                          </a>
                          <a class="dropdown-item" href="./testimonials">
                            Testimonials
                          </a>
                          <a class="dropdown-item" href="./about">
                            About the team
                          </a>
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./podcast">
                Podcast
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./blog">
                Blog
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./sponsor">
                Sponsor
              </a>
            </li>
          </ul>
    
          <!-- Button -->
          <a class="navbar-btn btn btn-sm btn-primary lift ms-auto" href="#register">
            Subscribe for FREE
          </a>
    
        </div>
    
      </div>
    </nav>



<style>
.text-selected {
  background-color: #42ba96!important;
  color: white;
}
</style>
	

    <!-- WELCOME -->
    <section class="py-5 py-md-10" style="background-color: #881E4B;">

      <!-- Shape -->
      <div class="shape shape-blur-3 svg-shim text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>
      </div>

      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 text-center" data-aos="fade-up">

            <!-- Heading -->
            <h1 class="display-2 fw-bold text-white">
              Conf42 Golang 2024 - Online
            </h1>

            <h2 class="text-white">
              
              <time datetime="2024-04-25">April 25 2024</time>
              
              
            </h2>

            <!-- Text -->
            <p class="lead mb-0 text-white-75">
              
              <!-- Say hello to the Gophers from outer space!
 -->
              <script>
                const event_date = new Date("2024-04-25T17:00:00.000+00:00");
                const local_timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const local_date = new Date("2024-04-25T17:00:00.000+00:00");
                // const local_offset = new Date().getTimezoneOffset() / 60;
                // local_date.setHours(local_date.getHours() + local_offset);
                document.getElementById("localtime").innerHTML = local_date + " in " + local_timezone
              </script>
            </p>

            <!-- Buttons -->
            <div class="text-center mt-5">
              
              <a href="#register" class="btn btn-primary shadow lift me-1 mb-3">
                <i class="fe fe-user-check me-2"></i>
                Subscribe to watch
              </a>
              
              
              <a class="btn btn-danger lift mb-3" data-bigpicture='{"ytSrc": "NqdDgxP7rsE"}' href="#">
                <i class="fe fe-youtube me-2"></i>
                Watch this talk
              </a>
              
              
              <a class="btn btn-info lift mb-3" data-bigpicture='{"ytSrc": "0y_ts8oh36o"}' href="#">
                <i class="fe fe-eye me-2"></i>
                Watch Premiere
              </a>
              
              <!-- 
              <a class="btn btn-danger lift mb-3" href="https://www.youtube.com/playlist?list=PLIuxSyKxlQrCPeN0GQy__eEHaihV8TVmY" target="_blank">
                <i class="fe fe-youtube me-2"></i>
                Playlist
              </a>
               -->
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>
      </div>
    </div>

    
    <!-- VIDEO -->
    <section class="pt-2 sticky">
      <div class="container">
        <div class="row justify-content-center">

          <div id="video-container" class="col-9 col-lg-12 mb-5">

          <!-- Video -->

            <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
            <div id="player" class="sticky"></div>

            <script>
              
              var transcript = [{"text": "Hi everyone, I\u0027m Raghav Roy, and today we\u0027ll be talking about coroutines", "timestamp": "00:00:20,560", "timestamp_s": 20.0}, {"text": "and go. A little bit about myself.", "timestamp": "00:00:24,334", "timestamp_s": 24.0}, {"text": "I\u0027m a software engineer at VMware. I work with the EsXi", "timestamp": "00:00:27,864", "timestamp_s": 27.0}, {"text": "hypervisor. When I\u0027m using Go is generally", "timestamp": "00:00:31,984", "timestamp_s": 31.0}, {"text": "on my personal projects or when I\u0027m contributing to open source,", "timestamp": "00:00:35,824", "timestamp_s": 35.0}, {"text": "something like kubernetes, maybe. So, just to set", "timestamp": "00:00:39,152", "timestamp_s": 39.0}, {"text": "the expectations of the talk a little bit, we\u0027re going to be covering coroutines", "timestamp": "00:00:42,472", "timestamp_s": 42.0}, {"text": "as generalized subroutines. So a little bit of", "timestamp": "00:00:46,992", "timestamp_s": 46.0}, {"text": "we\u0027ll cover a little bit of basics over there, how it all", "timestamp": "00:00:50,536", "timestamp_s": 50.0}, {"text": "started, where and how coroutines came to be classifying", "timestamp": "00:00:53,814", "timestamp_s": 53.0}, {"text": "coroutines, and why the concept of full coroutines is important,", "timestamp": "00:00:58,390", "timestamp_s": 58.0}, {"text": "and how some languages actually don\u0027t provide full coroutines.", "timestamp": "00:01:02,534", "timestamp_s": 62.0}, {"text": "Implementing coroutines in Go using just pure go definitions", "timestamp": "00:01:06,214", "timestamp_s": 66.0}, {"text": "and go semantics, and finally, some core runtime", "timestamp": "00:01:10,278", "timestamp_s": 70.0}, {"text": "changes that could be made to support coroutines", "timestamp": "00:01:14,134", "timestamp_s": 74.0}, {"text": "natively and far more efficiently. So, to begin", "timestamp": "00:01:17,374", "timestamp_s": 77.0}, {"text": "with, brushing up on some basics. What are subroutines?", "timestamp": "00:01:20,874", "timestamp_s": 80.0}, {"text": "Subroutines can do subroutines are essentially your regular", "timestamp": "00:01:25,154", "timestamp_s": 85.0}, {"text": "function. Calls can do certain things. They can suspend themselves", "timestamp": "00:01:28,786", "timestamp_s": 88.0}, {"text": "and run another function, or they could terminate themselves and", "timestamp": "00:01:32,514", "timestamp_s": 92.0}, {"text": "yield back control to its caller. These are the two things that your functions can", "timestamp": "00:01:36,194", "timestamp_s": 96.0}, {"text": "do. So in this case, say you have a main subroutine,", "timestamp": "00:01:39,970", "timestamp_s": 99.0}, {"text": "suspends itself, starts another function, this function can execute,", "timestamp": "00:01:43,810", "timestamp_s": 103.0}, {"text": "and as soon as it has to call another function, it can suspend itself.", "timestamp": "00:01:47,808", "timestamp_s": 107.0}, {"text": "Call this third function, which can start functioning again after", "timestamp": "00:01:51,272", "timestamp_s": 111.0}, {"text": "this outermost function has finished", "timestamp": "00:01:55,784", "timestamp_s": 115.0}, {"text": "processing, it can terminate yield back control to its parent", "timestamp": "00:01:59,000", "timestamp_s": 119.0}, {"text": "caller, which can terminate again and yield back control to its parent.", "timestamp": "00:02:02,576", "timestamp_s": 122.0}, {"text": "So this is what a regular subroutine looks like.", "timestamp": "00:02:07,064", "timestamp_s": 127.0}, {"text": "Now, subroutines. Now, these definitions differ", "timestamp": "00:02:10,624", "timestamp_s": 130.0}, {"text": "depending on where you are living on the Internet, but for this talk,", "timestamp": "00:02:14,034", "timestamp_s": 134.0}, {"text": "eager and closed means that, well, eager means expressions that a", "timestamp": "00:02:17,018", "timestamp_s": 137.0}, {"text": "function encounters are evaluated as soon as they are encountered,", "timestamp": "00:02:21,090", "timestamp_s": 141.0}, {"text": "and closed means that your function only returns", "timestamp": "00:02:24,786", "timestamp_s": 144.0}, {"text": "after it has evaluated the expression. So it can\u0027t sort of suspend itself", "timestamp": "00:02:29,042", "timestamp_s": 149.0}, {"text": "in the middle of processing and yield control back to its invoker.", "timestamp": "00:02:33,178", "timestamp_s": 153.0}, {"text": "That\u0027s the important difference that we\u0027ll see soon. With coroutines", "timestamp": "00:02:36,858", "timestamp_s": 156.0}, {"text": "now coroutines as generalized subroutines, can we define them", "timestamp": "00:02:40,884", "timestamp_s": 160.0}, {"text": "as generalized subroutines? And what I mean by that is, a coroutine", "timestamp": "00:02:44,628", "timestamp_s": 164.0}, {"text": "can do everything a subroutine can, which means can suspend itself,", "timestamp": "00:02:48,396", "timestamp_s": 168.0}, {"text": "run another function, terminate itself, yield back control to its invoker,", "timestamp": "00:02:52,020", "timestamp_s": 172.0}, {"text": "or this magic special thing at the end, which is suspend", "timestamp": "00:02:56,236", "timestamp_s": 176.0}, {"text": "itself and yield back control to its invoker, instead of,", "timestamp": "00:03:00,044", "timestamp_s": 180.0}, {"text": "so it just passes the control back to its invoker, pausing itself,", "timestamp": "00:03:04,220", "timestamp_s": 184.0}, {"text": "essentially. So how could that look like, say you have a subroutine running over here,", "timestamp": "00:03:08,490", "timestamp_s": 188.0}, {"text": "and you want to run this coroutine on the left. So your subroutine suspends itself", "timestamp": "00:03:12,618", "timestamp_s": 192.0}, {"text": "and say it wants to read from some output,", "timestamp": "00:03:16,954", "timestamp_s": 196.0}, {"text": "that is, output from this coroutine. So your", "timestamp": "00:03:21,170", "timestamp_s": 201.0}, {"text": "coroutine starts functioning. After it has the output, it can suspend itself", "timestamp": "00:03:25,050", "timestamp_s": 205.0}, {"text": "and yield control back to your subroutine with the output. And now", "timestamp": "00:03:29,098", "timestamp_s": 209.0}, {"text": "you can see that the coroutine has actually stopped here. It has saved the state,", "timestamp": "00:03:33,150", "timestamp_s": 213.0}, {"text": "and it\u0027s actually paused in the middle of its execution. The next", "timestamp": "00:03:36,830", "timestamp_s": 216.0}, {"text": "time the subroutine wants to read from it, it actually can just resume this", "timestamp": "00:03:40,390", "timestamp_s": 220.0}, {"text": "coroutine, which starts running from its previously stopped position", "timestamp": "00:03:44,822", "timestamp_s": 224.0}, {"text": "and output the new value that the subroutine requires, which can be", "timestamp": "00:03:49,574", "timestamp_s": 229.0}, {"text": "read by the subroutine, and so on and so forth. So it ends up looking", "timestamp": "00:03:53,558", "timestamp_s": 233.0}, {"text": "like this. Every time this subroutine was read from a coroutine,", "timestamp": "00:03:56,662", "timestamp_s": 236.0}, {"text": "it plays this coroutine back, which starts executing again from last", "timestamp": "00:03:59,782", "timestamp_s": 239.0}, {"text": "time it stopped. Now you will start seeing why this", "timestamp": "00:04:03,452", "timestamp_s": 243.0}, {"text": "is important, and you can probably already start seeing why something, why a paradigm", "timestamp": "00:04:07,732", "timestamp_s": 247.0}, {"text": "like this could be pretty useful. So coroutines", "timestamp": "00:04:10,980", "timestamp_s": 250.0}, {"text": "are like functions that can return multiple times and keep their state,", "timestamp": "00:04:15,116", "timestamp_s": 255.0}, {"text": "which means all the local variables plus the command pointer,", "timestamp": "00:04:18,660", "timestamp_s": 258.0}, {"text": "everything, and they can resume from where they are yielded.", "timestamp": "00:04:22,100", "timestamp_s": 262.0}, {"text": "So let\u0027s look at a quick sample. Right? So comparing binary", "timestamp": "00:04:25,772", "timestamp_s": 265.0}, {"text": "trees, those in the audience who are, who like", "timestamp": "00:04:28,944", "timestamp_s": 268.0}, {"text": "doing Leet code, if you\u0027ve seen something like, seen a question like this, how would", "timestamp": "00:04:32,448", "timestamp_s": 272.0}, {"text": "you do this? You would have some sort of a recursive logic.", "timestamp": "00:04:36,560", "timestamp_s": 276.0}, {"text": "You know, you have two binary trees, and you want to compare", "timestamp": "00:04:39,688", "timestamp_s": 279.0}, {"text": "them and maybe ascertain if they are equal. So you", "timestamp": "00:04:43,264", "timestamp_s": 283.0}, {"text": "would go through all the nodes, save in maybe like an in order fashion,", "timestamp": "00:04:46,688", "timestamp_s": 286.0}, {"text": "and save all the values of the nodes. And after you", "timestamp": "00:04:51,004", "timestamp_s": 291.0}, {"text": "have traversed both the trees, you compare those values.", "timestamp": "00:04:54,236", "timestamp_s": 294.0}, {"text": "But what if you could actually do this in", "timestamp": "00:04:57,884", "timestamp_s": 297.0}, {"text": "one pass?", "timestamp": "00:05:01,332", "timestamp_s": 301.0}, {"text": "Every time you are at a node, you can pass through both these trees,", "timestamp": "00:05:04,724", "timestamp_s": 304.0}, {"text": "compare the values of the current node, go to the next node in", "timestamp": "00:05:08,620", "timestamp_s": 308.0}, {"text": "the next node, say, in order fashion, and just", "timestamp": "00:05:12,196", "timestamp_s": 312.0}, {"text": "keep comparing the values as you go through them. Something like we just", "timestamp": "00:05:16,052", "timestamp_s": 316.0}, {"text": "saw in our subroutine and coroutine example.", "timestamp": "00:05:19,734", "timestamp_s": 319.0}, {"text": "Let\u0027s see that with code. Right? So in this case,", "timestamp": "00:05:23,774", "timestamp_s": 323.0}, {"text": "your subroutine is the CMP. This comparison function and", "timestamp": "00:05:27,486", "timestamp_s": 327.0}, {"text": "your coroutine is this visit function. And how this is working over here", "timestamp": "00:05:31,118", "timestamp_s": 331.0}, {"text": "is your comparison function is just instantiating two coroutines.", "timestamp": "00:05:34,502", "timestamp_s": 334.0}, {"text": "We don\u0027t need to worry about how they\u0027re implemented, just assume they\u0027re just black box", "timestamp": "00:05:38,070", "timestamp_s": 338.0}, {"text": "implementations. It creates a new coroutine,", "timestamp": "00:05:41,526", "timestamp_s": 341.0}, {"text": "in this case the visit function. So you\u0027re passing this visit as a function", "timestamp": "00:05:44,494", "timestamp_s": 344.0}, {"text": "argument, and in this while loop, all you\u0027re doing", "timestamp": "00:05:48,386", "timestamp_s": 348.0}, {"text": "is you first start your first coroutine, your c o one, and you\u0027re", "timestamp": "00:05:52,210", "timestamp_s": 352.0}, {"text": "passing t one, which could be this head of the first tree,", "timestamp": "00:05:55,930", "timestamp_s": 355.0}, {"text": "and your t two is probably the head of the second tree.", "timestamp": "00:05:59,530", "timestamp_s": 359.0}, {"text": "So you resume this visit function.", "timestamp": "00:06:02,474", "timestamp_s": 362.0}, {"text": "So your visit first goes to t left. So it goes all the way to", "timestamp": "00:06:05,642", "timestamp_s": 365.0}, {"text": "the leftmost node in your tree,", "timestamp": "00:06:08,458", "timestamp_s": 368.0}, {"text": "your left most node in the left subtree, and it", "timestamp": "00:06:12,386", "timestamp_s": 372.0}, {"text": "then yields the value back to your", "timestamp": "00:06:16,720", "timestamp_s": 376.0}, {"text": "call back to your regime function. So next line yield", "timestamp": "00:06:19,904", "timestamp_s": 379.0}, {"text": "actually yields back control to comparison function, and this value is stored in", "timestamp": "00:06:23,216", "timestamp_s": 383.0}, {"text": "v one. Now this comparison function then calls", "timestamp": "00:06:27,200", "timestamp_s": 387.0}, {"text": "CO2, which is another instance of your visit function, and you pass t two", "timestamp": "00:06:30,520", "timestamp_s": 390.0}, {"text": "to it, and it goes through that tree and gets", "timestamp": "00:06:34,272", "timestamp_s": 394.0}, {"text": "the leftmost node in this case, which is two. And now you", "timestamp": "00:06:37,592", "timestamp_s": 397.0}, {"text": "have both the values actually yielded back to v one and v two", "timestamp": "00:06:40,852", "timestamp_s": 400.0}, {"text": "that you can then compare. So essentially you", "timestamp": "00:06:44,892", "timestamp_s": 404.0}, {"text": "have, you started traversing the tree in sort of", "timestamp": "00:06:48,652", "timestamp_s": 408.0}, {"text": "a one pass sort of a way, you just passing", "timestamp": "00:06:51,980", "timestamp_s": 411.0}, {"text": "back control to visit, and as soon as it has an output, you\u0027re reading the", "timestamp": "00:06:55,724", "timestamp_s": 415.0}, {"text": "visit function yields back control to your comparison function, and you can do your comparisons.", "timestamp": "00:06:58,796", "timestamp_s": 418.0}, {"text": "So again, you know, you call you in the while loop, you call your", "timestamp": "00:07:02,892", "timestamp_s": 422.0}, {"text": "resume function. Again, it goes to the right subtree from,", "timestamp": "00:07:06,484", "timestamp_s": 426.0}, {"text": "from two, which is four, in this case for both the trees,", "timestamp": "00:07:09,714", "timestamp_s": 429.0}, {"text": "because you know, it resumes both the coroutines. One by one,", "timestamp": "00:07:12,978", "timestamp_s": 432.0}, {"text": "it yields back the values, and now you can compare four so on and", "timestamp": "00:07:16,274", "timestamp_s": 436.0}, {"text": "so forth till you, up till, you know, both the trees are same. In this", "timestamp": "00:07:19,618", "timestamp_s": 439.0}, {"text": "case, this is actually, this sort of", "timestamp": "00:07:21,930", "timestamp_s": 441.0}, {"text": "an example was actually why coroutines came in the first place,", "timestamp": "00:07:25,458", "timestamp_s": 445.0}, {"text": "or why Conway thought of them.", "timestamp": "00:07:28,954", "timestamp_s": 448.0}, {"text": "It\u0027s 1958, and you want to compile your CObOl program in the modern", "timestamp": "00:07:32,394", "timestamp_s": 452.0}, {"text": "nine part compiler. That\u0027s Grace Hopper, by the way,", "timestamp": "00:07:36,202", "timestamp_s": 456.0}, {"text": "who is the co developer of Cobol. Now the terms over", "timestamp": "00:07:39,686", "timestamp_s": 459.0}, {"text": "here, even if you don\u0027t understand it, I\u0027ll simplify it. So,", "timestamp": "00:07:43,182", "timestamp_s": 463.0}, {"text": "just your basic symbol reducer, you can think of it as your lexer.", "timestamp": "00:07:47,894", "timestamp_s": 467.0}, {"text": "And if you don\u0027t know what Lexa means, that\u0027s fine too, because all", "timestamp": "00:07:51,614", "timestamp_s": 471.0}, {"text": "you need to care about over here is that you have two processes, like you", "timestamp": "00:07:55,510", "timestamp_s": 475.0}, {"text": "had in your binary comparison example, that sort of depend", "timestamp": "00:07:58,590", "timestamp_s": 478.0}, {"text": "on each other for their outputs. So in this case, your basic symbol", "timestamp": "00:08:02,454", "timestamp_s": 482.0}, {"text": "reducer acts like a Lexus. So what your main program", "timestamp": "00:08:06,062", "timestamp_s": 486.0}, {"text": "does is that it has actual physical punched cards.", "timestamp": "00:08:09,510", "timestamp_s": 489.0}, {"text": "That\u0027s how compilation worked back in 1958.", "timestamp": "00:08:12,654", "timestamp_s": 492.0}, {"text": "And you give this punched card to your basic symbol", "timestamp": "00:08:17,054", "timestamp_s": 497.0}, {"text": "reducer of your lexer, which eats this punched card and spews a", "timestamp": "00:08:20,334", "timestamp_s": 500.0}, {"text": "bunch of tokens. Tokens is what the output", "timestamp": "00:08:23,918", "timestamp_s": 503.0}, {"text": "of your symbol reducer is, or your lexus is right.", "timestamp": "00:08:27,270", "timestamp_s": 507.0}, {"text": "Now, these tokens can be read by a parser, which these tokens", "timestamp": "00:08:31,006", "timestamp_s": 511.0}, {"text": "become the input to your parser, in this case, your basic", "timestamp": "00:08:34,678", "timestamp_s": 514.0}, {"text": "name reducer, or name lookup as it\u0027s called today,", "timestamp": "00:08:37,918", "timestamp_s": 517.0}, {"text": "which, you know, puts the output into the next state.", "timestamp": "00:08:42,654", "timestamp_s": 522.0}, {"text": "So what\u0027s happening over here is sort of like our first subroutine example.", "timestamp": "00:08:46,118", "timestamp_s": 526.0}, {"text": "Your main program, your control, goes to your basic", "timestamp": "00:08:49,870", "timestamp_s": 529.0}, {"text": "symbol reducer, which comes up with a bunch of", "timestamp": "00:08:53,542", "timestamp_s": 533.0}, {"text": "tokens as outputs. And it returns", "timestamp": "00:08:57,326", "timestamp_s": 537.0}, {"text": "essentially these outputs back to your main program, which can then, your main program", "timestamp": "00:09:01,038", "timestamp_s": 541.0}, {"text": "then calls your namereducer with your output of the basic", "timestamp": "00:09:04,798", "timestamp_s": 544.0}, {"text": "symbol reducer as an input to your namereducer.", "timestamp": "00:09:08,022", "timestamp_s": 548.0}, {"text": "And, you know, your name reducer can then start parsing your tokens.", "timestamp": "00:09:11,550", "timestamp_s": 551.0}, {"text": "So this is kind of what it looks like initially, what we saw, your main", "timestamp": "00:09:15,214", "timestamp_s": 555.0}, {"text": "program called symbol reducer. Symbol reducer writes a bunch of", "timestamp": "00:09:17,870", "timestamp_s": 557.0}, {"text": "tapes to your. And these tapes", "timestamp": "00:09:21,750", "timestamp_s": 561.0}, {"text": "are basically used as input to your name reducer.", "timestamp": "00:09:25,510", "timestamp_s": 565.0}, {"text": "You have a bunch of extra tapes that you don\u0027t need anymore.", "timestamp": "00:09:28,574", "timestamp_s": 568.0}, {"text": "And this entire course is actually involved a bunch of extra machinery.", "timestamp": "00:09:31,518", "timestamp_s": 571.0}, {"text": "So convoy thought there had to be a better way to pass the input,", "timestamp": "00:09:36,294", "timestamp_s": 576.0}, {"text": "pass the output that you get from your symbol reducer or your lexer to your", "timestamp": "00:09:40,814", "timestamp_s": 580.0}, {"text": "parcel, which is your name lookup. Without all this expensive", "timestamp": "00:09:44,462", "timestamp_s": 584.0}, {"text": "machinery, we\u0027ll start to see how he actually", "timestamp": "00:09:47,798", "timestamp_s": 587.0}, {"text": "thought of the coroutine. And he realized that subroutines,", "timestamp": "00:09:51,578", "timestamp_s": 591.0}, {"text": "which was the previous implementation, were just a special case for more generalized coroutine.", "timestamp": "00:09:55,466", "timestamp_s": 595.0}, {"text": "The first thing that we saw in this talk, and we don\u0027t need to write", "timestamp": "00:09:59,706", "timestamp_s": 599.0}, {"text": "on tape, we can just pass control back and forth between", "timestamp": "00:10:03,274", "timestamp_s": 603.0}, {"text": "these two processes, because the input of one process is the", "timestamp": "00:10:06,810", "timestamp_s": 606.0}, {"text": "output of the previous process. So you don\u0027t have to return.", "timestamp": "00:10:10,650", "timestamp_s": 610.0}, {"text": "You can just yield back control, and you bypass all", "timestamp": "00:10:14,098", "timestamp_s": 614.0}, {"text": "this machinery. And this is how it ends up looking, which is very similar to", "timestamp": "00:10:17,860", "timestamp_s": 617.0}, {"text": "our previous example. So every time your name reducer, your parser", "timestamp": "00:10:22,140", "timestamp_s": 622.0}, {"text": "wants to read a token from your lexer or your symbol reducer,", "timestamp": "00:10:26,068", "timestamp_s": 626.0}, {"text": "it invokes this coroutine suspends itself,", "timestamp": "00:10:29,428", "timestamp_s": 629.0}, {"text": "and as soon as your symbol reducer has the tokens available, suspends itself", "timestamp": "00:10:33,020", "timestamp_s": 633.0}, {"text": "yields control along with the output to your namereducer, which is your parser,", "timestamp": "00:10:37,004", "timestamp_s": 637.0}, {"text": "which can do whatever it wants with the output. And when it wants the next", "timestamp": "00:10:40,780", "timestamp_s": 640.0}, {"text": "token, it again resumes your coroutine and", "timestamp": "00:10:43,652", "timestamp_s": 643.0}, {"text": "which yields back another token, so on and so forth till you reach the", "timestamp": "00:10:47,880", "timestamp_s": 647.0}, {"text": "end of your main function. Right? So this way,", "timestamp": "00:10:51,240", "timestamp_s": 651.0}, {"text": "raising the level of abstraction actually led to less costly control", "timestamp": "00:10:54,920", "timestamp_s": 654.0}, {"text": "structures, leading to your one pass global compiler. So this", "timestamp": "00:10:58,448", "timestamp_s": 658.0}, {"text": "was an example of a negative cost abstraction, because generally", "timestamp": "00:11:02,040", "timestamp_s": 662.0}, {"text": "when you\u0027re trying to abstract away logic, you\u0027re increasing", "timestamp": "00:11:05,672", "timestamp_s": 665.0}, {"text": "the cost because something else is now taking care of this easier", "timestamp": "00:11:09,544", "timestamp_s": 669.0}, {"text": "abstraction that you\u0027ve created, something under the hood.", "timestamp": "00:11:13,656", "timestamp_s": 673.0}, {"text": "So this side", "timestamp": "00:11:17,224", "timestamp_s": 677.0}, {"text": "note, this was the paper that actually coined the term coroutine by Melvin Conway.", "timestamp": "00:11:21,152", "timestamp_s": 681.0}, {"text": "I\u0027ve linked to this paper at the end of the talk and you should definitely", "timestamp": "00:11:24,528", "timestamp_s": 684.0}, {"text": "check it out. Where are coroutines now?", "timestamp": "00:11:26,880", "timestamp_s": 686.0}, {"text": "Considering all that we\u0027ve talked about so far, coroutines should have been a", "timestamp": "00:11:30,160", "timestamp_s": 690.0}, {"text": "common pattern that is provided by most languages, right? Seems pretty useful,", "timestamp": "00:11:33,360", "timestamp_s": 693.0}, {"text": "but with a few rare exceptions, that\u0027s similar. Few languages do.", "timestamp": "00:11:38,284", "timestamp_s": 698.0}, {"text": "And those that do, and I\u0027m guessing some of you already", "timestamp": "00:11:42,404", "timestamp_s": 702.0}, {"text": "have some ideas of, you know, some other languages calling their processes", "timestamp": "00:11:46,044", "timestamp_s": 706.0}, {"text": "coroutines. They are actually a limited variant", "timestamp": "00:11:50,196", "timestamp_s": 710.0}, {"text": "of a coroutine, and we\u0027ll see how, what makes them limited and why we want,", "timestamp": "00:11:53,380", "timestamp_s": 713.0}, {"text": "why this could actually affect the", "timestamp": "00:11:58,124", "timestamp_s": 718.0}, {"text": "expressive power of a coroutine. So the problems with coroutines", "timestamp": "00:12:02,860", "timestamp_s": 722.0}, {"text": "were also, apart from, you know,", "timestamp": "00:12:06,744", "timestamp_s": 726.0}, {"text": "the reason why we don\u0027t see it everywhere, is one, there\u0027s a lack of uniform", "timestamp": "00:12:10,368", "timestamp_s": 730.0}, {"text": "view of this concept. There aren\u0027t a lot of formal definitions that", "timestamp": "00:12:14,152", "timestamp_s": 734.0}, {"text": "people agree on on what core routines means, there\u0027s no", "timestamp": "00:12:17,936", "timestamp_s": 737.0}, {"text": "precise definitions for it. And secondly, more importantly,", "timestamp": "00:12:21,184", "timestamp_s": 741.0}, {"text": "my core routines aren\u0027t provided as a facility in most mainstream languages", "timestamp": "00:12:25,208", "timestamp_s": 745.0}, {"text": "is the advent of ALGOL 60. So this language brought", "timestamp": "00:12:29,048", "timestamp_s": 749.0}, {"text": "with it block scope variables.", "timestamp": "00:12:32,522", "timestamp_s": 752.0}, {"text": "So you no longer had parameters and return values stored as global", "timestamp": "00:12:35,874", "timestamp_s": 755.0}, {"text": "memory. Instead everything was stored as relative to a stack pointer.", "timestamp": "00:12:39,370", "timestamp_s": 759.0}, {"text": "So your functions are stored on a stack, stack frames,", "timestamp": "00:12:43,202", "timestamp_s": 763.0}, {"text": "right. So with the return addresses, all your local variables,", "timestamp": "00:12:46,930", "timestamp_s": 766.0}, {"text": "everything is on a stack. Now you have your stack, you have f\u0027s", "timestamp": "00:12:49,970", "timestamp_s": 769.0}, {"text": "activation record. So f is a function and its activation record just", "timestamp": "00:12:53,986", "timestamp_s": 773.0}, {"text": "contains all its local variables, return addresses. And the stack", "timestamp": "00:12:57,742", "timestamp_s": 777.0}, {"text": "pointer is just pointing at the top of the stack. Your function can call", "timestamp": "00:13:01,334", "timestamp_s": 781.0}, {"text": "a mole function. In this case it calls function g, which has its own", "timestamp": "00:13:05,366", "timestamp_s": 785.0}, {"text": "activation record, which can call function h, and so on.", "timestamp": "00:13:09,574", "timestamp_s": 789.0}, {"text": "So how would you try to implement a coroutine in this", "timestamp": "00:13:12,870", "timestamp_s": 792.0}, {"text": "sort of a parity? Well, you could have your f,", "timestamp": "00:13:16,070", "timestamp_s": 796.0}, {"text": "in this case wants to call a coroutine g. You could have", "timestamp": "00:13:19,726", "timestamp_s": 799.0}, {"text": "g running as a separate side, a separate stack on the side of this", "timestamp": "00:13:23,324", "timestamp_s": 803.0}, {"text": "thread, one stack right, as a side stack.", "timestamp": "00:13:27,052", "timestamp_s": 807.0}, {"text": "And your stack pointer now has to move from one stack to", "timestamp": "00:13:29,628", "timestamp_s": 809.0}, {"text": "another stack with all the thread context, your return addresses,", "timestamp": "00:13:32,996", "timestamp_s": 812.0}, {"text": "saved registers, everything has to move to this stack now,", "timestamp": "00:13:36,732", "timestamp_s": 816.0}, {"text": "which calls the function g, which is coroutine coroutine g", "timestamp": "00:13:40,484", "timestamp_s": 820.0}, {"text": "can call more coroutines h. Now what", "timestamp": "00:13:44,572", "timestamp_s": 824.0}, {"text": "if there is another function, not f, but some other function that\u0027s interested in the", "timestamp": "00:13:48,052", "timestamp_s": 828.0}, {"text": "outputs that this coroutines are producing? Well,", "timestamp": "00:13:52,190", "timestamp_s": 832.0}, {"text": "you can think of it as second stack. You have a thread two stack.", "timestamp": "00:13:55,494", "timestamp_s": 835.0}, {"text": "This is different from f\u0027s stack, and you have some function", "timestamp": "00:13:58,734", "timestamp_s": 838.0}, {"text": "z that\u0027s running over here with the stack pointer.", "timestamp": "00:14:01,966", "timestamp_s": 841.0}, {"text": "Now when the control comes to z, the stack mode has to move over here", "timestamp": "00:14:04,830", "timestamp_s": 844.0}, {"text": "into the second stack with other thread context and everything else.", "timestamp": "00:14:08,734", "timestamp_s": 848.0}, {"text": "So this almost starts mimicking heavy multithreading,", "timestamp": "00:14:12,454", "timestamp_s": 852.0}, {"text": "which increases the memory footprint, rather than the cheap", "timestamp": "00:14:16,486", "timestamp_s": 856.0}, {"text": "abstraction that coroutines were meant to be in our previous examples.", "timestamp": "00:14:20,064", "timestamp_s": 860.0}, {"text": "Right. What about the precise definition", "timestamp": "00:14:23,536", "timestamp_s": 863.0}, {"text": "problem? Well, Marlin\u0027s doctoral thesis", "timestamp": "00:14:26,912", "timestamp_s": 866.0}, {"text": "is actually widely acknowledged as a reference for this,", "timestamp": "00:14:30,472", "timestamp_s": 870.0}, {"text": "and it just summarizes whatever we have discussed so", "timestamp": "00:14:33,456", "timestamp_s": 873.0}, {"text": "far, which is the values local to a coroutine", "timestamp": "00:14:36,760", "timestamp_s": 876.0}, {"text": "persist between successive calls. You know, it can pause itself and", "timestamp": "00:14:39,960", "timestamp_s": 879.0}, {"text": "save the state there. And the execution of coroutines", "timestamp": "00:14:43,180", "timestamp_s": 883.0}, {"text": "is suspended as control leaves it, only to carry on from where", "timestamp": "00:14:46,532", "timestamp_s": 886.0}, {"text": "it left off when control re enters it. So when a coroutine", "timestamp": "00:14:49,932", "timestamp_s": 889.0}, {"text": "yields, the control leaves it where it", "timestamp": "00:14:53,644", "timestamp_s": 893.0}, {"text": "left, where it yielded. And when you resume a coroutine,", "timestamp": "00:14:56,812", "timestamp_s": 896.0}, {"text": "it starts processing from when it had stopped, basically what we\u0027ve already discussed.", "timestamp": "00:15:00,516", "timestamp_s": 900.0}, {"text": "So now that we have the basics and, and the history out of the", "timestamp": "00:15:04,884", "timestamp_s": 904.0}, {"text": "way, and hopefully have made a case for its usefulness,", "timestamp": "00:15:08,288", "timestamp_s": 908.0}, {"text": "let\u0027s build up to what a coroutine looks like in go. But before that,", "timestamp": "00:15:11,304", "timestamp_s": 911.0}, {"text": "very quickly, I promise this is relevant.", "timestamp": "00:15:15,232", "timestamp_s": 915.0}, {"text": "Let\u0027s look at what we mean by a full core routine.", "timestamp": "00:15:19,184", "timestamp_s": 919.0}, {"text": "And some languages like Python and Kotlin, which actually provide coroutines,", "timestamp": "00:15:22,528", "timestamp_s": 922.0}, {"text": "don\u0027t actually provide full coroutines. So let\u0027s", "timestamp": "00:15:25,976", "timestamp_s": 925.0}, {"text": "start, just for the sake of completeness,", "timestamp": "00:15:29,552", "timestamp_s": 929.0}, {"text": "let\u0027s start classifying the coroutines. Well, one kind of", "timestamp": "00:15:33,712", "timestamp_s": 933.0}, {"text": "classification is symmetric coroutines, which is different from what we\u0027ve been seeing so far.", "timestamp": "00:15:36,818", "timestamp_s": 936.0}, {"text": "A symmetric coroutine only has one control transfer operation,", "timestamp": "00:15:40,530", "timestamp_s": 940.0}, {"text": "and so it just allows coroutines to explicitly pass control amongst themselves.", "timestamp": "00:15:44,370", "timestamp_s": 944.0}, {"text": "But what we\u0027re interested in is asymmetric coroutine mechanisms that", "timestamp": "00:15:48,594", "timestamp_s": 948.0}, {"text": "provides two control transfer operations. In our case it was the resume", "timestamp": "00:15:52,170", "timestamp_s": 952.0}, {"text": "and yield operation. So one for", "timestamp": "00:15:55,738", "timestamp_s": 955.0}, {"text": "invoking the coroutine you resume, and one for suspending it yield,", "timestamp": "00:15:59,162", "timestamp_s": 959.0}, {"text": "and the latter returns the control to the invoker. So coroutine", "timestamp": "00:16:02,242", "timestamp_s": 962.0}, {"text": "mechanisms that support concurrent programming usually provide symmetric coroutines.", "timestamp": "00:16:06,562", "timestamp_s": 966.0}, {"text": "On the other hand, coroutine mechanisms intended for producing", "timestamp": "00:16:10,682", "timestamp_s": 970.0}, {"text": "sequences of values are provided by asymmetric coroutines. And you", "timestamp": "00:16:14,418", "timestamp_s": 974.0}, {"text": "might think, wait, then, you know, why not just use symmetric coroutines? It seems like", "timestamp": "00:16:18,298", "timestamp_s": 978.0}, {"text": "it\u0027s doing way more important things. You know, concurrent programming", "timestamp": "00:16:21,858", "timestamp_s": 981.0}, {"text": "is what a go is all about. But actually", "timestamp": "00:16:25,322", "timestamp_s": 985.0}, {"text": "the good news is that you can use asymmetric coroutines to mimic symmetric", "timestamp": "00:16:29,278", "timestamp_s": 989.0}, {"text": "coroutines, and asymmetric coroutines are way easier to write", "timestamp": "00:16:33,022", "timestamp_s": 993.0}, {"text": "and maintain. And actually, I have linked an article to the end of this", "timestamp": "00:16:36,590", "timestamp_s": 996.0}, {"text": "slide to actually you can see", "timestamp": "00:16:40,230", "timestamp_s": 1000.0}, {"text": "how symmetric coroutines and asymmetric coroutines are implemented and how you", "timestamp": "00:16:43,518", "timestamp_s": 1003.0}, {"text": "can actually implement symmetric coroutines using asymmetric coroutines using your", "timestamp": "00:16:47,118", "timestamp_s": 1007.0}, {"text": "resume and yield functions. But you know, with the advantage", "timestamp": "00:16:51,062", "timestamp_s": 1011.0}, {"text": "of that, it\u0027s easier to write asymmetric coroutines. And we\u0027ll see that when we implement", "timestamp": "00:16:54,580", "timestamp_s": 1014.0}, {"text": "our go API, we implement", "timestamp": "00:16:58,588", "timestamp_s": 1018.0}, {"text": "asymmetric coroutines. Secondly, you would", "timestamp": "00:17:01,996", "timestamp_s": 1021.0}, {"text": "want your coroutine to be provided as first class objects", "timestamp": "00:17:05,684", "timestamp_s": 1025.0}, {"text": "by your program or your language. You know, it has a huge", "timestamp": "00:17:09,124", "timestamp_s": 1029.0}, {"text": "influence on its expressive power, and coroutines that are constrained", "timestamp": "00:17:12,404", "timestamp_s": 1032.0}, {"text": "within the language bounds cannot, which and cannot be directly manipulated", "timestamp": "00:17:16,316", "timestamp_s": 1036.0}, {"text": "by the programmer actually has a negative effect", "timestamp": "00:17:20,144", "timestamp_s": 1040.0}, {"text": "on its expressive power. So what do we mean by a first class object?", "timestamp": "00:17:23,784", "timestamp_s": 1043.0}, {"text": "Something we\u0027ve already seen with a binary comparison example. The coroutine", "timestamp": "00:17:27,616", "timestamp_s": 1047.0}, {"text": "should be able to appear in an expression. You should be able to assign it", "timestamp": "00:17:31,224", "timestamp_s": 1051.0}, {"text": "to a variable, you should be able to use it as an argument,", "timestamp": "00:17:34,936", "timestamp_s": 1054.0}, {"text": "return it by a function call, you know, all the good stuff.", "timestamp": "00:17:38,024", "timestamp_s": 1058.0}, {"text": "Finally, stackfulness. This is the important one. This is what", "timestamp": "00:17:41,744", "timestamp_s": 1061.0}, {"text": "actually differentiates Python and Kotlin\u0027s coroutines, or most", "timestamp": "00:17:45,356", "timestamp_s": 1065.0}, {"text": "of the languages from a full coroutine is", "timestamp": "00:17:49,180", "timestamp_s": 1069.0}, {"text": "because when you have stack full coroutines, you can actually", "timestamp": "00:17:52,412", "timestamp_s": 1072.0}, {"text": "transfer control between nested functions. So even if your core routine", "timestamp": "00:17:56,052", "timestamp_s": 1076.0}, {"text": "isn\u0027t at the top most stack, even if the coroutine is somewhere in the", "timestamp": "00:17:59,652", "timestamp_s": 1079.0}, {"text": "middle of the stack, you can still yield control from the coroutine back to its", "timestamp": "00:18:02,828", "timestamp_s": 1082.0}, {"text": "invoker. When you have stack less coroutines like Python and Kotlin, they are", "timestamp": "00:18:06,100", "timestamp_s": 1086.0}, {"text": "in full routines. And the only way you can,", "timestamp": "00:18:09,868", "timestamp_s": 1089.0}, {"text": "you know, pass control between two coroutines or a", "timestamp": "00:18:13,438", "timestamp_s": 1093.0}, {"text": "coroutine or a sub routine. And a subroutine is by sort", "timestamp": "00:18:16,918", "timestamp_s": 1096.0}, {"text": "of only the top most coroutine. And the top most subroutine can", "timestamp": "00:18:21,038", "timestamp_s": 1101.0}, {"text": "pass control between themselves, which actually limits what your", "timestamp": "00:18:25,774", "timestamp_s": 1105.0}, {"text": "coroutine can do. Basically, your full coroutine should be", "timestamp": "00:18:29,582", "timestamp_s": 1109.0}, {"text": "stack full, should be provided as first class objects, and we,", "timestamp": "00:18:33,110", "timestamp_s": 1113.0}, {"text": "we can implement them using asymmetric coroutines.", "timestamp": "00:18:36,222", "timestamp_s": 1116.0}, {"text": "So full coroutines can be used to implement generators,", "timestamp": "00:18:39,484", "timestamp_s": 1119.0}, {"text": "iterators, all the way up to cooperative multitasking.", "timestamp": "00:18:43,196", "timestamp_s": 1123.0}, {"text": "And just by providing asymmetric coroutine mechanisms, it\u0027s sufficient", "timestamp": "00:18:47,004", "timestamp_s": 1127.0}, {"text": "because we can use it to implement symmetric coroutines and", "timestamp": "00:18:50,876", "timestamp_s": 1130.0}, {"text": "asymmetric coroutines are just much easier to maintain and implement.", "timestamp": "00:18:54,500", "timestamp_s": 1134.0}, {"text": "This is a nice way to show the limitations of a coroutine.", "timestamp": "00:18:58,364", "timestamp_s": 1138.0}, {"text": "So, cooperative multitasking, right?", "timestamp": "00:19:02,108", "timestamp_s": 1142.0}, {"text": "In cooperative in a cooperative multitasking environment, your concurrent tasks", "timestamp": "00:19:05,484", "timestamp_s": 1145.0}, {"text": "are interleaved. One task runs and", "timestamp": "00:19:09,628", "timestamp_s": 1149.0}, {"text": "stops itself, the second task runs. So this is interleaving and", "timestamp": "00:19:13,556", "timestamp_s": 1153.0}, {"text": "it needs to be deterministic. But when you\u0027re using coroutines,", "timestamp": "00:19:18,124", "timestamp_s": 1158.0}, {"text": "coroutines by definition are not preemptive. So there\u0027s a", "timestamp": "00:19:23,804", "timestamp_s": 1163.0}, {"text": "fairness problem that can arise if you have a bunch of coroutines running", "timestamp": "00:19:27,652", "timestamp_s": 1167.0}, {"text": "in your kernels. Because eco space doesn\u0027t have just", "timestamp": "00:19:30,748", "timestamp_s": 1170.0}, {"text": "one program that\u0027s trying to operate,", "timestamp": "00:19:34,422", "timestamp_s": 1174.0}, {"text": "that\u0027s collaborating amongst itself. Actually a bunch of", "timestamp": "00:19:40,014", "timestamp_s": 1180.0}, {"text": "programs running that, waiting for the cpu resources. Now,", "timestamp": "00:19:43,518", "timestamp_s": 1183.0}, {"text": "if a routine is using cpu resource,", "timestamp": "00:19:47,462", "timestamp_s": 1187.0}, {"text": "that the code routine panics, hangs, or just taking a", "timestamp": "00:19:51,134", "timestamp_s": 1191.0}, {"text": "long time to execute higher priority tasks could", "timestamp": "00:19:54,566", "timestamp_s": 1194.0}, {"text": "be waiting for this, uh, team to finish", "timestamp": "00:19:58,094", "timestamp_s": 1198.0}, {"text": "executing. Right? This sort of fairness problem can arise", "timestamp": "00:20:01,584", "timestamp_s": 1201.0}, {"text": "because of coroutines being preemptive.", "timestamp": "00:20:05,384", "timestamp_s": 1205.0}, {"text": "So, but on the other hand, if you have user level multitasking,", "timestamp": "00:20:08,888", "timestamp_s": 1208.0}, {"text": "uh, implementation, your core routines are generally going", "timestamp": "00:20:12,384", "timestamp_s": 1212.0}, {"text": "to be part of the same program that of course collaborating with your common goal.", "timestamp": "00:20:16,244", "timestamp_s": 1216.0}, {"text": "So since you can still have minus problems, but since it\u0027s restricted", "timestamp": "00:20:19,448", "timestamp_s": 1219.0}, {"text": "one collaborative environment, it\u0027s much more easy to", "timestamp": "00:20:23,984", "timestamp_s": 1223.0}, {"text": "identify them, reproduce them, and makes it less difficult to implement.", "timestamp": "00:20:27,680", "timestamp_s": 1227.0}, {"text": "So this, you start to see why full blown core routines in your", "timestamp": "00:20:31,982", "timestamp_s": 1231.0}, {"text": "kernel space, for example, might not be a good idea why", "timestamp": "00:20:36,030", "timestamp_s": 1236.0}, {"text": "coroutines in go co routines aren\u0027t directly served or", "timestamp": "00:20:39,902", "timestamp_s": 1239.0}, {"text": "natively served in go concurrency", "timestamp": "00:20:43,638", "timestamp_s": 1243.0}, {"text": "libraries. And this was an interesting talk by rockbike, actually lexical", "timestamp": "00:20:46,702", "timestamp_s": 1246.0}, {"text": "scanning and go. I won\u0027t go into the definitions, but I\u0027ve linked to the talk.", "timestamp": "00:20:50,534", "timestamp_s": 1250.0}, {"text": "What they did was for their implementation, they used go", "timestamp": "00:20:53,954", "timestamp_s": 1253.0}, {"text": "routines connected by a channel. Now, full go routines", "timestamp": "00:20:57,594", "timestamp_s": 1257.0}, {"text": "provided to be a bit too much, because go routines provide a lot of", "timestamp": "00:21:01,370", "timestamp_s": 1261.0}, {"text": "parallelism, right? So the parallelism that", "timestamp": "00:21:05,082", "timestamp_s": 1265.0}, {"text": "comes with go routines caused a lot of races. Proper coroutines,", "timestamp": "00:21:08,754", "timestamp_s": 1268.0}, {"text": "as we\u0027ll see, would have avoided the races and would have been way more", "timestamp": "00:21:12,314", "timestamp_s": 1272.0}, {"text": "efficient than go routines. Because of their concurrency constructs, only one", "timestamp": "00:21:15,610", "timestamp_s": 1275.0}, {"text": "coroutine could be, can be running at a time. Now,", "timestamp": "00:21:18,714", "timestamp_s": 1278.0}, {"text": "coroutines, threads, generators, they sort of start sounding the", "timestamp": "00:21:22,528", "timestamp_s": 1282.0}, {"text": "same. So let\u0027s get the definitions out of the way a little bit.", "timestamp": "00:21:26,240", "timestamp_s": 1286.0}, {"text": "Coroutines provide concurrency without parallelism. That\u0027s the big idea", "timestamp": "00:21:29,848", "timestamp_s": 1289.0}, {"text": "here. When one coroutine is running, the others aren\u0027t.", "timestamp": "00:21:33,784", "timestamp_s": 1293.0}, {"text": "Threads, on the other hand, are definitely way more powerful than co routines,", "timestamp": "00:21:37,584", "timestamp_s": 1297.0}, {"text": "but with more cost. They require more memory, more cpu allocation,", "timestamp": "00:21:41,136", "timestamp_s": 1301.0}, {"text": "and also it comes with parallelism. So you have", "timestamp": "00:21:44,720", "timestamp_s": 1304.0}, {"text": "the cost of scheduling these tasks,", "timestamp": "00:21:48,060", "timestamp_s": 1308.0}, {"text": "and you have way more expensive context switches and the fact that", "timestamp": "00:21:51,444", "timestamp_s": 1311.0}, {"text": "you need to add preemption for threads.", "timestamp": "00:21:54,948", "timestamp_s": 1314.0}, {"text": "Go routines are like threads, they\u0027re just cheaper, so they use lesser memory.", "timestamp": "00:21:58,484", "timestamp_s": 1318.0}, {"text": "And all the scheduling is now taken care of. Go\u0027s own user space", "timestamp": "00:22:02,356", "timestamp_s": 1322.0}, {"text": "go scheduler. So your go routine switch is closer to a few hundred nanoseconds,", "timestamp": "00:22:06,148", "timestamp_s": 1326.0}, {"text": "which is way faster than a thread. Generators are like", "timestamp": "00:22:09,892", "timestamp_s": 1329.0}, {"text": "coroutines, but they\u0027re stacked less, they\u0027re not stacked full.", "timestamp": "00:22:13,744", "timestamp_s": 1333.0}, {"text": "So you know you have that. The problem that we discussed, they can only transfer", "timestamp": "00:22:17,152", "timestamp_s": 1337.0}, {"text": "control between the top most stack frames between two threads, for example.", "timestamp": "00:22:21,984", "timestamp_s": 1341.0}, {"text": "So with all this in mind, let\u0027s start building an API", "timestamp": "00:22:26,144", "timestamp_s": 1346.0}, {"text": "of coroutines in go by using existing Go", "timestamp": "00:22:29,976", "timestamp_s": 1349.0}, {"text": "definitions that\u0027s available today. And this,", "timestamp": "00:22:33,344", "timestamp_s": 1353.0}, {"text": "this next part of the talk is heavily borrowed from Russell\u0027s research proposal,", "timestamp": "00:22:36,856", "timestamp_s": 1356.0}, {"text": "which I\u0027ve linked to at the end of the slides for implementing core routines.", "timestamp": "00:22:40,632", "timestamp_s": 1360.0}, {"text": "And check that out, because have skipped a lot of the information here.", "timestamp": "00:22:43,728", "timestamp_s": 1363.0}, {"text": "So it\u0027s very neat that we can do this using existing Go definitions.", "timestamp": "00:22:47,280", "timestamp_s": 1367.0}, {"text": "Your core routines channels, the fact that go supports function values,", "timestamp": "00:22:51,336", "timestamp_s": 1371.0}, {"text": "the fact that unbuffered channels can act like blocking mechanisms", "timestamp": "00:22:55,664", "timestamp_s": 1375.0}, {"text": "between coroutines. So it makes coroutines safe. A coroutine can", "timestamp": "00:23:00,688", "timestamp_s": 1380.0}, {"text": "do a bunch of things. It can suspend itself, run another", "timestamp": "00:23:04,608", "timestamp_s": 1384.0}, {"text": "function, coroutine, terminate itself,", "timestamp": "00:23:08,336", "timestamp_s": 1388.0}, {"text": "yield back control, or suspend itself. It doesn\u0027t need to terminate itself.", "timestamp": "00:23:11,360", "timestamp_s": 1391.0}, {"text": "It can just suspend itself to yield back control. So let\u0027s", "timestamp": "00:23:14,816", "timestamp_s": 1394.0}, {"text": "start with a simple implementation of the package coral.", "timestamp": "00:23:18,400", "timestamp_s": 1398.0}, {"text": "So in this case, you have a caller and the callee. And right now we", "timestamp": "00:23:21,824", "timestamp_s": 1401.0}, {"text": "are looking at the suspend and run scenario. So you have", "timestamp": "00:23:24,840", "timestamp_s": 1404.0}, {"text": "a caller which you know. So now this can be two coroutines that", "timestamp": "00:23:28,408", "timestamp_s": 1408.0}, {"text": "are, say, connected by a channel. Your coroutine, which is", "timestamp": "00:23:32,290", "timestamp_s": 1412.0}, {"text": "your callee, could be waiting to receive from Cin. Let\u0027s call the first", "timestamp": "00:23:35,946", "timestamp_s": 1415.0}, {"text": "channel, C in. So as if you, if your caller or your subroutine", "timestamp": "00:23:39,282", "timestamp_s": 1419.0}, {"text": "wants to resume your coroutine or your colleague, all it needs to do is write", "timestamp": "00:23:43,378", "timestamp_s": 1423.0}, {"text": "into cin. So as soon as it writes into cin, your colleague starts running.", "timestamp": "00:23:47,002", "timestamp_s": 1427.0}, {"text": "And now you need a way to, for your caller to sort of", "timestamp": "00:23:50,642", "timestamp_s": 1430.0}, {"text": "stop executing as soon as it resumes the function. So what it can", "timestamp": "00:23:53,898", "timestamp_s": 1433.0}, {"text": "do is it can wait on another channel, it can block itself on,", "timestamp": "00:23:57,252", "timestamp_s": 1437.0}, {"text": "say, c out. So as soon as it starts, as soon as", "timestamp": "00:24:00,820", "timestamp_s": 1440.0}, {"text": "it resumes, a coroutine, you know, writes into c in which your coroutine", "timestamp": "00:24:04,596", "timestamp_s": 1444.0}, {"text": "was blocked on. Your caller can be blocked on cout.", "timestamp": "00:24:08,860", "timestamp_s": 1448.0}, {"text": "So as soon as your callee or your coroutine stops", "timestamp": "00:24:12,564", "timestamp_s": 1452.0}, {"text": "executing, it\u0027s finished executing, it can write into cout", "timestamp": "00:24:16,100", "timestamp_s": 1456.0}, {"text": "so and block itself and c in again. So your coroutine is blocked,", "timestamp": "00:24:20,124", "timestamp_s": 1460.0}, {"text": "and you have now successfully resumed your", "timestamp": "00:24:24,096", "timestamp_s": 1464.0}, {"text": "caller or your subroutine. So this sort of, we\u0027re already starting to see", "timestamp": "00:24:27,584", "timestamp_s": 1467.0}, {"text": "like a control transfer mechanism coming to", "timestamp": "00:24:31,312", "timestamp_s": 1471.0}, {"text": "play. Your new function over here. This function new", "timestamp": "00:24:34,608", "timestamp_s": 1474.0}, {"text": "in your package coral. All it\u0027s doing is it\u0027s instantiating", "timestamp": "00:24:38,016", "timestamp_s": 1478.0}, {"text": "two unbuffered channels, your c in, and you see out your resume function.", "timestamp": "00:24:41,640", "timestamp_s": 1481.0}, {"text": "Okay, let\u0027s look at the go function first. Your go function, this coroutine is", "timestamp": "00:24:47,184", "timestamp_s": 1487.0}, {"text": "essentially what your cor is, your coroutine with a c,", "timestamp": "00:24:50,906", "timestamp_s": 1490.0}, {"text": "right? So you can see that your function, that this go function is running,", "timestamp": "00:24:54,250", "timestamp_s": 1494.0}, {"text": "is blocked on cin. When you want to resume this function,", "timestamp": "00:24:58,146", "timestamp_s": 1498.0}, {"text": "you call this resume function. All it does is writes into cin and waits", "timestamp": "00:25:01,530", "timestamp_s": 1501.0}, {"text": "on cout. And as soon as your go routine, finish executing,", "timestamp": "00:25:05,202", "timestamp_s": 1505.0}, {"text": "finishes executing your function, f it writes the output into", "timestamp": "00:25:09,578", "timestamp_s": 1509.0}, {"text": "cout, you know, which unblocks the. This resume function.", "timestamp": "00:25:12,802", "timestamp_s": 1512.0}, {"text": "And your go function can be blocked on cn again.", "timestamp": "00:25:16,766", "timestamp_s": 1516.0}, {"text": "So you can pause and see how this works.", "timestamp": "00:25:20,534", "timestamp_s": 1520.0}, {"text": "So the new go routine blocks on cn. So far,", "timestamp": "00:25:24,174", "timestamp_s": 1524.0}, {"text": "you have no parallelism, because only one function,", "timestamp": "00:25:27,822", "timestamp_s": 1527.0}, {"text": "one routine, has the control.", "timestamp": "00:25:31,510", "timestamp_s": 1531.0}, {"text": "Now let\u0027s add the definition of yield that", "timestamp": "00:25:35,494", "timestamp_s": 1535.0}, {"text": "we\u0027ve been talking about so far and basically return its value", "timestamp": "00:25:39,190", "timestamp_s": 1539.0}, {"text": "to the core routine that resumed it. Right? So right", "timestamp": "00:25:42,666", "timestamp_s": 1542.0}, {"text": "now we\u0027re looking at suspend and yield. So your yield is just the", "timestamp": "00:25:46,418", "timestamp_s": 1546.0}, {"text": "inversion of your resume. So in your yield function,", "timestamp": "00:25:50,090", "timestamp_s": 1550.0}, {"text": "you\u0027re writing into cout, and when you write into cout, you wait to receive", "timestamp": "00:25:53,634", "timestamp_s": 1553.0}, {"text": "from c in. So you call, your coroutine is writing into cout,", "timestamp": "00:25:57,850", "timestamp_s": 1557.0}, {"text": "which your subroutine is blocked on.", "timestamp": "00:26:01,866", "timestamp_s": 1561.0}, {"text": "And as soon as you do that blocked on, your coroteons blocked", "timestamp": "00:26:05,194", "timestamp_s": 1565.0}, {"text": "on Cn, your caller starts functioning and you", "timestamp": "00:26:08,568", "timestamp_s": 1568.0}, {"text": "know which was which one. Once it wants to resume the function", "timestamp": "00:26:12,448", "timestamp_s": 1572.0}, {"text": "again, it can write to Cn again. So that\u0027s", "timestamp": "00:26:16,072", "timestamp_s": 1576.0}, {"text": "great. Now you have, now if you notice, it\u0027s just the inverse of", "timestamp": "00:26:19,360", "timestamp_s": 1579.0}, {"text": "your resume function. It writes into cout and blocks itself", "timestamp": "00:26:23,208", "timestamp_s": 1583.0}, {"text": "from c in and you can actually pass this function", "timestamp": "00:26:26,744", "timestamp_s": 1586.0}, {"text": "in your go routine. So that is", "timestamp": "00:26:31,864", "timestamp_s": 1591.0}, {"text": "great. That go allows you to pass function values", "timestamp": "00:26:35,264", "timestamp_s": 1595.0}, {"text": "in other functions, so as callback functions.", "timestamp": "00:26:40,624", "timestamp_s": 1600.0}, {"text": "So on a note, you have only added", "timestamp": "00:26:44,304", "timestamp_s": 1604.0}, {"text": "another send receipt pair and there\u0027s still no parallelism that\u0027s happening.", "timestamp": "00:26:48,072", "timestamp_s": 1608.0}, {"text": "So that\u0027s the whole point of coroutines.", "timestamp": "00:26:51,464", "timestamp_s": 1611.0}, {"text": "So let\u0027s pause for a bit. Are these actually coroutines?", "timestamp": "00:26:54,824", "timestamp_s": 1614.0}, {"text": "They\u0027re still full coroutines, and they can do everything that an ordinary go routine", "timestamp": "00:26:59,064", "timestamp_s": 1619.0}, {"text": "can. Your core routine, your core new, just creates", "timestamp": "00:27:02,922", "timestamp_s": 1622.0}, {"text": "coroutines with access to resume and yield operations.", "timestamp": "00:27:06,522", "timestamp_s": 1626.0}, {"text": "Unlike the Go statement, we are adding new concurrence to the program", "timestamp": "00:27:10,074", "timestamp_s": 1630.0}, {"text": "without parallelism.", "timestamp": "00:27:13,522", "timestamp_s": 1633.0}, {"text": "So if you have go statements in your main function,", "timestamp": "00:27:16,114", "timestamp_s": 1636.0}, {"text": "say you have ten go statements in your main function.", "timestamp": "00:27:20,474", "timestamp_s": 1640.0}, {"text": "Now you have eleven go routines running and they can be running", "timestamp": "00:27:23,714", "timestamp_s": 1643.0}, {"text": "at once. So your parallelism is actually gone up to eleven.", "timestamp": "00:27:27,230", "timestamp_s": 1647.0}, {"text": "But if you have one main coroutine that runs ten new", "timestamp": "00:27:31,174", "timestamp_s": 1651.0}, {"text": "core new calls, then there are eleven control flows.", "timestamp": "00:27:34,878", "timestamp_s": 1654.0}, {"text": "But the parallelism of the program is still what it was before, just one.", "timestamp": "00:27:38,726", "timestamp_s": 1658.0}, {"text": "Right? So go creates new concurrent parallel control flows,", "timestamp": "00:27:42,814", "timestamp_s": 1662.0}, {"text": "whereas your coro new, which is the implementation that we are developing,", "timestamp": "00:27:46,262", "timestamp_s": 1666.0}, {"text": "creates new concurrent non parallel control flows.", "timestamp": "00:27:49,926", "timestamp_s": 1669.0}, {"text": "So let\u0027s get back to implementing our core API. It was", "timestamp": "00:27:53,304", "timestamp_s": 1673.0}, {"text": "pretty crude and we can start improving it a little bit. So first,", "timestamp": "00:27:56,552", "timestamp_s": 1676.0}, {"text": "what if your callee or your coroutine wants to terminate instead of yielding", "timestamp": "00:28:00,584", "timestamp_s": 1680.0}, {"text": "back control, it wants to just stop executing.", "timestamp": "00:28:04,192", "timestamp_s": 1684.0}, {"text": "So say your code has stopped executing. How does your caller know that it", "timestamp": "00:28:07,352", "timestamp_s": 1687.0}, {"text": "stopped executing? Right, it can try to resume this", "timestamp": "00:28:10,728", "timestamp_s": 1690.0}, {"text": "coroutine that does not exist anymore and, you know, block itself and", "timestamp": "00:28:14,160", "timestamp_s": 1694.0}, {"text": "cout. But there is nothing to write into cout because your coroutine does not", "timestamp": "00:28:17,984", "timestamp_s": 1697.0}, {"text": "exist anymore. So all your, so a simple,", "timestamp": "00:28:21,392", "timestamp_s": 1701.0}, {"text": "you know, solution to this could be just have a global variable", "timestamp": "00:28:24,752", "timestamp_s": 1704.0}, {"text": "called running. And as soon as a coroutine stops functioning,", "timestamp": "00:28:28,264", "timestamp_s": 1708.0}, {"text": "just set running to false. All your caller needs to do is, before it", "timestamp": "00:28:31,320", "timestamp_s": 1711.0}, {"text": "resumes its coroutine, just, just ask, is this coroutine still", "timestamp": "00:28:35,208", "timestamp_s": 1715.0}, {"text": "running? If not, don\u0027t try", "timestamp": "00:28:38,672", "timestamp_s": 1718.0}, {"text": "to resume this function. You might think that having", "timestamp": "00:28:42,360", "timestamp_s": 1722.0}, {"text": "a global variable when you could have potentially a bunch of", "timestamp": "00:28:47,102", "timestamp_s": 1727.0}, {"text": "coroutines that are running a place for data races.", "timestamp": "00:28:50,702", "timestamp_s": 1730.0}, {"text": "But if you recall, you can have only one coroutine running at a time.", "timestamp": "00:28:54,582", "timestamp_s": 1734.0}, {"text": "So this sequential, consistent execution", "timestamp": "00:28:58,262", "timestamp_s": 1738.0}, {"text": "ensures that there are no data races happening at this running", "timestamp": "00:29:02,598", "timestamp_s": 1742.0}, {"text": "variable. So, a very simple implementation over here, you have the sunning variable.", "timestamp": "00:29:06,510", "timestamp_s": 1746.0}, {"text": "As soon as your go routine, which is your coroutine,", "timestamp": "00:29:11,594", "timestamp_s": 1751.0}, {"text": "in this case, executes this function. X, f,", "timestamp": "00:29:15,042", "timestamp_s": 1755.0}, {"text": "your running can be set to false. And the next time you want", "timestamp": "00:29:18,954", "timestamp_s": 1758.0}, {"text": "to start this function again, you check", "timestamp": "00:29:22,578", "timestamp_s": 1762.0}, {"text": "is running set to false. If it is set to false, then just return.", "timestamp": "00:29:26,370", "timestamp_s": 1766.0}, {"text": "If it is not, write into c and resume that function,", "timestamp": "00:29:30,082", "timestamp_s": 1770.0}, {"text": "and so on and so forth. Another thing is", "timestamp": "00:29:33,034", "timestamp_s": 1773.0}, {"text": "that, sure, if it terminates properly, then you", "timestamp": "00:29:36,282", "timestamp_s": 1776.0}, {"text": "have your running properly set to false.", "timestamp": "00:29:40,270", "timestamp_s": 1780.0}, {"text": "But what if the caller, what if your coroutine actually panics, never gets", "timestamp": "00:29:43,798", "timestamp_s": 1783.0}, {"text": "a chance to set running to false. How does your caller then know", "timestamp": "00:29:47,958", "timestamp_s": 1787.0}, {"text": "that the coroutine does not exist anymore and not", "timestamp": "00:29:51,206", "timestamp_s": 1791.0}, {"text": "potentially bread lock itself? So all we", "timestamp": "00:29:54,822", "timestamp_s": 1794.0}, {"text": "have, your caller could be blocked waiting for news", "timestamp": "00:29:58,790", "timestamp_s": 1798.0}, {"text": "and couture, but it gets nothing. So yeah, it panics.", "timestamp": "00:30:02,614", "timestamp_s": 1802.0}, {"text": "There are no rights to call and your caller is blocked. What you can do", "timestamp": "00:30:06,800", "timestamp_s": 1806.0}, {"text": "is simply just, whenever your coroutine", "timestamp": "00:30:10,552", "timestamp_s": 1810.0}, {"text": "panics, just propagate this panic up to your caller, and you can just write", "timestamp": "00:30:13,952", "timestamp_s": 1813.0}, {"text": "into cout, which is what the caller is waiting on.", "timestamp": "00:30:17,992", "timestamp_s": 1817.0}, {"text": "Write in the code that, you know, I have panicked and don\u0027t", "timestamp": "00:30:21,208", "timestamp_s": 1821.0}, {"text": "exist anymore. So don\u0027t try to resume this particular co routine.", "timestamp": "00:30:25,512", "timestamp_s": 1825.0}, {"text": "And this can be implemented using this defer funk.", "timestamp": "00:30:28,964", "timestamp_s": 1828.0}, {"text": "So how defer funk, how defer works, if you don\u0027t know, is that", "timestamp": "00:30:32,804", "timestamp_s": 1832.0}, {"text": "it just runs at the end of your function. So after", "timestamp": "00:30:36,812", "timestamp_s": 1836.0}, {"text": "everything is stopped running, your defer runs, and all it\u0027s doing is", "timestamp": "00:30:41,204", "timestamp_s": 1841.0}, {"text": "that checking if running is set to true. Now,", "timestamp": "00:30:45,508", "timestamp_s": 1845.0}, {"text": "if your control has reached your defer function and running", "timestamp": "00:30:49,092", "timestamp_s": 1849.0}, {"text": "was not set to false, which basically means that something went wrong", "timestamp": "00:30:52,492", "timestamp_s": 1852.0}, {"text": "over here in this gray dot portion, which means that", "timestamp": "00:30:56,500", "timestamp_s": 1856.0}, {"text": "your colleague possibly panicked. So if", "timestamp": "00:31:00,484", "timestamp_s": 1860.0}, {"text": "it reaches a def function and running is set to true, you know, that something", "timestamp": "00:31:03,988", "timestamp_s": 1863.0}, {"text": "bad happened. Set running to false and into cout,", "timestamp": "00:31:07,844", "timestamp_s": 1867.0}, {"text": "which your resume is waiting to read from. Just write", "timestamp": "00:31:11,244", "timestamp_s": 1871.0}, {"text": "the message panic. And now your resume", "timestamp": "00:31:14,740", "timestamp_s": 1874.0}, {"text": "function can handle this panic however it wants to. It can return", "timestamp": "00:31:18,060", "timestamp_s": 1878.0}, {"text": "in this case, and you can do whatever you want to with this panic.", "timestamp": "00:31:21,268", "timestamp_s": 1881.0}, {"text": "So, you know, you solve that deadlock situation.", "timestamp": "00:31:24,536", "timestamp_s": 1884.0}, {"text": "Finally, we need some way to tell the coroutine", "timestamp": "00:31:27,624", "timestamp_s": 1887.0}, {"text": "or your callee that it\u0027s no longer needed. And that could happen because", "timestamp": "00:31:31,352", "timestamp_s": 1891.0}, {"text": "maybe your caller is panicking or because the caller is simply returning.", "timestamp": "00:31:35,088", "timestamp_s": 1895.0}, {"text": "Right, and it\u0027s the same thing, but the same thing, but in reverse.", "timestamp": "00:31:38,544", "timestamp_s": 1898.0}, {"text": "Your subroutine just needs to tell your callee, you know,", "timestamp": "00:31:42,720", "timestamp_s": 1902.0}, {"text": "on the channel that it\u0027s waiting on, in that the", "timestamp": "00:31:47,200", "timestamp_s": 1907.0}, {"text": "parent of this particular function does not exist anymore and you can", "timestamp": "00:31:52,230", "timestamp_s": 1912.0}, {"text": "stop working as well. So it\u0027s just the reverse of what we implemented.", "timestamp": "00:31:55,798", "timestamp_s": 1915.0}, {"text": "But what we can do is so, yeah, right into cin that", "timestamp": "00:32:00,014", "timestamp_s": 1920.0}, {"text": "the caller is cancelling, just propagate", "timestamp": "00:32:04,238", "timestamp_s": 1924.0}, {"text": "this cancel call t or callee, which once it", "timestamp": "00:32:07,430", "timestamp_s": 1927.0}, {"text": "receives the cancel, it can write into co that, you know,", "timestamp": "00:32:10,510", "timestamp_s": 1930.0}, {"text": "I acknowledge that the caller is cancelled and", "timestamp": "00:32:13,502", "timestamp_s": 1933.0}, {"text": "the caller knows that successfully canceled its quote routine", "timestamp": "00:32:17,714", "timestamp_s": 1937.0}, {"text": "before, you know, stopping itself. So you have your cancel", "timestamp": "00:32:21,266", "timestamp_s": 1941.0}, {"text": "function over here, and all it\u0027s doing,", "timestamp": "00:32:24,442", "timestamp_s": 1944.0}, {"text": "it\u0027s writing into cin a special kind of a panic, which is in", "timestamp": "00:32:27,314", "timestamp_s": 1947.0}, {"text": "this case this error cancelled into c, in which your", "timestamp": "00:32:30,770", "timestamp_s": 1950.0}, {"text": "yield function can then handle. So if in", "timestamp": "00:32:34,778", "timestamp_s": 1954.0}, {"text": "your yield function, if it gets a panic on cin,", "timestamp": "00:32:38,746", "timestamp_s": 1958.0}, {"text": "it knows that the caller or the invoker", "timestamp": "00:32:42,324", "timestamp_s": 1962.0}, {"text": "of this particular code routine does not exist anymore. And I can go ahead", "timestamp": "00:32:45,980", "timestamp_s": 1965.0}, {"text": "and cancel myself, you can pause and look at a bunch of other things that\u0027s", "timestamp": "00:32:49,508", "timestamp_s": 1969.0}, {"text": "happening over here. So finally,", "timestamp": "00:32:52,788", "timestamp_s": 1972.0}, {"text": "what are the runtime changes that can be made? Right,", "timestamp": "00:32:55,764", "timestamp_s": 1975.0}, {"text": "that\u0027s the, that\u0027s the interesting bit. So far we have", "timestamp": "00:32:58,852", "timestamp_s": 1978.0}, {"text": "defined coroutines using pure go rust builds on this", "timestamp": "00:33:02,524", "timestamp_s": 1982.0}, {"text": "use of optimized use, use of an", "timestamp": "00:33:06,788", "timestamp_s": 1986.0}, {"text": "optimized runtime implementation. And what he", "timestamp": "00:33:10,030", "timestamp_s": 1990.0}, {"text": "did was initially collections of performance data. And he saw that this", "timestamp": "00:33:13,518", "timestamp_s": 1993.0}, {"text": "Coro, new coro implementation that we\u0027ve been describing took", "timestamp": "00:33:17,190", "timestamp_s": 1997.0}, {"text": "approximately 190 nanoseconds per switch, which lies", "timestamp": "00:33:21,126", "timestamp_s": 2001.0}, {"text": "in the realm of what a regular go routine switch takes at a", "timestamp": "00:33:25,118", "timestamp_s": 2005.0}, {"text": "few hundred nanoseconds. He changes one thing. First he", "timestamp": "00:33:29,314", "timestamp_s": 2009.0}, {"text": "marks in the compiler, he marks as a resume", "timestamp": "00:33:33,194", "timestamp_s": 2013.0}, {"text": "and yield the send receive pairs as", "timestamp": "00:33:36,650", "timestamp_s": 2016.0}, {"text": "a single operation. So now these are two separate operations", "timestamp": "00:33:40,090", "timestamp_s": 2020.0}, {"text": "that need to be scheduled by the co, scheduler. It\u0027s one single atomic operation.", "timestamp": "00:33:43,738", "timestamp_s": 2023.0}, {"text": "So you are completely bypassing the scheduler. And you can just directly jump", "timestamp": "00:33:48,050", "timestamp_s": 2028.0}, {"text": "between coroutines instead of waiting for it to be scheduled,", "timestamp": "00:33:52,250", "timestamp_s": 2032.0}, {"text": "your resume to be scheduled, and your yield to be scheduled,", "timestamp": "00:33:55,874", "timestamp_s": 2035.0}, {"text": "bypassing the scheduler entirely. So this implementation actually required", "timestamp": "00:33:59,094", "timestamp_s": 2039.0}, {"text": "just 118 nanoseconds, which was 38% faster from our", "timestamp": "00:34:02,966", "timestamp_s": 2042.0}, {"text": "exist current implementation. Then he talks about", "timestamp": "00:34:06,734", "timestamp_s": 2046.0}, {"text": "adding a direct coroutine switch to the runtime, so you\u0027re", "timestamp": "00:34:10,326", "timestamp_s": 2050.0}, {"text": "avoiding channels entirely. Channels are pretty heavyweight", "timestamp": "00:34:13,982", "timestamp_s": 2053.0}, {"text": "in the sense that they are pretty general purpose. They are intended", "timestamp": "00:34:18,062", "timestamp_s": 2058.0}, {"text": "to do a bunch of things, not just a coroutine", "timestamp": "00:34:22,078", "timestamp_s": 2062.0}, {"text": "switch mechanism. So instead you can have a direct coroutine", "timestamp": "00:34:25,582", "timestamp_s": 2065.0}, {"text": "switch in runtime. And that implementation actually", "timestamp": "00:34:29,100", "timestamp_s": 2069.0}, {"text": "just took 20 nanoseconds per switch, which is ten times", "timestamp": "00:34:32,948", "timestamp_s": 2072.0}, {"text": "faster than the original channel implementation. So, you know, if this ends", "timestamp": "00:34:36,196", "timestamp_s": 2076.0}, {"text": "up becoming native to go, it would", "timestamp": "00:34:39,788", "timestamp_s": 2079.0}, {"text": "be really interesting to see how developers use this really,", "timestamp": "00:34:43,068", "timestamp_s": 2083.0}, {"text": "you know, super fast implementation in go in", "timestamp": "00:34:47,284", "timestamp_s": 2087.0}, {"text": "various creative ways, and, you know, to see how it changes the", "timestamp": "00:34:51,228", "timestamp_s": 2091.0}, {"text": "concurrency landscape that go has sort of spearheaded.", "timestamp": "00:34:55,559", "timestamp_s": 2095.0}, {"text": "We covered quite a bit, and thanks for making it here. We are", "timestamp": "00:35:00,903", "timestamp_s": 2100.0}, {"text": "able to show that having a full coroutine facility in go makes it even", "timestamp": "00:35:04,575", "timestamp_s": 2104.0}, {"text": "more powerful for implementing very robust generalized concurrency", "timestamp": "00:35:08,223", "timestamp_s": 2108.0}, {"text": "patterns. We covered the basics of coroutines,", "timestamp": "00:35:12,143", "timestamp_s": 2112.0}, {"text": "its history, why it\u0027s not as prolific, the problems with it,", "timestamp": "00:35:15,239", "timestamp_s": 2115.0}, {"text": "why it\u0027s not present in a lot of ancient languages. We showed", "timestamp": "00:35:19,394", "timestamp_s": 2119.0}, {"text": "why we care about full coroutines, what full", "timestamp": "00:35:22,450", "timestamp_s": 2122.0}, {"text": "coroutines are as different classifications, why we", "timestamp": "00:35:25,802", "timestamp_s": 2125.0}, {"text": "need to have coroutines in go, and how they differ from go routines,", "timestamp": "00:35:29,418", "timestamp_s": 2129.0}, {"text": "and how they would differ from existing implementations in other languages like", "timestamp": "00:35:32,986", "timestamp_s": 2132.0}, {"text": "Python and Kotlin. We then implemented a coroutine API", "timestamp": "00:35:37,082", "timestamp_s": 2137.0}, {"text": "using existing go definitions, and we built on it to make it a little more", "timestamp": "00:35:41,346", "timestamp_s": 2141.0}, {"text": "robust. We showed what runtime changes can be made", "timestamp": "00:35:44,770", "timestamp_s": 2144.0}, {"text": "to make this implementation even more efficient. Finally, these are", "timestamp": "00:35:48,522", "timestamp_s": 2148.0}, {"text": "the references I highly recommend going through all of these", "timestamp": "00:35:52,146", "timestamp_s": 2152.0}, {"text": "articles and videos. They\u0027re super interesting and quick", "timestamp": "00:35:56,042", "timestamp_s": 2156.0}, {"text": "reads, and definitely go through co routine for go", "timestamp": "00:36:02,034", "timestamp_s": 2162.0}, {"text": "by Russ Cox. That\u0027s where a lot of this talk was taken from.", "timestamp": "00:36:06,114", "timestamp_s": 2166.0}, {"text": "Finally, the artwork is by Rene French,", "timestamp": "00:36:09,498", "timestamp_s": 2169.0}, {"text": "tenten quaslite. Check out their artwork, some really interesting", "timestamp": "00:36:12,674", "timestamp_s": 2172.0}, {"text": "things and yeah, thank you, thanks a lot.", "timestamp": "00:36:16,434", "timestamp_s": 2176.0}];
              

              var tag = document.createElement('script');

              tag.src = "https://www.youtube.com/iframe_api";
              var firstScriptTag = document.getElementsByTagName('script')[0];
              firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

              // 3. This function creates an <iframe> (and YouTube player)
              //    after the API code downloads.
              var player;
              function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                  height: '100%',
                  width: '100%',
                  videoId: 'NqdDgxP7rsE',
                  playerVars: {
                    'playsinline': 1
                  },
                  events: {
                    'onReady': onPlayerReady,
                    // 'onStateChange': onPlayerStateChange
                  }
                });
              }
              function onPlayerReady(event) {
                console.log("Player ready");
                var sec = Number(location.href.split("#")[1]);
                if (sec){
                  player.seekTo(sec, true);
                }
                player.playVideo();
                highlightParagraph();
              }
              // find the number of the paragraph
              function findParagraph(sec){
                for (var i = 1; i < transcript.length; i++) {
                  if (transcript[i].timestamp_s > sec){
                    return i - 1;
                  }
                }
                return transcript.length - 1;
              }
              // move the video to the desired second
              function seek(sec){
                if(player){
                  player.playVideo();
                  player.seekTo(sec, true);
                }
                location.href = location.href.split("#")[0] + "#" + sec;
                highlightParagraph(sec);
              }
              // highlight the right paragraph
              var prevParagraph;
              function highlightParagraph(sec) {
                var currentTime = sec;
                if (!currentTime && player) {
                  currentTime = player.getCurrentTime();
                }
                if (!currentTime){
                  console.log("No current time")
                  return;
                }
                var currentParagraph = findParagraph(currentTime);
                if (currentParagraph !== prevParagraph){
                  prevParagraph = currentParagraph;
                  Array.from(document.getElementsByClassName("transcript-chunks")).forEach((e) => {
                    e.classList.remove('text-selected');
                  });
                  var body = document.getElementById("chunk-"+currentParagraph);
                  body.classList.add('text-selected');
                }
              }
              time_update_interval = setInterval(highlightParagraph, 1000);
            </script>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>
    

    <!-- CONTENT -->
    <section class="pt-2">
      <div class="container">
        <div class="row justify-content-center">

          <div class="col-12 mb-5">
            <h1>
              Coroutines and Go
            </h1>
            
            <h3 class="bg-white">
              Video size:
              <a href="javascript:void(0);" onclick="resizeVideo(25)"><i class="fe fe-zoom-out me-2"></i></a>
              <a href="javascript:void(0);" onclick="resizeVideo(50)"><i class="fe fe-zoom-in me-2"></i></a>
            </h3>
            
          </div>

          <div class="col-12 mb-5">
            <h3>
              Abstract
            </h3>
<!-- Text -->
<p>Go provides great primitives for concurrency, but Coroutines are a concurrency pattern not served natively. They are one of the oldest proposals of a general control abstraction, can we implement them using existing Go definitions? What changes can be made to the Go runtime for efficiency?</p>
<!-- End Text -->
          </div>

          

          <div class="col-12 mb-5">
            <h3>
              Summary
            </h3>
            <ul>
              
              <li>
                Raghav Roy: Today we'll be talking about coroutines as generalized subroutines. We'll cover basics, how it all started, and why the concept is important. Some core runtime changes that could be made to support cor outines natively in Go.

              </li>
              
              <li>
                A coroutine can do everything a subroutine can. It can suspend itself, run another function, terminate itself, yield back control to its invoker. Can we define coroutines as generalized subroutines?

              </li>
              
              <li>
                Coroutines should have been a common pattern that is provided by most languages. But with a few rare exceptions, that's similar. They are actually a limited variant of a coroutine. There's a lack of uniform view of this concept.

              </li>
              
              <li>
                Some languages like Python and Kotlin don't actually provide full coroutines. Instead they use asymmetric coroutine mechanisms that provide two control transfer operations. These can be used to implement generators, iterators, all the way up to cooperative multitasking.

              </li>
              
              <li>
                Let's start building an API of coroutines in go by using existing Go definitions that's available today. A coroutine can do a bunch of things. It can suspend itself, run another function, terminate itself, yield back control, or suspend itself. Unlike the new Go statement, we are adding new pairings: yield and concurrence.

              </li>
              
              <li>
                As soon as a coroutine stops functioning, just set running to false. All your caller needs to do is, before it resumes its coroutine, just ask, is this coroutine still running? And this can be implemented using this defer funk.

              </li>
              
              <li>
                Go rust builds on this use of optimized use, use of an optimized runtime implementation. You can just directly jump between coroutines instead of waiting for it to be scheduled. If this ends up becoming native to go, it would be really interesting to see how developers use this super fast implementation in go in various creative ways.

              </li>
              
              <li>
                Having a full coroutine facility in go makes it even more powerful for implementing very robust generalized concurrency patterns. These are the references I highly recommend going through all of these articles and videos.
              </li>
              
            </ul>
          </div>

          <div class="col-12 mb-5">
            <h3>
              Transcript
            </h3>
            <span class="text-muted">
              This transcript was autogenerated. To make changes, <a href="https://github.com/conf42/src/edit/main/assemblyai/NqdDgxP7rsE.srt" target="_blank">submit a PR</a>.
            </span>
            <div>
            
            <span id="chunk-0" class="transcript-chunks" onclick="console.log('00:00:20,560'); seek(20.0)">
              Hi everyone, I'm Raghav Roy, and today we'll be talking about coroutines
            </span>
            
            <span id="chunk-1" class="transcript-chunks" onclick="console.log('00:00:24,334'); seek(24.0)">
              and go. A little bit about myself.
            </span>
            
            <span id="chunk-2" class="transcript-chunks" onclick="console.log('00:00:27,864'); seek(27.0)">
              I'm a software engineer at VMware. I work with the EsXi
            </span>
            
            <span id="chunk-3" class="transcript-chunks" onclick="console.log('00:00:31,984'); seek(31.0)">
              hypervisor. When I'm using Go is generally
            </span>
            
            <span id="chunk-4" class="transcript-chunks" onclick="console.log('00:00:35,824'); seek(35.0)">
              on my personal projects or when I'm contributing to open source,
            </span>
            
            <span id="chunk-5" class="transcript-chunks" onclick="console.log('00:00:39,152'); seek(39.0)">
              something like kubernetes, maybe. So, just to set
            </span>
            
            <span id="chunk-6" class="transcript-chunks" onclick="console.log('00:00:42,472'); seek(42.0)">
              the expectations of the talk a little bit, we're going to be covering coroutines
            </span>
            
            <span id="chunk-7" class="transcript-chunks" onclick="console.log('00:00:46,992'); seek(46.0)">
              as generalized subroutines. So a little bit of
            </span>
            
            <span id="chunk-8" class="transcript-chunks" onclick="console.log('00:00:50,536'); seek(50.0)">
              we'll cover a little bit of basics over there, how it all
            </span>
            
            <span id="chunk-9" class="transcript-chunks" onclick="console.log('00:00:53,814'); seek(53.0)">
              started, where and how coroutines came to be classifying
            </span>
            
            <span id="chunk-10" class="transcript-chunks" onclick="console.log('00:00:58,390'); seek(58.0)">
              coroutines, and why the concept of full coroutines is important,
            </span>
            
            <span id="chunk-11" class="transcript-chunks" onclick="console.log('00:01:02,534'); seek(62.0)">
              and how some languages actually don't provide full coroutines.
            </span>
            
            <span id="chunk-12" class="transcript-chunks" onclick="console.log('00:01:06,214'); seek(66.0)">
              Implementing coroutines in Go using just pure go definitions
            </span>
            
            <span id="chunk-13" class="transcript-chunks" onclick="console.log('00:01:10,278'); seek(70.0)">
              and go semantics, and finally, some core runtime
            </span>
            
            <span id="chunk-14" class="transcript-chunks" onclick="console.log('00:01:14,134'); seek(74.0)">
              changes that could be made to support coroutines
            </span>
            
            <span id="chunk-15" class="transcript-chunks" onclick="console.log('00:01:17,374'); seek(77.0)">
              natively and far more efficiently. So, to begin
            </span>
            
            <span id="chunk-16" class="transcript-chunks" onclick="console.log('00:01:20,874'); seek(80.0)">
              with, brushing up on some basics. What are subroutines?
            </span>
            
            <span id="chunk-17" class="transcript-chunks" onclick="console.log('00:01:25,154'); seek(85.0)">
              Subroutines can do subroutines are essentially your regular
            </span>
            
            <span id="chunk-18" class="transcript-chunks" onclick="console.log('00:01:28,786'); seek(88.0)">
              function. Calls can do certain things. They can suspend themselves
            </span>
            
            <span id="chunk-19" class="transcript-chunks" onclick="console.log('00:01:32,514'); seek(92.0)">
              and run another function, or they could terminate themselves and
            </span>
            
            <span id="chunk-20" class="transcript-chunks" onclick="console.log('00:01:36,194'); seek(96.0)">
              yield back control to its caller. These are the two things that your functions can
            </span>
            
            <span id="chunk-21" class="transcript-chunks" onclick="console.log('00:01:39,970'); seek(99.0)">
              do. So in this case, say you have a main subroutine,
            </span>
            
            <span id="chunk-22" class="transcript-chunks" onclick="console.log('00:01:43,810'); seek(103.0)">
              suspends itself, starts another function, this function can execute,
            </span>
            
            <span id="chunk-23" class="transcript-chunks" onclick="console.log('00:01:47,808'); seek(107.0)">
              and as soon as it has to call another function, it can suspend itself.
            </span>
            
            <span id="chunk-24" class="transcript-chunks" onclick="console.log('00:01:51,272'); seek(111.0)">
              Call this third function, which can start functioning again after
            </span>
            
            <span id="chunk-25" class="transcript-chunks" onclick="console.log('00:01:55,784'); seek(115.0)">
              this outermost function has finished
            </span>
            
            <span id="chunk-26" class="transcript-chunks" onclick="console.log('00:01:59,000'); seek(119.0)">
              processing, it can terminate yield back control to its parent
            </span>
            
            <span id="chunk-27" class="transcript-chunks" onclick="console.log('00:02:02,576'); seek(122.0)">
              caller, which can terminate again and yield back control to its parent.
            </span>
            
            <span id="chunk-28" class="transcript-chunks" onclick="console.log('00:02:07,064'); seek(127.0)">
              So this is what a regular subroutine looks like.
            </span>
            
            <span id="chunk-29" class="transcript-chunks" onclick="console.log('00:02:10,624'); seek(130.0)">
              Now, subroutines. Now, these definitions differ
            </span>
            
            <span id="chunk-30" class="transcript-chunks" onclick="console.log('00:02:14,034'); seek(134.0)">
              depending on where you are living on the Internet, but for this talk,
            </span>
            
            <span id="chunk-31" class="transcript-chunks" onclick="console.log('00:02:17,018'); seek(137.0)">
              eager and closed means that, well, eager means expressions that a
            </span>
            
            <span id="chunk-32" class="transcript-chunks" onclick="console.log('00:02:21,090'); seek(141.0)">
              function encounters are evaluated as soon as they are encountered,
            </span>
            
            <span id="chunk-33" class="transcript-chunks" onclick="console.log('00:02:24,786'); seek(144.0)">
              and closed means that your function only returns
            </span>
            
            <span id="chunk-34" class="transcript-chunks" onclick="console.log('00:02:29,042'); seek(149.0)">
              after it has evaluated the expression. So it can't sort of suspend itself
            </span>
            
            <span id="chunk-35" class="transcript-chunks" onclick="console.log('00:02:33,178'); seek(153.0)">
              in the middle of processing and yield control back to its invoker.
            </span>
            
            <span id="chunk-36" class="transcript-chunks" onclick="console.log('00:02:36,858'); seek(156.0)">
              That's the important difference that we'll see soon. With coroutines
            </span>
            
            <span id="chunk-37" class="transcript-chunks" onclick="console.log('00:02:40,884'); seek(160.0)">
              now coroutines as generalized subroutines, can we define them
            </span>
            
            <span id="chunk-38" class="transcript-chunks" onclick="console.log('00:02:44,628'); seek(164.0)">
              as generalized subroutines? And what I mean by that is, a coroutine
            </span>
            
            <span id="chunk-39" class="transcript-chunks" onclick="console.log('00:02:48,396'); seek(168.0)">
              can do everything a subroutine can, which means can suspend itself,
            </span>
            
            <span id="chunk-40" class="transcript-chunks" onclick="console.log('00:02:52,020'); seek(172.0)">
              run another function, terminate itself, yield back control to its invoker,
            </span>
            
            <span id="chunk-41" class="transcript-chunks" onclick="console.log('00:02:56,236'); seek(176.0)">
              or this magic special thing at the end, which is suspend
            </span>
            
            <span id="chunk-42" class="transcript-chunks" onclick="console.log('00:03:00,044'); seek(180.0)">
              itself and yield back control to its invoker, instead of,
            </span>
            
            <span id="chunk-43" class="transcript-chunks" onclick="console.log('00:03:04,220'); seek(184.0)">
              so it just passes the control back to its invoker, pausing itself,
            </span>
            
            <span id="chunk-44" class="transcript-chunks" onclick="console.log('00:03:08,490'); seek(188.0)">
              essentially. So how could that look like, say you have a subroutine running over here,
            </span>
            
            <span id="chunk-45" class="transcript-chunks" onclick="console.log('00:03:12,618'); seek(192.0)">
              and you want to run this coroutine on the left. So your subroutine suspends itself
            </span>
            
            <span id="chunk-46" class="transcript-chunks" onclick="console.log('00:03:16,954'); seek(196.0)">
              and say it wants to read from some output,
            </span>
            
            <span id="chunk-47" class="transcript-chunks" onclick="console.log('00:03:21,170'); seek(201.0)">
              that is, output from this coroutine. So your
            </span>
            
            <span id="chunk-48" class="transcript-chunks" onclick="console.log('00:03:25,050'); seek(205.0)">
              coroutine starts functioning. After it has the output, it can suspend itself
            </span>
            
            <span id="chunk-49" class="transcript-chunks" onclick="console.log('00:03:29,098'); seek(209.0)">
              and yield control back to your subroutine with the output. And now
            </span>
            
            <span id="chunk-50" class="transcript-chunks" onclick="console.log('00:03:33,150'); seek(213.0)">
              you can see that the coroutine has actually stopped here. It has saved the state,
            </span>
            
            <span id="chunk-51" class="transcript-chunks" onclick="console.log('00:03:36,830'); seek(216.0)">
              and it's actually paused in the middle of its execution. The next
            </span>
            
            <span id="chunk-52" class="transcript-chunks" onclick="console.log('00:03:40,390'); seek(220.0)">
              time the subroutine wants to read from it, it actually can just resume this
            </span>
            
            <span id="chunk-53" class="transcript-chunks" onclick="console.log('00:03:44,822'); seek(224.0)">
              coroutine, which starts running from its previously stopped position
            </span>
            
            <span id="chunk-54" class="transcript-chunks" onclick="console.log('00:03:49,574'); seek(229.0)">
              and output the new value that the subroutine requires, which can be
            </span>
            
            <span id="chunk-55" class="transcript-chunks" onclick="console.log('00:03:53,558'); seek(233.0)">
              read by the subroutine, and so on and so forth. So it ends up looking
            </span>
            
            <span id="chunk-56" class="transcript-chunks" onclick="console.log('00:03:56,662'); seek(236.0)">
              like this. Every time this subroutine was read from a coroutine,
            </span>
            
            <span id="chunk-57" class="transcript-chunks" onclick="console.log('00:03:59,782'); seek(239.0)">
              it plays this coroutine back, which starts executing again from last
            </span>
            
            <span id="chunk-58" class="transcript-chunks" onclick="console.log('00:04:03,452'); seek(243.0)">
              time it stopped. Now you will start seeing why this
            </span>
            
            <span id="chunk-59" class="transcript-chunks" onclick="console.log('00:04:07,732'); seek(247.0)">
              is important, and you can probably already start seeing why something, why a paradigm
            </span>
            
            <span id="chunk-60" class="transcript-chunks" onclick="console.log('00:04:10,980'); seek(250.0)">
              like this could be pretty useful. So coroutines
            </span>
            
            <span id="chunk-61" class="transcript-chunks" onclick="console.log('00:04:15,116'); seek(255.0)">
              are like functions that can return multiple times and keep their state,
            </span>
            
            <span id="chunk-62" class="transcript-chunks" onclick="console.log('00:04:18,660'); seek(258.0)">
              which means all the local variables plus the command pointer,
            </span>
            
            <span id="chunk-63" class="transcript-chunks" onclick="console.log('00:04:22,100'); seek(262.0)">
              everything, and they can resume from where they are yielded.
            </span>
            
            <span id="chunk-64" class="transcript-chunks" onclick="console.log('00:04:25,772'); seek(265.0)">
              So let's look at a quick sample. Right? So comparing binary
            </span>
            
            <span id="chunk-65" class="transcript-chunks" onclick="console.log('00:04:28,944'); seek(268.0)">
              trees, those in the audience who are, who like
            </span>
            
            <span id="chunk-66" class="transcript-chunks" onclick="console.log('00:04:32,448'); seek(272.0)">
              doing Leet code, if you've seen something like, seen a question like this, how would
            </span>
            
            <span id="chunk-67" class="transcript-chunks" onclick="console.log('00:04:36,560'); seek(276.0)">
              you do this? You would have some sort of a recursive logic.
            </span>
            
            <span id="chunk-68" class="transcript-chunks" onclick="console.log('00:04:39,688'); seek(279.0)">
              You know, you have two binary trees, and you want to compare
            </span>
            
            <span id="chunk-69" class="transcript-chunks" onclick="console.log('00:04:43,264'); seek(283.0)">
              them and maybe ascertain if they are equal. So you
            </span>
            
            <span id="chunk-70" class="transcript-chunks" onclick="console.log('00:04:46,688'); seek(286.0)">
              would go through all the nodes, save in maybe like an in order fashion,
            </span>
            
            <span id="chunk-71" class="transcript-chunks" onclick="console.log('00:04:51,004'); seek(291.0)">
              and save all the values of the nodes. And after you
            </span>
            
            <span id="chunk-72" class="transcript-chunks" onclick="console.log('00:04:54,236'); seek(294.0)">
              have traversed both the trees, you compare those values.
            </span>
            
            <span id="chunk-73" class="transcript-chunks" onclick="console.log('00:04:57,884'); seek(297.0)">
              But what if you could actually do this in
            </span>
            
            <span id="chunk-74" class="transcript-chunks" onclick="console.log('00:05:01,332'); seek(301.0)">
              one pass?
            </span>
            
            <span id="chunk-75" class="transcript-chunks" onclick="console.log('00:05:04,724'); seek(304.0)">
              Every time you are at a node, you can pass through both these trees,
            </span>
            
            <span id="chunk-76" class="transcript-chunks" onclick="console.log('00:05:08,620'); seek(308.0)">
              compare the values of the current node, go to the next node in
            </span>
            
            <span id="chunk-77" class="transcript-chunks" onclick="console.log('00:05:12,196'); seek(312.0)">
              the next node, say, in order fashion, and just
            </span>
            
            <span id="chunk-78" class="transcript-chunks" onclick="console.log('00:05:16,052'); seek(316.0)">
              keep comparing the values as you go through them. Something like we just
            </span>
            
            <span id="chunk-79" class="transcript-chunks" onclick="console.log('00:05:19,734'); seek(319.0)">
              saw in our subroutine and coroutine example.
            </span>
            
            <span id="chunk-80" class="transcript-chunks" onclick="console.log('00:05:23,774'); seek(323.0)">
              Let's see that with code. Right? So in this case,
            </span>
            
            <span id="chunk-81" class="transcript-chunks" onclick="console.log('00:05:27,486'); seek(327.0)">
              your subroutine is the CMP. This comparison function and
            </span>
            
            <span id="chunk-82" class="transcript-chunks" onclick="console.log('00:05:31,118'); seek(331.0)">
              your coroutine is this visit function. And how this is working over here
            </span>
            
            <span id="chunk-83" class="transcript-chunks" onclick="console.log('00:05:34,502'); seek(334.0)">
              is your comparison function is just instantiating two coroutines.
            </span>
            
            <span id="chunk-84" class="transcript-chunks" onclick="console.log('00:05:38,070'); seek(338.0)">
              We don't need to worry about how they're implemented, just assume they're just black box
            </span>
            
            <span id="chunk-85" class="transcript-chunks" onclick="console.log('00:05:41,526'); seek(341.0)">
              implementations. It creates a new coroutine,
            </span>
            
            <span id="chunk-86" class="transcript-chunks" onclick="console.log('00:05:44,494'); seek(344.0)">
              in this case the visit function. So you're passing this visit as a function
            </span>
            
            <span id="chunk-87" class="transcript-chunks" onclick="console.log('00:05:48,386'); seek(348.0)">
              argument, and in this while loop, all you're doing
            </span>
            
            <span id="chunk-88" class="transcript-chunks" onclick="console.log('00:05:52,210'); seek(352.0)">
              is you first start your first coroutine, your c o one, and you're
            </span>
            
            <span id="chunk-89" class="transcript-chunks" onclick="console.log('00:05:55,930'); seek(355.0)">
              passing t one, which could be this head of the first tree,
            </span>
            
            <span id="chunk-90" class="transcript-chunks" onclick="console.log('00:05:59,530'); seek(359.0)">
              and your t two is probably the head of the second tree.
            </span>
            
            <span id="chunk-91" class="transcript-chunks" onclick="console.log('00:06:02,474'); seek(362.0)">
              So you resume this visit function.
            </span>
            
            <span id="chunk-92" class="transcript-chunks" onclick="console.log('00:06:05,642'); seek(365.0)">
              So your visit first goes to t left. So it goes all the way to
            </span>
            
            <span id="chunk-93" class="transcript-chunks" onclick="console.log('00:06:08,458'); seek(368.0)">
              the leftmost node in your tree,
            </span>
            
            <span id="chunk-94" class="transcript-chunks" onclick="console.log('00:06:12,386'); seek(372.0)">
              your left most node in the left subtree, and it
            </span>
            
            <span id="chunk-95" class="transcript-chunks" onclick="console.log('00:06:16,720'); seek(376.0)">
              then yields the value back to your
            </span>
            
            <span id="chunk-96" class="transcript-chunks" onclick="console.log('00:06:19,904'); seek(379.0)">
              call back to your regime function. So next line yield
            </span>
            
            <span id="chunk-97" class="transcript-chunks" onclick="console.log('00:06:23,216'); seek(383.0)">
              actually yields back control to comparison function, and this value is stored in
            </span>
            
            <span id="chunk-98" class="transcript-chunks" onclick="console.log('00:06:27,200'); seek(387.0)">
              v one. Now this comparison function then calls
            </span>
            
            <span id="chunk-99" class="transcript-chunks" onclick="console.log('00:06:30,520'); seek(390.0)">
              CO2, which is another instance of your visit function, and you pass t two
            </span>
            
            <span id="chunk-100" class="transcript-chunks" onclick="console.log('00:06:34,272'); seek(394.0)">
              to it, and it goes through that tree and gets
            </span>
            
            <span id="chunk-101" class="transcript-chunks" onclick="console.log('00:06:37,592'); seek(397.0)">
              the leftmost node in this case, which is two. And now you
            </span>
            
            <span id="chunk-102" class="transcript-chunks" onclick="console.log('00:06:40,852'); seek(400.0)">
              have both the values actually yielded back to v one and v two
            </span>
            
            <span id="chunk-103" class="transcript-chunks" onclick="console.log('00:06:44,892'); seek(404.0)">
              that you can then compare. So essentially you
            </span>
            
            <span id="chunk-104" class="transcript-chunks" onclick="console.log('00:06:48,652'); seek(408.0)">
              have, you started traversing the tree in sort of
            </span>
            
            <span id="chunk-105" class="transcript-chunks" onclick="console.log('00:06:51,980'); seek(411.0)">
              a one pass sort of a way, you just passing
            </span>
            
            <span id="chunk-106" class="transcript-chunks" onclick="console.log('00:06:55,724'); seek(415.0)">
              back control to visit, and as soon as it has an output, you're reading the
            </span>
            
            <span id="chunk-107" class="transcript-chunks" onclick="console.log('00:06:58,796'); seek(418.0)">
              visit function yields back control to your comparison function, and you can do your comparisons.
            </span>
            
            <span id="chunk-108" class="transcript-chunks" onclick="console.log('00:07:02,892'); seek(422.0)">
              So again, you know, you call you in the while loop, you call your
            </span>
            
            <span id="chunk-109" class="transcript-chunks" onclick="console.log('00:07:06,484'); seek(426.0)">
              resume function. Again, it goes to the right subtree from,
            </span>
            
            <span id="chunk-110" class="transcript-chunks" onclick="console.log('00:07:09,714'); seek(429.0)">
              from two, which is four, in this case for both the trees,
            </span>
            
            <span id="chunk-111" class="transcript-chunks" onclick="console.log('00:07:12,978'); seek(432.0)">
              because you know, it resumes both the coroutines. One by one,
            </span>
            
            <span id="chunk-112" class="transcript-chunks" onclick="console.log('00:07:16,274'); seek(436.0)">
              it yields back the values, and now you can compare four so on and
            </span>
            
            <span id="chunk-113" class="transcript-chunks" onclick="console.log('00:07:19,618'); seek(439.0)">
              so forth till you, up till, you know, both the trees are same. In this
            </span>
            
            <span id="chunk-114" class="transcript-chunks" onclick="console.log('00:07:21,930'); seek(441.0)">
              case, this is actually, this sort of
            </span>
            
            <span id="chunk-115" class="transcript-chunks" onclick="console.log('00:07:25,458'); seek(445.0)">
              an example was actually why coroutines came in the first place,
            </span>
            
            <span id="chunk-116" class="transcript-chunks" onclick="console.log('00:07:28,954'); seek(448.0)">
              or why Conway thought of them.
            </span>
            
            <span id="chunk-117" class="transcript-chunks" onclick="console.log('00:07:32,394'); seek(452.0)">
              It's 1958, and you want to compile your CObOl program in the modern
            </span>
            
            <span id="chunk-118" class="transcript-chunks" onclick="console.log('00:07:36,202'); seek(456.0)">
              nine part compiler. That's Grace Hopper, by the way,
            </span>
            
            <span id="chunk-119" class="transcript-chunks" onclick="console.log('00:07:39,686'); seek(459.0)">
              who is the co developer of Cobol. Now the terms over
            </span>
            
            <span id="chunk-120" class="transcript-chunks" onclick="console.log('00:07:43,182'); seek(463.0)">
              here, even if you don't understand it, I'll simplify it. So,
            </span>
            
            <span id="chunk-121" class="transcript-chunks" onclick="console.log('00:07:47,894'); seek(467.0)">
              just your basic symbol reducer, you can think of it as your lexer.
            </span>
            
            <span id="chunk-122" class="transcript-chunks" onclick="console.log('00:07:51,614'); seek(471.0)">
              And if you don't know what Lexa means, that's fine too, because all
            </span>
            
            <span id="chunk-123" class="transcript-chunks" onclick="console.log('00:07:55,510'); seek(475.0)">
              you need to care about over here is that you have two processes, like you
            </span>
            
            <span id="chunk-124" class="transcript-chunks" onclick="console.log('00:07:58,590'); seek(478.0)">
              had in your binary comparison example, that sort of depend
            </span>
            
            <span id="chunk-125" class="transcript-chunks" onclick="console.log('00:08:02,454'); seek(482.0)">
              on each other for their outputs. So in this case, your basic symbol
            </span>
            
            <span id="chunk-126" class="transcript-chunks" onclick="console.log('00:08:06,062'); seek(486.0)">
              reducer acts like a Lexus. So what your main program
            </span>
            
            <span id="chunk-127" class="transcript-chunks" onclick="console.log('00:08:09,510'); seek(489.0)">
              does is that it has actual physical punched cards.
            </span>
            
            <span id="chunk-128" class="transcript-chunks" onclick="console.log('00:08:12,654'); seek(492.0)">
              That's how compilation worked back in 1958.
            </span>
            
            <span id="chunk-129" class="transcript-chunks" onclick="console.log('00:08:17,054'); seek(497.0)">
              And you give this punched card to your basic symbol
            </span>
            
            <span id="chunk-130" class="transcript-chunks" onclick="console.log('00:08:20,334'); seek(500.0)">
              reducer of your lexer, which eats this punched card and spews a
            </span>
            
            <span id="chunk-131" class="transcript-chunks" onclick="console.log('00:08:23,918'); seek(503.0)">
              bunch of tokens. Tokens is what the output
            </span>
            
            <span id="chunk-132" class="transcript-chunks" onclick="console.log('00:08:27,270'); seek(507.0)">
              of your symbol reducer is, or your lexus is right.
            </span>
            
            <span id="chunk-133" class="transcript-chunks" onclick="console.log('00:08:31,006'); seek(511.0)">
              Now, these tokens can be read by a parser, which these tokens
            </span>
            
            <span id="chunk-134" class="transcript-chunks" onclick="console.log('00:08:34,678'); seek(514.0)">
              become the input to your parser, in this case, your basic
            </span>
            
            <span id="chunk-135" class="transcript-chunks" onclick="console.log('00:08:37,918'); seek(517.0)">
              name reducer, or name lookup as it's called today,
            </span>
            
            <span id="chunk-136" class="transcript-chunks" onclick="console.log('00:08:42,654'); seek(522.0)">
              which, you know, puts the output into the next state.
            </span>
            
            <span id="chunk-137" class="transcript-chunks" onclick="console.log('00:08:46,118'); seek(526.0)">
              So what's happening over here is sort of like our first subroutine example.
            </span>
            
            <span id="chunk-138" class="transcript-chunks" onclick="console.log('00:08:49,870'); seek(529.0)">
              Your main program, your control, goes to your basic
            </span>
            
            <span id="chunk-139" class="transcript-chunks" onclick="console.log('00:08:53,542'); seek(533.0)">
              symbol reducer, which comes up with a bunch of
            </span>
            
            <span id="chunk-140" class="transcript-chunks" onclick="console.log('00:08:57,326'); seek(537.0)">
              tokens as outputs. And it returns
            </span>
            
            <span id="chunk-141" class="transcript-chunks" onclick="console.log('00:09:01,038'); seek(541.0)">
              essentially these outputs back to your main program, which can then, your main program
            </span>
            
            <span id="chunk-142" class="transcript-chunks" onclick="console.log('00:09:04,798'); seek(544.0)">
              then calls your namereducer with your output of the basic
            </span>
            
            <span id="chunk-143" class="transcript-chunks" onclick="console.log('00:09:08,022'); seek(548.0)">
              symbol reducer as an input to your namereducer.
            </span>
            
            <span id="chunk-144" class="transcript-chunks" onclick="console.log('00:09:11,550'); seek(551.0)">
              And, you know, your name reducer can then start parsing your tokens.
            </span>
            
            <span id="chunk-145" class="transcript-chunks" onclick="console.log('00:09:15,214'); seek(555.0)">
              So this is kind of what it looks like initially, what we saw, your main
            </span>
            
            <span id="chunk-146" class="transcript-chunks" onclick="console.log('00:09:17,870'); seek(557.0)">
              program called symbol reducer. Symbol reducer writes a bunch of
            </span>
            
            <span id="chunk-147" class="transcript-chunks" onclick="console.log('00:09:21,750'); seek(561.0)">
              tapes to your. And these tapes
            </span>
            
            <span id="chunk-148" class="transcript-chunks" onclick="console.log('00:09:25,510'); seek(565.0)">
              are basically used as input to your name reducer.
            </span>
            
            <span id="chunk-149" class="transcript-chunks" onclick="console.log('00:09:28,574'); seek(568.0)">
              You have a bunch of extra tapes that you don't need anymore.
            </span>
            
            <span id="chunk-150" class="transcript-chunks" onclick="console.log('00:09:31,518'); seek(571.0)">
              And this entire course is actually involved a bunch of extra machinery.
            </span>
            
            <span id="chunk-151" class="transcript-chunks" onclick="console.log('00:09:36,294'); seek(576.0)">
              So convoy thought there had to be a better way to pass the input,
            </span>
            
            <span id="chunk-152" class="transcript-chunks" onclick="console.log('00:09:40,814'); seek(580.0)">
              pass the output that you get from your symbol reducer or your lexer to your
            </span>
            
            <span id="chunk-153" class="transcript-chunks" onclick="console.log('00:09:44,462'); seek(584.0)">
              parcel, which is your name lookup. Without all this expensive
            </span>
            
            <span id="chunk-154" class="transcript-chunks" onclick="console.log('00:09:47,798'); seek(587.0)">
              machinery, we'll start to see how he actually
            </span>
            
            <span id="chunk-155" class="transcript-chunks" onclick="console.log('00:09:51,578'); seek(591.0)">
              thought of the coroutine. And he realized that subroutines,
            </span>
            
            <span id="chunk-156" class="transcript-chunks" onclick="console.log('00:09:55,466'); seek(595.0)">
              which was the previous implementation, were just a special case for more generalized coroutine.
            </span>
            
            <span id="chunk-157" class="transcript-chunks" onclick="console.log('00:09:59,706'); seek(599.0)">
              The first thing that we saw in this talk, and we don't need to write
            </span>
            
            <span id="chunk-158" class="transcript-chunks" onclick="console.log('00:10:03,274'); seek(603.0)">
              on tape, we can just pass control back and forth between
            </span>
            
            <span id="chunk-159" class="transcript-chunks" onclick="console.log('00:10:06,810'); seek(606.0)">
              these two processes, because the input of one process is the
            </span>
            
            <span id="chunk-160" class="transcript-chunks" onclick="console.log('00:10:10,650'); seek(610.0)">
              output of the previous process. So you don't have to return.
            </span>
            
            <span id="chunk-161" class="transcript-chunks" onclick="console.log('00:10:14,098'); seek(614.0)">
              You can just yield back control, and you bypass all
            </span>
            
            <span id="chunk-162" class="transcript-chunks" onclick="console.log('00:10:17,860'); seek(617.0)">
              this machinery. And this is how it ends up looking, which is very similar to
            </span>
            
            <span id="chunk-163" class="transcript-chunks" onclick="console.log('00:10:22,140'); seek(622.0)">
              our previous example. So every time your name reducer, your parser
            </span>
            
            <span id="chunk-164" class="transcript-chunks" onclick="console.log('00:10:26,068'); seek(626.0)">
              wants to read a token from your lexer or your symbol reducer,
            </span>
            
            <span id="chunk-165" class="transcript-chunks" onclick="console.log('00:10:29,428'); seek(629.0)">
              it invokes this coroutine suspends itself,
            </span>
            
            <span id="chunk-166" class="transcript-chunks" onclick="console.log('00:10:33,020'); seek(633.0)">
              and as soon as your symbol reducer has the tokens available, suspends itself
            </span>
            
            <span id="chunk-167" class="transcript-chunks" onclick="console.log('00:10:37,004'); seek(637.0)">
              yields control along with the output to your namereducer, which is your parser,
            </span>
            
            <span id="chunk-168" class="transcript-chunks" onclick="console.log('00:10:40,780'); seek(640.0)">
              which can do whatever it wants with the output. And when it wants the next
            </span>
            
            <span id="chunk-169" class="transcript-chunks" onclick="console.log('00:10:43,652'); seek(643.0)">
              token, it again resumes your coroutine and
            </span>
            
            <span id="chunk-170" class="transcript-chunks" onclick="console.log('00:10:47,880'); seek(647.0)">
              which yields back another token, so on and so forth till you reach the
            </span>
            
            <span id="chunk-171" class="transcript-chunks" onclick="console.log('00:10:51,240'); seek(651.0)">
              end of your main function. Right? So this way,
            </span>
            
            <span id="chunk-172" class="transcript-chunks" onclick="console.log('00:10:54,920'); seek(654.0)">
              raising the level of abstraction actually led to less costly control
            </span>
            
            <span id="chunk-173" class="transcript-chunks" onclick="console.log('00:10:58,448'); seek(658.0)">
              structures, leading to your one pass global compiler. So this
            </span>
            
            <span id="chunk-174" class="transcript-chunks" onclick="console.log('00:11:02,040'); seek(662.0)">
              was an example of a negative cost abstraction, because generally
            </span>
            
            <span id="chunk-175" class="transcript-chunks" onclick="console.log('00:11:05,672'); seek(665.0)">
              when you're trying to abstract away logic, you're increasing
            </span>
            
            <span id="chunk-176" class="transcript-chunks" onclick="console.log('00:11:09,544'); seek(669.0)">
              the cost because something else is now taking care of this easier
            </span>
            
            <span id="chunk-177" class="transcript-chunks" onclick="console.log('00:11:13,656'); seek(673.0)">
              abstraction that you've created, something under the hood.
            </span>
            
            <span id="chunk-178" class="transcript-chunks" onclick="console.log('00:11:17,224'); seek(677.0)">
              So this side
            </span>
            
            <span id="chunk-179" class="transcript-chunks" onclick="console.log('00:11:21,152'); seek(681.0)">
              note, this was the paper that actually coined the term coroutine by Melvin Conway.
            </span>
            
            <span id="chunk-180" class="transcript-chunks" onclick="console.log('00:11:24,528'); seek(684.0)">
              I've linked to this paper at the end of the talk and you should definitely
            </span>
            
            <span id="chunk-181" class="transcript-chunks" onclick="console.log('00:11:26,880'); seek(686.0)">
              check it out. Where are coroutines now?
            </span>
            
            <span id="chunk-182" class="transcript-chunks" onclick="console.log('00:11:30,160'); seek(690.0)">
              Considering all that we've talked about so far, coroutines should have been a
            </span>
            
            <span id="chunk-183" class="transcript-chunks" onclick="console.log('00:11:33,360'); seek(693.0)">
              common pattern that is provided by most languages, right? Seems pretty useful,
            </span>
            
            <span id="chunk-184" class="transcript-chunks" onclick="console.log('00:11:38,284'); seek(698.0)">
              but with a few rare exceptions, that's similar. Few languages do.
            </span>
            
            <span id="chunk-185" class="transcript-chunks" onclick="console.log('00:11:42,404'); seek(702.0)">
              And those that do, and I'm guessing some of you already
            </span>
            
            <span id="chunk-186" class="transcript-chunks" onclick="console.log('00:11:46,044'); seek(706.0)">
              have some ideas of, you know, some other languages calling their processes
            </span>
            
            <span id="chunk-187" class="transcript-chunks" onclick="console.log('00:11:50,196'); seek(710.0)">
              coroutines. They are actually a limited variant
            </span>
            
            <span id="chunk-188" class="transcript-chunks" onclick="console.log('00:11:53,380'); seek(713.0)">
              of a coroutine, and we'll see how, what makes them limited and why we want,
            </span>
            
            <span id="chunk-189" class="transcript-chunks" onclick="console.log('00:11:58,124'); seek(718.0)">
              why this could actually affect the
            </span>
            
            <span id="chunk-190" class="transcript-chunks" onclick="console.log('00:12:02,860'); seek(722.0)">
              expressive power of a coroutine. So the problems with coroutines
            </span>
            
            <span id="chunk-191" class="transcript-chunks" onclick="console.log('00:12:06,744'); seek(726.0)">
              were also, apart from, you know,
            </span>
            
            <span id="chunk-192" class="transcript-chunks" onclick="console.log('00:12:10,368'); seek(730.0)">
              the reason why we don't see it everywhere, is one, there's a lack of uniform
            </span>
            
            <span id="chunk-193" class="transcript-chunks" onclick="console.log('00:12:14,152'); seek(734.0)">
              view of this concept. There aren't a lot of formal definitions that
            </span>
            
            <span id="chunk-194" class="transcript-chunks" onclick="console.log('00:12:17,936'); seek(737.0)">
              people agree on on what core routines means, there's no
            </span>
            
            <span id="chunk-195" class="transcript-chunks" onclick="console.log('00:12:21,184'); seek(741.0)">
              precise definitions for it. And secondly, more importantly,
            </span>
            
            <span id="chunk-196" class="transcript-chunks" onclick="console.log('00:12:25,208'); seek(745.0)">
              my core routines aren't provided as a facility in most mainstream languages
            </span>
            
            <span id="chunk-197" class="transcript-chunks" onclick="console.log('00:12:29,048'); seek(749.0)">
              is the advent of ALGOL 60. So this language brought
            </span>
            
            <span id="chunk-198" class="transcript-chunks" onclick="console.log('00:12:32,522'); seek(752.0)">
              with it block scope variables.
            </span>
            
            <span id="chunk-199" class="transcript-chunks" onclick="console.log('00:12:35,874'); seek(755.0)">
              So you no longer had parameters and return values stored as global
            </span>
            
            <span id="chunk-200" class="transcript-chunks" onclick="console.log('00:12:39,370'); seek(759.0)">
              memory. Instead everything was stored as relative to a stack pointer.
            </span>
            
            <span id="chunk-201" class="transcript-chunks" onclick="console.log('00:12:43,202'); seek(763.0)">
              So your functions are stored on a stack, stack frames,
            </span>
            
            <span id="chunk-202" class="transcript-chunks" onclick="console.log('00:12:46,930'); seek(766.0)">
              right. So with the return addresses, all your local variables,
            </span>
            
            <span id="chunk-203" class="transcript-chunks" onclick="console.log('00:12:49,970'); seek(769.0)">
              everything is on a stack. Now you have your stack, you have f's
            </span>
            
            <span id="chunk-204" class="transcript-chunks" onclick="console.log('00:12:53,986'); seek(773.0)">
              activation record. So f is a function and its activation record just
            </span>
            
            <span id="chunk-205" class="transcript-chunks" onclick="console.log('00:12:57,742'); seek(777.0)">
              contains all its local variables, return addresses. And the stack
            </span>
            
            <span id="chunk-206" class="transcript-chunks" onclick="console.log('00:13:01,334'); seek(781.0)">
              pointer is just pointing at the top of the stack. Your function can call
            </span>
            
            <span id="chunk-207" class="transcript-chunks" onclick="console.log('00:13:05,366'); seek(785.0)">
              a mole function. In this case it calls function g, which has its own
            </span>
            
            <span id="chunk-208" class="transcript-chunks" onclick="console.log('00:13:09,574'); seek(789.0)">
              activation record, which can call function h, and so on.
            </span>
            
            <span id="chunk-209" class="transcript-chunks" onclick="console.log('00:13:12,870'); seek(792.0)">
              So how would you try to implement a coroutine in this
            </span>
            
            <span id="chunk-210" class="transcript-chunks" onclick="console.log('00:13:16,070'); seek(796.0)">
              sort of a parity? Well, you could have your f,
            </span>
            
            <span id="chunk-211" class="transcript-chunks" onclick="console.log('00:13:19,726'); seek(799.0)">
              in this case wants to call a coroutine g. You could have
            </span>
            
            <span id="chunk-212" class="transcript-chunks" onclick="console.log('00:13:23,324'); seek(803.0)">
              g running as a separate side, a separate stack on the side of this
            </span>
            
            <span id="chunk-213" class="transcript-chunks" onclick="console.log('00:13:27,052'); seek(807.0)">
              thread, one stack right, as a side stack.
            </span>
            
            <span id="chunk-214" class="transcript-chunks" onclick="console.log('00:13:29,628'); seek(809.0)">
              And your stack pointer now has to move from one stack to
            </span>
            
            <span id="chunk-215" class="transcript-chunks" onclick="console.log('00:13:32,996'); seek(812.0)">
              another stack with all the thread context, your return addresses,
            </span>
            
            <span id="chunk-216" class="transcript-chunks" onclick="console.log('00:13:36,732'); seek(816.0)">
              saved registers, everything has to move to this stack now,
            </span>
            
            <span id="chunk-217" class="transcript-chunks" onclick="console.log('00:13:40,484'); seek(820.0)">
              which calls the function g, which is coroutine coroutine g
            </span>
            
            <span id="chunk-218" class="transcript-chunks" onclick="console.log('00:13:44,572'); seek(824.0)">
              can call more coroutines h. Now what
            </span>
            
            <span id="chunk-219" class="transcript-chunks" onclick="console.log('00:13:48,052'); seek(828.0)">
              if there is another function, not f, but some other function that's interested in the
            </span>
            
            <span id="chunk-220" class="transcript-chunks" onclick="console.log('00:13:52,190'); seek(832.0)">
              outputs that this coroutines are producing? Well,
            </span>
            
            <span id="chunk-221" class="transcript-chunks" onclick="console.log('00:13:55,494'); seek(835.0)">
              you can think of it as second stack. You have a thread two stack.
            </span>
            
            <span id="chunk-222" class="transcript-chunks" onclick="console.log('00:13:58,734'); seek(838.0)">
              This is different from f's stack, and you have some function
            </span>
            
            <span id="chunk-223" class="transcript-chunks" onclick="console.log('00:14:01,966'); seek(841.0)">
              z that's running over here with the stack pointer.
            </span>
            
            <span id="chunk-224" class="transcript-chunks" onclick="console.log('00:14:04,830'); seek(844.0)">
              Now when the control comes to z, the stack mode has to move over here
            </span>
            
            <span id="chunk-225" class="transcript-chunks" onclick="console.log('00:14:08,734'); seek(848.0)">
              into the second stack with other thread context and everything else.
            </span>
            
            <span id="chunk-226" class="transcript-chunks" onclick="console.log('00:14:12,454'); seek(852.0)">
              So this almost starts mimicking heavy multithreading,
            </span>
            
            <span id="chunk-227" class="transcript-chunks" onclick="console.log('00:14:16,486'); seek(856.0)">
              which increases the memory footprint, rather than the cheap
            </span>
            
            <span id="chunk-228" class="transcript-chunks" onclick="console.log('00:14:20,064'); seek(860.0)">
              abstraction that coroutines were meant to be in our previous examples.
            </span>
            
            <span id="chunk-229" class="transcript-chunks" onclick="console.log('00:14:23,536'); seek(863.0)">
              Right. What about the precise definition
            </span>
            
            <span id="chunk-230" class="transcript-chunks" onclick="console.log('00:14:26,912'); seek(866.0)">
              problem? Well, Marlin's doctoral thesis
            </span>
            
            <span id="chunk-231" class="transcript-chunks" onclick="console.log('00:14:30,472'); seek(870.0)">
              is actually widely acknowledged as a reference for this,
            </span>
            
            <span id="chunk-232" class="transcript-chunks" onclick="console.log('00:14:33,456'); seek(873.0)">
              and it just summarizes whatever we have discussed so
            </span>
            
            <span id="chunk-233" class="transcript-chunks" onclick="console.log('00:14:36,760'); seek(876.0)">
              far, which is the values local to a coroutine
            </span>
            
            <span id="chunk-234" class="transcript-chunks" onclick="console.log('00:14:39,960'); seek(879.0)">
              persist between successive calls. You know, it can pause itself and
            </span>
            
            <span id="chunk-235" class="transcript-chunks" onclick="console.log('00:14:43,180'); seek(883.0)">
              save the state there. And the execution of coroutines
            </span>
            
            <span id="chunk-236" class="transcript-chunks" onclick="console.log('00:14:46,532'); seek(886.0)">
              is suspended as control leaves it, only to carry on from where
            </span>
            
            <span id="chunk-237" class="transcript-chunks" onclick="console.log('00:14:49,932'); seek(889.0)">
              it left off when control re enters it. So when a coroutine
            </span>
            
            <span id="chunk-238" class="transcript-chunks" onclick="console.log('00:14:53,644'); seek(893.0)">
              yields, the control leaves it where it
            </span>
            
            <span id="chunk-239" class="transcript-chunks" onclick="console.log('00:14:56,812'); seek(896.0)">
              left, where it yielded. And when you resume a coroutine,
            </span>
            
            <span id="chunk-240" class="transcript-chunks" onclick="console.log('00:15:00,516'); seek(900.0)">
              it starts processing from when it had stopped, basically what we've already discussed.
            </span>
            
            <span id="chunk-241" class="transcript-chunks" onclick="console.log('00:15:04,884'); seek(904.0)">
              So now that we have the basics and, and the history out of the
            </span>
            
            <span id="chunk-242" class="transcript-chunks" onclick="console.log('00:15:08,288'); seek(908.0)">
              way, and hopefully have made a case for its usefulness,
            </span>
            
            <span id="chunk-243" class="transcript-chunks" onclick="console.log('00:15:11,304'); seek(911.0)">
              let's build up to what a coroutine looks like in go. But before that,
            </span>
            
            <span id="chunk-244" class="transcript-chunks" onclick="console.log('00:15:15,232'); seek(915.0)">
              very quickly, I promise this is relevant.
            </span>
            
            <span id="chunk-245" class="transcript-chunks" onclick="console.log('00:15:19,184'); seek(919.0)">
              Let's look at what we mean by a full core routine.
            </span>
            
            <span id="chunk-246" class="transcript-chunks" onclick="console.log('00:15:22,528'); seek(922.0)">
              And some languages like Python and Kotlin, which actually provide coroutines,
            </span>
            
            <span id="chunk-247" class="transcript-chunks" onclick="console.log('00:15:25,976'); seek(925.0)">
              don't actually provide full coroutines. So let's
            </span>
            
            <span id="chunk-248" class="transcript-chunks" onclick="console.log('00:15:29,552'); seek(929.0)">
              start, just for the sake of completeness,
            </span>
            
            <span id="chunk-249" class="transcript-chunks" onclick="console.log('00:15:33,712'); seek(933.0)">
              let's start classifying the coroutines. Well, one kind of
            </span>
            
            <span id="chunk-250" class="transcript-chunks" onclick="console.log('00:15:36,818'); seek(936.0)">
              classification is symmetric coroutines, which is different from what we've been seeing so far.
            </span>
            
            <span id="chunk-251" class="transcript-chunks" onclick="console.log('00:15:40,530'); seek(940.0)">
              A symmetric coroutine only has one control transfer operation,
            </span>
            
            <span id="chunk-252" class="transcript-chunks" onclick="console.log('00:15:44,370'); seek(944.0)">
              and so it just allows coroutines to explicitly pass control amongst themselves.
            </span>
            
            <span id="chunk-253" class="transcript-chunks" onclick="console.log('00:15:48,594'); seek(948.0)">
              But what we're interested in is asymmetric coroutine mechanisms that
            </span>
            
            <span id="chunk-254" class="transcript-chunks" onclick="console.log('00:15:52,170'); seek(952.0)">
              provides two control transfer operations. In our case it was the resume
            </span>
            
            <span id="chunk-255" class="transcript-chunks" onclick="console.log('00:15:55,738'); seek(955.0)">
              and yield operation. So one for
            </span>
            
            <span id="chunk-256" class="transcript-chunks" onclick="console.log('00:15:59,162'); seek(959.0)">
              invoking the coroutine you resume, and one for suspending it yield,
            </span>
            
            <span id="chunk-257" class="transcript-chunks" onclick="console.log('00:16:02,242'); seek(962.0)">
              and the latter returns the control to the invoker. So coroutine
            </span>
            
            <span id="chunk-258" class="transcript-chunks" onclick="console.log('00:16:06,562'); seek(966.0)">
              mechanisms that support concurrent programming usually provide symmetric coroutines.
            </span>
            
            <span id="chunk-259" class="transcript-chunks" onclick="console.log('00:16:10,682'); seek(970.0)">
              On the other hand, coroutine mechanisms intended for producing
            </span>
            
            <span id="chunk-260" class="transcript-chunks" onclick="console.log('00:16:14,418'); seek(974.0)">
              sequences of values are provided by asymmetric coroutines. And you
            </span>
            
            <span id="chunk-261" class="transcript-chunks" onclick="console.log('00:16:18,298'); seek(978.0)">
              might think, wait, then, you know, why not just use symmetric coroutines? It seems like
            </span>
            
            <span id="chunk-262" class="transcript-chunks" onclick="console.log('00:16:21,858'); seek(981.0)">
              it's doing way more important things. You know, concurrent programming
            </span>
            
            <span id="chunk-263" class="transcript-chunks" onclick="console.log('00:16:25,322'); seek(985.0)">
              is what a go is all about. But actually
            </span>
            
            <span id="chunk-264" class="transcript-chunks" onclick="console.log('00:16:29,278'); seek(989.0)">
              the good news is that you can use asymmetric coroutines to mimic symmetric
            </span>
            
            <span id="chunk-265" class="transcript-chunks" onclick="console.log('00:16:33,022'); seek(993.0)">
              coroutines, and asymmetric coroutines are way easier to write
            </span>
            
            <span id="chunk-266" class="transcript-chunks" onclick="console.log('00:16:36,590'); seek(996.0)">
              and maintain. And actually, I have linked an article to the end of this
            </span>
            
            <span id="chunk-267" class="transcript-chunks" onclick="console.log('00:16:40,230'); seek(1000.0)">
              slide to actually you can see
            </span>
            
            <span id="chunk-268" class="transcript-chunks" onclick="console.log('00:16:43,518'); seek(1003.0)">
              how symmetric coroutines and asymmetric coroutines are implemented and how you
            </span>
            
            <span id="chunk-269" class="transcript-chunks" onclick="console.log('00:16:47,118'); seek(1007.0)">
              can actually implement symmetric coroutines using asymmetric coroutines using your
            </span>
            
            <span id="chunk-270" class="transcript-chunks" onclick="console.log('00:16:51,062'); seek(1011.0)">
              resume and yield functions. But you know, with the advantage
            </span>
            
            <span id="chunk-271" class="transcript-chunks" onclick="console.log('00:16:54,580'); seek(1014.0)">
              of that, it's easier to write asymmetric coroutines. And we'll see that when we implement
            </span>
            
            <span id="chunk-272" class="transcript-chunks" onclick="console.log('00:16:58,588'); seek(1018.0)">
              our go API, we implement
            </span>
            
            <span id="chunk-273" class="transcript-chunks" onclick="console.log('00:17:01,996'); seek(1021.0)">
              asymmetric coroutines. Secondly, you would
            </span>
            
            <span id="chunk-274" class="transcript-chunks" onclick="console.log('00:17:05,684'); seek(1025.0)">
              want your coroutine to be provided as first class objects
            </span>
            
            <span id="chunk-275" class="transcript-chunks" onclick="console.log('00:17:09,124'); seek(1029.0)">
              by your program or your language. You know, it has a huge
            </span>
            
            <span id="chunk-276" class="transcript-chunks" onclick="console.log('00:17:12,404'); seek(1032.0)">
              influence on its expressive power, and coroutines that are constrained
            </span>
            
            <span id="chunk-277" class="transcript-chunks" onclick="console.log('00:17:16,316'); seek(1036.0)">
              within the language bounds cannot, which and cannot be directly manipulated
            </span>
            
            <span id="chunk-278" class="transcript-chunks" onclick="console.log('00:17:20,144'); seek(1040.0)">
              by the programmer actually has a negative effect
            </span>
            
            <span id="chunk-279" class="transcript-chunks" onclick="console.log('00:17:23,784'); seek(1043.0)">
              on its expressive power. So what do we mean by a first class object?
            </span>
            
            <span id="chunk-280" class="transcript-chunks" onclick="console.log('00:17:27,616'); seek(1047.0)">
              Something we've already seen with a binary comparison example. The coroutine
            </span>
            
            <span id="chunk-281" class="transcript-chunks" onclick="console.log('00:17:31,224'); seek(1051.0)">
              should be able to appear in an expression. You should be able to assign it
            </span>
            
            <span id="chunk-282" class="transcript-chunks" onclick="console.log('00:17:34,936'); seek(1054.0)">
              to a variable, you should be able to use it as an argument,
            </span>
            
            <span id="chunk-283" class="transcript-chunks" onclick="console.log('00:17:38,024'); seek(1058.0)">
              return it by a function call, you know, all the good stuff.
            </span>
            
            <span id="chunk-284" class="transcript-chunks" onclick="console.log('00:17:41,744'); seek(1061.0)">
              Finally, stackfulness. This is the important one. This is what
            </span>
            
            <span id="chunk-285" class="transcript-chunks" onclick="console.log('00:17:45,356'); seek(1065.0)">
              actually differentiates Python and Kotlin's coroutines, or most
            </span>
            
            <span id="chunk-286" class="transcript-chunks" onclick="console.log('00:17:49,180'); seek(1069.0)">
              of the languages from a full coroutine is
            </span>
            
            <span id="chunk-287" class="transcript-chunks" onclick="console.log('00:17:52,412'); seek(1072.0)">
              because when you have stack full coroutines, you can actually
            </span>
            
            <span id="chunk-288" class="transcript-chunks" onclick="console.log('00:17:56,052'); seek(1076.0)">
              transfer control between nested functions. So even if your core routine
            </span>
            
            <span id="chunk-289" class="transcript-chunks" onclick="console.log('00:17:59,652'); seek(1079.0)">
              isn't at the top most stack, even if the coroutine is somewhere in the
            </span>
            
            <span id="chunk-290" class="transcript-chunks" onclick="console.log('00:18:02,828'); seek(1082.0)">
              middle of the stack, you can still yield control from the coroutine back to its
            </span>
            
            <span id="chunk-291" class="transcript-chunks" onclick="console.log('00:18:06,100'); seek(1086.0)">
              invoker. When you have stack less coroutines like Python and Kotlin, they are
            </span>
            
            <span id="chunk-292" class="transcript-chunks" onclick="console.log('00:18:09,868'); seek(1089.0)">
              in full routines. And the only way you can,
            </span>
            
            <span id="chunk-293" class="transcript-chunks" onclick="console.log('00:18:13,438'); seek(1093.0)">
              you know, pass control between two coroutines or a
            </span>
            
            <span id="chunk-294" class="transcript-chunks" onclick="console.log('00:18:16,918'); seek(1096.0)">
              coroutine or a sub routine. And a subroutine is by sort
            </span>
            
            <span id="chunk-295" class="transcript-chunks" onclick="console.log('00:18:21,038'); seek(1101.0)">
              of only the top most coroutine. And the top most subroutine can
            </span>
            
            <span id="chunk-296" class="transcript-chunks" onclick="console.log('00:18:25,774'); seek(1105.0)">
              pass control between themselves, which actually limits what your
            </span>
            
            <span id="chunk-297" class="transcript-chunks" onclick="console.log('00:18:29,582'); seek(1109.0)">
              coroutine can do. Basically, your full coroutine should be
            </span>
            
            <span id="chunk-298" class="transcript-chunks" onclick="console.log('00:18:33,110'); seek(1113.0)">
              stack full, should be provided as first class objects, and we,
            </span>
            
            <span id="chunk-299" class="transcript-chunks" onclick="console.log('00:18:36,222'); seek(1116.0)">
              we can implement them using asymmetric coroutines.
            </span>
            
            <span id="chunk-300" class="transcript-chunks" onclick="console.log('00:18:39,484'); seek(1119.0)">
              So full coroutines can be used to implement generators,
            </span>
            
            <span id="chunk-301" class="transcript-chunks" onclick="console.log('00:18:43,196'); seek(1123.0)">
              iterators, all the way up to cooperative multitasking.
            </span>
            
            <span id="chunk-302" class="transcript-chunks" onclick="console.log('00:18:47,004'); seek(1127.0)">
              And just by providing asymmetric coroutine mechanisms, it's sufficient
            </span>
            
            <span id="chunk-303" class="transcript-chunks" onclick="console.log('00:18:50,876'); seek(1130.0)">
              because we can use it to implement symmetric coroutines and
            </span>
            
            <span id="chunk-304" class="transcript-chunks" onclick="console.log('00:18:54,500'); seek(1134.0)">
              asymmetric coroutines are just much easier to maintain and implement.
            </span>
            
            <span id="chunk-305" class="transcript-chunks" onclick="console.log('00:18:58,364'); seek(1138.0)">
              This is a nice way to show the limitations of a coroutine.
            </span>
            
            <span id="chunk-306" class="transcript-chunks" onclick="console.log('00:19:02,108'); seek(1142.0)">
              So, cooperative multitasking, right?
            </span>
            
            <span id="chunk-307" class="transcript-chunks" onclick="console.log('00:19:05,484'); seek(1145.0)">
              In cooperative in a cooperative multitasking environment, your concurrent tasks
            </span>
            
            <span id="chunk-308" class="transcript-chunks" onclick="console.log('00:19:09,628'); seek(1149.0)">
              are interleaved. One task runs and
            </span>
            
            <span id="chunk-309" class="transcript-chunks" onclick="console.log('00:19:13,556'); seek(1153.0)">
              stops itself, the second task runs. So this is interleaving and
            </span>
            
            <span id="chunk-310" class="transcript-chunks" onclick="console.log('00:19:18,124'); seek(1158.0)">
              it needs to be deterministic. But when you're using coroutines,
            </span>
            
            <span id="chunk-311" class="transcript-chunks" onclick="console.log('00:19:23,804'); seek(1163.0)">
              coroutines by definition are not preemptive. So there's a
            </span>
            
            <span id="chunk-312" class="transcript-chunks" onclick="console.log('00:19:27,652'); seek(1167.0)">
              fairness problem that can arise if you have a bunch of coroutines running
            </span>
            
            <span id="chunk-313" class="transcript-chunks" onclick="console.log('00:19:30,748'); seek(1170.0)">
              in your kernels. Because eco space doesn't have just
            </span>
            
            <span id="chunk-314" class="transcript-chunks" onclick="console.log('00:19:34,422'); seek(1174.0)">
              one program that's trying to operate,
            </span>
            
            <span id="chunk-315" class="transcript-chunks" onclick="console.log('00:19:40,014'); seek(1180.0)">
              that's collaborating amongst itself. Actually a bunch of
            </span>
            
            <span id="chunk-316" class="transcript-chunks" onclick="console.log('00:19:43,518'); seek(1183.0)">
              programs running that, waiting for the cpu resources. Now,
            </span>
            
            <span id="chunk-317" class="transcript-chunks" onclick="console.log('00:19:47,462'); seek(1187.0)">
              if a routine is using cpu resource,
            </span>
            
            <span id="chunk-318" class="transcript-chunks" onclick="console.log('00:19:51,134'); seek(1191.0)">
              that the code routine panics, hangs, or just taking a
            </span>
            
            <span id="chunk-319" class="transcript-chunks" onclick="console.log('00:19:54,566'); seek(1194.0)">
              long time to execute higher priority tasks could
            </span>
            
            <span id="chunk-320" class="transcript-chunks" onclick="console.log('00:19:58,094'); seek(1198.0)">
              be waiting for this, uh, team to finish
            </span>
            
            <span id="chunk-321" class="transcript-chunks" onclick="console.log('00:20:01,584'); seek(1201.0)">
              executing. Right? This sort of fairness problem can arise
            </span>
            
            <span id="chunk-322" class="transcript-chunks" onclick="console.log('00:20:05,384'); seek(1205.0)">
              because of coroutines being preemptive.
            </span>
            
            <span id="chunk-323" class="transcript-chunks" onclick="console.log('00:20:08,888'); seek(1208.0)">
              So, but on the other hand, if you have user level multitasking,
            </span>
            
            <span id="chunk-324" class="transcript-chunks" onclick="console.log('00:20:12,384'); seek(1212.0)">
              uh, implementation, your core routines are generally going
            </span>
            
            <span id="chunk-325" class="transcript-chunks" onclick="console.log('00:20:16,244'); seek(1216.0)">
              to be part of the same program that of course collaborating with your common goal.
            </span>
            
            <span id="chunk-326" class="transcript-chunks" onclick="console.log('00:20:19,448'); seek(1219.0)">
              So since you can still have minus problems, but since it's restricted
            </span>
            
            <span id="chunk-327" class="transcript-chunks" onclick="console.log('00:20:23,984'); seek(1223.0)">
              one collaborative environment, it's much more easy to
            </span>
            
            <span id="chunk-328" class="transcript-chunks" onclick="console.log('00:20:27,680'); seek(1227.0)">
              identify them, reproduce them, and makes it less difficult to implement.
            </span>
            
            <span id="chunk-329" class="transcript-chunks" onclick="console.log('00:20:31,982'); seek(1231.0)">
              So this, you start to see why full blown core routines in your
            </span>
            
            <span id="chunk-330" class="transcript-chunks" onclick="console.log('00:20:36,030'); seek(1236.0)">
              kernel space, for example, might not be a good idea why
            </span>
            
            <span id="chunk-331" class="transcript-chunks" onclick="console.log('00:20:39,902'); seek(1239.0)">
              coroutines in go co routines aren't directly served or
            </span>
            
            <span id="chunk-332" class="transcript-chunks" onclick="console.log('00:20:43,638'); seek(1243.0)">
              natively served in go concurrency
            </span>
            
            <span id="chunk-333" class="transcript-chunks" onclick="console.log('00:20:46,702'); seek(1246.0)">
              libraries. And this was an interesting talk by rockbike, actually lexical
            </span>
            
            <span id="chunk-334" class="transcript-chunks" onclick="console.log('00:20:50,534'); seek(1250.0)">
              scanning and go. I won't go into the definitions, but I've linked to the talk.
            </span>
            
            <span id="chunk-335" class="transcript-chunks" onclick="console.log('00:20:53,954'); seek(1253.0)">
              What they did was for their implementation, they used go
            </span>
            
            <span id="chunk-336" class="transcript-chunks" onclick="console.log('00:20:57,594'); seek(1257.0)">
              routines connected by a channel. Now, full go routines
            </span>
            
            <span id="chunk-337" class="transcript-chunks" onclick="console.log('00:21:01,370'); seek(1261.0)">
              provided to be a bit too much, because go routines provide a lot of
            </span>
            
            <span id="chunk-338" class="transcript-chunks" onclick="console.log('00:21:05,082'); seek(1265.0)">
              parallelism, right? So the parallelism that
            </span>
            
            <span id="chunk-339" class="transcript-chunks" onclick="console.log('00:21:08,754'); seek(1268.0)">
              comes with go routines caused a lot of races. Proper coroutines,
            </span>
            
            <span id="chunk-340" class="transcript-chunks" onclick="console.log('00:21:12,314'); seek(1272.0)">
              as we'll see, would have avoided the races and would have been way more
            </span>
            
            <span id="chunk-341" class="transcript-chunks" onclick="console.log('00:21:15,610'); seek(1275.0)">
              efficient than go routines. Because of their concurrency constructs, only one
            </span>
            
            <span id="chunk-342" class="transcript-chunks" onclick="console.log('00:21:18,714'); seek(1278.0)">
              coroutine could be, can be running at a time. Now,
            </span>
            
            <span id="chunk-343" class="transcript-chunks" onclick="console.log('00:21:22,528'); seek(1282.0)">
              coroutines, threads, generators, they sort of start sounding the
            </span>
            
            <span id="chunk-344" class="transcript-chunks" onclick="console.log('00:21:26,240'); seek(1286.0)">
              same. So let's get the definitions out of the way a little bit.
            </span>
            
            <span id="chunk-345" class="transcript-chunks" onclick="console.log('00:21:29,848'); seek(1289.0)">
              Coroutines provide concurrency without parallelism. That's the big idea
            </span>
            
            <span id="chunk-346" class="transcript-chunks" onclick="console.log('00:21:33,784'); seek(1293.0)">
              here. When one coroutine is running, the others aren't.
            </span>
            
            <span id="chunk-347" class="transcript-chunks" onclick="console.log('00:21:37,584'); seek(1297.0)">
              Threads, on the other hand, are definitely way more powerful than co routines,
            </span>
            
            <span id="chunk-348" class="transcript-chunks" onclick="console.log('00:21:41,136'); seek(1301.0)">
              but with more cost. They require more memory, more cpu allocation,
            </span>
            
            <span id="chunk-349" class="transcript-chunks" onclick="console.log('00:21:44,720'); seek(1304.0)">
              and also it comes with parallelism. So you have
            </span>
            
            <span id="chunk-350" class="transcript-chunks" onclick="console.log('00:21:48,060'); seek(1308.0)">
              the cost of scheduling these tasks,
            </span>
            
            <span id="chunk-351" class="transcript-chunks" onclick="console.log('00:21:51,444'); seek(1311.0)">
              and you have way more expensive context switches and the fact that
            </span>
            
            <span id="chunk-352" class="transcript-chunks" onclick="console.log('00:21:54,948'); seek(1314.0)">
              you need to add preemption for threads.
            </span>
            
            <span id="chunk-353" class="transcript-chunks" onclick="console.log('00:21:58,484'); seek(1318.0)">
              Go routines are like threads, they're just cheaper, so they use lesser memory.
            </span>
            
            <span id="chunk-354" class="transcript-chunks" onclick="console.log('00:22:02,356'); seek(1322.0)">
              And all the scheduling is now taken care of. Go's own user space
            </span>
            
            <span id="chunk-355" class="transcript-chunks" onclick="console.log('00:22:06,148'); seek(1326.0)">
              go scheduler. So your go routine switch is closer to a few hundred nanoseconds,
            </span>
            
            <span id="chunk-356" class="transcript-chunks" onclick="console.log('00:22:09,892'); seek(1329.0)">
              which is way faster than a thread. Generators are like
            </span>
            
            <span id="chunk-357" class="transcript-chunks" onclick="console.log('00:22:13,744'); seek(1333.0)">
              coroutines, but they're stacked less, they're not stacked full.
            </span>
            
            <span id="chunk-358" class="transcript-chunks" onclick="console.log('00:22:17,152'); seek(1337.0)">
              So you know you have that. The problem that we discussed, they can only transfer
            </span>
            
            <span id="chunk-359" class="transcript-chunks" onclick="console.log('00:22:21,984'); seek(1341.0)">
              control between the top most stack frames between two threads, for example.
            </span>
            
            <span id="chunk-360" class="transcript-chunks" onclick="console.log('00:22:26,144'); seek(1346.0)">
              So with all this in mind, let's start building an API
            </span>
            
            <span id="chunk-361" class="transcript-chunks" onclick="console.log('00:22:29,976'); seek(1349.0)">
              of coroutines in go by using existing Go
            </span>
            
            <span id="chunk-362" class="transcript-chunks" onclick="console.log('00:22:33,344'); seek(1353.0)">
              definitions that's available today. And this,
            </span>
            
            <span id="chunk-363" class="transcript-chunks" onclick="console.log('00:22:36,856'); seek(1356.0)">
              this next part of the talk is heavily borrowed from Russell's research proposal,
            </span>
            
            <span id="chunk-364" class="transcript-chunks" onclick="console.log('00:22:40,632'); seek(1360.0)">
              which I've linked to at the end of the slides for implementing core routines.
            </span>
            
            <span id="chunk-365" class="transcript-chunks" onclick="console.log('00:22:43,728'); seek(1363.0)">
              And check that out, because have skipped a lot of the information here.
            </span>
            
            <span id="chunk-366" class="transcript-chunks" onclick="console.log('00:22:47,280'); seek(1367.0)">
              So it's very neat that we can do this using existing Go definitions.
            </span>
            
            <span id="chunk-367" class="transcript-chunks" onclick="console.log('00:22:51,336'); seek(1371.0)">
              Your core routines channels, the fact that go supports function values,
            </span>
            
            <span id="chunk-368" class="transcript-chunks" onclick="console.log('00:22:55,664'); seek(1375.0)">
              the fact that unbuffered channels can act like blocking mechanisms
            </span>
            
            <span id="chunk-369" class="transcript-chunks" onclick="console.log('00:23:00,688'); seek(1380.0)">
              between coroutines. So it makes coroutines safe. A coroutine can
            </span>
            
            <span id="chunk-370" class="transcript-chunks" onclick="console.log('00:23:04,608'); seek(1384.0)">
              do a bunch of things. It can suspend itself, run another
            </span>
            
            <span id="chunk-371" class="transcript-chunks" onclick="console.log('00:23:08,336'); seek(1388.0)">
              function, coroutine, terminate itself,
            </span>
            
            <span id="chunk-372" class="transcript-chunks" onclick="console.log('00:23:11,360'); seek(1391.0)">
              yield back control, or suspend itself. It doesn't need to terminate itself.
            </span>
            
            <span id="chunk-373" class="transcript-chunks" onclick="console.log('00:23:14,816'); seek(1394.0)">
              It can just suspend itself to yield back control. So let's
            </span>
            
            <span id="chunk-374" class="transcript-chunks" onclick="console.log('00:23:18,400'); seek(1398.0)">
              start with a simple implementation of the package coral.
            </span>
            
            <span id="chunk-375" class="transcript-chunks" onclick="console.log('00:23:21,824'); seek(1401.0)">
              So in this case, you have a caller and the callee. And right now we
            </span>
            
            <span id="chunk-376" class="transcript-chunks" onclick="console.log('00:23:24,840'); seek(1404.0)">
              are looking at the suspend and run scenario. So you have
            </span>
            
            <span id="chunk-377" class="transcript-chunks" onclick="console.log('00:23:28,408'); seek(1408.0)">
              a caller which you know. So now this can be two coroutines that
            </span>
            
            <span id="chunk-378" class="transcript-chunks" onclick="console.log('00:23:32,290'); seek(1412.0)">
              are, say, connected by a channel. Your coroutine, which is
            </span>
            
            <span id="chunk-379" class="transcript-chunks" onclick="console.log('00:23:35,946'); seek(1415.0)">
              your callee, could be waiting to receive from Cin. Let's call the first
            </span>
            
            <span id="chunk-380" class="transcript-chunks" onclick="console.log('00:23:39,282'); seek(1419.0)">
              channel, C in. So as if you, if your caller or your subroutine
            </span>
            
            <span id="chunk-381" class="transcript-chunks" onclick="console.log('00:23:43,378'); seek(1423.0)">
              wants to resume your coroutine or your colleague, all it needs to do is write
            </span>
            
            <span id="chunk-382" class="transcript-chunks" onclick="console.log('00:23:47,002'); seek(1427.0)">
              into cin. So as soon as it writes into cin, your colleague starts running.
            </span>
            
            <span id="chunk-383" class="transcript-chunks" onclick="console.log('00:23:50,642'); seek(1430.0)">
              And now you need a way to, for your caller to sort of
            </span>
            
            <span id="chunk-384" class="transcript-chunks" onclick="console.log('00:23:53,898'); seek(1433.0)">
              stop executing as soon as it resumes the function. So what it can
            </span>
            
            <span id="chunk-385" class="transcript-chunks" onclick="console.log('00:23:57,252'); seek(1437.0)">
              do is it can wait on another channel, it can block itself on,
            </span>
            
            <span id="chunk-386" class="transcript-chunks" onclick="console.log('00:24:00,820'); seek(1440.0)">
              say, c out. So as soon as it starts, as soon as
            </span>
            
            <span id="chunk-387" class="transcript-chunks" onclick="console.log('00:24:04,596'); seek(1444.0)">
              it resumes, a coroutine, you know, writes into c in which your coroutine
            </span>
            
            <span id="chunk-388" class="transcript-chunks" onclick="console.log('00:24:08,860'); seek(1448.0)">
              was blocked on. Your caller can be blocked on cout.
            </span>
            
            <span id="chunk-389" class="transcript-chunks" onclick="console.log('00:24:12,564'); seek(1452.0)">
              So as soon as your callee or your coroutine stops
            </span>
            
            <span id="chunk-390" class="transcript-chunks" onclick="console.log('00:24:16,100'); seek(1456.0)">
              executing, it's finished executing, it can write into cout
            </span>
            
            <span id="chunk-391" class="transcript-chunks" onclick="console.log('00:24:20,124'); seek(1460.0)">
              so and block itself and c in again. So your coroutine is blocked,
            </span>
            
            <span id="chunk-392" class="transcript-chunks" onclick="console.log('00:24:24,096'); seek(1464.0)">
              and you have now successfully resumed your
            </span>
            
            <span id="chunk-393" class="transcript-chunks" onclick="console.log('00:24:27,584'); seek(1467.0)">
              caller or your subroutine. So this sort of, we're already starting to see
            </span>
            
            <span id="chunk-394" class="transcript-chunks" onclick="console.log('00:24:31,312'); seek(1471.0)">
              like a control transfer mechanism coming to
            </span>
            
            <span id="chunk-395" class="transcript-chunks" onclick="console.log('00:24:34,608'); seek(1474.0)">
              play. Your new function over here. This function new
            </span>
            
            <span id="chunk-396" class="transcript-chunks" onclick="console.log('00:24:38,016'); seek(1478.0)">
              in your package coral. All it's doing is it's instantiating
            </span>
            
            <span id="chunk-397" class="transcript-chunks" onclick="console.log('00:24:41,640'); seek(1481.0)">
              two unbuffered channels, your c in, and you see out your resume function.
            </span>
            
            <span id="chunk-398" class="transcript-chunks" onclick="console.log('00:24:47,184'); seek(1487.0)">
              Okay, let's look at the go function first. Your go function, this coroutine is
            </span>
            
            <span id="chunk-399" class="transcript-chunks" onclick="console.log('00:24:50,906'); seek(1490.0)">
              essentially what your cor is, your coroutine with a c,
            </span>
            
            <span id="chunk-400" class="transcript-chunks" onclick="console.log('00:24:54,250'); seek(1494.0)">
              right? So you can see that your function, that this go function is running,
            </span>
            
            <span id="chunk-401" class="transcript-chunks" onclick="console.log('00:24:58,146'); seek(1498.0)">
              is blocked on cin. When you want to resume this function,
            </span>
            
            <span id="chunk-402" class="transcript-chunks" onclick="console.log('00:25:01,530'); seek(1501.0)">
              you call this resume function. All it does is writes into cin and waits
            </span>
            
            <span id="chunk-403" class="transcript-chunks" onclick="console.log('00:25:05,202'); seek(1505.0)">
              on cout. And as soon as your go routine, finish executing,
            </span>
            
            <span id="chunk-404" class="transcript-chunks" onclick="console.log('00:25:09,578'); seek(1509.0)">
              finishes executing your function, f it writes the output into
            </span>
            
            <span id="chunk-405" class="transcript-chunks" onclick="console.log('00:25:12,802'); seek(1512.0)">
              cout, you know, which unblocks the. This resume function.
            </span>
            
            <span id="chunk-406" class="transcript-chunks" onclick="console.log('00:25:16,766'); seek(1516.0)">
              And your go function can be blocked on cn again.
            </span>
            
            <span id="chunk-407" class="transcript-chunks" onclick="console.log('00:25:20,534'); seek(1520.0)">
              So you can pause and see how this works.
            </span>
            
            <span id="chunk-408" class="transcript-chunks" onclick="console.log('00:25:24,174'); seek(1524.0)">
              So the new go routine blocks on cn. So far,
            </span>
            
            <span id="chunk-409" class="transcript-chunks" onclick="console.log('00:25:27,822'); seek(1527.0)">
              you have no parallelism, because only one function,
            </span>
            
            <span id="chunk-410" class="transcript-chunks" onclick="console.log('00:25:31,510'); seek(1531.0)">
              one routine, has the control.
            </span>
            
            <span id="chunk-411" class="transcript-chunks" onclick="console.log('00:25:35,494'); seek(1535.0)">
              Now let's add the definition of yield that
            </span>
            
            <span id="chunk-412" class="transcript-chunks" onclick="console.log('00:25:39,190'); seek(1539.0)">
              we've been talking about so far and basically return its value
            </span>
            
            <span id="chunk-413" class="transcript-chunks" onclick="console.log('00:25:42,666'); seek(1542.0)">
              to the core routine that resumed it. Right? So right
            </span>
            
            <span id="chunk-414" class="transcript-chunks" onclick="console.log('00:25:46,418'); seek(1546.0)">
              now we're looking at suspend and yield. So your yield is just the
            </span>
            
            <span id="chunk-415" class="transcript-chunks" onclick="console.log('00:25:50,090'); seek(1550.0)">
              inversion of your resume. So in your yield function,
            </span>
            
            <span id="chunk-416" class="transcript-chunks" onclick="console.log('00:25:53,634'); seek(1553.0)">
              you're writing into cout, and when you write into cout, you wait to receive
            </span>
            
            <span id="chunk-417" class="transcript-chunks" onclick="console.log('00:25:57,850'); seek(1557.0)">
              from c in. So you call, your coroutine is writing into cout,
            </span>
            
            <span id="chunk-418" class="transcript-chunks" onclick="console.log('00:26:01,866'); seek(1561.0)">
              which your subroutine is blocked on.
            </span>
            
            <span id="chunk-419" class="transcript-chunks" onclick="console.log('00:26:05,194'); seek(1565.0)">
              And as soon as you do that blocked on, your coroteons blocked
            </span>
            
            <span id="chunk-420" class="transcript-chunks" onclick="console.log('00:26:08,568'); seek(1568.0)">
              on Cn, your caller starts functioning and you
            </span>
            
            <span id="chunk-421" class="transcript-chunks" onclick="console.log('00:26:12,448'); seek(1572.0)">
              know which was which one. Once it wants to resume the function
            </span>
            
            <span id="chunk-422" class="transcript-chunks" onclick="console.log('00:26:16,072'); seek(1576.0)">
              again, it can write to Cn again. So that's
            </span>
            
            <span id="chunk-423" class="transcript-chunks" onclick="console.log('00:26:19,360'); seek(1579.0)">
              great. Now you have, now if you notice, it's just the inverse of
            </span>
            
            <span id="chunk-424" class="transcript-chunks" onclick="console.log('00:26:23,208'); seek(1583.0)">
              your resume function. It writes into cout and blocks itself
            </span>
            
            <span id="chunk-425" class="transcript-chunks" onclick="console.log('00:26:26,744'); seek(1586.0)">
              from c in and you can actually pass this function
            </span>
            
            <span id="chunk-426" class="transcript-chunks" onclick="console.log('00:26:31,864'); seek(1591.0)">
              in your go routine. So that is
            </span>
            
            <span id="chunk-427" class="transcript-chunks" onclick="console.log('00:26:35,264'); seek(1595.0)">
              great. That go allows you to pass function values
            </span>
            
            <span id="chunk-428" class="transcript-chunks" onclick="console.log('00:26:40,624'); seek(1600.0)">
              in other functions, so as callback functions.
            </span>
            
            <span id="chunk-429" class="transcript-chunks" onclick="console.log('00:26:44,304'); seek(1604.0)">
              So on a note, you have only added
            </span>
            
            <span id="chunk-430" class="transcript-chunks" onclick="console.log('00:26:48,072'); seek(1608.0)">
              another send receipt pair and there's still no parallelism that's happening.
            </span>
            
            <span id="chunk-431" class="transcript-chunks" onclick="console.log('00:26:51,464'); seek(1611.0)">
              So that's the whole point of coroutines.
            </span>
            
            <span id="chunk-432" class="transcript-chunks" onclick="console.log('00:26:54,824'); seek(1614.0)">
              So let's pause for a bit. Are these actually coroutines?
            </span>
            
            <span id="chunk-433" class="transcript-chunks" onclick="console.log('00:26:59,064'); seek(1619.0)">
              They're still full coroutines, and they can do everything that an ordinary go routine
            </span>
            
            <span id="chunk-434" class="transcript-chunks" onclick="console.log('00:27:02,922'); seek(1622.0)">
              can. Your core routine, your core new, just creates
            </span>
            
            <span id="chunk-435" class="transcript-chunks" onclick="console.log('00:27:06,522'); seek(1626.0)">
              coroutines with access to resume and yield operations.
            </span>
            
            <span id="chunk-436" class="transcript-chunks" onclick="console.log('00:27:10,074'); seek(1630.0)">
              Unlike the Go statement, we are adding new concurrence to the program
            </span>
            
            <span id="chunk-437" class="transcript-chunks" onclick="console.log('00:27:13,522'); seek(1633.0)">
              without parallelism.
            </span>
            
            <span id="chunk-438" class="transcript-chunks" onclick="console.log('00:27:16,114'); seek(1636.0)">
              So if you have go statements in your main function,
            </span>
            
            <span id="chunk-439" class="transcript-chunks" onclick="console.log('00:27:20,474'); seek(1640.0)">
              say you have ten go statements in your main function.
            </span>
            
            <span id="chunk-440" class="transcript-chunks" onclick="console.log('00:27:23,714'); seek(1643.0)">
              Now you have eleven go routines running and they can be running
            </span>
            
            <span id="chunk-441" class="transcript-chunks" onclick="console.log('00:27:27,230'); seek(1647.0)">
              at once. So your parallelism is actually gone up to eleven.
            </span>
            
            <span id="chunk-442" class="transcript-chunks" onclick="console.log('00:27:31,174'); seek(1651.0)">
              But if you have one main coroutine that runs ten new
            </span>
            
            <span id="chunk-443" class="transcript-chunks" onclick="console.log('00:27:34,878'); seek(1654.0)">
              core new calls, then there are eleven control flows.
            </span>
            
            <span id="chunk-444" class="transcript-chunks" onclick="console.log('00:27:38,726'); seek(1658.0)">
              But the parallelism of the program is still what it was before, just one.
            </span>
            
            <span id="chunk-445" class="transcript-chunks" onclick="console.log('00:27:42,814'); seek(1662.0)">
              Right? So go creates new concurrent parallel control flows,
            </span>
            
            <span id="chunk-446" class="transcript-chunks" onclick="console.log('00:27:46,262'); seek(1666.0)">
              whereas your coro new, which is the implementation that we are developing,
            </span>
            
            <span id="chunk-447" class="transcript-chunks" onclick="console.log('00:27:49,926'); seek(1669.0)">
              creates new concurrent non parallel control flows.
            </span>
            
            <span id="chunk-448" class="transcript-chunks" onclick="console.log('00:27:53,304'); seek(1673.0)">
              So let's get back to implementing our core API. It was
            </span>
            
            <span id="chunk-449" class="transcript-chunks" onclick="console.log('00:27:56,552'); seek(1676.0)">
              pretty crude and we can start improving it a little bit. So first,
            </span>
            
            <span id="chunk-450" class="transcript-chunks" onclick="console.log('00:28:00,584'); seek(1680.0)">
              what if your callee or your coroutine wants to terminate instead of yielding
            </span>
            
            <span id="chunk-451" class="transcript-chunks" onclick="console.log('00:28:04,192'); seek(1684.0)">
              back control, it wants to just stop executing.
            </span>
            
            <span id="chunk-452" class="transcript-chunks" onclick="console.log('00:28:07,352'); seek(1687.0)">
              So say your code has stopped executing. How does your caller know that it
            </span>
            
            <span id="chunk-453" class="transcript-chunks" onclick="console.log('00:28:10,728'); seek(1690.0)">
              stopped executing? Right, it can try to resume this
            </span>
            
            <span id="chunk-454" class="transcript-chunks" onclick="console.log('00:28:14,160'); seek(1694.0)">
              coroutine that does not exist anymore and, you know, block itself and
            </span>
            
            <span id="chunk-455" class="transcript-chunks" onclick="console.log('00:28:17,984'); seek(1697.0)">
              cout. But there is nothing to write into cout because your coroutine does not
            </span>
            
            <span id="chunk-456" class="transcript-chunks" onclick="console.log('00:28:21,392'); seek(1701.0)">
              exist anymore. So all your, so a simple,
            </span>
            
            <span id="chunk-457" class="transcript-chunks" onclick="console.log('00:28:24,752'); seek(1704.0)">
              you know, solution to this could be just have a global variable
            </span>
            
            <span id="chunk-458" class="transcript-chunks" onclick="console.log('00:28:28,264'); seek(1708.0)">
              called running. And as soon as a coroutine stops functioning,
            </span>
            
            <span id="chunk-459" class="transcript-chunks" onclick="console.log('00:28:31,320'); seek(1711.0)">
              just set running to false. All your caller needs to do is, before it
            </span>
            
            <span id="chunk-460" class="transcript-chunks" onclick="console.log('00:28:35,208'); seek(1715.0)">
              resumes its coroutine, just, just ask, is this coroutine still
            </span>
            
            <span id="chunk-461" class="transcript-chunks" onclick="console.log('00:28:38,672'); seek(1718.0)">
              running? If not, don't try
            </span>
            
            <span id="chunk-462" class="transcript-chunks" onclick="console.log('00:28:42,360'); seek(1722.0)">
              to resume this function. You might think that having
            </span>
            
            <span id="chunk-463" class="transcript-chunks" onclick="console.log('00:28:47,102'); seek(1727.0)">
              a global variable when you could have potentially a bunch of
            </span>
            
            <span id="chunk-464" class="transcript-chunks" onclick="console.log('00:28:50,702'); seek(1730.0)">
              coroutines that are running a place for data races.
            </span>
            
            <span id="chunk-465" class="transcript-chunks" onclick="console.log('00:28:54,582'); seek(1734.0)">
              But if you recall, you can have only one coroutine running at a time.
            </span>
            
            <span id="chunk-466" class="transcript-chunks" onclick="console.log('00:28:58,262'); seek(1738.0)">
              So this sequential, consistent execution
            </span>
            
            <span id="chunk-467" class="transcript-chunks" onclick="console.log('00:29:02,598'); seek(1742.0)">
              ensures that there are no data races happening at this running
            </span>
            
            <span id="chunk-468" class="transcript-chunks" onclick="console.log('00:29:06,510'); seek(1746.0)">
              variable. So, a very simple implementation over here, you have the sunning variable.
            </span>
            
            <span id="chunk-469" class="transcript-chunks" onclick="console.log('00:29:11,594'); seek(1751.0)">
              As soon as your go routine, which is your coroutine,
            </span>
            
            <span id="chunk-470" class="transcript-chunks" onclick="console.log('00:29:15,042'); seek(1755.0)">
              in this case, executes this function. X, f,
            </span>
            
            <span id="chunk-471" class="transcript-chunks" onclick="console.log('00:29:18,954'); seek(1758.0)">
              your running can be set to false. And the next time you want
            </span>
            
            <span id="chunk-472" class="transcript-chunks" onclick="console.log('00:29:22,578'); seek(1762.0)">
              to start this function again, you check
            </span>
            
            <span id="chunk-473" class="transcript-chunks" onclick="console.log('00:29:26,370'); seek(1766.0)">
              is running set to false. If it is set to false, then just return.
            </span>
            
            <span id="chunk-474" class="transcript-chunks" onclick="console.log('00:29:30,082'); seek(1770.0)">
              If it is not, write into c and resume that function,
            </span>
            
            <span id="chunk-475" class="transcript-chunks" onclick="console.log('00:29:33,034'); seek(1773.0)">
              and so on and so forth. Another thing is
            </span>
            
            <span id="chunk-476" class="transcript-chunks" onclick="console.log('00:29:36,282'); seek(1776.0)">
              that, sure, if it terminates properly, then you
            </span>
            
            <span id="chunk-477" class="transcript-chunks" onclick="console.log('00:29:40,270'); seek(1780.0)">
              have your running properly set to false.
            </span>
            
            <span id="chunk-478" class="transcript-chunks" onclick="console.log('00:29:43,798'); seek(1783.0)">
              But what if the caller, what if your coroutine actually panics, never gets
            </span>
            
            <span id="chunk-479" class="transcript-chunks" onclick="console.log('00:29:47,958'); seek(1787.0)">
              a chance to set running to false. How does your caller then know
            </span>
            
            <span id="chunk-480" class="transcript-chunks" onclick="console.log('00:29:51,206'); seek(1791.0)">
              that the coroutine does not exist anymore and not
            </span>
            
            <span id="chunk-481" class="transcript-chunks" onclick="console.log('00:29:54,822'); seek(1794.0)">
              potentially bread lock itself? So all we
            </span>
            
            <span id="chunk-482" class="transcript-chunks" onclick="console.log('00:29:58,790'); seek(1798.0)">
              have, your caller could be blocked waiting for news
            </span>
            
            <span id="chunk-483" class="transcript-chunks" onclick="console.log('00:30:02,614'); seek(1802.0)">
              and couture, but it gets nothing. So yeah, it panics.
            </span>
            
            <span id="chunk-484" class="transcript-chunks" onclick="console.log('00:30:06,800'); seek(1806.0)">
              There are no rights to call and your caller is blocked. What you can do
            </span>
            
            <span id="chunk-485" class="transcript-chunks" onclick="console.log('00:30:10,552'); seek(1810.0)">
              is simply just, whenever your coroutine
            </span>
            
            <span id="chunk-486" class="transcript-chunks" onclick="console.log('00:30:13,952'); seek(1813.0)">
              panics, just propagate this panic up to your caller, and you can just write
            </span>
            
            <span id="chunk-487" class="transcript-chunks" onclick="console.log('00:30:17,992'); seek(1817.0)">
              into cout, which is what the caller is waiting on.
            </span>
            
            <span id="chunk-488" class="transcript-chunks" onclick="console.log('00:30:21,208'); seek(1821.0)">
              Write in the code that, you know, I have panicked and don't
            </span>
            
            <span id="chunk-489" class="transcript-chunks" onclick="console.log('00:30:25,512'); seek(1825.0)">
              exist anymore. So don't try to resume this particular co routine.
            </span>
            
            <span id="chunk-490" class="transcript-chunks" onclick="console.log('00:30:28,964'); seek(1828.0)">
              And this can be implemented using this defer funk.
            </span>
            
            <span id="chunk-491" class="transcript-chunks" onclick="console.log('00:30:32,804'); seek(1832.0)">
              So how defer funk, how defer works, if you don't know, is that
            </span>
            
            <span id="chunk-492" class="transcript-chunks" onclick="console.log('00:30:36,812'); seek(1836.0)">
              it just runs at the end of your function. So after
            </span>
            
            <span id="chunk-493" class="transcript-chunks" onclick="console.log('00:30:41,204'); seek(1841.0)">
              everything is stopped running, your defer runs, and all it's doing is
            </span>
            
            <span id="chunk-494" class="transcript-chunks" onclick="console.log('00:30:45,508'); seek(1845.0)">
              that checking if running is set to true. Now,
            </span>
            
            <span id="chunk-495" class="transcript-chunks" onclick="console.log('00:30:49,092'); seek(1849.0)">
              if your control has reached your defer function and running
            </span>
            
            <span id="chunk-496" class="transcript-chunks" onclick="console.log('00:30:52,492'); seek(1852.0)">
              was not set to false, which basically means that something went wrong
            </span>
            
            <span id="chunk-497" class="transcript-chunks" onclick="console.log('00:30:56,500'); seek(1856.0)">
              over here in this gray dot portion, which means that
            </span>
            
            <span id="chunk-498" class="transcript-chunks" onclick="console.log('00:31:00,484'); seek(1860.0)">
              your colleague possibly panicked. So if
            </span>
            
            <span id="chunk-499" class="transcript-chunks" onclick="console.log('00:31:03,988'); seek(1863.0)">
              it reaches a def function and running is set to true, you know, that something
            </span>
            
            <span id="chunk-500" class="transcript-chunks" onclick="console.log('00:31:07,844'); seek(1867.0)">
              bad happened. Set running to false and into cout,
            </span>
            
            <span id="chunk-501" class="transcript-chunks" onclick="console.log('00:31:11,244'); seek(1871.0)">
              which your resume is waiting to read from. Just write
            </span>
            
            <span id="chunk-502" class="transcript-chunks" onclick="console.log('00:31:14,740'); seek(1874.0)">
              the message panic. And now your resume
            </span>
            
            <span id="chunk-503" class="transcript-chunks" onclick="console.log('00:31:18,060'); seek(1878.0)">
              function can handle this panic however it wants to. It can return
            </span>
            
            <span id="chunk-504" class="transcript-chunks" onclick="console.log('00:31:21,268'); seek(1881.0)">
              in this case, and you can do whatever you want to with this panic.
            </span>
            
            <span id="chunk-505" class="transcript-chunks" onclick="console.log('00:31:24,536'); seek(1884.0)">
              So, you know, you solve that deadlock situation.
            </span>
            
            <span id="chunk-506" class="transcript-chunks" onclick="console.log('00:31:27,624'); seek(1887.0)">
              Finally, we need some way to tell the coroutine
            </span>
            
            <span id="chunk-507" class="transcript-chunks" onclick="console.log('00:31:31,352'); seek(1891.0)">
              or your callee that it's no longer needed. And that could happen because
            </span>
            
            <span id="chunk-508" class="transcript-chunks" onclick="console.log('00:31:35,088'); seek(1895.0)">
              maybe your caller is panicking or because the caller is simply returning.
            </span>
            
            <span id="chunk-509" class="transcript-chunks" onclick="console.log('00:31:38,544'); seek(1898.0)">
              Right, and it's the same thing, but the same thing, but in reverse.
            </span>
            
            <span id="chunk-510" class="transcript-chunks" onclick="console.log('00:31:42,720'); seek(1902.0)">
              Your subroutine just needs to tell your callee, you know,
            </span>
            
            <span id="chunk-511" class="transcript-chunks" onclick="console.log('00:31:47,200'); seek(1907.0)">
              on the channel that it's waiting on, in that the
            </span>
            
            <span id="chunk-512" class="transcript-chunks" onclick="console.log('00:31:52,230'); seek(1912.0)">
              parent of this particular function does not exist anymore and you can
            </span>
            
            <span id="chunk-513" class="transcript-chunks" onclick="console.log('00:31:55,798'); seek(1915.0)">
              stop working as well. So it's just the reverse of what we implemented.
            </span>
            
            <span id="chunk-514" class="transcript-chunks" onclick="console.log('00:32:00,014'); seek(1920.0)">
              But what we can do is so, yeah, right into cin that
            </span>
            
            <span id="chunk-515" class="transcript-chunks" onclick="console.log('00:32:04,238'); seek(1924.0)">
              the caller is cancelling, just propagate
            </span>
            
            <span id="chunk-516" class="transcript-chunks" onclick="console.log('00:32:07,430'); seek(1927.0)">
              this cancel call t or callee, which once it
            </span>
            
            <span id="chunk-517" class="transcript-chunks" onclick="console.log('00:32:10,510'); seek(1930.0)">
              receives the cancel, it can write into co that, you know,
            </span>
            
            <span id="chunk-518" class="transcript-chunks" onclick="console.log('00:32:13,502'); seek(1933.0)">
              I acknowledge that the caller is cancelled and
            </span>
            
            <span id="chunk-519" class="transcript-chunks" onclick="console.log('00:32:17,714'); seek(1937.0)">
              the caller knows that successfully canceled its quote routine
            </span>
            
            <span id="chunk-520" class="transcript-chunks" onclick="console.log('00:32:21,266'); seek(1941.0)">
              before, you know, stopping itself. So you have your cancel
            </span>
            
            <span id="chunk-521" class="transcript-chunks" onclick="console.log('00:32:24,442'); seek(1944.0)">
              function over here, and all it's doing,
            </span>
            
            <span id="chunk-522" class="transcript-chunks" onclick="console.log('00:32:27,314'); seek(1947.0)">
              it's writing into cin a special kind of a panic, which is in
            </span>
            
            <span id="chunk-523" class="transcript-chunks" onclick="console.log('00:32:30,770'); seek(1950.0)">
              this case this error cancelled into c, in which your
            </span>
            
            <span id="chunk-524" class="transcript-chunks" onclick="console.log('00:32:34,778'); seek(1954.0)">
              yield function can then handle. So if in
            </span>
            
            <span id="chunk-525" class="transcript-chunks" onclick="console.log('00:32:38,746'); seek(1958.0)">
              your yield function, if it gets a panic on cin,
            </span>
            
            <span id="chunk-526" class="transcript-chunks" onclick="console.log('00:32:42,324'); seek(1962.0)">
              it knows that the caller or the invoker
            </span>
            
            <span id="chunk-527" class="transcript-chunks" onclick="console.log('00:32:45,980'); seek(1965.0)">
              of this particular code routine does not exist anymore. And I can go ahead
            </span>
            
            <span id="chunk-528" class="transcript-chunks" onclick="console.log('00:32:49,508'); seek(1969.0)">
              and cancel myself, you can pause and look at a bunch of other things that's
            </span>
            
            <span id="chunk-529" class="transcript-chunks" onclick="console.log('00:32:52,788'); seek(1972.0)">
              happening over here. So finally,
            </span>
            
            <span id="chunk-530" class="transcript-chunks" onclick="console.log('00:32:55,764'); seek(1975.0)">
              what are the runtime changes that can be made? Right,
            </span>
            
            <span id="chunk-531" class="transcript-chunks" onclick="console.log('00:32:58,852'); seek(1978.0)">
              that's the, that's the interesting bit. So far we have
            </span>
            
            <span id="chunk-532" class="transcript-chunks" onclick="console.log('00:33:02,524'); seek(1982.0)">
              defined coroutines using pure go rust builds on this
            </span>
            
            <span id="chunk-533" class="transcript-chunks" onclick="console.log('00:33:06,788'); seek(1986.0)">
              use of optimized use, use of an
            </span>
            
            <span id="chunk-534" class="transcript-chunks" onclick="console.log('00:33:10,030'); seek(1990.0)">
              optimized runtime implementation. And what he
            </span>
            
            <span id="chunk-535" class="transcript-chunks" onclick="console.log('00:33:13,518'); seek(1993.0)">
              did was initially collections of performance data. And he saw that this
            </span>
            
            <span id="chunk-536" class="transcript-chunks" onclick="console.log('00:33:17,190'); seek(1997.0)">
              Coro, new coro implementation that we've been describing took
            </span>
            
            <span id="chunk-537" class="transcript-chunks" onclick="console.log('00:33:21,126'); seek(2001.0)">
              approximately 190 nanoseconds per switch, which lies
            </span>
            
            <span id="chunk-538" class="transcript-chunks" onclick="console.log('00:33:25,118'); seek(2005.0)">
              in the realm of what a regular go routine switch takes at a
            </span>
            
            <span id="chunk-539" class="transcript-chunks" onclick="console.log('00:33:29,314'); seek(2009.0)">
              few hundred nanoseconds. He changes one thing. First he
            </span>
            
            <span id="chunk-540" class="transcript-chunks" onclick="console.log('00:33:33,194'); seek(2013.0)">
              marks in the compiler, he marks as a resume
            </span>
            
            <span id="chunk-541" class="transcript-chunks" onclick="console.log('00:33:36,650'); seek(2016.0)">
              and yield the send receive pairs as
            </span>
            
            <span id="chunk-542" class="transcript-chunks" onclick="console.log('00:33:40,090'); seek(2020.0)">
              a single operation. So now these are two separate operations
            </span>
            
            <span id="chunk-543" class="transcript-chunks" onclick="console.log('00:33:43,738'); seek(2023.0)">
              that need to be scheduled by the co, scheduler. It's one single atomic operation.
            </span>
            
            <span id="chunk-544" class="transcript-chunks" onclick="console.log('00:33:48,050'); seek(2028.0)">
              So you are completely bypassing the scheduler. And you can just directly jump
            </span>
            
            <span id="chunk-545" class="transcript-chunks" onclick="console.log('00:33:52,250'); seek(2032.0)">
              between coroutines instead of waiting for it to be scheduled,
            </span>
            
            <span id="chunk-546" class="transcript-chunks" onclick="console.log('00:33:55,874'); seek(2035.0)">
              your resume to be scheduled, and your yield to be scheduled,
            </span>
            
            <span id="chunk-547" class="transcript-chunks" onclick="console.log('00:33:59,094'); seek(2039.0)">
              bypassing the scheduler entirely. So this implementation actually required
            </span>
            
            <span id="chunk-548" class="transcript-chunks" onclick="console.log('00:34:02,966'); seek(2042.0)">
              just 118 nanoseconds, which was 38% faster from our
            </span>
            
            <span id="chunk-549" class="transcript-chunks" onclick="console.log('00:34:06,734'); seek(2046.0)">
              exist current implementation. Then he talks about
            </span>
            
            <span id="chunk-550" class="transcript-chunks" onclick="console.log('00:34:10,326'); seek(2050.0)">
              adding a direct coroutine switch to the runtime, so you're
            </span>
            
            <span id="chunk-551" class="transcript-chunks" onclick="console.log('00:34:13,982'); seek(2053.0)">
              avoiding channels entirely. Channels are pretty heavyweight
            </span>
            
            <span id="chunk-552" class="transcript-chunks" onclick="console.log('00:34:18,062'); seek(2058.0)">
              in the sense that they are pretty general purpose. They are intended
            </span>
            
            <span id="chunk-553" class="transcript-chunks" onclick="console.log('00:34:22,078'); seek(2062.0)">
              to do a bunch of things, not just a coroutine
            </span>
            
            <span id="chunk-554" class="transcript-chunks" onclick="console.log('00:34:25,582'); seek(2065.0)">
              switch mechanism. So instead you can have a direct coroutine
            </span>
            
            <span id="chunk-555" class="transcript-chunks" onclick="console.log('00:34:29,100'); seek(2069.0)">
              switch in runtime. And that implementation actually
            </span>
            
            <span id="chunk-556" class="transcript-chunks" onclick="console.log('00:34:32,948'); seek(2072.0)">
              just took 20 nanoseconds per switch, which is ten times
            </span>
            
            <span id="chunk-557" class="transcript-chunks" onclick="console.log('00:34:36,196'); seek(2076.0)">
              faster than the original channel implementation. So, you know, if this ends
            </span>
            
            <span id="chunk-558" class="transcript-chunks" onclick="console.log('00:34:39,788'); seek(2079.0)">
              up becoming native to go, it would
            </span>
            
            <span id="chunk-559" class="transcript-chunks" onclick="console.log('00:34:43,068'); seek(2083.0)">
              be really interesting to see how developers use this really,
            </span>
            
            <span id="chunk-560" class="transcript-chunks" onclick="console.log('00:34:47,284'); seek(2087.0)">
              you know, super fast implementation in go in
            </span>
            
            <span id="chunk-561" class="transcript-chunks" onclick="console.log('00:34:51,228'); seek(2091.0)">
              various creative ways, and, you know, to see how it changes the
            </span>
            
            <span id="chunk-562" class="transcript-chunks" onclick="console.log('00:34:55,559'); seek(2095.0)">
              concurrency landscape that go has sort of spearheaded.
            </span>
            
            <span id="chunk-563" class="transcript-chunks" onclick="console.log('00:35:00,903'); seek(2100.0)">
              We covered quite a bit, and thanks for making it here. We are
            </span>
            
            <span id="chunk-564" class="transcript-chunks" onclick="console.log('00:35:04,575'); seek(2104.0)">
              able to show that having a full coroutine facility in go makes it even
            </span>
            
            <span id="chunk-565" class="transcript-chunks" onclick="console.log('00:35:08,223'); seek(2108.0)">
              more powerful for implementing very robust generalized concurrency
            </span>
            
            <span id="chunk-566" class="transcript-chunks" onclick="console.log('00:35:12,143'); seek(2112.0)">
              patterns. We covered the basics of coroutines,
            </span>
            
            <span id="chunk-567" class="transcript-chunks" onclick="console.log('00:35:15,239'); seek(2115.0)">
              its history, why it's not as prolific, the problems with it,
            </span>
            
            <span id="chunk-568" class="transcript-chunks" onclick="console.log('00:35:19,394'); seek(2119.0)">
              why it's not present in a lot of ancient languages. We showed
            </span>
            
            <span id="chunk-569" class="transcript-chunks" onclick="console.log('00:35:22,450'); seek(2122.0)">
              why we care about full coroutines, what full
            </span>
            
            <span id="chunk-570" class="transcript-chunks" onclick="console.log('00:35:25,802'); seek(2125.0)">
              coroutines are as different classifications, why we
            </span>
            
            <span id="chunk-571" class="transcript-chunks" onclick="console.log('00:35:29,418'); seek(2129.0)">
              need to have coroutines in go, and how they differ from go routines,
            </span>
            
            <span id="chunk-572" class="transcript-chunks" onclick="console.log('00:35:32,986'); seek(2132.0)">
              and how they would differ from existing implementations in other languages like
            </span>
            
            <span id="chunk-573" class="transcript-chunks" onclick="console.log('00:35:37,082'); seek(2137.0)">
              Python and Kotlin. We then implemented a coroutine API
            </span>
            
            <span id="chunk-574" class="transcript-chunks" onclick="console.log('00:35:41,346'); seek(2141.0)">
              using existing go definitions, and we built on it to make it a little more
            </span>
            
            <span id="chunk-575" class="transcript-chunks" onclick="console.log('00:35:44,770'); seek(2144.0)">
              robust. We showed what runtime changes can be made
            </span>
            
            <span id="chunk-576" class="transcript-chunks" onclick="console.log('00:35:48,522'); seek(2148.0)">
              to make this implementation even more efficient. Finally, these are
            </span>
            
            <span id="chunk-577" class="transcript-chunks" onclick="console.log('00:35:52,146'); seek(2152.0)">
              the references I highly recommend going through all of these
            </span>
            
            <span id="chunk-578" class="transcript-chunks" onclick="console.log('00:35:56,042'); seek(2156.0)">
              articles and videos. They're super interesting and quick
            </span>
            
            <span id="chunk-579" class="transcript-chunks" onclick="console.log('00:36:02,034'); seek(2162.0)">
              reads, and definitely go through co routine for go
            </span>
            
            <span id="chunk-580" class="transcript-chunks" onclick="console.log('00:36:06,114'); seek(2166.0)">
              by Russ Cox. That's where a lot of this talk was taken from.
            </span>
            
            <span id="chunk-581" class="transcript-chunks" onclick="console.log('00:36:09,498'); seek(2169.0)">
              Finally, the artwork is by Rene French,
            </span>
            
            <span id="chunk-582" class="transcript-chunks" onclick="console.log('00:36:12,674'); seek(2172.0)">
              tenten quaslite. Check out their artwork, some really interesting
            </span>
            
            <span id="chunk-583" class="transcript-chunks" onclick="console.log('00:36:16,434'); seek(2176.0)">
              things and yeah, thank you, thanks a lot.
            </span>
            
            </div>
          </div>
          

          
          <div class="col-12 mb-5">
            <h3>
              Slides
            </h3>
            <iframe src="https://conf42.github.io/static/slides/Raghav%20Roy%20-%20Conf42%20Golang%202024.pdf" width="100%" height="500px"></iframe>
            <a href="https://conf42.github.io/static/slides/Raghav%20Roy%20-%20Conf42%20Golang%202024.pdf" class="btn btn-xs btn-info shadow lift" style="background-color: #881E4B;" target="_blank">
              <i class="fe fe-paperclip me-2"></i>
              Download slides (PDF)
            </a>
          </div>
          

          <div class="col-12 mb-2 text-center">
            <div class="text-center mb-5">
              <a href="https://www.conf42.com/golang2024" class="btn btn-sm btn-danger shadow lift" style="background-color: #881E4B;">
                <i class="fe fe-grid me-2"></i>
                See all 21 talks at this event!
              </a>
            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- PHOTO -->
    <section class="pt-8 pb-6">
      <div class="container">

        <div class="row align-items-center">
          <div class="col-12 col-md-6 col-lg-7">

            <div class="mb-8 mb-md-0">

              <!-- Image -->
              <img src="https://conf42.github.io/static/headshots/Raghav%20Roy_golang.png" alt="..." class="screenshot img-fluid mw-md-110 float-end me-md-6 mb-6 mb-md-0">

            </div>

          </div>
          <div class="col-12 col-md-6 col-lg-5">

            <!-- List -->
            <div class="d-flex">

              <!-- Body -->
              <div class="ms-5">

                <!-- Author 1 -->
                <h2 class="me-2">
                  Raghav Roy
                </h2>
                <h3 class="me-2">
                  <span class="text-muted">
                    R&D Software Engineer @ VMware
                  </span>
                </h3>

                <p class="text-uppercase text-muted me-2 mb-3">
                  
                  <a href="https://www.linkedin.com/in/raghav-roy-037b27151/" target="_blank" class="mr-3">
                    <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Raghav Roy's LinkedIn account" />
                  </a>
                  
                  
                  <a href="https://twitter.com/@TheOtherRaghav" target="_blank">
                    <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Raghav Roy's twitter account" />
                  </a>
                  
                </p>
                

                <br />

                <a
                  href="https://twitter.com/share?ref_src=twsrc%5Etfw"
                  class="twitter-share-button"

                  data-text="Check out this talk by @TheOtherRaghav"
                  data-url="https://www.conf42.com/golang2024"
                  data-via="conf42com"
                  data-related=""
                  data-show-count="false"
                >
                  Tweet
                </a>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

                <br />

                <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
                <script type="IN/Share" data-url="https://www.conf42.com/golang2024"></script>
              </div>

            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>





  <script>
    function gtag_report_conversion(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.location = url;
        }
      };
      gtag('event', 'conversion', {
          'send_to': 'AW-882275635/jLVTCPbt1N8CELPq2aQD',
          'event_callback': callback
      });
      return false;
    }
    </script>
    <!-- SUBSCRIBE -->
    <section class="pt-8 pt-md-11 bg-gradient-light-white" id="register">
        <div class="container">
          <div class="row align-items-center justify-content-between mb-8 mb-md-11">
            <div class="col-12 col-md-6 order-md-2" data-aos="fade-left">
  
              <!-- Heading -->
              <h2>
                Awesome tech events for <br>
                <span class="text-success"><span data-typed='{"strings": ["software engineers.", "tech leaders.", "SREs.", "DevOps.", "CTOs.",  "managers.", "architects.", "QAs.", "developers.", "coders.", "founders.", "CEOs.", "students.", "geeks.", "ethical hackers.", "educators.", "enthusiasts.", "directors.", "researchers.", "PHDs.", "evangelists.", "tech authors."]}'></span></span>
              </h2>
  
              <!-- Text -->
              <p class="fs-lg text-muted mb-6">
  
              </p>
  
              <!-- List -->
              <div class="row">
                <div class="col-12 col-lg-12">
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <!-- Text -->
                    <p class="text-success">
                      Priority access to all content
                    </p>
                  </div>
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Video hallway track
                    </p>
                  </div>

                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Community chat
                    </p>
                  </div>
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Exclusive promotions and giveaways
                    </p>
                  </div>
  
                </div>
              </div> <!-- / .row -->
  
            </div>
            <div class="col-12 col-md-6 col-lg-5 order-md-1">
  
              <!-- Card -->
              <div class="card shadow-light-lg">
  
                <!-- Body -->
                <div class="card-body">
  
                  <!-- Form -->
                  <link rel="stylesheet" href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css">
                  <p class="emailoctopus-success-message text-success"></p>
                  <p class="emailoctopus-error-message text-danger"></p>
                  <form
                    action="https://emailoctopus.com/lists/a3ba0cb5-7524-11eb-a3d0-06b4694bee2a/members/embedded/1.3/add"
                    method="post"
                    data-message-success="Thanks! Check your email for further directions!"
                    data-message-missing-email-address="Your email address is required."
                    data-message-invalid-email-address="Your email address looks incorrect, please try again."
                    data-message-bot-submission-error="This doesn't look like a human submission."
                    data-message-consent-required="Please check the checkbox to indicate your consent."
                    data-message-invalid-parameters-error="This form has missing or invalid fields."
                    data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
                    class="emailoctopus-form"
                    data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
                  >
                    <div class="form-floating emailoctopus-form-row">
                      <input type="email" class="form-control form-control-flush" name="field_0" id="field_0" placeholder="Email" required>
                      <label for="field_0">Email address</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_1" id="field_1" placeholder="First Name" required>
                      <label for="field_1">First Name</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_2" id="field_2" placeholder="Last Name" required>
                      <label for="field_2">Last Name</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_4" id="field_4" placeholder="Company" required>
                      <label for="field_4">Company</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_5" id="field_5" placeholder="Job Title" required>
                      <label for="field_5">Job Title</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_3" id="field_3" placeholder="Phone">
                      <label for="field_3">Phone Number</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <select type="text" class="form-control form-control-flush" name="field_7" id="country-source" required
                        oninput="updateCountry()"
                      >
                        <!-- Country names and Country Name -->
    <option value="">Please select your country</option>
    <option value="Afghanistan">Afghanistan</option>
    <option value="Aland Islands">Aland Islands</option>
    <option value="Albania">Albania</option>
    <option value="Algeria">Algeria</option>
    <option value="American Samoa">American Samoa</option>
    <option value="Andorra">Andorra</option>
    <option value="Angola">Angola</option>
    <option value="Anguilla">Anguilla</option>
    <option value="Antarctica">Antarctica</option>
    <option value="Antigua and Barbuda">Antigua and Barbuda</option>
    <option value="Argentina">Argentina</option>
    <option value="Armenia">Armenia</option>
    <option value="Aruba">Aruba</option>
    <option value="Australia">Australia</option>
    <option value="Austria">Austria</option>
    <option value="Azerbaijan">Azerbaijan</option>
    <option value="Bahamas">Bahamas</option>
    <option value="Bahrain">Bahrain</option>
    <option value="Bangladesh">Bangladesh</option>
    <option value="Barbados">Barbados</option>
    <option value="Belarus">Belarus</option>
    <option value="Belgium">Belgium</option>
    <option value="Belize">Belize</option>
    <option value="Benin">Benin</option>
    <option value="Bermuda">Bermuda</option>
    <option value="Bhutan">Bhutan</option>
    <option value="Bolivia">Bolivia</option>
    <option value="Bonaire, Sint Eustatius and Saba">Bonaire, Sint Eustatius and Saba</option>
    <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
    <option value="Botswana">Botswana</option>
    <option value="Bouvet Island">Bouvet Island</option>
    <option value="Brazil">Brazil</option>
    <option value="British Indian Ocean Territory">British Indian Ocean Territory</option>
    <option value="Brunei Darussalam">Brunei Darussalam</option>
    <option value="Bulgaria">Bulgaria</option>
    <option value="Burkina Faso">Burkina Faso</option>
    <option value="Burundi">Burundi</option>
    <option value="Cambodia">Cambodia</option>
    <option value="Cameroon">Cameroon</option>
    <option value="Canada">Canada</option>
    <option value="Cape Verde">Cape Verde</option>
    <option value="Cayman Islands">Cayman Islands</option>
    <option value="Central African Republic">Central African Republic</option>
    <option value="Chad">Chad</option>
    <option value="Chile">Chile</option>
    <option value="China">China</option>
    <option value="Christmas Island">Christmas Island</option>
    <option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
    <option value="Colombia">Colombia</option>
    <option value="Comoros">Comoros</option>
    <option value="Congo">Congo</option>
    <option value="Congo, Democratic Republic of the Congo">Congo, Democratic Republic of the Congo</option>
    <option value="Cook Islands">Cook Islands</option>
    <option value="Costa Rica">Costa Rica</option>
    <option value="Cote D'Ivoire">Cote D'Ivoire</option>
    <option value="Croatia">Croatia</option>
    <option value="Cuba">Cuba</option>
    <option value="Curacao">Curacao</option>
    <option value="Cyprus">Cyprus</option>
    <option value="Czech Republic">Czech Republic</option>
    <option value="Denmark">Denmark</option>
    <option value="Djibouti">Djibouti</option>
    <option value="Dominica">Dominica</option>
    <option value="Dominican Republic">Dominican Republic</option>
    <option value="Ecuador">Ecuador</option>
    <option value="Egypt">Egypt</option>
    <option value="El Salvador">El Salvador</option>
    <option value="Equatorial Guinea">Equatorial Guinea</option>
    <option value="Eritrea">Eritrea</option>
    <option value="Estonia">Estonia</option>
    <option value="Ethiopia">Ethiopia</option>
    <option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
    <option value="Faroe Islands">Faroe Islands</option>
    <option value="Fiji">Fiji</option>
    <option value="Finland">Finland</option>
    <option value="France">France</option>
    <option value="French Guiana">French Guiana</option>
    <option value="French Polynesia">French Polynesia</option>
    <option value="French Southern Territories">French Southern Territories</option>
    <option value="Gabon">Gabon</option>
    <option value="Gambia">Gambia</option>
    <option value="Georgia">Georgia</option>
    <option value="Germany">Germany</option>
    <option value="Ghana">Ghana</option>
    <option value="Gibraltar">Gibraltar</option>
    <option value="Greece">Greece</option>
    <option value="Greenland">Greenland</option>
    <option value="Grenada">Grenada</option>
    <option value="Guadeloupe">Guadeloupe</option>
    <option value="Guam">Guam</option>
    <option value="Guatemala">Guatemala</option>
    <option value="Guernsey">Guernsey</option>
    <option value="Guinea">Guinea</option>
    <option value="Guinea-Bissau">Guinea-Bissau</option>
    <option value="Guyana">Guyana</option>
    <option value="Haiti">Haiti</option>
    <option value="Heard Island and Mcdonald Islands">Heard Island and Mcdonald Islands</option>
    <option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
    <option value="Honduras">Honduras</option>
    <option value="Hong Kong">Hong Kong</option>
    <option value="Hungary">Hungary</option>
    <option value="Iceland">Iceland</option>
    <option value="India">India</option>
    <option value="Indonesia">Indonesia</option>
    <option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
    <option value="Iraq">Iraq</option>
    <option value="Ireland">Ireland</option>
    <option value="Isle of Man">Isle of Man</option>
    <option value="Israel">Israel</option>
    <option value="Italy">Italy</option>
    <option value="Jamaica">Jamaica</option>
    <option value="Japan">Japan</option>
    <option value="Jersey">Jersey</option>
    <option value="Jordan">Jordan</option>
    <option value="Kazakhstan">Kazakhstan</option>
    <option value="Kenya">Kenya</option>
    <option value="Kiribati">Kiribati</option>
    <option value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
    <option value="Korea, Republic of">Korea, Republic of</option>
    <option value="Kosovo">Kosovo</option>
    <option value="Kuwait">Kuwait</option>
    <option value="Kyrgyzstan">Kyrgyzstan</option>
    <option value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
    <option value="Latvia">Latvia</option>
    <option value="Lebanon">Lebanon</option>
    <option value="Lesotho">Lesotho</option>
    <option value="Liberia">Liberia</option>
    <option value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option>
    <option value="Liechtenstein">Liechtenstein</option>
    <option value="Lithuania">Lithuania</option>
    <option value="Luxembourg">Luxembourg</option>
    <option value="Macao">Macao</option>
    <option value="Macedonia, the Former Yugoslav Republic of">Macedonia, the Former Yugoslav Republic of</option>
    <option value="Madagascar">Madagascar</option>
    <option value="Malawi">Malawi</option>
    <option value="Malaysia">Malaysia</option>
    <option value="Maldives">Maldives</option>
    <option value="Mali">Mali</option>
    <option value="Malta">Malta</option>
    <option value="Marshall Islands">Marshall Islands</option>
    <option value="Martinique">Martinique</option>
    <option value="Mauritania">Mauritania</option>
    <option value="Mauritius">Mauritius</option>
    <option value="Mayotte">Mayotte</option>
    <option value="Mexico">Mexico</option>
    <option value="Micronesia, Federated States of">Micronesia, Federated States of</option>
    <option value="Moldova, Republic of">Moldova, Republic of</option>
    <option value="Monaco">Monaco</option>
    <option value="Mongolia">Mongolia</option>
    <option value="Montenegro">Montenegro</option>
    <option value="Montserrat">Montserrat</option>
    <option value="Morocco">Morocco</option>
    <option value="Mozambique">Mozambique</option>
    <option value="Myanmar">Myanmar</option>
    <option value="Namibia">Namibia</option>
    <option value="Nauru">Nauru</option>
    <option value="Nepal">Nepal</option>
    <option value="Netherlands">Netherlands</option>
    <option value="Netherlands Antilles">Netherlands Antilles</option>
    <option value="New Caledonia">New Caledonia</option>
    <option value="New Zealand">New Zealand</option>
    <option value="Nicaragua">Nicaragua</option>
    <option value="Niger">Niger</option>
    <option value="Nigeria">Nigeria</option>
    <option value="Niue">Niue</option>
    <option value="Norfolk Island">Norfolk Island</option>
    <option value="Northern Mariana Islands">Northern Mariana Islands</option>
    <option value="Norway">Norway</option>
    <option value="Oman">Oman</option>
    <option value="Pakistan">Pakistan</option>
    <option value="Palau">Palau</option>
    <option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option>
    <option value="Panama">Panama</option>
    <option value="Papua New Guinea">Papua New Guinea</option>
    <option value="Paraguay">Paraguay</option>
    <option value="Peru">Peru</option>
    <option value="Philippines">Philippines</option>
    <option value="Pitcairn">Pitcairn</option>
    <option value="Poland">Poland</option>
    <option value="Portugal">Portugal</option>
    <option value="Puerto Rico">Puerto Rico</option>
    <option value="Qatar">Qatar</option>
    <option value="Reunion">Reunion</option>
    <option value="Romania">Romania</option>
    <option value="Russian Federation">Russian Federation</option>
    <option value="Rwanda">Rwanda</option>
    <option value="Saint Barthelemy">Saint Barthelemy</option>
    <option value="Saint Helena">Saint Helena</option>
    <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
    <option value="Saint Lucia">Saint Lucia</option>
    <option value="Saint Martin">Saint Martin</option>
    <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
    <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
    <option value="Samoa">Samoa</option>
    <option value="San Marino">San Marino</option>
    <option value="Sao Tome and Principe">Sao Tome and Principe</option>
    <option value="Saudi Arabia">Saudi Arabia</option>
    <option value="Senegal">Senegal</option>
    <option value="Serbia">Serbia</option>
    <option value="Serbia and Montenegro">Serbia and Montenegro</option>
    <option value="Seychelles">Seychelles</option>
    <option value="Sierra Leone">Sierra Leone</option>
    <option value="Singapore">Singapore</option>
    <option value="Sint Maarten">Sint Maarten</option>
    <option value="Slovakia">Slovakia</option>
    <option value="Slovenia">Slovenia</option>
    <option value="Solomon Islands">Solomon Islands</option>
    <option value="Somalia">Somalia</option>
    <option value="South Africa">South Africa</option>
    <option value="South Georgia and the South Sandwich Islands">South Georgia and the South Sandwich Islands</option>
    <option value="South Sudan">South Sudan</option>
    <option value="Spain">Spain</option>
    <option value="Sri Lanka">Sri Lanka</option>
    <option value="Sudan">Sudan</option>
    <option value="Suriname">Suriname</option>
    <option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
    <option value="Swaziland">Swaziland</option>
    <option value="Sweden">Sweden</option>
    <option value="Switzerland">Switzerland</option>
    <option value="Syrian Arab Republic">Syrian Arab Republic</option>
    <option value="Taiwan, Province of China">Taiwan, Province of China</option>
    <option value="Tajikistan">Tajikistan</option>
    <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
    <option value="Thailand">Thailand</option>
    <option value="Timor-Leste">Timor-Leste</option>
    <option value="Togo">Togo</option>
    <option value="Tokelau">Tokelau</option>
    <option value="Tonga">Tonga</option>
    <option value="Trinidad and Tobago">Trinidad and Tobago</option>
    <option value="Tunisia">Tunisia</option>
    <option value="Turkey">Turkey</option>
    <option value="Turkmenistan">Turkmenistan</option>
    <option value="Turks and Caicos Islands">Turks and Caicos Islands</option>
    <option value="Tuvalu">Tuvalu</option>
    <option value="Uganda">Uganda</option>
    <option value="Ukraine">Ukraine</option>
    <option value="United Arab Emirates">United Arab Emirates</option>
    <option value="United Kingdom">United Kingdom</option>
    <option value="United States">United States</option>
    <option value="United States Minor Outlying Islands">United States Minor Outlying Islands</option>
    <option value="Uruguay">Uruguay</option>
    <option value="Uzbekistan">Uzbekistan</option>
    <option value="Vanuatu">Vanuatu</option>
    <option value="Venezuela">Venezuela</option>
    <option value="Viet Nam">Viet Nam</option>
    <option value="Virgin Islands, British">Virgin Islands, British</option>
    <option value="Virgin Islands, U.s.">Virgin Islands, U.s.</option>
    <option value="Wallis and Futuna">Wallis and Futuna</option>
    <option value="Western Sahara">Western Sahara</option>
    <option value="Yemen">Yemen</option>
    <option value="Zambia">Zambia</option>
    <option value="Zimbabwe">Zimbabwe</option>
                      </select>
                      <label for="field_7">Country</label>
                    </div>
                    <input id="country-destination" name="field_7" type="hidden">
                    <input id="tz-country" name="field_8" type="hidden">
                    
                    <input
                      name="field_6"
                      type="hidden"
                      value="Golang"
                    >
                    
                    <div class="emailoctopus-form-row-consent">
                      <input
                        type="checkbox"
                        id="consent"
                        name="consent"
                      >
                      <label for="consent">
                        I consent to the following terms:
                      </label>
                      <a href="https://www.conf42.com/terms-and-conditions.pdf" target="_blank">
                        Terms and Conditions
                      </a>
                      &amp;
                      <a href="./code-of-conduct" target="_blank">
                        Code of Conduct
                      </a>
                    </div>
                    <div
                      aria-hidden="true"
                      class="emailoctopus-form-row-hp"
                    >
                      <input
                        type="text"
                        name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
                        tabindex="-1"
                        autocomplete="nope"
                      >
                    </div>
                    <div class="mt-6 emailoctopus-form-row-subscribe">
                      <input
                        type="hidden"
                        name="successRedirectUrl"
                      >
                      <button class="btn w-100 btn-success lift" type="submit" onclick="gtag_report_conversion(); rdt('track', 'SignUp');">
                        Subscribe
                      </button>
                    </div>
                  </form>
  
                </div>
  
              </div>
  
            </div>
  
          </div> <!-- / .row -->
        </div> <!-- / .container -->
      </section>

      <!-- <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js"></script> -->
      <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js"></script>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-dark">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- FOOTER -->
    <footer class="py-8 py-md-11 bg-dark">
      <div class="container">
        <div class="row">

          <div class="col-12 col-md-4 col-lg-3">
            <!-- Brand -->
            <img src="./assets/conf42/conf42_logo_white_small.png" alt="..." class="footer-brand img-fluid mb-2">
    
            <!-- Text -->
            <p class="text-gray-700 mb-2">
              Online tech events
            </p>
    
            <!-- Social -->
            <ul class="list-unstyled list-inline list-social mb-5">
              <li class="list-inline-item list-social-item me-3">
                <a href="https://www.linkedin.com/company/49110720/" class="text-decoration-none">
                  <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="...">
                </a>
              </li>
              <li class="list-inline-item list-social-item me-3">
                <a href="https://twitter.com/conf42com" class="text-decoration-none">
                  <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="...">
                </a>
              </li>
            </ul>

            <!-- QR Code -->
            <img src="./assets/conf42/CONF42.QR.png" style="width: 100px;" class="mb-5 img-fluid" />
          </div>


          <div class="col-12 col-md-4 col-lg-3">
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2025
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2025">
                  DevOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2025">
                  Chaos Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2025">
                  Python 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2025">
                  Cloud Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2025">
                  Large Language Models (LLMs) 2025
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2024
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2024">
                  DevOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2024">
                  Chaos Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2024">
                  Python 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2024">
                  Cloud Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2024">
                  Large Language Models (LLMs) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2024">
                  Golang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2024">
                  Site Reliability Engineering (SRE) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2024">
                  Machine Learning 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2024">
                  Observability 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2024">
                  Quantum Computing 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2024">
                  Rustlang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2024">
                  Platform Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.sreday.com/">
                  SREday London 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2024">
                  Kube Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2024">
                  Incident Management 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2024">
                  JavaScript 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2024">
                  Prompt Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.sreday.com/">
                  SREday Amsterdam 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2024">
                  DevSecOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2024">
                  Internet of Things (IoT) 2024
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2023
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2023">
                  DevOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2023">
                  Chaos Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2023">
                  Python 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2023">
                  Cloud Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2023">
                  Golang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2023">
                  Site Reliability Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2023">
                  Machine Learning 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2023">
                  Observability 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2023">
                  Quantum Computing 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2023">
                  Rustlang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2023">
                  Platform Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2023">
                  Kube Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2023">
                  Incident Management 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2023">
                  JavaScript 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2023">
                  DevSecOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2023">
                  Internet of Things (IoT) 2023
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2022
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2022">
                  Python 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mobile2022">
                  Mobile 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2022">
                  Chaos Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2022">
                  Golang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2022">
                  Cloud Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2022">
                  Machine Learning 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2022">
                  Site Reliability Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2022">
                  Quantum Computing 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2022">
                  Rustlang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2022">
                  Incident Management 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2022">
                  Kube Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2022">
                  JavaScript 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2022">
                  DevSecOps 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/web2022">
                  Web 3.0 2022
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2021
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2021">
                  Chaos Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/enterprise2021">
                  Enterprise Software 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2021">
                  Cloud Native 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2021">
                  Python 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2021">
                  Golang 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2021">
                  Machine Learning 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2021">
                  Site Reliability Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2021">
                  JavaScript 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2021">
                  DevSecOps 2021
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2020
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2020">
                  Chaos Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/oss2020">
                  Open Source Showcase 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2020">
                  Site Reliability Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2020">
                  JavaScript 2020
                </a>
              </li>
            
            </ul>
          
          </div>

          
          <div class="col-12 col-md-4 offset-md-4 col-lg-3 offset-lg-0">

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Community
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./support" class="text-reset">
                  Support us
                </a>
              </li>
              <li class="mb-3">
                <a href="./speakers" class="text-reset">
                  Speakers
                </a>
              </li>
              <li class="mb-3">
                <a href="./hall-of-fame" class="text-reset">
                  Hall of fame
                </a>
              </li>
              <li class="mb-3">
                <a href="https://discord.gg/DnyHgrC7jC" class="text-reset" target="_blank">
                  Discord
                </a>
              </li>
              <li class="mb-3">
                <a href="./about" class="text-reset">
                  About the team
                </a>
              </li>
            </ul>

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Sponsors
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./sponsor" class="text-reset" target="_blank">
                  Sponsorship
                </a>
              </li>
              <li class="mb-3">
                <a href="mailto:mark@conf42.com?subject=We would like to sponsor" class="text-reset" target="_blank">
                  Request the Prospectus
                </a>
              </li>
              <li class="mb-3">
                <a href="https://drive.google.com/drive/folders/1tT2lspLQgj3sdfxG9FwDVkBUt-TYSPGe?usp=sharing" class="text-reset" target="_blank">
                  Media kit
                </a>
              </li>
            </ul>
    
          </div>


          <div class="col-12 col-md-4 col-lg-3">
    
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Legal
            </h6>
    
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./code-of-conduct" class="text-reset">
                  Code of Conduct
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/terms-and-conditions.pdf" class="text-reset" target="_blank">
                  Terms and Conditions
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/privacy-policy.pdf" class="text-reset" target="_blank">
                  Privacy policy
                </a>
              </li>
            </ul>
          </div>


        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </footer>

    <!-- JAVASCRIPT -->
    <!-- Map JS -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    
    <!-- Vendor JS -->
    <script src="./assets/js/vendor.bundle.js"></script>
    
    <!-- Theme JS -->
    <script src="./assets/js/theme.bundle.js"></script>

    <!-- Various JS -->
    <script src="./assets/js/various.js"></script>

    <script src='https://cdn.jsdelivr.net/npm/@widgetbot/crate@3' async defer>
      new Crate({
          notifications: true,
          indicator: true,
          server: '814240231606714368', // Conf42.com
          channel: '814240231788249115' // #community
      })
    </script>
  </body>
</html>