<!doctype html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-77190356-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-77190356-3');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css" />
    <link rel="stylesheet" href="./assets/css/libs.bundle.css" />
    <link rel="stylesheet" href="./assets/css/theme.bundle.css" />
    <link rel="stylesheet" href="./assets/css/various.css" />

    <title>Conf42: Build a complex app with TDD</title>
    <meta name="description" content="Say hello to the Gophers from outer space!!">

    
    <meta name="image" property="og:image" content="https://www.conf42.com/assets/headshots/https://conf42.github.io/static/headshots/golang_ivan_pesenti.png">
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Build a complex app with TDD | Conf42"/>
    <meta property="og:description" content="Are you tired of the tutorials out there that try to explain hard concepts by relying only on trivial examples? If you aim to master TDD by building real-world applications, this workshop is for you. We'll build together a REST API that will make use of HTTP handlers and a database."/>
    <meta property="og:url" content="https://conf42.com/Golang_2023_Ivan_Pesenti_complex_app_tdd"/>
    

    <link rel="shortcut icon" href="./assets/favicon/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="./assets/favicon/site.webmanifest">

    

  <!-- Reddit Pixel -->
  <script>
  !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt('init','a2_e019g7ndfhrm', {"optOut":false,"useDecimalCurrencyValues":true,"aaid":"<AAID-HERE>"});rdt('track', 'PageVisit');
  </script>
  <!-- DO NOT MODIFY UNLESS TO REPLACE A USER IDENTIFIER -->
  <!-- End Reddit Pixel -->

  </head>
  <body>

    <!-- NAVBAR -->
    
    <!-- <nav class="navbar navbar-expand-lg navbar-light bg-light"> -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    
      <div class="container">
    
        <!-- Brand -->
        <a class="navbar-brand" href="./">
          <img src="./assets/conf42/conf42_logo_black_small.png" class="navbar-brand-img" alt="...">
        </a>
    
        <!-- Toggler -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    
        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="navbarCollapse">
    
          <!-- Toggler -->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fe fe-x"></i>
          </button>
    
          <!-- Navigation -->
          <ul class="navbar-nav ms-auto">

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Events
              </a>
              <div class="dropdown-menu dropdown-menu-xl p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-6">
                    <!-- <div class="dropdown-img-start" style="background-image: url(./assets/splash/SREday2023_Splash.png);"> -->
                    <div class="dropdown-img-start">
                      <!-- Heading -->
                      <h4 class="fw-bold text-white mb-0">
                        Featured event
                      </h4>
                      <!-- Text -->
                      <p class="fs-sm text-white">
                        SREday San Francisco 2024
                      </p>
                      <p class="fs-sm text-white">
                        Premiere 2024-06-22
                      </p>
                      <!-- Button -->
                      <a href="https://www.sreday.com/" class="btn btn-sm btn-white shadow-dark fonFt-size-sm">
                        Learn more
                      </a>
                    </div>
                  </div>
                  <div class="col-12 col-lg-6">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
    
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2025
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2025">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2025">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2025">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2025">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2025">
                            Large Language Models (LLMs)
                          </a>
                          
                        
                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            2024
                          </h6>
                          <!-- List -->
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devops2024">
                            DevOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ce2024">
                            Chaos Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/python2024">
                            Python
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/cloud2024">
                            Cloud Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/llms2024">
                            Large Language Models (LLMs)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/golang2024">
                            Golang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/sre2024">
                            Site Reliability Engineering (SRE)
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/ml2024">
                            Machine Learning
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/obs2024">
                            Observability
                          </a>
                          
                          <a class="dropdown-item" href="https://www.sreday.com/">
                            SREday San Francisco
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/quantum2024">
                            Quantum Computing
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/rustlang2024">
                            Rustlang
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/platform2024">
                            Platform Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.sreday.com/">
                            SREday London
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/kubenative2024">
                            Kube Native
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/im2024">
                            Incident Management
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/js2024">
                            JavaScript
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/prompt2024">
                            Prompt Engineering
                          </a>
                          
                          <a class="dropdown-item" href="https://www.sreday.com/">
                            SREday Amsterdam
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/devsecops2024">
                            DevSecOps
                          </a>
                          
                          <a class="dropdown-item" href="https://www.conf42.com/iot2024">
                            Internet of Things (IoT)
                          </a>
                          
                        

                          <!-- Heading -->
                          <h6 class="dropdown-header mt-5">
                            Info
                          </h6>
                          <a class="dropdown-item" href="./code-of-conduct">
                            Code of Conduct
                          </a>
    
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarLandings" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">
                Community
              </a>
              <div class="dropdown-menu dropdown-menu-l p-0" aria-labelledby="navbarLandings">
                <div class="row gx-0">
                  <div class="col-12 col-lg-3">
                    <div class="dropdown-body">
                      <div class="row gx-0">
                        <div class="col-12">
                          <a class="dropdown-item" href="./support">
                            Support us
                          </a>
                          <a class="dropdown-item" href="./hall-of-fame">
                            Hall of Fame
                          </a>
                          <a class="dropdown-item" href="./speakers">
                            Speakers
                          </a>
                          <a class="dropdown-item" href="https://www.papercall.io/events?cfps-scope=&keywords=conf42" target="_blank">
                            Become a speaker (CFPs)
                          </a>
                          <a class="dropdown-item" href="https://discord.gg/mvHyZzRGaQ" target="_blank">
                            Discord
                          </a>
                          <a class="dropdown-item" href="./testimonials">
                            Testimonials
                          </a>
                          <a class="dropdown-item" href="./about">
                            About the team
                          </a>
                        </div>
                      </div> <!-- / .row -->
                    </div>
                  </div>
                </div> <!-- / .row -->
              </div>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./podcast">
                Podcast
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./blog">
                Blog
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./sponsor">
                Sponsor
              </a>
            </li>
          </ul>
    
          <!-- Button -->
          <a class="navbar-btn btn btn-sm btn-primary lift ms-auto" href="#register">
            Subscribe for FREE
          </a>
    
        </div>
    
      </div>
    </nav>



<style>
.text-selected {
  background-color: #42ba96!important;
  color: white;
}
</style>
	

    <!-- WELCOME -->
    <section class="py-5 py-md-10" style="background-color: #881E4B;">

      <!-- Shape -->
      <div class="shape shape-blur-3 svg-shim text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>
      </div>

      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 text-center" data-aos="fade-up">

            <!-- Heading -->
            <h1 class="display-2 fw-bold text-white">
              Conf42 Golang 2023 - Online
            </h1>

            <h2 class="text-white">
              
              <time datetime="2023-04-20">April 20 2023</time>
              
              
            </h2>

            <!-- Text -->
            <p class="lead mb-0 text-white-75">
              
              <!-- Say hello to the Gophers from outer space!!
 -->
              <script>
                const event_date = new Date("2023-04-20T17:00:00.000+00:00");
                const local_timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const local_date = new Date("2023-04-20T17:00:00.000+00:00");
                // const local_offset = new Date().getTimezoneOffset() / 60;
                // local_date.setHours(local_date.getHours() + local_offset);
                document.getElementById("localtime").innerHTML = local_date + " in " + local_timezone
              </script>
            </p>

            <!-- Buttons -->
            <div class="text-center mt-5">
              
              <a href="#register" class="btn btn-primary shadow lift me-1 mb-3">
                <i class="fe fe-user-check me-2"></i>
                Subscribe to watch
              </a>
              
              
              <a class="btn btn-danger lift mb-3" data-bigpicture='{"ytSrc": "-ngNReCPRLE"}' href="#">
                <i class="fe fe-youtube me-2"></i>
                Watch this talk
              </a>
              
              
              <a class="btn btn-info lift mb-3" data-bigpicture='{"ytSrc": "NEp8QZKi19s"}' href="#">
                <i class="fe fe-eye me-2"></i>
                Watch Premiere
              </a>
              
              <!-- 
              <a class="btn btn-danger lift mb-3" href="https://youtube.com/playlist?list=PLIuxSyKxlQrBDOCy9ThDZ0kJX7skLE2ks" target="_blank">
                <i class="fe fe-youtube me-2"></i>
                Playlist
              </a>
               -->
            </div>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>
      </div>
    </div>

    
    <!-- VIDEO -->
    <section class="pt-2 sticky">
      <div class="container">
        <div class="row justify-content-center">

          <div id="video-container" class="col-9 col-lg-12 mb-5">

          <!-- Video -->

            <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
            <div id="player" class="sticky"></div>

            <script>
              
              var transcript = [{"text": "Hi and welcome to my session about", "timestamp": "00:00:19,930", "timestamp_s": 19.0}, {"text": "test driven development. Went with Golang. First of", "timestamp": "00:00:23,540", "timestamp_s": 23.0}, {"text": "all, I would like to thanks the organization", "timestamp": "00:00:27,212", "timestamp_s": 27.0}, {"text": "for giving me this amazing opportunity to", "timestamp": "00:00:31,050", "timestamp_s": 31.0}, {"text": "be able to speak in front of you.", "timestamp": "00:00:34,892", "timestamp_s": 34.0}, {"text": "First, let me introduce myself who I am,", "timestamp": "00:00:37,644", "timestamp_s": 37.0}, {"text": "what I do I\u0027m Ivan Pesenti, 27 years", "timestamp": "00:00:41,648", "timestamp_s": 41.0}, {"text": "old and I worked as a software developer", "timestamp": "00:00:45,856", "timestamp_s": 45.0}, {"text": "since 2014. After my school years", "timestamp": "00:00:49,974", "timestamp_s": 49.0}, {"text": "I work remotely for a global company which", "timestamp": "00:00:54,084", "timestamp_s": 54.0}, {"text": "is Solintlab. I\u0027m mostly experienced", "timestamp": "00:00:57,892", "timestamp_s": 57.0}, {"text": "in server side programming. Part of my daily", "timestamp": "00:01:01,610", "timestamp_s": 61.0}, {"text": "tech stack involve Go postgres,", "timestamp": "00:01:05,950", "timestamp_s": 65.0}, {"text": "SQL, AWS, platform Docker,", "timestamp": "00:01:09,486", "timestamp_s": 69.0}, {"text": "docker compose and some other minor technologies.", "timestamp": "00:01:14,190", "timestamp_s": 74.0}, {"text": "I strongly believe in values such as kindness,", "timestamp": "00:01:18,914", "timestamp_s": 78.0}, {"text": "sharing and determination. In my spare time I\u0027m", "timestamp": "00:01:22,818", "timestamp_s": 82.0}, {"text": "involved within a lot of activities such", "timestamp": "00:01:27,074", "timestamp_s": 87.0}, {"text": "as speaking, training, technical writing", "timestamp": "00:01:31,072", "timestamp_s": 91.0}, {"text": "and also mentoring. I\u0027ve just finished my", "timestamp": "00:01:35,894", "timestamp_s": 95.0}, {"text": "first course about Golang and tests.", "timestamp": "00:01:39,536", "timestamp_s": 99.0}, {"text": "I love also anime, tattoo and football", "timestamp": "00:01:43,066", "timestamp_s": 103.0}, {"text": "in what this session will be different from others", "timestamp": "00:01:47,170", "timestamp_s": 107.0}, {"text": "that you may joined before.", "timestamp": "00:01:50,884", "timestamp_s": 110.0}, {"text": "This session won\u0027t rely on trivial examples,", "timestamp": "00:01:53,730", "timestamp_s": 113.0}, {"text": "okay, such as most of the tutorial out there.", "timestamp": "00:01:58,298", "timestamp_s": 118.0}, {"text": "But in this session you will make your handlers DRT", "timestamp": "00:02:02,310", "timestamp_s": 122.0}, {"text": "with a real world application. So you", "timestamp": "00:02:07,246", "timestamp_s": 127.0}, {"text": "will be able to apply test driven development in a", "timestamp": "00:02:10,892", "timestamp_s": 130.0}, {"text": "real world application. Not only a trivial Qatar", "timestamp": "00:02:15,068", "timestamp_s": 135.0}, {"text": "such as a simple program to sum up two numbers,", "timestamp": "00:02:19,062", "timestamp_s": 139.0}, {"text": "or a simple Qatar such as Fitzbuds", "timestamp": "00:02:23,552", "timestamp_s": 143.0}, {"text": "or Fibonacci or all of that stuff. Here we", "timestamp": "00:02:28,246", "timestamp_s": 148.0}, {"text": "are going to build a real application. Plus you", "timestamp": "00:02:31,908", "timestamp_s": 151.0}, {"text": "will be aware of the theoretical introduction", "timestamp": "00:02:36,356", "timestamp_s": 156.0}, {"text": "about tests and code coverage, and a good", "timestamp": "00:02:39,786", "timestamp_s": 159.0}, {"text": "part of this demo will be about Golang", "timestamp": "00:02:43,576", "timestamp_s": 163.0}, {"text": "which will be our chosen programming", "timestamp": "00:02:47,830", "timestamp_s": 167.0}, {"text": "languages. So you will learn how to write good,", "timestamp": "00:02:51,902", "timestamp_s": 171.0}, {"text": "clean and idiomatic go code.", "timestamp": "00:02:55,548", "timestamp_s": 175.0}, {"text": "Also, I\u0027m going to share some of my experience", "timestamp": "00:02:58,588", "timestamp_s": 178.0}, {"text": "with the tests. How do I mock a", "timestamp": "00:03:02,156", "timestamp_s": 182.0}, {"text": "database? And how do I mock the", "timestamp": "00:03:05,548", "timestamp_s": 185.0}, {"text": "service that made up my application?", "timestamp": "00:03:09,312", "timestamp_s": 189.0}, {"text": "First, let\u0027s start with a small, boring introduction", "timestamp": "00:03:13,070", "timestamp_s": 193.0}, {"text": "about test driven development that for sure most", "timestamp": "00:03:17,734", "timestamp_s": 197.0}, {"text": "of you will already know. The test driven development is", "timestamp": "00:03:21,636", "timestamp_s": 201.0}, {"text": "an ethereum iterative cycle which involves three", "timestamp": "00:03:25,828", "timestamp_s": 205.0}, {"text": "parts is known also as red green", "timestamp": "00:03:29,940", "timestamp_s": 209.0}, {"text": "refactor phases. We all start from the", "timestamp": "00:03:34,184", "timestamp_s": 214.0}, {"text": "red phase where we have to write a failing", "timestamp": "00:03:37,352", "timestamp_s": 217.0}, {"text": "test. Then we have to", "timestamp": "00:03:41,342", "timestamp_s": 221.0}, {"text": "move as fast as we can out of this and enter", "timestamp": "00:03:44,936", "timestamp_s": 224.0}, {"text": "the green area in which we have to fix", "timestamp": "00:03:49,132", "timestamp_s": 229.0}, {"text": "our broken tests. Lastly,", "timestamp": "00:03:53,132", "timestamp_s": 233.0}, {"text": "we\u0027ll move to the refactor phase in which", "timestamp": "00:03:55,922", "timestamp_s": 235.0}, {"text": "we can make all of the improvements to our code", "timestamp": "00:03:59,424", "timestamp_s": 239.0}, {"text": "that is certified by tests", "timestamp": "00:04:03,152", "timestamp_s": 243.0}, {"text": "that are running successfully.", "timestamp": "00:04:06,518", "timestamp_s": 246.0}, {"text": "The mantra of test driven development", "timestamp": "00:04:11,170", "timestamp_s": 251.0}, {"text": "is made up of three simple rules.", "timestamp": "00:04:15,338", "timestamp_s": 255.0}, {"text": "We have to follow this rule. As a rule", "timestamp": "00:04:19,178", "timestamp_s": 259.0}, {"text": "of thumb, we have to be self disciplinate", "timestamp": "00:04:23,118", "timestamp_s": 263.0}, {"text": "in order to be successful with test driven development.", "timestamp": "00:04:26,942", "timestamp_s": 266.0}, {"text": "So let\u0027s deep dive into them. The first one", "timestamp": "00:04:31,430", "timestamp_s": 271.0}, {"text": "is that we are not allowed to write", "timestamp": "00:04:35,368", "timestamp_s": 275.0}, {"text": "any production code unless it is to", "timestamp": "00:04:38,636", "timestamp_s": 278.0}, {"text": "make a failing unit test pass.", "timestamp": "00:04:42,412", "timestamp_s": 282.0}, {"text": "That means that first we have to write tests", "timestamp": "00:04:45,850", "timestamp_s": 285.0}, {"text": "and then we can write production code,", "timestamp": "00:04:49,814", "timestamp_s": 289.0}, {"text": "not the opposite. Second rule is we", "timestamp": "00:04:52,880", "timestamp_s": 292.0}, {"text": "are not allowed to write more of a unit", "timestamp": "00:04:56,928", "timestamp_s": 296.0}, {"text": "test than is sufficient to fail,", "timestamp": "00:05:00,678", "timestamp_s": 300.0}, {"text": "and compilation failures are failures.", "timestamp": "00:05:04,410", "timestamp_s": 304.0}, {"text": "This is pretty self explanatory. We can write only", "timestamp": "00:05:07,786", "timestamp_s": 307.0}, {"text": "one unit test failing, okay?", "timestamp": "00:05:11,556", "timestamp_s": 311.0}, {"text": "And the first ideal test that we have", "timestamp": "00:05:15,320", "timestamp_s": 315.0}, {"text": "to write is a compilation failure because", "timestamp": "00:05:19,032", "timestamp_s": 319.0}, {"text": "we didn\u0027t have write the production code yet.", "timestamp": "00:05:23,352", "timestamp_s": 323.0}, {"text": "The final rule is that", "timestamp": "00:05:27,196", "timestamp_s": 327.0}, {"text": "we are not allowed to write any more", "timestamp": "00:05:30,636", "timestamp_s": 330.0}, {"text": "production code than it\u0027s sufficient to pass the one", "timestamp": "00:05:33,852", "timestamp_s": 333.0}, {"text": "failing unit test. So we have to write", "timestamp": "00:05:37,936", "timestamp_s": 337.0}, {"text": "only the list code to", "timestamp": "00:05:42,224", "timestamp_s": 342.0}, {"text": "make a building test running correctly.", "timestamp": "00:05:45,392", "timestamp_s": 345.0}, {"text": "Okay. No fancy other thing,", "timestamp": "00:05:49,382", "timestamp_s": 349.0}, {"text": "only the working code, the minimum working code.", "timestamp": "00:05:52,932", "timestamp_s": 352.0}, {"text": "I will say a basic building blocks", "timestamp": "00:05:56,820", "timestamp_s": 356.0}, {"text": "of unit of test driven development is", "timestamp": "00:06:00,458", "timestamp_s": 360.0}, {"text": "test, but only clean test.", "timestamp": "00:06:03,864", "timestamp_s": 363.0}, {"text": "Because in order to be successful with test driven", "timestamp": "00:06:07,350", "timestamp_s": 367.0}, {"text": "development, it\u0027s better to write clean tests.", "timestamp": "00:06:11,198", "timestamp_s": 371.0}, {"text": "That is always a good thing. What are the aspect", "timestamp": "00:06:14,894", "timestamp_s": 374.0}, {"text": "and key characteristics of a clean test?", "timestamp": "00:06:18,674", "timestamp_s": 378.0}, {"text": "First, it must obey to the triple h paradigm,", "timestamp": "00:06:23,050", "timestamp_s": 383.0}, {"text": "which is the acronym for arrange,", "timestamp": "00:06:28,350", "timestamp_s": 388.0}, {"text": "act and assert. These three parts should be", "timestamp": "00:06:31,238", "timestamp_s": 391.0}, {"text": "distinct in our test code.", "timestamp": "00:06:35,344", "timestamp_s": 395.0}, {"text": "In our test function, we don\u0027t have", "timestamp": "00:06:38,720", "timestamp_s": 398.0}, {"text": "to mix and match them.", "timestamp": "00:06:42,452", "timestamp_s": 402.0}, {"text": "Second, our test must", "timestamp": "00:06:45,172", "timestamp_s": 405.0}, {"text": "not contain code smells that are not", "timestamp": "00:06:48,660", "timestamp_s": 408.0}, {"text": "errors, but something that smell.", "timestamp": "00:06:51,972", "timestamp_s": 411.0}, {"text": "For example, a function that has", "timestamp": "00:06:56,150", "timestamp_s": 416.0}, {"text": "tons of parameters. Okay,", "timestamp": "00:06:59,512", "timestamp_s": 419.0}, {"text": "an easy fix for this is to build a", "timestamp": "00:07:03,110", "timestamp_s": 423.0}, {"text": "struct in order to gator and collect all of", "timestamp": "00:07:07,292", "timestamp_s": 427.0}, {"text": "them into a structured format.", "timestamp": "00:07:11,308", "timestamp_s": 431.0}, {"text": "Third point is the test must", "timestamp": "00:07:15,770", "timestamp_s": 435.0}, {"text": "not contain magic numbers. With magic numbers, I also", "timestamp": "00:07:19,552", "timestamp_s": 439.0}, {"text": "refer to magic strings, which are literals", "timestamp": "00:07:23,776", "timestamp_s": 443.0}, {"text": "spread into our code that can bring magic", "timestamp": "00:07:28,006", "timestamp_s": 448.0}, {"text": "into our code. Okay? Because if they", "timestamp": "00:07:32,554", "timestamp_s": 452.0}, {"text": "don\u0027t have any meaning, they are just literals.", "timestamp": "00:07:36,596", "timestamp_s": 456.0}, {"text": "The easy fix for this is to extrapolate these values", "timestamp": "00:07:40,762", "timestamp_s": 460.0}, {"text": "and create constants that will", "timestamp": "00:07:45,566", "timestamp_s": 465.0}, {"text": "be referred to throughout the rest of our program.", "timestamp": "00:07:49,432", "timestamp_s": 469.0}, {"text": "A test must have a meaningful name.", "timestamp": "00:07:53,448", "timestamp_s": 473.0}, {"text": "From the name we can assume, which are", "timestamp": "00:07:56,572", "timestamp_s": 476.0}, {"text": "its input and which are its output.", "timestamp": "00:08:00,700", "timestamp_s": 480.0}, {"text": "And the last one, taken directly from the test driven development", "timestamp": "00:08:04,770", "timestamp_s": 484.0}, {"text": "manifesto, is that a clean test should follow", "timestamp": "00:08:09,286", "timestamp_s": 489.0}, {"text": "the first principle, which is the acronym for", "timestamp": "00:08:13,216", "timestamp_s": 493.0}, {"text": "fast, independent, repeatable, self validating,", "timestamp": "00:08:17,344", "timestamp_s": 497.0}, {"text": "and through test. Okay,", "timestamp": "00:08:22,118", "timestamp_s": 502.0}, {"text": "before going ahead, let\u0027s spend a couple of minutes talking", "timestamp": "00:08:25,156", "timestamp_s": 505.0}, {"text": "about code coverage, which is one of the", "timestamp": "00:08:29,396", "timestamp_s": 509.0}, {"text": "most important aspect when it comes to test driven", "timestamp": "00:08:33,288", "timestamp_s": 513.0}, {"text": "development. Code coverage, as most of", "timestamp": "00:08:36,846", "timestamp_s": 516.0}, {"text": "you surely knows, is how much code is", "timestamp": "00:08:40,072", "timestamp_s": 520.0}, {"text": "covered by tests and the code covered", "timestamp": "00:08:44,056", "timestamp_s": 524.0}, {"text": "is the production code. I mean, there are three", "timestamp": "00:08:47,454", "timestamp_s": 527.0}, {"text": "different kinds of code coverage,", "timestamp": "00:08:51,436", "timestamp_s": 531.0}, {"text": "the function, the statement and the branch coverage.", "timestamp": "00:08:54,730", "timestamp_s": 534.0}, {"text": "During this demo, we are only interested at", "timestamp": "00:08:58,822", "timestamp_s": 538.0}, {"text": "statement coverage and a", "timestamp": "00:09:03,008", "timestamp_s": 543.0}, {"text": "common misconception is that you have to", "timestamp": "00:09:07,296", "timestamp_s": 547.0}, {"text": "reach and aim 100% of", "timestamp": "00:09:11,380", "timestamp_s": 551.0}, {"text": "code coverage in your code. However, this is", "timestamp": "00:09:14,996", "timestamp_s": 554.0}, {"text": "not mandatory at all. What is important is to cover the", "timestamp": "00:09:19,332", "timestamp_s": 559.0}, {"text": "most critical business logic part within", "timestamp": "00:09:23,192", "timestamp_s": 563.0}, {"text": "our solution, within our program. Not everything.", "timestamp": "00:09:27,000", "timestamp_s": 567.0}, {"text": "If we follow the test driven development approach,", "timestamp": "00:09:31,350", "timestamp_s": 571.0}, {"text": "we\u0027ll always have this 100% code coverage", "timestamp": "00:09:35,150", "timestamp_s": 575.0}, {"text": "because first we have to write test and", "timestamp": "00:09:39,186", "timestamp_s": 579.0}, {"text": "then we can write production code.", "timestamp": "00:09:42,732", "timestamp_s": 582.0}, {"text": "Let\u0027s barst another mice. This mice is", "timestamp": "00:09:46,330", "timestamp_s": 586.0}, {"text": "test driven development is not about testing", "timestamp": "00:09:50,910", "timestamp_s": 590.0}, {"text": "but about designing,", "timestamp": "00:09:55,398", "timestamp_s": 595.0}, {"text": "okay? In fact, test is", "timestamp": "00:09:58,270", "timestamp_s": 598.0}, {"text": "a very good nice to have, but it\u0027s not the main purpose", "timestamp": "00:10:01,668", "timestamp_s": 601.0}, {"text": "of test driven development, which is to", "timestamp": "00:10:05,946", "timestamp_s": 605.0}, {"text": "help you design your solution with the tests.", "timestamp": "00:10:09,876", "timestamp_s": 609.0}, {"text": "Okay? So you have to hear for the", "timestamp": "00:10:14,442", "timestamp_s": 614.0}, {"text": "feedback provided by your tests and make", "timestamp": "00:10:18,008", "timestamp_s": 618.0}, {"text": "the needed adjustment in the solution,", "timestamp": "00:10:21,928", "timestamp_s": 621.0}, {"text": "in the design of the solution. I know", "timestamp": "00:10:26,098", "timestamp_s": 626.0}, {"text": "this is a common reaction.", "timestamp": "00:10:30,188", "timestamp_s": 630.0}, {"text": "Okay, in order to be more practical", "timestamp": "00:10:34,250", "timestamp_s": 634.0}, {"text": "in this demo, we are going to rely on", "timestamp": "00:10:37,970", "timestamp_s": 637.0}, {"text": "the to do application. Okay,", "timestamp": "00:10:42,112", "timestamp_s": 642.0}, {"text": "so we are going to build the edit", "timestamp": "00:10:44,944", "timestamp_s": 644.0}, {"text": "handlers function, which is by far the", "timestamp": "00:10:49,334", "timestamp_s": 649.0}, {"text": "most difficult one, usually because it involves a", "timestamp": "00:10:52,788", "timestamp_s": 652.0}, {"text": "lot of different scenarios. Okay,", "timestamp": "00:10:55,844", "timestamp_s": 655.0}, {"text": "let\u0027s focus on what we get in. We\u0027ll accept", "timestamp": "00:11:01,410", "timestamp_s": 661.0}, {"text": "an HTTP request, which method will be", "timestamp": "00:11:05,566", "timestamp_s": 665.0}, {"text": "the put method, which is reserved for the", "timestamp": "00:11:08,952", "timestamp_s": 668.0}, {"text": "edit operation. Okay,", "timestamp": "00:11:12,808", "timestamp_s": 672.0}, {"text": "the route is to DOS colonid,", "timestamp": "00:11:16,250", "timestamp_s": 676.0}, {"text": "in which colon id is a route parameter", "timestamp": "00:11:21,154", "timestamp_s": 681.0}, {"text": "that we expect in perequest p", "timestamp": "00:11:24,850", "timestamp_s": 684.0}, {"text": "load will looks like something similar", "timestamp": "00:11:28,112", "timestamp_s": 688.0}, {"text": "to the snippet of code in the right section,", "timestamp": "00:11:31,904", "timestamp_s": 691.0}, {"text": "which has three keys.", "timestamp": "00:11:36,830", "timestamp_s": 696.0}, {"text": "Description of type string, which is the", "timestamp": "00:11:39,550", "timestamp_s": 699.0}, {"text": "to do description is completed. It\u0027s a", "timestamp": "00:11:42,836", "timestamp_s": 702.0}, {"text": "boolean value that determine if", "timestamp": "00:11:46,548", "timestamp_s": 706.0}, {"text": "the to do is completed or not,", "timestamp": "00:11:50,930", "timestamp_s": 710.0}, {"text": "and the due date is a string value that", "timestamp": "00:11:54,230", "timestamp_s": 714.0}, {"text": "represents the deadline for our to do to be", "timestamp": "00:11:58,600", "timestamp_s": 718.0}, {"text": "completed. One of the most", "timestamp": "00:12:02,072", "timestamp_s": 722.0}, {"text": "important part about test driven development is", "timestamp": "00:12:05,356", "timestamp_s": 725.0}, {"text": "to identify the possible outcome", "timestamp": "00:12:09,772", "timestamp_s": 729.0}, {"text": "that our code can take. Okay? So it\u0027s", "timestamp": "00:12:13,058", "timestamp_s": 733.0}, {"text": "very important to define the possible scenarios.", "timestamp": "00:12:17,122", "timestamp_s": 737.0}, {"text": "If you don\u0027t do this, you cannot be successfully with", "timestamp": "00:12:22,006", "timestamp_s": 742.0}, {"text": "test driven development. I did this", "timestamp": "00:12:26,080", "timestamp_s": 746.0}, {"text": "and I can summarize the five possible scenarios in", "timestamp": "00:12:31,810", "timestamp_s": 751.0}, {"text": "this list. The first scenario is", "timestamp": "00:12:35,588", "timestamp_s": 755.0}, {"text": "when we pass in an invalid id.", "timestamp": "00:12:39,476", "timestamp_s": 759.0}, {"text": "Remember, the id is passed in as a", "timestamp": "00:12:43,110", "timestamp_s": 763.0}, {"text": "route parameter. For example, we are going to pass in", "timestamp": "00:12:46,568", "timestamp_s": 766.0}, {"text": "ABC instead of an integer number.", "timestamp": "00:12:50,568", "timestamp_s": 770.0}, {"text": "So in this case we\u0027ll expect back a 400", "timestamp": "00:12:55,130", "timestamp_s": 775.0}, {"text": "bad request status code. The second scenario", "timestamp": "00:12:58,700", "timestamp_s": 778.0}, {"text": "is when the request payload is not valid.", "timestamp": "00:13:02,658", "timestamp_s": 782.0}, {"text": "Okay, for example, the request", "timestamp": "00:13:06,770", "timestamp_s": 786.0}, {"text": "payload has the description set to string empty. That\u0027s not", "timestamp": "00:13:10,422", "timestamp_s": 790.0}, {"text": "possible. So we would like to have back a 400 bad", "timestamp": "00:13:14,416", "timestamp_s": 794.0}, {"text": "request status code. The third scenario", "timestamp": "00:13:18,320", "timestamp_s": 798.0}, {"text": "is when there are some unknown database error,", "timestamp": "00:13:22,314", "timestamp_s": 802.0}, {"text": "okay, such as connectivity issue or", "timestamp": "00:13:26,138", "timestamp_s": 806.0}, {"text": "other stuff like that. In this case", "timestamp": "00:13:30,210", "timestamp_s": 810.0}, {"text": "we would like to have back a 500 internal", "timestamp": "00:13:33,624", "timestamp_s": 813.0}, {"text": "server error. The fourth", "timestamp": "00:13:37,534", "timestamp_s": 817.0}, {"text": "scenario is when the to do is not found in our database.", "timestamp": "00:13:41,534", "timestamp_s": 821.0}, {"text": "And in this case we would like to have back a", "timestamp": "00:13:45,890", "timestamp_s": 825.0}, {"text": "404 status not found error.", "timestamp": "00:13:49,308", "timestamp_s": 829.0}, {"text": "The last one is the positive path, okay,", "timestamp": "00:13:54,170", "timestamp_s": 834.0}, {"text": "when everything goes fine. And in this case", "timestamp": "00:13:57,820", "timestamp_s": 837.0}, {"text": "we would like to have the 202 status accepted status", "timestamp": "00:14:01,680", "timestamp_s": 841.0}, {"text": "code without an empty response payload.", "timestamp": "00:14:05,862", "timestamp_s": 845.0}, {"text": "All right, the ingredients of our", "timestamp": "00:14:11,170", "timestamp_s": 851.0}, {"text": "session, we can divide", "timestamp": "00:14:15,970", "timestamp_s": 855.0}, {"text": "them into two categories. The first", "timestamp": "00:14:19,162", "timestamp_s": 859.0}, {"text": "is related to production code. The demo is realized", "timestamp": "00:14:22,596", "timestamp_s": 862.0}, {"text": "with the gene web framework that is", "timestamp": "00:14:27,278", "timestamp_s": 867.0}, {"text": "the de facto standard when it", "timestamp": "00:14:31,176", "timestamp_s": 871.0}, {"text": "comes to designing and building a", "timestamp": "00:14:34,328", "timestamp_s": 874.0}, {"text": "web service. Recently the", "timestamp": "00:14:38,428", "timestamp_s": 878.0}, {"text": "other competitor, which is GorillaMax, was publicly", "timestamp": "00:14:42,492", "timestamp_s": 882.0}, {"text": "archived, so it\u0027s no longer maintained.", "timestamp": "00:14:46,914", "timestamp_s": 886.0}, {"text": "So this event forced us to switch", "timestamp": "00:14:50,774", "timestamp_s": 890.0}, {"text": "to a still maintained solution and we started", "timestamp": "00:14:54,678", "timestamp_s": 894.0}, {"text": "to use gin which has", "timestamp": "00:14:58,704", "timestamp_s": 898.0}, {"text": "more or less 70,000 of stars", "timestamp": "00:15:04,050", "timestamp_s": 904.0}, {"text": "in GitHub, while Gorilla Max,", "timestamp": "00:15:07,562", "timestamp_s": 907.0}, {"text": "it has only 20,000 of stars.", "timestamp": "00:15:11,034", "timestamp_s": 911.0}, {"text": "So I think it will still be a valid option to follow.", "timestamp": "00:15:15,146", "timestamp_s": 915.0}, {"text": "Second is gorm, which is the package", "timestamp": "00:15:19,608", "timestamp_s": 919.0}, {"text": "for using an ORM with go.", "timestamp": "00:15:23,390", "timestamp_s": 923.0}, {"text": "If you are going to build a real world application,", "timestamp": "00:15:26,284", "timestamp_s": 926.0}, {"text": "chances are that you are going to rely on an Orm.", "timestamp": "00:15:29,370", "timestamp_s": 929.0}, {"text": "Not always, but probably so that\u0027s why I", "timestamp": "00:15:34,170", "timestamp_s": 934.0}, {"text": "introduced it in this demo,", "timestamp": "00:15:38,256", "timestamp_s": 938.0}, {"text": "so you can make out the most of it. The third", "timestamp": "00:15:41,392", "timestamp_s": 941.0}, {"text": "one is the postgres driver, which is the", "timestamp": "00:15:45,216", "timestamp_s": 945.0}, {"text": "driver that are actually used to talk to our database.", "timestamp": "00:15:49,216", "timestamp_s": 949.0}, {"text": "While for the test code we are going to relying on", "timestamp": "00:15:54,450", "timestamp_s": 954.0}, {"text": "testing package which is part of the Go standard library.", "timestamp": "00:15:58,116", "timestamp_s": 958.0}, {"text": "Conversely to other programming languages,", "timestamp": "00:16:03,750", "timestamp_s": 963.0}, {"text": "with go we don\u0027t have to bring in any frameworks in", "timestamp": "00:16:07,630", "timestamp_s": 967.0}, {"text": "order to be able to write tests.", "timestamp": "00:16:11,592", "timestamp_s": 971.0}, {"text": "So that\u0027s awesome in my opinion.", "timestamp": "00:16:15,006", "timestamp_s": 975.0}, {"text": "The second package is Go SQL mock,", "timestamp": "00:16:17,826", "timestamp_s": 977.0}, {"text": "which is the most used package for mocking", "timestamp": "00:16:21,346", "timestamp_s": 981.0}, {"text": "an actual database. Thanks to it", "timestamp": "00:16:25,650", "timestamp_s": 985.0}, {"text": "we can postpone the decision about the database", "timestamp": "00:16:29,280", "timestamp_s": 989.0}, {"text": "engine that we are going to use to the latest part of the project", "timestamp": "00:16:34,350", "timestamp_s": 994.0}, {"text": "and program against an abstract", "timestamp": "00:16:38,304", "timestamp_s": 998.0}, {"text": "layer, let\u0027s say. Okay, which decouple the actual", "timestamp": "00:16:41,946", "timestamp_s": 1001.0}, {"text": "underlying database. The third package is", "timestamp": "00:16:46,724", "timestamp_s": 1006.0}, {"text": "the subpackage assert provided by the testify package.", "timestamp": "00:16:51,012", "timestamp_s": 1011.0}, {"text": "Thanks to it, it\u0027s easier to do assertion", "timestamp": "00:16:55,086", "timestamp_s": 1015.0}, {"text": "in our code. Last one is the HTTP test", "timestamp": "00:16:58,318", "timestamp_s": 1018.0}, {"text": "sub package which assists us in building", "timestamp": "00:17:02,504", "timestamp_s": 1022.0}, {"text": "HTTP response and HTTP request without", "timestamp": "00:17:06,588", "timestamp_s": 1026.0}, {"text": "worrying too much about the protocol stuff.", "timestamp": "00:17:11,052", "timestamp_s": 1031.0}, {"text": "Okay, we already talked a lot. Now if", "timestamp": "00:17:16,330", "timestamp_s": 1036.0}, {"text": "you are ready like me. Let\u0027s switch to vs code", "timestamp": "00:17:19,968", "timestamp_s": 1039.0}, {"text": "and start. Make your hands dirty. All right,", "timestamp": "00:17:23,456", "timestamp_s": 1043.0}, {"text": "we are in vs code. Now let\u0027s start building", "timestamp": "00:17:27,456", "timestamp_s": 1047.0}, {"text": "our application about handling the edit", "timestamp": "00:17:31,424", "timestamp_s": 1051.0}, {"text": "route of our to do app application.", "timestamp": "00:17:35,142", "timestamp_s": 1055.0}, {"text": "First of all, I\u0027ve opened a folder in my vs", "timestamp": "00:17:38,210", "timestamp_s": 1058.0}, {"text": "code. The folder is called to do app and", "timestamp": "00:17:42,122", "timestamp_s": 1062.0}, {"text": "the first thing that we have to do is to initialize a", "timestamp": "00:17:46,312", "timestamp_s": 1066.0}, {"text": "module. So we run go mode", "timestamp": "00:17:50,648", "timestamp_s": 1070.0}, {"text": "init followed by the name of the module.", "timestamp": "00:17:53,838", "timestamp_s": 1073.0}, {"text": "In our example is to do app.", "timestamp": "00:17:58,010", "timestamp_s": 1078.0}, {"text": "There we go. Then we", "timestamp": "00:18:02,010", "timestamp_s": 1082.0}, {"text": "have to define the handlers,", "timestamp": "00:18:07,308", "timestamp_s": 1087.0}, {"text": "right? So what is", "timestamp": "00:18:10,258", "timestamp_s": 1090.0}, {"text": "meant to deal the HTTP request and reply", "timestamp": "00:18:14,576", "timestamp_s": 1094.0}, {"text": "with an HTTP response? First thing to", "timestamp": "00:18:18,406", "timestamp_s": 1098.0}, {"text": "do is to create a folder called handlers.", "timestamp": "00:18:22,032", "timestamp_s": 1102.0}, {"text": "Within that folder we are going to create our first", "timestamp": "00:18:27,890", "timestamp_s": 1107.0}, {"text": "file called handlers underscore", "timestamp": "00:18:31,556", "timestamp_s": 1111.0}, {"text": "test go.", "timestamp": "00:18:35,182", "timestamp_s": 1115.0}, {"text": "We define the package name that is handlers", "timestamp": "00:18:39,350", "timestamp_s": 1119.0}, {"text": "and there we go.", "timestamp": "00:18:43,830", "timestamp_s": 1123.0}, {"text": "Now before moving ahead, let\u0027s recap", "timestamp": "00:18:47,290", "timestamp_s": 1127.0}, {"text": "in a list this scenario that we have to manage.", "timestamp": "00:18:51,130", "timestamp_s": 1131.0}, {"text": "The first one is id, not integer.", "timestamp": "00:18:54,572", "timestamp_s": 1134.0}, {"text": "The second one is validation error.", "timestamp": "00:18:59,870", "timestamp_s": 1139.0}, {"text": "The third one is db error.", "timestamp": "00:19:04,270", "timestamp_s": 1144.0}, {"text": "The fourth is to do not", "timestamp": "00:19:08,430", "timestamp_s": 1148.0}, {"text": "found, and the last", "timestamp": "00:19:11,956", "timestamp_s": 1151.0}, {"text": "one is the FP path.", "timestamp": "00:19:15,316", "timestamp_s": 1155.0}, {"text": "Well now let\u0027s start by defining our first", "timestamp": "00:19:21,570", "timestamp_s": 1161.0}, {"text": "test.", "timestamp": "00:19:24,824", "timestamp_s": 1164.0}, {"text": "The test name must must", "timestamp": "00:19:32,390", "timestamp_s": 1172.0}, {"text": "be prefixed with the right test,", "timestamp": "00:19:35,592", "timestamp_s": 1175.0}, {"text": "then followed by the name of the function that we are willing to test.", "timestamp": "00:19:38,730", "timestamp_s": 1178.0}, {"text": "In our case is update to do in the signature", "timestamp": "00:19:43,052", "timestamp_s": 1183.0}, {"text": "we have to involve the t parameter which", "timestamp": "00:19:47,842", "timestamp_s": 1187.0}, {"text": "is of type pointer to t provided", "timestamp": "00:19:51,648", "timestamp_s": 1191.0}, {"text": "in the testing package. If we save", "timestamp": "00:19:56,294", "timestamp_s": 1196.0}, {"text": "it automatically import in", "timestamp": "00:20:00,384", "timestamp_s": 1200.0}, {"text": "the import section the testing package.", "timestamp": "00:20:04,468", "timestamp_s": 1204.0}, {"text": "Now let\u0027s start by setting the", "timestamp": "00:20:07,650", "timestamp_s": 1207.0}, {"text": "mode of gene. In our case is gene", "timestamp": "00:20:10,836", "timestamp_s": 1210.0}, {"text": "test mode. Then we", "timestamp": "00:20:15,214", "timestamp_s": 1215.0}, {"text": "define an HTTP recorder for our test", "timestamp": "00:20:19,048", "timestamp_s": 1219.0}, {"text": "which is provided by the package HTTP test", "timestamp": "00:20:23,430", "timestamp_s": 1223.0}, {"text": "new recorder. And then", "timestamp": "00:20:27,304", "timestamp_s": 1227.0}, {"text": "we need a gene context for", "timestamp": "00:20:31,084", "timestamp_s": 1231.0}, {"text": "our test.", "timestamp": "00:20:34,188", "timestamp_s": 1234.0}, {"text": "Create test context only which expect a", "timestamp": "00:20:38,030", "timestamp_s": 1238.0}, {"text": "response writer as the first argument,", "timestamp": "00:20:42,672", "timestamp_s": 1242.0}, {"text": "and then an engine of gene.", "timestamp": "00:20:47,870", "timestamp_s": 1247.0}, {"text": "In this case we can use gene default", "timestamp": "00:20:52,210", "timestamp_s": 1252.0}, {"text": "if we save it automatically imports the package.", "timestamp": "00:20:56,850", "timestamp_s": 1256.0}, {"text": "Here, however, we have to actually download", "timestamp": "00:21:00,666", "timestamp_s": 1260.0}, {"text": "it. We can do in two ways.", "timestamp": "00:21:05,438", "timestamp_s": 1265.0}, {"text": "The first one is by issuing a goget followed", "timestamp": "00:21:08,536", "timestamp_s": 1268.0}, {"text": "by the path of the module of the package.", "timestamp": "00:21:12,302", "timestamp_s": 1272.0}, {"text": "The second one is by running the", "timestamp": "00:21:16,810", "timestamp_s": 1276.0}, {"text": "command go mode tidb. So we enter", "timestamp": "00:21:20,444", "timestamp_s": 1280.0}, {"text": "our folder and then we issue the", "timestamp": "00:21:26,330", "timestamp_s": 1286.0}, {"text": "command go mode, tidy it,", "timestamp": "00:21:29,472", "timestamp_s": 1289.0}, {"text": "automatically download the package and now the", "timestamp": "00:21:32,992", "timestamp_s": 1292.0}, {"text": "error goes away.", "timestamp": "00:21:36,272", "timestamp_s": 1296.0}, {"text": "The only error that we still have is that c is declared but", "timestamp": "00:21:39,390", "timestamp_s": 1299.0}, {"text": "not used. So let\u0027s", "timestamp": "00:21:43,652", "timestamp_s": 1303.0}, {"text": "moving ahead and use c", "timestamp": "00:21:47,338", "timestamp_s": 1307.0}, {"text": "in order to build our call. So the", "timestamp": "00:21:51,060", "timestamp_s": 1311.0}, {"text": "first thing that we have to do is to set", "timestamp": "00:21:54,248", "timestamp_s": 1314.0}, {"text": "the request on this context and we are going", "timestamp": "00:21:58,424", "timestamp_s": 1318.0}, {"text": "to set it of type HTTP request,", "timestamp": "00:22:01,784", "timestamp_s": 1321.0}, {"text": "and we initialize the header field by using", "timestamp": "00:22:06,970", "timestamp_s": 1326.0}, {"text": "the built in make function.", "timestamp": "00:22:10,940", "timestamp_s": 1330.0}, {"text": "Then we", "timestamp": "00:22:17,710", "timestamp_s": 1337.0}, {"text": "set the parameter for", "timestamp": "00:22:22,832", "timestamp_s": 1342.0}, {"text": "our request. In this case", "timestamp": "00:22:28,432", "timestamp_s": 1348.0}, {"text": "the params is a slice which contains all", "timestamp": "00:22:34,210", "timestamp_s": 1354.0}, {"text": "of the parameter for our handlers.", "timestamp": "00:22:37,348", "timestamp_s": 1357.0}, {"text": "But now we would like to append another one.", "timestamp": "00:22:41,610", "timestamp_s": 1361.0}, {"text": "So with the built in append function we", "timestamp": "00:22:45,810", "timestamp_s": 1365.0}, {"text": "invoke it in order to append another", "timestamp": "00:22:49,112", "timestamp_s": 1369.0}, {"text": "param which has a key called id", "timestamp": "00:22:53,000", "timestamp_s": 1373.0}, {"text": "and a value abc.", "timestamp": "00:22:57,930", "timestamp_s": 1377.0}, {"text": "Because this test is about Id", "timestamp": "00:23:01,954", "timestamp_s": 1381.0}, {"text": "not valid, so id not integer.", "timestamp": "00:23:05,564", "timestamp_s": 1385.0}, {"text": "Let\u0027s add this suffix to this test.", "timestamp": "00:23:08,910", "timestamp_s": 1388.0}, {"text": "All right, so now we prepared", "timestamp": "00:23:12,670", "timestamp_s": 1392.0}, {"text": "our request. The next step is to", "timestamp": "00:23:18,350", "timestamp_s": 1398.0}, {"text": "actually invoke our handler.", "timestamp": "00:23:22,084", "timestamp_s": 1402.0}, {"text": "We issue update to do and we provide the gene context.", "timestamp": "00:23:25,650", "timestamp_s": 1405.0}, {"text": "Then we have to do the assertion. So if", "timestamp": "00:23:31,330", "timestamp_s": 1411.0}, {"text": "code is not equal to 400,", "timestamp": "00:23:34,840", "timestamp_s": 1414.0}, {"text": "then we let the test fail with", "timestamp": "00:23:39,190", "timestamp_s": 1419.0}, {"text": "a format message. In this case expected", "timestamp": "00:23:44,150", "timestamp_s": 1424.0}, {"text": "percentage d comma", "timestamp": "00:23:49,530", "timestamp_s": 1429.0}, {"text": "got percentage d.", "timestamp": "00:23:53,058", "timestamp_s": 1433.0}, {"text": "So the code expected was 400,", "timestamp": "00:23:56,010", "timestamp_s": 1436.0}, {"text": "but we got the actual code.", "timestamp": "00:23:59,616", "timestamp_s": 1439.0}, {"text": "All right, now we can", "timestamp": "00:24:04,990", "timestamp_s": 1444.0}, {"text": "run our first test and look if we", "timestamp": "00:24:09,470", "timestamp_s": 1449.0}, {"text": "got an undefined error, a compilation", "timestamp": "00:24:13,572", "timestamp_s": 1453.0}, {"text": "error, because we didn\u0027t write this", "timestamp": "00:24:17,098", "timestamp_s": 1457.0}, {"text": "function yet. In order to run", "timestamp": "00:24:22,532", "timestamp_s": 1462.0}, {"text": "our test, we need to switch in the", "timestamp": "00:24:26,072", "timestamp_s": 1466.0}, {"text": "handlers folder, then issue", "timestamp": "00:24:29,784", "timestamp_s": 1469.0}, {"text": "the command go test v, which means", "timestamp": "00:24:33,320", "timestamp_s": 1473.0}, {"text": "verbose because we are interested in a verbose", "timestamp": "00:24:37,564", "timestamp_s": 1477.0}, {"text": "output cover in order", "timestamp": "00:24:41,410", "timestamp_s": 1481.0}, {"text": "to also include the code coverage.", "timestamp": "00:24:44,716", "timestamp_s": 1484.0}, {"text": "If we run it, we get back an", "timestamp": "00:24:48,990", "timestamp_s": 1488.0}, {"text": "undefined update to do so.", "timestamp": "00:24:52,656", "timestamp_s": 1492.0}, {"text": "Now let\u0027s define this update function.", "timestamp": "00:24:56,704", "timestamp_s": 1496.0}, {"text": "First of all, we are going to create another file", "timestamp": "00:25:03,890", "timestamp_s": 1503.0}, {"text": "called handlers go.", "timestamp": "00:25:08,810", "timestamp_s": 1508.0}, {"text": "I\u0027m going to put the production code on", "timestamp": "00:25:14,630", "timestamp_s": 1514.0}, {"text": "the right side while the test code will be", "timestamp": "00:25:18,888", "timestamp_s": 1518.0}, {"text": "on the left side because I\u0027m used with this setup", "timestamp": "00:25:22,488", "timestamp_s": 1522.0}, {"text": "package Android because the", "timestamp": "00:25:27,850", "timestamp_s": 1527.0}, {"text": "production code will belong to", "timestamp": "00:25:31,916", "timestamp_s": 1531.0}, {"text": "the same package of the test, at least in", "timestamp": "00:25:35,612", "timestamp_s": 1535.0}, {"text": "this demo. And then we are going to define", "timestamp": "00:25:39,568", "timestamp_s": 1539.0}, {"text": "the update to do function which", "timestamp": "00:25:43,870", "timestamp_s": 1543.0}, {"text": "expect a pointer of gene context.", "timestamp": "00:25:48,160", "timestamp_s": 1548.0}, {"text": "Now if we rerun the tests,", "timestamp": "00:25:55,330", "timestamp_s": 1555.0}, {"text": "we get back this error. Now the compiler,", "timestamp": "00:26:00,610", "timestamp_s": 1560.0}, {"text": "the compile error error goes away.", "timestamp": "00:26:04,126", "timestamp_s": 1564.0}, {"text": "Now we got 400 bad request error instead", "timestamp": "00:26:08,310", "timestamp_s": 1568.0}, {"text": "of 200. Okay, that\u0027s why if we", "timestamp": "00:26:12,456", "timestamp_s": 1572.0}, {"text": "didn\u0027t specify anything in", "timestamp": "00:26:15,836", "timestamp_s": 1575.0}, {"text": "the body of the function, this is the default behavior.", "timestamp": "00:26:19,308", "timestamp_s": 1579.0}, {"text": "So let\u0027s fix this in order", "timestamp": "00:26:23,930", "timestamp_s": 1583.0}, {"text": "to move to the green area. C writer", "timestamp": "00:26:27,532", "timestamp_s": 1587.0}, {"text": "write either 400 and then we", "timestamp": "00:26:31,430", "timestamp_s": 1591.0}, {"text": "force the writing of the eater. So c", "timestamp": "00:26:34,672", "timestamp_s": 1594.0}, {"text": "dot writer and now in order to", "timestamp": "00:26:38,192", "timestamp_s": 1598.0}, {"text": "write and force the eater to be written.", "timestamp": "00:26:41,872", "timestamp_s": 1601.0}, {"text": "If we rerun the test now we got a", "timestamp": "00:26:46,050", "timestamp_s": 1606.0}, {"text": "successful result. Now we", "timestamp": "00:26:52,390", "timestamp_s": 1612.0}, {"text": "could enter in the refactor phase.", "timestamp": "00:26:56,328", "timestamp_s": 1616.0}, {"text": "So first of all, let\u0027s get rid of these", "timestamp": "00:26:59,438", "timestamp_s": 1619.0}, {"text": "magic numbers and instead using", "timestamp": "00:27:02,936", "timestamp_s": 1622.0}, {"text": "the constant provided by the HTTP package,", "timestamp": "00:27:11,530", "timestamp_s": 1631.0}, {"text": "if we rerun it. We get", "timestamp": "00:27:17,710", "timestamp_s": 1637.0}, {"text": "still the positive result,", "timestamp": "00:27:21,152", "timestamp_s": 1641.0}, {"text": "but we can do better. We can use the assert", "timestamp": "00:27:28,430", "timestamp_s": 1648.0}, {"text": "package provided by the", "timestamp": "00:27:31,978", "timestamp_s": 1651.0}, {"text": "testify package. So with assert we can invoke", "timestamp": "00:27:36,052", "timestamp_s": 1656.0}, {"text": "equal and providing the", "timestamp": "00:27:40,186", "timestamp_s": 1660.0}, {"text": "test which is the one provided in", "timestamp": "00:27:45,208", "timestamp_s": 1665.0}, {"text": "the signature, then followed by the expected,", "timestamp": "00:27:49,128", "timestamp_s": 1669.0}, {"text": "in our case HTTP bed request,", "timestamp": "00:27:52,830", "timestamp_s": 1672.0}, {"text": "and then the actual code that we got.", "timestamp": "00:27:56,178", "timestamp_s": 1676.0}, {"text": "And here we go.", "timestamp": "00:28:03,450", "timestamp_s": 1683.0}, {"text": "Now let\u0027s install this", "timestamp": "00:28:09,470", "timestamp_s": 1689.0}, {"text": "new package by running the", "timestamp": "00:28:12,976", "timestamp_s": 1692.0}, {"text": "go mode tidy.", "timestamp": "00:28:16,608", "timestamp_s": 1696.0}, {"text": "All right,", "timestamp": "00:28:23,010", "timestamp_s": 1703.0}, {"text": "there is a warning, so let\u0027s rerun this gomode tidy", "timestamp": "00:28:27,010", "timestamp_s": 1707.0}, {"text": "and let the warning goes away.", "timestamp": "00:28:31,418", "timestamp_s": 1711.0}, {"text": "Then we reenter the handlers folder so", "timestamp": "00:28:36,310", "timestamp_s": 1716.0}, {"text": "we are good to go. The next step", "timestamp": "00:28:41,656", "timestamp_s": 1721.0}, {"text": "here is to also assert for the body,", "timestamp": "00:28:45,450", "timestamp_s": 1725.0}, {"text": "okay, because now we assert only the", "timestamp": "00:28:49,530", "timestamp_s": 1729.0}, {"text": "status code that is 400 by the request.", "timestamp": "00:28:53,052", "timestamp_s": 1733.0}, {"text": "However, we also would", "timestamp": "00:28:57,138", "timestamp_s": 1737.0}, {"text": "like also to be sure that the", "timestamp": "00:29:02,176", "timestamp_s": 1742.0}, {"text": "body contains this string.", "timestamp": "00:29:05,952", "timestamp_s": 1745.0}, {"text": "So now let\u0027s duplicate this test and", "timestamp": "00:29:10,422", "timestamp_s": 1750.0}, {"text": "let\u0027s append this suffix that is body.", "timestamp": "00:29:16,050", "timestamp_s": 1756.0}, {"text": "Let\u0027s get rid of this assertion because the", "timestamp": "00:29:23,510", "timestamp_s": 1763.0}, {"text": "scenario is the same.", "timestamp": "00:29:27,192", "timestamp_s": 1767.0}, {"text": "What change here is that we need to", "timestamp": "00:29:30,310", "timestamp_s": 1770.0}, {"text": "assert something else. So we still make use of the assert", "timestamp": "00:29:33,672", "timestamp_s": 1773.0}, {"text": "package, but this time we invoke the function contains,", "timestamp": "00:29:37,826", "timestamp_s": 1777.0}, {"text": "which expect t as the first parameter,", "timestamp": "00:29:42,418", "timestamp_s": 1782.0}, {"text": "then the string to search in,", "timestamp": "00:29:46,330", "timestamp_s": 1786.0}, {"text": "which is double view body string,", "timestamp": "00:29:50,016", "timestamp_s": 1790.0}, {"text": "and then the string to look for. So id", "timestamp": "00:29:54,390", "timestamp_s": 1794.0}, {"text": "not integer.", "timestamp": "00:29:58,592", "timestamp_s": 1798.0}, {"text": "Now if we rerun the test,", "timestamp": "00:30:03,170", "timestamp_s": 1803.0}, {"text": "we are in the red area, because our second test", "timestamp": "00:30:07,970", "timestamp_s": 1807.0}, {"text": "we return this error that is string empty does not", "timestamp": "00:30:13,030", "timestamp_s": 1813.0}, {"text": "contain id not integer. That\u0027s why", "timestamp": "00:30:17,272", "timestamp_s": 1817.0}, {"text": "we didn\u0027t manage and or handlers where", "timestamp": "00:30:20,952", "timestamp_s": 1820.0}, {"text": "spots p load. So let\u0027s do this.", "timestamp": "00:30:26,296", "timestamp_s": 1826.0}, {"text": "In order to fix this,", "timestamp": "00:30:30,810", "timestamp_s": 1830.0}, {"text": "we have to invoke c string, which expect", "timestamp": "00:30:33,530", "timestamp_s": 1833.0}, {"text": "the HTTP status code to return as the first", "timestamp": "00:30:38,670", "timestamp_s": 1838.0}, {"text": "argument, and the second argument, a string to", "timestamp": "00:30:42,448", "timestamp_s": 1842.0}, {"text": "be written on. The response in", "timestamp": "00:30:46,592", "timestamp_s": 1846.0}, {"text": "our case is id not integer.", "timestamp": "00:30:50,548", "timestamp_s": 1850.0}, {"text": "Then we can safely remove the write either now,", "timestamp": "00:30:54,610", "timestamp_s": 1854.0}, {"text": "because now we", "timestamp": "00:30:57,716", "timestamp_s": 1857.0}, {"text": "don\u0027t have to force the write of the eaters because it\u0027s", "timestamp": "00:31:01,412", "timestamp_s": 1861.0}, {"text": "already done by the string.", "timestamp": "00:31:05,518", "timestamp_s": 1865.0}, {"text": "Let\u0027s rerun the test and now we are back", "timestamp": "00:31:09,270", "timestamp_s": 1869.0}, {"text": "in the positive area.", "timestamp": "00:31:12,456", "timestamp_s": 1872.0}, {"text": "All right, let\u0027s refactor this a little bit,", "timestamp": "00:31:16,650", "timestamp_s": 1876.0}, {"text": "because now we are allowed to do refactoring.", "timestamp": "00:31:20,268", "timestamp_s": 1880.0}, {"text": "Let\u0027s introduce a", "timestamp": "00:31:23,938", "timestamp_s": 1883.0}, {"text": "constant in order to get rid of the Id not integer literals,", "timestamp": "00:31:27,728", "timestamp_s": 1887.0}, {"text": "which is a magic number, as you", "timestamp": "00:31:32,214", "timestamp_s": 1892.0}, {"text": "might remember from our slide.", "timestamp": "00:31:35,552", "timestamp_s": 1895.0}, {"text": "So id not integer error", "timestamp": "00:31:38,990", "timestamp_s": 1898.0}, {"text": "equal to id not integer.", "timestamp": "00:31:42,930", "timestamp_s": 1902.0}, {"text": "And then we switch the", "timestamp": "00:31:46,050", "timestamp_s": 1906.0}, {"text": "usage of the literals to this variable constant.", "timestamp": "00:31:51,092", "timestamp_s": 1911.0}, {"text": "I mean, if we", "timestamp": "00:31:56,542", "timestamp_s": 1916.0}, {"text": "rerun the test, everything is still fine.", "timestamp": "00:32:00,776", "timestamp_s": 1920.0}, {"text": "Now we have two tests that are", "timestamp": "00:32:05,210", "timestamp_s": 1925.0}, {"text": "challenging the same scenario.", "timestamp": "00:32:09,308", "timestamp_s": 1929.0}, {"text": "We can merge these two into one,", "timestamp": "00:32:12,250", "timestamp_s": 1932.0}, {"text": "keep in mind that it\u0027s completely safe to delete test", "timestamp": "00:32:16,650", "timestamp_s": 1936.0}, {"text": "because test as the normal code can be adjusted,", "timestamp": "00:32:20,560", "timestamp_s": 1940.0}, {"text": "deleted or improved. So it\u0027s completely", "timestamp": "00:32:24,742", "timestamp_s": 1944.0}, {"text": "fine as long as we keep testing every scenario", "timestamp": "00:32:28,688", "timestamp_s": 1948.0}, {"text": "in our code. So let\u0027s move this assert", "timestamp": "00:32:33,418", "timestamp_s": 1953.0}, {"text": "in the first test and then let\u0027s get rid of", "timestamp": "00:32:37,338", "timestamp_s": 1957.0}, {"text": "this second test.", "timestamp": "00:32:41,172", "timestamp_s": 1961.0}, {"text": "If we save and run the test,", "timestamp": "00:32:47,190", "timestamp_s": 1967.0}, {"text": "we still have the 100% code coverage because now", "timestamp": "00:32:50,792", "timestamp_s": 1970.0}, {"text": "we are only dealing with one scenario.", "timestamp": "00:32:55,096", "timestamp_s": 1975.0}, {"text": "Now let\u0027s write the second test for the second", "timestamp": "00:33:01,370", "timestamp_s": 1981.0}, {"text": "scenario, which is validation error in our case.", "timestamp": "00:33:05,084", "timestamp_s": 1985.0}, {"text": "So we are going to duplicate this just", "timestamp": "00:33:09,550", "timestamp_s": 1989.0}, {"text": "for the sake of time. And then we renamed", "timestamp": "00:33:14,176", "timestamp_s": 1994.0}, {"text": "this to validation.", "timestamp": "00:33:17,590", "timestamp_s": 1997.0}, {"text": "Then the first thing to do is to fix", "timestamp": "00:33:24,210", "timestamp_s": 2004.0}, {"text": "this param. Now we are", "timestamp": "00:33:28,530", "timestamp_s": 2008.0}, {"text": "good. So we passed in a right int", "timestamp": "00:33:31,812", "timestamp_s": 2011.0}, {"text": "id value such as one.", "timestamp": "00:33:37,528", "timestamp_s": 2017.0}, {"text": "All right, then we have to pass also", "timestamp": "00:33:43,830", "timestamp_s": 2023.0}, {"text": "the payload because now we are dealing", "timestamp": "00:33:47,596", "timestamp_s": 2027.0}, {"text": "with the payload because we are validating the incoming", "timestamp": "00:33:50,978", "timestamp_s": 2030.0}, {"text": "payload of the HTTP request. So we need a way to", "timestamp": "00:33:54,082", "timestamp_s": 2034.0}, {"text": "pass it to our handlers. So first", "timestamp": "00:33:59,070", "timestamp_s": 2039.0}, {"text": "of all, let\u0027s set the method", "timestamp": "00:34:02,432", "timestamp_s": 2042.0}, {"text": "which is put on the request.", "timestamp": "00:34:07,230", "timestamp_s": 2047.0}, {"text": "Then let\u0027s set one", "timestamp": "00:34:11,330", "timestamp_s": 2051.0}, {"text": "either. So c", "timestamp": "00:34:15,476", "timestamp_s": 2055.0}, {"text": "request either and set set is", "timestamp": "00:34:19,556", "timestamp_s": 2059.0}, {"text": "a method that expect two values, both of", "timestamp": "00:34:22,968", "timestamp_s": 2062.0}, {"text": "type string. The first one is the key and the second one", "timestamp": "00:34:26,568", "timestamp_s": 2066.0}, {"text": "is the value. So the key will be", "timestamp": "00:34:30,136", "timestamp_s": 2070.0}, {"text": "content type and", "timestamp": "00:34:34,470", "timestamp_s": 2074.0}, {"text": "the second one will be application Json.", "timestamp": "00:34:39,068", "timestamp_s": 2079.0}, {"text": "Then we have to set also the body,", "timestamp": "00:34:45,610", "timestamp_s": 2085.0}, {"text": "and the body is of type I o", "timestamp": "00:34:50,510", "timestamp_s": 2090.0}, {"text": "knob closer just to wrap our writer", "timestamp": "00:34:54,480", "timestamp_s": 2094.0}, {"text": "into a reader which", "timestamp": "00:34:58,966", "timestamp_s": 2098.0}, {"text": "has also the close method, so it\u0027s a no", "timestamp": "00:35:03,476", "timestamp_s": 2103.0}, {"text": "utility method. This one I will say inside", "timestamp": "00:35:06,868", "timestamp_s": 2106.0}, {"text": "of him we", "timestamp": "00:35:12,548", "timestamp_s": 2112.0}, {"text": "have to invoke the strings new reader", "timestamp": "00:35:17,128", "timestamp_s": 2117.0}, {"text": "function which expect in a string.", "timestamp": "00:35:20,702", "timestamp_s": 2120.0}, {"text": "The string is provided within backticks in", "timestamp": "00:35:24,630", "timestamp_s": 2124.0}, {"text": "order to not have to escape every", "timestamp": "00:35:28,492", "timestamp_s": 2128.0}, {"text": "single double quotes within it. So a pair", "timestamp": "00:35:31,932", "timestamp_s": 2131.0}, {"text": "of curly braces and then let\u0027s start by defining", "timestamp": "00:35:35,618", "timestamp_s": 2135.0}, {"text": "our p load. In this case we will leave", "timestamp": "00:35:39,142", "timestamp_s": 2139.0}, {"text": "the description empty in order to understand", "timestamp": "00:35:42,752", "timestamp_s": 2142.0}, {"text": "this validation scenario is complex", "timestamp": "00:35:48,430", "timestamp_s": 2148.0}, {"text": "equal to true and due date", "timestamp": "00:35:54,850", "timestamp_s": 2154.0}, {"text": "equal to 2023 50", "timestamp": "00:35:59,810", "timestamp_s": 2159.0}, {"text": "five good.", "timestamp": "00:36:04,744", "timestamp_s": 2164.0}, {"text": "So now we have defined our payload,", "timestamp": "00:36:08,710", "timestamp_s": 2168.0}, {"text": "which is invalid because the description should", "timestamp": "00:36:12,206", "timestamp_s": 2172.0}, {"text": "be populated because we won\u0027t", "timestamp": "00:36:15,452", "timestamp_s": 2175.0}, {"text": "allow a to do without a description.", "timestamp": "00:36:19,442", "timestamp_s": 2179.0}, {"text": "All right, in the assertion part", "timestamp": "00:36:24,490", "timestamp_s": 2184.0}, {"text": "we can leave this assertion because it\u0027s still 400,", "timestamp": "00:36:27,676", "timestamp_s": 2187.0}, {"text": "the status quote that we are expecting here.", "timestamp": "00:36:32,272", "timestamp_s": 2192.0}, {"text": "However, the body should contain", "timestamp": "00:36:36,590", "timestamp_s": 2196.0}, {"text": "another error message, which is validation", "timestamp": "00:36:40,794", "timestamp_s": 2200.0}, {"text": "error. So let\u0027s", "timestamp": "00:36:44,826", "timestamp_s": 2204.0}, {"text": "rerun the test and check if we are", "timestamp": "00:36:49,306", "timestamp_s": 2209.0}, {"text": "in the red area or not. If we", "timestamp": "00:36:52,676", "timestamp_s": 2212.0}, {"text": "run this test we get back an id", "timestamp": "00:36:56,392", "timestamp_s": 2216.0}, {"text": "not integer, does not contain validation error.", "timestamp": "00:37:00,136", "timestamp_s": 2220.0}, {"text": "So we have to move in green.", "timestamp": "00:37:04,150", "timestamp_s": 2224.0}, {"text": "In the green area and we have to do some adjustment in", "timestamp": "00:37:07,496", "timestamp_s": 2227.0}, {"text": "this code. The adjustment", "timestamp": "00:37:11,068", "timestamp_s": 2231.0}, {"text": "that we have to do is to invoke", "timestamp": "00:37:14,722", "timestamp_s": 2234.0}, {"text": "the function etoy which", "timestamp": "00:37:20,590", "timestamp_s": 2240.0}, {"text": "is responsible for converting a string into an integer", "timestamp": "00:37:24,112", "timestamp_s": 2244.0}, {"text": "value and provided an error. If this conversion", "timestamp": "00:37:28,230", "timestamp_s": 2248.0}, {"text": "is not possible of the param that", "timestamp": "00:37:31,562", "timestamp_s": 2251.0}, {"text": "we got in, let\u0027s capture", "timestamp": "00:37:35,412", "timestamp_s": 2255.0}, {"text": "this result into a variable called error", "timestamp": "00:37:40,130", "timestamp_s": 2260.0}, {"text": "and for now blank identifier because we don\u0027t need the id right", "timestamp": "00:37:43,982", "timestamp_s": 2263.0}, {"text": "now. Okay, so let\u0027s not grab the", "timestamp": "00:37:47,896", "timestamp_s": 2267.0}, {"text": "id just for the sake of it. If we will need", "timestamp": "00:37:51,992", "timestamp_s": 2271.0}, {"text": "the id, we will grab the id.", "timestamp": "00:37:55,660", "timestamp_s": 2275.0}, {"text": "Now we only interested at understanding", "timestamp": "00:37:58,428", "timestamp_s": 2278.0}, {"text": "if the id is an integer", "timestamp": "00:38:02,866", "timestamp_s": 2282.0}, {"text": "or not.", "timestamp": "00:38:06,386", "timestamp_s": 2286.0}, {"text": "If error is not equal to nil,", "timestamp": "00:38:09,070", "timestamp_s": 2289.0}, {"text": "then we return this string and", "timestamp": "00:38:14,750", "timestamp_s": 2294.0}, {"text": "we immediately exit from the function.", "timestamp": "00:38:19,840", "timestamp_s": 2299.0}, {"text": "If this is not the case, we are going", "timestamp": "00:38:23,950", "timestamp_s": 2303.0}, {"text": "to return the validation error", "timestamp": "00:38:27,588", "timestamp_s": 2307.0}, {"text": "message because now our handler", "timestamp": "00:38:32,630", "timestamp_s": 2312.0}, {"text": "is only handling two scenario", "timestamp": "00:38:37,022", "timestamp_s": 2317.0}, {"text": "the id, not integer and validation error.", "timestamp": "00:38:41,022", "timestamp_s": 2321.0}, {"text": "So we have only 50% of probability", "timestamp": "00:38:45,450", "timestamp_s": 2325.0}, {"text": "if we rerun the test.", "timestamp": "00:38:53,690", "timestamp_s": 2333.0}, {"text": "Now we are in 100% of code coverage", "timestamp": "00:38:56,810", "timestamp_s": 2336.0}, {"text": "and both of the tests are passing.", "timestamp": "00:39:00,342", "timestamp_s": 2340.0}, {"text": "Now it\u0027s time for refactoring.", "timestamp": "00:39:05,630", "timestamp_s": 2345.0}, {"text": "Let\u0027s get rid of these magic numbers validation", "timestamp": "00:39:08,990", "timestamp_s": 2348.0}, {"text": "error by introducing another constant.", "timestamp": "00:39:12,826", "timestamp_s": 2352.0}, {"text": "This constant is named validation error.", "timestamp": "00:39:17,810", "timestamp_s": 2357.0}, {"text": "If I save my Gofund tool", "timestamp": "00:39:25,670", "timestamp_s": 2365.0}, {"text": "will format the constant in this way like", "timestamp": "00:39:30,040", "timestamp_s": 2370.0}, {"text": "the import section.", "timestamp": "00:39:34,344", "timestamp_s": 2374.0}, {"text": "Then we have to switch the magic number to", "timestamp": "00:39:36,970", "timestamp_s": 2376.0}, {"text": "the validation error constant and also do the", "timestamp": "00:39:41,690", "timestamp_s": 2381.0}, {"text": "same in the testament.", "timestamp": "00:39:45,708", "timestamp_s": 2385.0}, {"text": "All right, the tests are still passing.", "timestamp": "00:39:53,682", "timestamp_s": 2393.0}, {"text": "Now let\u0027s introduce the logic about the database", "timestamp": "00:39:59,890", "timestamp_s": 2399.0}, {"text": "because our third scenario is when we got", "timestamp": "00:40:05,490", "timestamp_s": 2405.0}, {"text": "a database error, something unexpected such", "timestamp": "00:40:09,124", "timestamp_s": 2409.0}, {"text": "as a connectivity issue or a", "timestamp": "00:40:13,032", "timestamp_s": 2413.0}, {"text": "query that takes too much to be executed", "timestamp": "00:40:17,528", "timestamp_s": 2417.0}, {"text": "or whatever, something that can be unpredictable", "timestamp": "00:40:21,726", "timestamp_s": 2421.0}, {"text": "to us. So let\u0027s duplicate", "timestamp": "00:40:26,322", "timestamp_s": 2426.0}, {"text": "again this test and now", "timestamp": "00:40:30,082", "timestamp_s": 2430.0}, {"text": "we are going to call it db error.", "timestamp": "00:40:33,900", "timestamp_s": 2433.0}, {"text": "In order to be sure, let\u0027s fix", "timestamp": "00:40:42,570", "timestamp_s": 2442.0}, {"text": "the description. Now we got invalid descriptions", "timestamp": "00:40:45,948", "timestamp_s": 2445.0}, {"text": "as Lorem ipsum.", "timestamp": "00:40:50,034", "timestamp_s": 2450.0}, {"text": "All right, now let\u0027s", "timestamp": "00:41:02,390", "timestamp_s": 2462.0}, {"text": "introduce the package SQL mock", "timestamp": "00:41:06,862", "timestamp_s": 2466.0}, {"text": "which assists us in mocking a real database.", "timestamp": "00:41:10,670", "timestamp_s": 2470.0}, {"text": "So we", "timestamp": "00:41:16,230", "timestamp_s": 2476.0}, {"text": "are going to call the package sQl mock", "timestamp": "00:41:24,408", "timestamp_s": 2484.0}, {"text": "dot new, the function new,", "timestamp": "00:41:29,210", "timestamp_s": 2489.0}, {"text": "and we capture the results into", "timestamp": "00:41:34,830", "timestamp_s": 2494.0}, {"text": "three variable. The first one is db,", "timestamp": "00:41:38,672", "timestamp_s": 2498.0}, {"text": "the second one is mock, and the third one will", "timestamp": "00:41:42,918", "timestamp_s": 2502.0}, {"text": "be the error. But for the sake of demo we", "timestamp": "00:41:46,372", "timestamp_s": 2506.0}, {"text": "are not going to handle it and we leave the blank", "timestamp": "00:41:49,508", "timestamp_s": 2509.0}, {"text": "identifier. All right,", "timestamp": "00:41:52,798", "timestamp_s": 2512.0}, {"text": "we have to import this SQl mock. So let\u0027s navigate", "timestamp": "00:41:59,750", "timestamp_s": 2519.0}, {"text": "up of one level and run the", "timestamp": "00:42:04,318", "timestamp_s": 2524.0}, {"text": "go mode tidy command.", "timestamp": "00:42:08,328", "timestamp_s": 2528.0}, {"text": "This way we successfully imported", "timestamp": "00:42:11,370", "timestamp_s": 2531.0}, {"text": "our mock go SQl mock package.", "timestamp": "00:42:14,890", "timestamp_s": 2534.0}, {"text": "In the new function we can provide the", "timestamp": "00:42:20,910", "timestamp_s": 2540.0}, {"text": "criteria based on which it has to", "timestamp": "00:42:24,912", "timestamp_s": 2544.0}, {"text": "match the query because now we", "timestamp": "00:42:28,512", "timestamp_s": 2548.0}, {"text": "are defining the behavior of our mock.", "timestamp": "00:42:31,908", "timestamp_s": 2551.0}, {"text": "So which query we are going to perform, which commands", "timestamp": "00:42:35,066", "timestamp_s": 2555.0}, {"text": "we are going to perform, with which parameter and which", "timestamp": "00:42:39,482", "timestamp_s": 2559.0}, {"text": "result we have to expect. Okay,", "timestamp": "00:42:43,720", "timestamp_s": 2563.0}, {"text": "in order to match this query or SQL statement", "timestamp": "00:42:46,616", "timestamp_s": 2566.0}, {"text": "in general, we have various options.", "timestamp": "00:42:50,318", "timestamp_s": 2570.0}, {"text": "We can match them exactly,", "timestamp": "00:42:53,544", "timestamp_s": 2573.0}, {"text": "which will be our option for today\u0027s session,", "timestamp": "00:42:56,890", "timestamp_s": 2576.0}, {"text": "or we can match them with a regular expression,", "timestamp": "00:43:00,274", "timestamp_s": 2580.0}, {"text": "for example. So we have to specify", "timestamp": "00:43:04,650", "timestamp_s": 2584.0}, {"text": "the behavior in this case is SQL mock", "timestamp": "00:43:08,518", "timestamp_s": 2588.0}, {"text": "query matcher option and within", "timestamp": "00:43:13,390", "timestamp_s": 2593.0}, {"text": "the brackets we are going to write SQl mock", "timestamp": "00:43:16,960", "timestamp_s": 2596.0}, {"text": "query matcher equal.", "timestamp": "00:43:20,970", "timestamp_s": 2600.0}, {"text": "Then we have to defer a close request", "timestamp": "00:43:27,730", "timestamp_s": 2607.0}, {"text": "to the DB.", "timestamp": "00:43:32,218", "timestamp_s": 2612.0}, {"text": "All right, and then we have to define our gorm", "timestamp": "00:43:38,070", "timestamp_s": 2618.0}, {"text": "dB connection because to our handler we are going to pass", "timestamp": "00:43:43,278", "timestamp_s": 2623.0}, {"text": "a gorm client, not a row SQl stuff.", "timestamp": "00:43:47,164", "timestamp_s": 2627.0}, {"text": "So we need a way to retrieve it.", "timestamp": "00:43:54,090", "timestamp_s": 2634.0}, {"text": "The first thing is to define a new variable", "timestamp": "00:43:57,470", "timestamp_s": 2637.0}, {"text": "called connection which represents the underlying", "timestamp": "00:44:01,510", "timestamp_s": 2641.0}, {"text": "connection to our fake database.", "timestamp": "00:44:05,414", "timestamp_s": 2645.0}, {"text": "So we are going to invoke db.com", "timestamp": "00:44:10,450", "timestamp_s": 2650.0}, {"text": "and we provide a context. In this case", "timestamp": "00:44:14,340", "timestamp_s": 2654.0}, {"text": "we have the gene context that fits well here.", "timestamp": "00:44:17,636", "timestamp_s": 2657.0}, {"text": "Then we defer a close invocation", "timestamp": "00:44:23,910", "timestamp_s": 2663.0}, {"text": "and now we are ready to instantiate", "timestamp": "00:44:29,510", "timestamp_s": 2669.0}, {"text": "a gorm client. The gorm client is an", "timestamp": "00:44:33,566", "timestamp_s": 2673.0}, {"text": "abstract client upon the", "timestamp": "00:44:37,452", "timestamp_s": 2677.0}, {"text": "underlying socket connection to the database.", "timestamp": "00:44:40,732", "timestamp_s": 2680.0}, {"text": "In this case we can define", "timestamp": "00:44:43,930", "timestamp_s": 2683.0}, {"text": "the Gormdb variable and another blank", "timestamp": "00:44:47,858", "timestamp_s": 2687.0}, {"text": "identifier and invoke a method", "timestamp": "00:44:51,702", "timestamp_s": 2691.0}, {"text": "of the Gorma package.", "timestamp": "00:44:55,062", "timestamp_s": 2695.0}, {"text": "This method is called open.", "timestamp": "00:44:57,710", "timestamp_s": 2697.0}, {"text": "The first thing to do is to import our", "timestamp": "00:45:02,770", "timestamp_s": 2702.0}, {"text": "package always", "timestamp": "00:45:06,516", "timestamp_s": 2706.0}, {"text": "with the Gomode tidy we are going to download it", "timestamp": "00:45:10,580", "timestamp_s": 2710.0}, {"text": "from GitHub.", "timestamp": "00:45:13,944", "timestamp_s": 2713.0}, {"text": "All right then here we", "timestamp": "00:45:21,270", "timestamp_s": 2721.0}, {"text": "expect a dialector and", "timestamp": "00:45:25,228", "timestamp_s": 2725.0}, {"text": "we use the driver of postgres and", "timestamp": "00:45:30,156", "timestamp_s": 2730.0}, {"text": "we invoke the function new. Again we have", "timestamp": "00:45:39,552", "timestamp_s": 2739.0}, {"text": "to install this brighter. So let\u0027s switch back", "timestamp": "00:45:43,552", "timestamp_s": 2743.0}, {"text": "to our terminal and rerun the go mode tidy.", "timestamp": "00:45:47,136", "timestamp_s": 2747.0}, {"text": "Thanks to this command we have downloaded", "timestamp": "00:45:54,450", "timestamp_s": 2754.0}, {"text": "the postgres driver. You can see here", "timestamp": "00:45:58,042", "timestamp_s": 2758.0}, {"text": "the latest two packages installed gorm and", "timestamp": "00:46:01,956", "timestamp_s": 2761.0}, {"text": "postgres driver.", "timestamp": "00:46:06,296", "timestamp_s": 2766.0}, {"text": "Now within it we are going to", "timestamp": "00:46:10,710", "timestamp_s": 2770.0}, {"text": "invoke a postgres config struct and we", "timestamp": "00:46:14,376", "timestamp_s": 2774.0}, {"text": "set the con field to", "timestamp": "00:46:17,996", "timestamp_s": 2777.0}, {"text": "the con that we declared", "timestamp": "00:46:21,388", "timestamp_s": 2781.0}, {"text": "up here.", "timestamp": "00:46:25,922", "timestamp_s": 2785.0}, {"text": "Here we go. Now we can pass this to", "timestamp": "00:46:29,230", "timestamp_s": 2789.0}, {"text": "our request context. In order", "timestamp": "00:46:34,256", "timestamp_s": 2794.0}, {"text": "to do this we need to invoke the set", "timestamp": "00:46:37,776", "timestamp_s": 2797.0}, {"text": "method on our gene context.", "timestamp": "00:46:41,524", "timestamp_s": 2801.0}, {"text": "The first parameter is a", "timestamp": "00:46:45,250", "timestamp_s": 2805.0}, {"text": "key which is a DB and the second one is", "timestamp": "00:46:48,532", "timestamp_s": 2808.0}, {"text": "the value that is a GormDB.", "timestamp": "00:46:52,052", "timestamp_s": 2812.0}, {"text": "All right,", "timestamp": "00:46:57,270", "timestamp_s": 2817.0}, {"text": "now we have to set up the mock because", "timestamp": "00:46:59,830", "timestamp_s": 2819.0}, {"text": "we need to say to SQL", "timestamp": "00:47:03,608", "timestamp_s": 2823.0}, {"text": "mock how to behave in this particular condition.", "timestamp": "00:47:07,218", "timestamp_s": 2827.0}, {"text": "So let\u0027s do this. On mock", "timestamp": "00:47:11,450", "timestamp_s": 2831.0}, {"text": "we are going to issue an expect query method", "timestamp": "00:47:15,450", "timestamp_s": 2835.0}, {"text": "which expect a string which", "timestamp": "00:47:19,530", "timestamp_s": 2839.0}, {"text": "represents the query that we are going to perform", "timestamp": "00:47:24,156", "timestamp_s": 2844.0}, {"text": "on the database. In this case,", "timestamp": "00:47:28,016", "timestamp_s": 2848.0}, {"text": "we use a backtick in order to not escape the", "timestamp": "00:47:31,730", "timestamp_s": 2851.0}, {"text": "double quote within it. So select", "timestamp": "00:47:35,732", "timestamp_s": 2855.0}, {"text": "star from our table that", "timestamp": "00:47:39,588", "timestamp_s": 2859.0}, {"text": "is called to dos where", "timestamp": "00:47:43,192", "timestamp_s": 2863.0}, {"text": "todos id", "timestamp": "00:47:48,230", "timestamp_s": 2868.0}, {"text": "is equal to dollar one, which is a", "timestamp": "00:47:54,310", "timestamp_s": 2874.0}, {"text": "placeholder for the first argument. The arguments", "timestamp": "00:47:57,468", "timestamp_s": 2877.0}, {"text": "will be replaced in a positional way.", "timestamp": "00:48:01,666", "timestamp_s": 2881.0}, {"text": "Then order by", "timestamp": "00:48:09,230", "timestamp_s": 2889.0}, {"text": "todos id,", "timestamp": "00:48:13,950", "timestamp_s": 2893.0}, {"text": "limit one to close the query.", "timestamp": "00:48:21,090", "timestamp_s": 2901.0}, {"text": "Then we invoke also the", "timestamp": "00:48:26,850", "timestamp_s": 2906.0}, {"text": "ARG with the with arcs method to specify that", "timestamp": "00:48:30,452", "timestamp_s": 2910.0}, {"text": "we are calling this query with this argument and", "timestamp": "00:48:34,280", "timestamp_s": 2914.0}, {"text": "it will return an error.", "timestamp": "00:48:39,752", "timestamp_s": 2919.0}, {"text": "To create an error we use the package font together with", "timestamp": "00:48:44,150", "timestamp_s": 2924.0}, {"text": "the error f function and we provide the string", "timestamp": "00:48:48,412", "timestamp_s": 2928.0}, {"text": "db error.", "timestamp": "00:48:52,370", "timestamp_s": 2932.0}, {"text": "All right, now let\u0027s switch to", "timestamp": "00:48:58,910", "timestamp_s": 2938.0}, {"text": "the assertion part.", "timestamp": "00:49:02,368", "timestamp_s": 2942.0}, {"text": "In the assertion part we are going to", "timestamp": "00:49:07,390", "timestamp_s": 2947.0}, {"text": "get rid of this and leave only an assertion", "timestamp": "00:49:11,428", "timestamp_s": 2951.0}, {"text": "on the status code that should be", "timestamp": "00:49:15,690", "timestamp_s": 2955.0}, {"text": "equal to 500 in this case because it\u0027s an", "timestamp": "00:49:19,332", "timestamp_s": 2959.0}, {"text": "unexpected error.", "timestamp": "00:49:22,872", "timestamp_s": 2962.0}, {"text": "However, what we have to do is also assert that", "timestamp": "00:49:25,910", "timestamp_s": 2965.0}, {"text": "the mock were actually used as", "timestamp": "00:49:29,592", "timestamp_s": 2969.0}, {"text": "we expect to do this, we are going to", "timestamp": "00:49:33,272", "timestamp_s": 2973.0}, {"text": "invoke mock expectations were", "timestamp": "00:49:36,908", "timestamp_s": 2976.0}, {"text": "met. It will return an error if some", "timestamp": "00:49:41,292", "timestamp_s": 2981.0}, {"text": "of the expectation were not met.", "timestamp": "00:49:45,372", "timestamp_s": 2985.0}, {"text": "If we got an error, we let the test fail", "timestamp": "00:49:50,830", "timestamp_s": 2990.0}, {"text": "with this string.", "timestamp": "00:49:56,110", "timestamp_s": 2996.0}, {"text": "Not all expectations were met,", "timestamp": "00:49:58,934", "timestamp_s": 2998.0}, {"text": "followed by percentage v", "timestamp": "00:50:03,490", "timestamp_s": 3003.0}, {"text": "and the error.", "timestamp": "00:50:08,050", "timestamp_s": 3008.0}, {"text": "Now we should be able to run the test and see", "timestamp": "00:50:13,750", "timestamp_s": 3013.0}, {"text": "if we are in the red area.", "timestamp": "00:50:17,240", "timestamp_s": 3017.0}, {"text": "And there we go. We got two errors,", "timestamp": "00:50:21,990", "timestamp_s": 3021.0}, {"text": "the expected status code that", "timestamp": "00:50:26,810", "timestamp_s": 3026.0}, {"text": "is different and the expectations", "timestamp": "00:50:30,412", "timestamp_s": 3030.0}, {"text": "because we didn\u0027t run this query", "timestamp": "00:50:34,810", "timestamp_s": 3034.0}, {"text": "on our db. That\u0027s why we", "timestamp": "00:50:38,358", "timestamp_s": 3038.0}, {"text": "didn\u0027t retrieve the GorMDB client", "timestamp": "00:50:42,416", "timestamp_s": 3042.0}, {"text": "in our Android. So let\u0027s fix", "timestamp": "00:50:46,310", "timestamp_s": 3046.0}, {"text": "them. Let\u0027s start by", "timestamp": "00:50:50,000", "timestamp_s": 3050.0}, {"text": "fixing the 500 internal server", "timestamp": "00:50:54,516", "timestamp_s": 3054.0}, {"text": "error status code.", "timestamp": "00:50:58,058", "timestamp_s": 3058.0}, {"text": "All right, first of all, we have to", "timestamp": "00:51:00,850", "timestamp_s": 3060.0}, {"text": "involve a third scenario.", "timestamp": "00:51:05,544", "timestamp_s": 3065.0}, {"text": "So we are going to have another if checking", "timestamp": "00:51:08,254", "timestamp_s": 3068.0}, {"text": "for the validation scenario.", "timestamp": "00:51:13,990", "timestamp_s": 3073.0}, {"text": "To do this, we need to define a DTO struct.", "timestamp": "00:51:17,290", "timestamp_s": 3077.0}, {"text": "A DTO struct is a struct that is meant to", "timestamp": "00:51:21,186", "timestamp_s": 3081.0}, {"text": "transport back and forth the data", "timestamp": "00:51:25,196", "timestamp_s": 3085.0}, {"text": "from the client to the server and the way", "timestamp": "00:51:28,688", "timestamp_s": 3088.0}, {"text": "around. So type", "timestamp": "00:51:32,240", "timestamp_s": 3092.0}, {"text": "to do DTO struct it", "timestamp": "00:51:36,560", "timestamp_s": 3096.0}, {"text": "will have three fields description of type string", "timestamp": "00:51:43,392", "timestamp_s": 3103.0}, {"text": "with this gzone annotation.", "timestamp": "00:51:48,050", "timestamp_s": 3108.0}, {"text": "Then binding with required", "timestamp": "00:51:54,630", "timestamp_s": 3114.0}, {"text": "annotation is", "timestamp": "00:51:58,190", "timestamp_s": 3118.0}, {"text": "completed. A boolean", "timestamp": "00:52:03,304", "timestamp_s": 3123.0}, {"text": "value with", "timestamp": "00:52:06,926", "timestamp_s": 3126.0}, {"text": "this gzone annotation and the binding is", "timestamp": "00:52:12,680", "timestamp_s": 3132.0}, {"text": "required.", "timestamp": "00:52:16,780", "timestamp_s": 3136.0}, {"text": "Due date of type string JSOn", "timestamp": "00:52:20,990", "timestamp_s": 3140.0}, {"text": "due date binding", "timestamp": "00:52:25,870", "timestamp_s": 3145.0}, {"text": "required one of the", "timestamp": "00:52:35,386", "timestamp_s": 3155.0}, {"text": "beauty of Gogen web framework is that", "timestamp": "00:52:38,692", "timestamp_s": 3158.0}, {"text": "it has a lot of features built in.", "timestamp": "00:52:42,612", "timestamp_s": 3162.0}, {"text": "This one is a great example. We can do the validation", "timestamp": "00:52:46,790", "timestamp_s": 3166.0}, {"text": "in this way. Just add an annotation here", "timestamp": "00:52:50,142", "timestamp_s": 3170.0}, {"text": "and then invoke a method over the gene context.", "timestamp": "00:52:54,056", "timestamp_s": 3174.0}, {"text": "Let\u0027s do this. First of all we", "timestamp": "00:52:58,650", "timestamp_s": 3178.0}, {"text": "are going to define a variable called to do of type", "timestamp": "00:53:02,028", "timestamp_s": 3182.0}, {"text": "to do DTO.", "timestamp": "00:53:06,044", "timestamp_s": 3186.0}, {"text": "Then we run the method should bind", "timestamp": "00:53:10,510", "timestamp_s": 3190.0}, {"text": "over the gene context and it automatically understand", "timestamp": "00:53:14,150", "timestamp_s": 3194.0}, {"text": "that it has to try to unmarshall the", "timestamp": "00:53:19,550", "timestamp_s": 3199.0}, {"text": "body of the request onto our struct", "timestamp": "00:53:23,172", "timestamp_s": 3203.0}, {"text": "and we have to pass the pointer to our variable.", "timestamp": "00:53:27,890", "timestamp_s": 3207.0}, {"text": "Then we capture the error and", "timestamp": "00:53:33,510", "timestamp_s": 3213.0}, {"text": "if the error is not nil we", "timestamp": "00:53:38,024", "timestamp_s": 3218.0}, {"text": "are going to return this.", "timestamp": "00:53:41,768", "timestamp_s": 3221.0}, {"text": "Otherwise we are going to set the", "timestamp": "00:53:48,490", "timestamp_s": 3228.0}, {"text": "HTTP internal server error status code", "timestamp": "00:53:52,970", "timestamp_s": 3232.0}, {"text": "c writer write either 500", "timestamp": "00:53:57,210", "timestamp_s": 3237.0}, {"text": "and then we force to write the eater now.", "timestamp": "00:54:02,510", "timestamp_s": 3242.0}, {"text": "Now we can run the test to see if the first", "timestamp": "00:54:10,050", "timestamp_s": 3250.0}, {"text": "assertion goes away.", "timestamp": "00:54:13,780", "timestamp_s": 3253.0}, {"text": "If we run go test b cover.", "timestamp": "00:54:17,970", "timestamp_s": 3257.0}, {"text": "Now the complaint about the status code has", "timestamp": "00:54:21,108", "timestamp_s": 3261.0}, {"text": "gone away. Now we can try to fix", "timestamp": "00:54:24,872", "timestamp_s": 3264.0}, {"text": "the second assertion which is", "timestamp": "00:54:29,430", "timestamp_s": 3269.0}, {"text": "the assertion about", "timestamp": "00:54:35,850", "timestamp_s": 3275.0}, {"text": "the query. In order to do", "timestamp": "00:54:39,388", "timestamp_s": 3279.0}, {"text": "this, we have to define a model.", "timestamp": "00:54:42,892", "timestamp_s": 3282.0}, {"text": "The model is the actual model that", "timestamp": "00:54:46,970", "timestamp_s": 3286.0}, {"text": "will be mapped as a table in our", "timestamp": "00:54:50,832", "timestamp_s": 3290.0}, {"text": "database because the Orm", "timestamp": "00:54:54,352", "timestamp_s": 3294.0}, {"text": "its purpose is to map object that", "timestamp": "00:54:58,270", "timestamp_s": 3298.0}, {"text": "are code stuff such as struct over relation", "timestamp": "00:55:02,452", "timestamp_s": 3302.0}, {"text": "that are table in the database. So let\u0027s define the", "timestamp": "00:55:07,570", "timestamp_s": 3307.0}, {"text": "to do struct. The to", "timestamp": "00:55:11,636", "timestamp_s": 3311.0}, {"text": "do struct will have an id of type unsigned", "timestamp": "00:55:15,352", "timestamp_s": 3315.0}, {"text": "integer, then a description of type", "timestamp": "00:55:19,662", "timestamp_s": 3319.0}, {"text": "string, then the is completed field", "timestamp": "00:55:23,480", "timestamp_s": 3323.0}, {"text": "of type bool and then the due date of", "timestamp": "00:55:27,164", "timestamp_s": 3327.0}, {"text": "type string.", "timestamp": "00:55:30,972", "timestamp_s": 3330.0}, {"text": "All right here,", "timestamp": "00:55:35,850", "timestamp_s": 3335.0}, {"text": "first of all we have to get the db", "timestamp": "00:55:39,950", "timestamp_s": 3339.0}, {"text": "and to get the db we are going to read this", "timestamp": "00:55:44,006", "timestamp_s": 3344.0}, {"text": "value from our context. So c", "timestamp": "00:55:48,176", "timestamp_s": 3348.0}, {"text": "dot mustget which is a method", "timestamp": "00:55:51,604", "timestamp_s": 3351.0}, {"text": "that expecting a DB key in our case", "timestamp": "00:55:55,562", "timestamp_s": 3355.0}, {"text": "is db.", "timestamp": "00:55:59,204", "timestamp_s": 3359.0}, {"text": "And then we typecast it because it\u0027s a pointer", "timestamp": "00:56:02,870", "timestamp_s": 3362.0}, {"text": "to a GormDB.", "timestamp": "00:56:06,846", "timestamp_s": 3366.0}, {"text": "Then we have our db. Now let\u0027s", "timestamp": "00:56:10,470", "timestamp_s": 3370.0}, {"text": "actually invoke our query.", "timestamp": "00:56:13,790", "timestamp_s": 3373.0}, {"text": "First of all we need the id here", "timestamp": "00:56:18,330", "timestamp_s": 3378.0}, {"text": "because now we will use the id so", "timestamp": "00:56:22,268", "timestamp_s": 3382.0}, {"text": "DB model and then", "timestamp": "00:56:26,410", "timestamp_s": 3386.0}, {"text": "we pass in to do struct", "timestamp": "00:56:30,656", "timestamp_s": 3390.0}, {"text": "the model method is to indicate on which", "timestamp": "00:56:36,270", "timestamp_s": 3396.0}, {"text": "model we are going to perform our action.", "timestamp": "00:56:40,210", "timestamp_s": 3400.0}, {"text": "Then we will invoke the first method,", "timestamp": "00:56:46,210", "timestamp_s": 3406.0}, {"text": "the destination. We don\u0027t care about it for now,", "timestamp": "00:56:51,730", "timestamp_s": 3411.0}, {"text": "so we leave an empty to do and", "timestamp": "00:56:55,208", "timestamp_s": 3415.0}, {"text": "then we provide the id parameter because we", "timestamp": "00:56:58,952", "timestamp_s": 3418.0}, {"text": "are going to search by the primary key.", "timestamp": "00:57:02,888", "timestamp_s": 3422.0}, {"text": "That\u0027s all. Let\u0027s see if", "timestamp": "00:57:08,650", "timestamp_s": 3428.0}, {"text": "we manage also the second assertion.", "timestamp": "00:57:13,612", "timestamp_s": 3433.0}, {"text": "And there we go.", "timestamp": "00:57:19,790", "timestamp_s": 3439.0}, {"text": "We got printed on our terminal the", "timestamp": "00:57:22,990", "timestamp_s": 3442.0}, {"text": "DB error which is actually returned", "timestamp": "00:57:26,992", "timestamp_s": 3446.0}, {"text": "by our fake database. So now we", "timestamp": "00:57:30,294", "timestamp_s": 3450.0}, {"text": "are talking over a database to a database,", "timestamp": "00:57:35,428", "timestamp_s": 3455.0}, {"text": "but we didn\u0027t have it yet because in the", "timestamp": "00:57:38,858", "timestamp_s": 3458.0}, {"text": "EDD cycle we first needed to make", "timestamp": "00:57:42,532", "timestamp_s": 3462.0}, {"text": "sure to design the behavior correctly. Then we can choose", "timestamp": "00:57:46,952", "timestamp_s": 3466.0}, {"text": "on which database actually talk to.", "timestamp": "00:57:51,990", "timestamp_s": 3471.0}, {"text": "Now we can do some improvements.", "timestamp": "00:57:56,330", "timestamp_s": 3476.0}, {"text": "First of all, let\u0027s create another", "timestamp": "00:58:00,890", "timestamp_s": 3480.0}, {"text": "package which is called model.", "timestamp": "00:58:04,908", "timestamp_s": 3484.0}, {"text": "In our terminal go up of one level and", "timestamp": "00:58:09,550", "timestamp_s": 3489.0}, {"text": "create a folder called models.", "timestamp": "00:58:13,856", "timestamp_s": 3493.0}, {"text": "Then in our models folder", "timestamp": "00:58:19,890", "timestamp_s": 3499.0}, {"text": "place a file called models go which", "timestamp": "00:58:23,802", "timestamp_s": 3503.0}, {"text": "belong to the package models.", "timestamp": "00:58:28,596", "timestamp_s": 3508.0}, {"text": "Then we cut the constant from", "timestamp": "00:58:33,910", "timestamp_s": 3513.0}, {"text": "here and we put them here.", "timestamp": "00:58:38,216", "timestamp_s": 3518.0}, {"text": "Now visual studio code start to complain because", "timestamp": "00:58:46,710", "timestamp_s": 3526.0}, {"text": "id, not integer is undefined.", "timestamp": "00:58:51,450", "timestamp_s": 3531.0}, {"text": "All right, so let\u0027s", "timestamp": "00:58:55,290", "timestamp_s": 3535.0}, {"text": "import our new created package to", "timestamp": "00:58:58,658", "timestamp_s": 3538.0}, {"text": "do app models. In the import", "timestamp": "00:59:03,292", "timestamp_s": 3543.0}, {"text": "section to do app is the name of the module,", "timestamp": "00:59:06,784", "timestamp_s": 3546.0}, {"text": "models is the name of the package.", "timestamp": "00:59:10,582", "timestamp_s": 3550.0}, {"text": "Then we prepend the package name to", "timestamp": "00:59:14,050", "timestamp_s": 3554.0}, {"text": "the constant in order to be successfully recognized.", "timestamp": "00:59:17,572", "timestamp_s": 3557.0}, {"text": "Here we go. The file handlers is", "timestamp": "00:59:23,750", "timestamp_s": 3563.0}, {"text": "okay. However the test file", "timestamp": "00:59:27,576", "timestamp_s": 3567.0}, {"text": "is not fixed. We have to do the same here.", "timestamp": "00:59:31,166", "timestamp_s": 3571.0}, {"text": "So let\u0027s start by importing the package", "timestamp": "00:59:34,520", "timestamp_s": 3574.0}, {"text": "and then switch the variable to use the new package it.", "timestamp": "00:59:41,370", "timestamp_s": 3581.0}, {"text": "Let\u0027s save the file and", "timestamp": "01:00:03,010", "timestamp_s": 3603.0}, {"text": "rerun our test.", "timestamp": "01:00:06,964", "timestamp_s": 3606.0}, {"text": "The test is still successfully.", "timestamp": "01:00:13,410", "timestamp_s": 3613.0}, {"text": "Another thing that we should do is to cut", "timestamp": "01:00:17,830", "timestamp_s": 3617.0}, {"text": "away from here this to do definition because it\u0027s a model.", "timestamp": "01:00:22,936", "timestamp_s": 3622.0}, {"text": "It\u0027s not something related to the HTTP protocol,", "timestamp": "01:00:27,036", "timestamp_s": 3627.0}, {"text": "so its house is not here. It\u0027s within the", "timestamp": "01:00:30,962", "timestamp_s": 3630.0}, {"text": "model\u0027s file. So let\u0027s cut this", "timestamp": "01:00:35,292", "timestamp_s": 3635.0}, {"text": "from here and paste it here we save the", "timestamp": "01:00:39,040", "timestamp_s": 3639.0}, {"text": "file and the Android go file is complaining", "timestamp": "01:00:42,992", "timestamp_s": 3642.0}, {"text": "because it doesn\u0027t recognize to do let\u0027s", "timestamp": "01:00:47,206", "timestamp_s": 3647.0}, {"text": "prepend also this to do with the model\u0027s package named", "timestamp": "01:00:51,162", "timestamp_s": 3651.0}, {"text": "and rerun the test.", "timestamp": "01:01:01,898", "timestamp_s": 3661.0}, {"text": "The last two small things that we have to do is", "timestamp": "01:01:07,470", "timestamp_s": 3667.0}, {"text": "define a constant", "timestamp": "01:01:11,376", "timestamp_s": 3671.0}, {"text": "called tb key.", "timestamp": "01:01:14,758", "timestamp_s": 3674.0}, {"text": "This constant will be used to set the", "timestamp": "01:01:21,010", "timestamp_s": 3681.0}, {"text": "key instead of these magic numbers.", "timestamp": "01:01:25,252", "timestamp_s": 3685.0}, {"text": "So let\u0027s switch it and", "timestamp": "01:01:29,990", "timestamp_s": 3689.0}, {"text": "also in the test code.", "timestamp": "01:01:34,136", "timestamp_s": 3694.0}, {"text": "And then let\u0027s switch also the HTTP status", "timestamp": "01:01:38,470", "timestamp_s": 3698.0}, {"text": "code to HTTP internal server error.", "timestamp": "01:01:42,482", "timestamp_s": 3702.0}, {"text": "Let\u0027s rerun the test and check if", "timestamp": "01:01:53,790", "timestamp_s": 3713.0}, {"text": "everything is still okay. And that\u0027s the case.", "timestamp": "01:01:57,312", "timestamp_s": 3717.0}, {"text": "Now what we have to do is", "timestamp": "01:02:04,270", "timestamp_s": 3724.0}, {"text": "to assert also for the body of", "timestamp": "01:02:08,644", "timestamp_s": 3728.0}, {"text": "it. So let\u0027s duplicate this", "timestamp": "01:02:12,612", "timestamp_s": 3732.0}, {"text": "test.", "timestamp": "01:02:16,596", "timestamp_s": 3736.0}, {"text": "The scenario is the same, so we don\u0027t", "timestamp": "01:02:20,550", "timestamp_s": 3740.0}, {"text": "have any reason for change anything here.", "timestamp": "01:02:24,158", "timestamp_s": 3744.0}, {"text": "However, the assertion is different.", "timestamp": "01:02:27,190", "timestamp_s": 3747.0}, {"text": "Now we would like to assert over the body.", "timestamp": "01:02:33,450", "timestamp_s": 3753.0}, {"text": "So we\u0027re going to use the contains", "timestamp": "01:02:37,450", "timestamp_s": 3757.0}, {"text": "function with the body string", "timestamp": "01:02:41,250", "timestamp_s": 3761.0}, {"text": "method and we expect a dB error issued.", "timestamp": "01:02:46,694", "timestamp_s": 3766.0}, {"text": "We have to add a suffix here which", "timestamp": "01:03:04,230", "timestamp_s": 3784.0}, {"text": "is body.", "timestamp": "01:03:08,152", "timestamp_s": 3788.0}, {"text": "All right, then we can see if we are back in the", "timestamp": "01:03:13,190", "timestamp_s": 3793.0}, {"text": "red area, and indeed", "timestamp": "01:03:17,340", "timestamp_s": 3797.0}, {"text": "we are in the red area because", "timestamp": "01:03:21,698", "timestamp_s": 3801.0}, {"text": "string empty does not contain db error.", "timestamp": "01:03:24,924", "timestamp_s": 3804.0}, {"text": "Let\u0027s fix this in", "timestamp": "01:03:28,066", "timestamp_s": 3808.0}, {"text": "our production code. Let\u0027s replace these", "timestamp": "01:03:34,192", "timestamp_s": 3814.0}, {"text": "two lines here.", "timestamp": "01:03:38,304", "timestamp_s": 3818.0}, {"text": "We are going to invoke string which expect", "timestamp": "01:03:43,428", "timestamp_s": 3823.0}, {"text": "status code as the first parameter. And then we provide", "timestamp": "01:03:48,930", "timestamp_s": 3828.0}, {"text": "the string TBR and we get rid", "timestamp": "01:03:52,580", "timestamp_s": 3832.0}, {"text": "of the line to force if", "timestamp": "01:03:56,158", "timestamp_s": 3836.0}, {"text": "we issue the same command. Now we are back", "timestamp": "01:04:01,256", "timestamp_s": 3841.0}, {"text": "in the green area, but let\u0027s refactor", "timestamp": "01:04:05,000", "timestamp_s": 3845.0}, {"text": "this magic number by introducing another constant", "timestamp": "01:04:08,802", "timestamp_s": 3848.0}, {"text": "here. And this constant is", "timestamp": "01:04:12,914", "timestamp_s": 3852.0}, {"text": "db error.", "timestamp": "01:04:16,492", "timestamp_s": 3856.0}, {"text": "Its label is dB error.", "timestamp": "01:04:19,790", "timestamp_s": 3859.0}, {"text": "Here we are going to switch to this new constant which", "timestamp": "01:04:25,470", "timestamp_s": 3865.0}, {"text": "is model dB error and also", "timestamp": "01:04:30,608", "timestamp_s": 3870.0}, {"text": "in our test code.", "timestamp": "01:04:33,908", "timestamp_s": 3873.0}, {"text": "Let\u0027s rerun the test and everything is still good as", "timestamp": "01:04:44,390", "timestamp_s": 3884.0}, {"text": "before. Let\u0027s cut this assertion and put", "timestamp": "01:04:49,736", "timestamp_s": 3889.0}, {"text": "this assertion within the first dB", "timestamp": "01:04:54,136", "timestamp_s": 3894.0}, {"text": "error test method because we", "timestamp": "01:04:58,450", "timestamp_s": 3898.0}, {"text": "are testing the same scenario here. So it\u0027s", "timestamp": "01:05:02,028", "timestamp_s": 3902.0}, {"text": "completely fine to have a single test for it with", "timestamp": "01:05:05,378", "timestamp_s": 3905.0}, {"text": "two assertion plus another for the mock.", "timestamp": "01:05:09,200", "timestamp_s": 3909.0}, {"text": "If we rerun the test now,", "timestamp": "01:05:15,870", "timestamp_s": 3915.0}, {"text": "everything is still good and we have 100%", "timestamp": "01:05:19,936", "timestamp_s": 3919.0}, {"text": "of code coverage.", "timestamp": "01:05:24,356", "timestamp_s": 3924.0}, {"text": "All right, now let\u0027s move to the", "timestamp": "01:05:30,210", "timestamp_s": 3930.0}, {"text": "fourth scenario. That is the to do not found", "timestamp": "01:05:33,672", "timestamp_s": 3933.0}, {"text": "situation.", "timestamp": "01:05:37,848", "timestamp_s": 3937.0}, {"text": "So we are going to duplicate the latest file,", "timestamp": "01:05:41,110", "timestamp_s": 3941.0}, {"text": "the latest test, I mean,", "timestamp": "01:05:44,798", "timestamp_s": 3944.0}, {"text": "and we are going to rename it with not found.", "timestamp": "01:05:48,570", "timestamp_s": 3948.0}, {"text": "The assertion here is different because in", "timestamp": "01:05:57,630", "timestamp_s": 3957.0}, {"text": "this case we would like to have the 404", "timestamp": "01:06:00,848", "timestamp_s": 3960.0}, {"text": "status code. So let\u0027s switch the assertion.", "timestamp": "01:06:07,230", "timestamp_s": 3967.0}, {"text": "First we\u0027ll like the 404", "timestamp": "01:06:10,614", "timestamp_s": 3970.0}, {"text": "status code. However,", "timestamp": "01:06:14,544", "timestamp_s": 3974.0}, {"text": "now the mock is behaving in a little", "timestamp": "01:06:17,870", "timestamp_s": 3977.0}, {"text": "different way. It\u0027s not going to return a", "timestamp": "01:06:21,856", "timestamp_s": 3981.0}, {"text": "generic error, but is returning a specific error which", "timestamp": "01:06:25,512", "timestamp_s": 3985.0}, {"text": "is provided by the gorm package and", "timestamp": "01:06:29,912", "timestamp_s": 3989.0}, {"text": "the error is called error record", "timestamp": "01:06:33,752", "timestamp_s": 3993.0}, {"text": "not found. All right,", "timestamp": "01:06:37,308", "timestamp_s": 3997.0}, {"text": "everything else is still the same except the mock behavior", "timestamp": "01:06:43,210", "timestamp_s": 4003.0}, {"text": "because if the mock we reply with this specific error,", "timestamp": "01:06:46,898", "timestamp_s": 4006.0}, {"text": "we would like to reply to our client with the 404", "timestamp": "01:06:50,582", "timestamp_s": 4010.0}, {"text": "not found status code.", "timestamp": "01:06:55,310", "timestamp_s": 4015.0}, {"text": "All right, now let\u0027s rerun the test", "timestamp": "01:07:02,830", "timestamp_s": 4022.0}, {"text": "and see if we are in the red area.", "timestamp": "01:07:06,240", "timestamp_s": 4026.0}, {"text": "And there we go. Because 404", "timestamp": "01:07:10,990", "timestamp_s": 4030.0}, {"text": "is not equal to 500,", "timestamp": "01:07:14,180", "timestamp_s": 4034.0}, {"text": "so we are allowed to write some production", "timestamp": "01:07:20,530", "timestamp_s": 4040.0}, {"text": "code. Now first of all, let\u0027s grab", "timestamp": "01:07:24,058", "timestamp_s": 4044.0}, {"text": "the result of this transaction in a variable called", "timestamp": "01:07:28,030", "timestamp_s": 4048.0}, {"text": "error. In this way we can", "timestamp": "01:07:31,944", "timestamp_s": 4051.0}, {"text": "inspect this error if", "timestamp": "01:07:35,672", "timestamp_s": 4055.0}, {"text": "errors is,", "timestamp": "01:07:40,010", "timestamp_s": 4060.0}, {"text": "which is a function introduced by the GO", "timestamp": "01:07:43,210", "timestamp_s": 4063.0}, {"text": "113 version that can assert if", "timestamp": "01:07:46,732", "timestamp_s": 4066.0}, {"text": "an error is of a specific type and", "timestamp": "01:07:50,684", "timestamp_s": 4070.0}, {"text": "it return a boolean representing this match.", "timestamp": "01:07:54,032", "timestamp_s": 4074.0}, {"text": "The second parameter is the actual error,", "timestamp": "01:07:59,710", "timestamp_s": 4079.0}, {"text": "that is error record not found.", "timestamp": "01:08:03,654", "timestamp_s": 4083.0}, {"text": "If so,", "timestamp": "01:08:08,290", "timestamp_s": 4088.0}, {"text": "we are going to write the 404 not", "timestamp": "01:08:11,730", "timestamp_s": 4091.0}, {"text": "found status code and", "timestamp": "01:08:16,472", "timestamp_s": 4096.0}, {"text": "we force it to be written", "timestamp": "01:08:22,712", "timestamp_s": 4102.0}, {"text": "and we return.", "timestamp": "01:08:28,390", "timestamp_s": 4108.0}, {"text": "Otherwise, the old logic", "timestamp": "01:08:31,210", "timestamp_s": 4111.0}, {"text": "still relying", "timestamp": "01:08:34,562", "timestamp_s": 4114.0}, {"text": "if we rerun the test now", "timestamp": "01:08:41,218", "timestamp_s": 4121.0}, {"text": "we have in the red, in the green area because we", "timestamp": "01:08:46,704", "timestamp_s": 4126.0}, {"text": "got a positive outcome.", "timestamp": "01:08:50,928", "timestamp_s": 4130.0}, {"text": "What we can do is do a tiny refactoring by", "timestamp": "01:08:55,250", "timestamp_s": 4135.0}, {"text": "using HTTP status", "timestamp": "01:08:59,732", "timestamp_s": 4139.0}, {"text": "not found constant", "timestamp": "01:09:03,258", "timestamp_s": 4143.0}, {"text": "provided by the HTTP package and", "timestamp": "01:09:06,890", "timestamp_s": 4146.0}, {"text": "everything is still good.", "timestamp": "01:09:13,176", "timestamp_s": 4153.0}, {"text": "Now let\u0027s do", "timestamp": "01:09:19,610", "timestamp_s": 4159.0}, {"text": "something more. On this scenario we", "timestamp": "01:09:23,276", "timestamp_s": 4163.0}, {"text": "would like also to test the body. So let\u0027s duplicate", "timestamp": "01:09:26,972", "timestamp_s": 4166.0}, {"text": "this test and then let\u0027s", "timestamp": "01:09:31,950", "timestamp_s": 4171.0}, {"text": "append the body suffix.", "timestamp": "01:09:36,678", "timestamp_s": 4176.0}, {"text": "All right, and let\u0027s", "timestamp": "01:09:39,550", "timestamp_s": 4179.0}, {"text": "change this assertion because now we", "timestamp": "01:09:43,142", "timestamp_s": 4183.0}, {"text": "would like to write an assertion for", "timestamp": "01:09:47,268", "timestamp_s": 4187.0}, {"text": "the body. So we are going to use the contains function of", "timestamp": "01:09:51,012", "timestamp_s": 4191.0}, {"text": "the assert package and", "timestamp": "01:09:55,012", "timestamp_s": 4195.0}, {"text": "in the body string we", "timestamp": "01:09:58,710", "timestamp_s": 4198.0}, {"text": "expect this particular message", "timestamp": "01:10:01,992", "timestamp_s": 4201.0}, {"text": "to do not found because in this scenario", "timestamp": "01:10:05,672", "timestamp_s": 4205.0}, {"text": "the to do is not found in our database.", "timestamp": "01:10:09,278", "timestamp_s": 4209.0}, {"text": "For example, we have only ten to dos", "timestamp": "01:10:12,810", "timestamp_s": 4212.0}, {"text": "and we request for the to do with the id number", "timestamp": "01:10:16,786", "timestamp_s": 4216.0}, {"text": "20. So in this scenario we would like to", "timestamp": "01:10:20,684", "timestamp_s": 4220.0}, {"text": "return and inform the client that the to do is unknown", "timestamp": "01:10:24,528", "timestamp_s": 4224.0}, {"text": "on our system.", "timestamp": "01:10:28,806", "timestamp_s": 4228.0}, {"text": "All right, let\u0027s rerun the", "timestamp": "01:10:32,270", "timestamp_s": 4232.0}, {"text": "test and we are in the", "timestamp": "01:10:35,812", "timestamp_s": 4235.0}, {"text": "red area because string empty does not contain", "timestamp": "01:10:39,268", "timestamp_s": 4239.0}, {"text": "to do not found.", "timestamp": "01:10:42,586", "timestamp_s": 4242.0}, {"text": "So we are going to change it a little bit", "timestamp": "01:10:47,930", "timestamp_s": 4247.0}, {"text": "with c string and then", "timestamp": "01:10:52,490", "timestamp_s": 4252.0}, {"text": "to do not found we", "timestamp": "01:10:55,836", "timestamp_s": 4255.0}, {"text": "no longer need the force of the eder and", "timestamp": "01:10:59,852", "timestamp_s": 4259.0}, {"text": "then we can rerun our test and our", "timestamp": "01:11:03,712", "timestamp_s": 4263.0}, {"text": "tests are successfully.", "timestamp": "01:11:07,456", "timestamp_s": 4267.0}, {"text": "Now let\u0027s introduce another constant", "timestamp": "01:11:12,450", "timestamp_s": 4272.0}, {"text": "to get rid of this magic number. So let\u0027s duplicate", "timestamp": "01:11:15,546", "timestamp_s": 4275.0}, {"text": "the latest variable constant defined here and", "timestamp": "01:11:19,562", "timestamp_s": 4279.0}, {"text": "add a not found there with", "timestamp": "01:11:24,116", "timestamp_s": 4284.0}, {"text": "the label to do not found here", "timestamp": "01:11:29,816", "timestamp_s": 4289.0}, {"text": "we switch it to the variable and", "timestamp": "01:11:33,976", "timestamp_s": 4293.0}, {"text": "we switch also in our test,", "timestamp": "01:11:41,676", "timestamp_s": 4301.0}, {"text": "if we rerun our tests, everything is okay.", "timestamp": "01:11:54,030", "timestamp_s": 4314.0}, {"text": "Now we can merge these", "timestamp": "01:12:00,350", "timestamp_s": 4320.0}, {"text": "two files into one\u0027s,", "timestamp": "01:12:04,576", "timestamp_s": 4324.0}, {"text": "rerun our tests to be sure that we still are", "timestamp": "01:12:13,490", "timestamp_s": 4333.0}, {"text": "with 100% of code coverage.", "timestamp": "01:12:18,390", "timestamp_s": 4338.0}, {"text": "And there we go is exactly in this way.", "timestamp": "01:12:21,662", "timestamp_s": 4341.0}, {"text": "Now we can do another refactoring because", "timestamp": "01:12:27,370", "timestamp_s": 4347.0}, {"text": "it\u0027s very unlikely that we are going to reply with", "timestamp": "01:12:31,644", "timestamp_s": 4351.0}, {"text": "a string, a plain text response", "timestamp": "01:12:35,692", "timestamp_s": 4355.0}, {"text": "payload. Usually when designing a rest API,", "timestamp": "01:12:39,778", "timestamp_s": 4359.0}, {"text": "it\u0027s pretty common to reply with the JSON format,", "timestamp": "01:12:43,830", "timestamp_s": 4363.0}, {"text": "maybe a common format for all", "timestamp": "01:12:47,318", "timestamp_s": 4367.0}, {"text": "of the error. So let\u0027s define this because", "timestamp": "01:12:50,592", "timestamp_s": 4370.0}, {"text": "now we can improve our working solution.", "timestamp": "01:12:54,292", "timestamp_s": 4374.0}, {"text": "So I\u0027m going to switch to models.", "timestamp": "01:12:57,730", "timestamp_s": 4377.0}, {"text": "I\u0027m going to define a new struct called to", "timestamp": "01:13:01,570", "timestamp_s": 4381.0}, {"text": "do error. Sorry for the naming,", "timestamp": "01:13:05,288", "timestamp_s": 4385.0}, {"text": "but it\u0027s only a", "timestamp": "01:13:09,246", "timestamp_s": 4389.0}, {"text": "session so you can choose for sure better", "timestamp": "01:13:12,712", "timestamp_s": 4392.0}, {"text": "names for your real world project.", "timestamp": "01:13:16,200", "timestamp_s": 4396.0}, {"text": "And we are going to add two", "timestamp": "01:13:21,290", "timestamp_s": 4401.0}, {"text": "fields, one code of type string", "timestamp": "01:13:25,532", "timestamp_s": 4405.0}, {"text": "with the JSON annotation code.", "timestamp": "01:13:30,510", "timestamp_s": 4410.0}, {"text": "This code will contain only a short description of", "timestamp": "01:13:34,430", "timestamp_s": 4414.0}, {"text": "the error and it will be represented by our", "timestamp": "01:13:38,128", "timestamp_s": 4418.0}, {"text": "case by our constants that", "timestamp": "01:13:42,320", "timestamp_s": 4422.0}, {"text": "map one to one with our scenario.", "timestamp": "01:13:45,764", "timestamp_s": 4425.0}, {"text": "And then we will have a message with a more", "timestamp": "01:13:49,570", "timestamp_s": 4429.0}, {"text": "verbose explanation of what was wrong.", "timestamp": "01:13:53,716", "timestamp_s": 4433.0}, {"text": "So from the message", "timestamp": "01:13:57,112", "timestamp_s": 4437.0}, {"text": "you can highlight and spot the error. Hopefully it", "timestamp": "01:14:01,830", "timestamp_s": 4441.0}, {"text": "here we go.", "timestamp": "01:14:12,630", "timestamp_s": 4452.0}, {"text": "Now instead of returning a string, let\u0027s return a", "timestamp": "01:14:15,670", "timestamp_s": 4455.0}, {"text": "G\u0027s zone,", "timestamp": "01:14:19,672", "timestamp_s": 4459.0}, {"text": "the JSON expect as the string,", "timestamp": "01:14:23,230", "timestamp_s": 4463.0}, {"text": "the status code as the first parameter and then", "timestamp": "01:14:26,670", "timestamp_s": 4466.0}, {"text": "an object to be serialized on the response.", "timestamp": "01:14:30,160", "timestamp_s": 4470.0}, {"text": "In our case is models to", "timestamp": "01:14:33,890", "timestamp_s": 4473.0}, {"text": "do error and we are going", "timestamp": "01:14:37,268", "timestamp_s": 4477.0}, {"text": "to specify the code and", "timestamp": "01:14:40,548", "timestamp_s": 4480.0}, {"text": "also the message because here we have the message,", "timestamp": "01:14:46,984", "timestamp_s": 4486.0}, {"text": "we we replicate the same behavior", "timestamp": "01:14:55,350", "timestamp_s": 4495.0}, {"text": "also for the validation error,", "timestamp": "01:14:58,754", "timestamp_s": 4498.0}, {"text": "models to do error", "timestamp": "01:15:04,170", "timestamp_s": 4504.0}, {"text": "and also the message also", "timestamp": "01:15:13,870", "timestamp_s": 4513.0}, {"text": "for the latest two which are", "timestamp": "01:15:23,040", "timestamp_s": 4523.0}, {"text": "JSON.", "timestamp": "01:15:26,768", "timestamp_s": 4526.0}, {"text": "All right,", "timestamp": "01:16:15,970", "timestamp_s": 4575.0}, {"text": "now the message with the error.", "timestamp": "01:16:19,330", "timestamp_s": 4579.0}, {"text": "Here we go. So we refactor everything", "timestamp": "01:16:24,050", "timestamp_s": 4584.0}, {"text": "with the usage of the JSOn format.", "timestamp": "01:16:28,568", "timestamp_s": 4588.0}, {"text": "So we are going to reply instead of textplane", "timestamp": "01:16:32,686", "timestamp_s": 4592.0}, {"text": "type of response with the application JSON.", "timestamp": "01:16:37,370", "timestamp_s": 4597.0}, {"text": "Now let\u0027s rerun the test and", "timestamp": "01:16:42,170", "timestamp_s": 4602.0}, {"text": "everything is still okay.", "timestamp": "01:16:47,036", "timestamp_s": 4607.0}, {"text": "So now we are ready to face the last", "timestamp": "01:16:50,590", "timestamp_s": 4610.0}, {"text": "scenario which is the EPIPH scenario,", "timestamp": "01:16:54,304", "timestamp_s": 4614.0}, {"text": "the scenario in which everything goes well.", "timestamp": "01:16:57,862", "timestamp_s": 4617.0}, {"text": "No id, poorly formatted,", "timestamp": "01:17:01,710", "timestamp_s": 4621.0}, {"text": "no invalid request type.", "timestamp": "01:17:04,922", "timestamp_s": 4624.0}, {"text": "Vdb is behaving correctly, no unexpected", "timestamp": "01:17:08,850", "timestamp_s": 4628.0}, {"text": "error and the to do is present is", "timestamp": "01:17:13,082", "timestamp_s": 4633.0}, {"text": "existent within our code base.", "timestamp": "01:17:17,176", "timestamp_s": 4637.0}, {"text": "So everything goes okay and we have to reply", "timestamp": "01:17:20,470", "timestamp_s": 4640.0}, {"text": "with the 202 accepted status code.", "timestamp": "01:17:25,990", "timestamp_s": 4645.0}, {"text": "So let\u0027s rename it to EPIPH and", "timestamp": "01:17:31,290", "timestamp_s": 4651.0}, {"text": "then let\u0027s refactor a little bit our", "timestamp": "01:17:38,092", "timestamp_s": 4658.0}, {"text": "code first", "timestamp": "01:17:43,280", "timestamp_s": 4663.0}, {"text": "of all we have to define a new variable", "timestamp": "01:17:47,616", "timestamp_s": 4667.0}, {"text": "called rows. These rows are", "timestamp": "01:17:51,094", "timestamp_s": 4671.0}, {"text": "the rows returned by our query because", "timestamp": "01:17:54,772", "timestamp_s": 4674.0}, {"text": "now we actually found our", "timestamp": "01:17:57,956", "timestamp_s": 4677.0}, {"text": "record. So sql mock", "timestamp": "01:18:01,316", "timestamp_s": 4681.0}, {"text": "new rows. It will expect a slice", "timestamp": "01:18:05,750", "timestamp_s": 4685.0}, {"text": "of string which are the column to return.", "timestamp": "01:18:09,918", "timestamp_s": 4689.0}, {"text": "We set up the description, sorry, the id,", "timestamp": "01:18:15,990", "timestamp_s": 4695.0}, {"text": "the description is completed", "timestamp": "01:18:19,740", "timestamp_s": 4699.0}, {"text": "and the due date.", "timestamp": "01:18:27,210", "timestamp_s": 4707.0}, {"text": "Then we invoke the method row which expect", "timestamp": "01:18:31,470", "timestamp_s": 4711.0}, {"text": "the actual value to return. Here we", "timestamp": "01:18:35,088", "timestamp_s": 4715.0}, {"text": "are going to return one as id sample", "timestamp": "01:18:38,608", "timestamp_s": 4718.0}, {"text": "to do as description false", "timestamp": "01:18:42,614", "timestamp_s": 4722.0}, {"text": "as is completed and 2023", "timestamp": "01:18:46,778", "timestamp_s": 4726.0}, {"text": "215 as", "timestamp": "01:18:51,280", "timestamp_s": 4731.0}, {"text": "the date.", "timestamp": "01:18:55,496", "timestamp_s": 4735.0}, {"text": "Then in our expect query, instead of", "timestamp": "01:18:59,510", "timestamp_s": 4739.0}, {"text": "returning an error, we actually return the", "timestamp": "01:19:03,096", "timestamp_s": 4743.0}, {"text": "rows and the rows are the one that we just defined.", "timestamp": "01:19:06,952", "timestamp_s": 4746.0}, {"text": "Furthermore, here we have also to forecast a", "timestamp": "01:19:14,330", "timestamp_s": 4754.0}, {"text": "command. So we have to issue an", "timestamp": "01:19:18,732", "timestamp_s": 4758.0}, {"text": "expect begin and", "timestamp": "01:19:22,112", "timestamp_s": 4762.0}, {"text": "then we expect also a commit.", "timestamp": "01:19:26,992", "timestamp_s": 4766.0}, {"text": "So we wrap the command between a begin and", "timestamp": "01:19:30,990", "timestamp_s": 4770.0}, {"text": "the commit. If we expect something wrong", "timestamp": "01:19:34,948", "timestamp_s": 4774.0}, {"text": "instead of commit we are going to expect the rollback", "timestamp": "01:19:39,250", "timestamp_s": 4779.0}, {"text": "inside. We expect an exec provided", "timestamp": "01:19:45,430", "timestamp_s": 4785.0}, {"text": "within backtick and the command is update", "timestamp": "01:19:50,894", "timestamp_s": 4790.0}, {"text": "to DOS set", "timestamp": "01:19:56,630", "timestamp_s": 4796.0}, {"text": "description equal", "timestamp": "01:20:02,230", "timestamp_s": 4802.0}, {"text": "to dollar one, then is completed", "timestamp": "01:20:11,142", "timestamp_s": 4811.0}, {"text": "equal to dollar two,", "timestamp": "01:20:19,070", "timestamp_s": 4819.0}, {"text": "then due date equal", "timestamp": "01:20:21,630", "timestamp_s": 4821.0}, {"text": "to dollar free.", "timestamp": "01:20:26,938", "timestamp_s": 4826.0}, {"text": "Where to dos Id", "timestamp": "01:20:30,930", "timestamp_s": 4830.0}, {"text": "equal to dollar four.", "timestamp": "01:20:40,550", "timestamp_s": 4840.0}, {"text": "Keep in mind that we have to add this condition,", "timestamp": "01:20:45,990", "timestamp_s": 4845.0}, {"text": "otherwise we end up in editing", "timestamp": "01:20:49,298", "timestamp_s": 4849.0}, {"text": "or updating all the records of the table.", "timestamp": "01:20:52,866", "timestamp_s": 4852.0}, {"text": "Another quick note that I", "timestamp": "01:20:57,290", "timestamp_s": 4857.0}, {"text": "would like to mention. If we specify the query", "timestamp": "01:21:00,608", "timestamp_s": 4860.0}, {"text": "matcher equal. You have also to keep attention", "timestamp": "01:21:04,102", "timestamp_s": 4864.0}, {"text": "to the spaces in our query because the query should be exactly", "timestamp": "01:21:08,326", "timestamp_s": 4868.0}, {"text": "the same.", "timestamp": "01:21:12,752", "timestamp_s": 4872.0}, {"text": "Now we have to specify the arguments,", "timestamp": "01:21:16,930", "timestamp_s": 4876.0}, {"text": "all right, and the arguments can be found here", "timestamp": "01:21:20,930", "timestamp_s": 4880.0}, {"text": "in the payload that we accept from our client.", "timestamp": "01:21:25,236", "timestamp_s": 4885.0}, {"text": "So the description is lorem ipsum.", "timestamp": "01:21:29,030", "timestamp_s": 4889.0}, {"text": "The is completed is true.", "timestamp": "01:21:36,550", "timestamp_s": 4896.0}, {"text": "The due date is 2023 50", "timestamp": "01:21:40,650", "timestamp_s": 4900.0}, {"text": "five and the id is one.", "timestamp": "01:21:45,100", "timestamp_s": 4905.0}, {"text": "This will return a result and this result", "timestamp": "01:21:51,070", "timestamp_s": 4911.0}, {"text": "with zero as last insert id and", "timestamp": "01:21:58,030", "timestamp_s": 4918.0}, {"text": "rows affected one.", "timestamp": "01:22:01,856", "timestamp_s": 4921.0}, {"text": "So we are good to go.", "timestamp": "01:22:08,450", "timestamp_s": 4928.0}, {"text": "The assertion that we have to change is we", "timestamp": "01:22:11,810", "timestamp_s": 4931.0}, {"text": "no longer assert on the body because in this scenario we", "timestamp": "01:22:15,912", "timestamp_s": 4935.0}, {"text": "won\u0027t have a body. We only have a", "timestamp": "01:22:19,432", "timestamp_s": 4939.0}, {"text": "status code and then we put 202", "timestamp": "01:22:23,240", "timestamp_s": 4943.0}, {"text": "as the expected status code.", "timestamp": "01:22:27,900", "timestamp_s": 4947.0}, {"text": "Here we go. We can run our", "timestamp": "01:22:32,170", "timestamp_s": 4952.0}, {"text": "handlers now we can run our test", "timestamp": "01:22:36,860", "timestamp_s": 4956.0}, {"text": "and we got an error", "timestamp": "01:22:41,390", "timestamp_s": 4961.0}, {"text": "because we are trying to access", "timestamp": "01:22:50,270", "timestamp_s": 4970.0}, {"text": "a nil value. If we look", "timestamp": "01:22:53,876", "timestamp_s": 4973.0}, {"text": "closer to the stack trace we can see that", "timestamp": "01:22:57,492", "timestamp_s": 4977.0}, {"text": "the line involved is the 39.", "timestamp": "01:23:01,316", "timestamp_s": 4981.0}, {"text": "If you can see from this line it says", "timestamp": "01:23:04,644", "timestamp_s": 4984.0}, {"text": "that is the 39. That\u0027s why here", "timestamp": "01:23:08,056", "timestamp_s": 4988.0}, {"text": "we are trying to access this error.", "timestamp": "01:23:12,150", "timestamp_s": 4992.0}, {"text": "All right, but this error is", "timestamp": "01:23:16,150", "timestamp_s": 4996.0}, {"text": "nil because now the mock is not returning", "timestamp": "01:23:20,092", "timestamp_s": 5000.0}, {"text": "any error. All right,", "timestamp": "01:23:23,938", "timestamp_s": 5003.0}, {"text": "so let\u0027s fix this by avoiding to", "timestamp": "01:23:28,570", "timestamp_s": 5008.0}, {"text": "invoke this. In this case,", "timestamp": "01:23:36,512", "timestamp_s": 5016.0}, {"text": "if we rerun the test we", "timestamp": "01:23:40,910", "timestamp_s": 5020.0}, {"text": "can see that there are this actual", "timestamp": "01:23:45,252", "timestamp_s": 5025.0}, {"text": "error. The error is we expect", "timestamp": "01:23:49,300", "timestamp_s": 5029.0}, {"text": "202 but we got 500 and also", "timestamp": "01:23:52,868", "timestamp_s": 5032.0}, {"text": "there are unmatched expectation because", "timestamp": "01:23:56,264", "timestamp_s": 5036.0}, {"text": "we expect a begin, we expect a command and we didn\u0027t", "timestamp": "01:24:00,680", "timestamp_s": 5040.0}, {"text": "write the command yet, right?", "timestamp": "01:24:04,462", "timestamp_s": 5044.0}, {"text": "So let\u0027s fix this.", "timestamp": "01:24:07,784", "timestamp_s": 5047.0}, {"text": "The first thing that we have to do is", "timestamp": "01:24:11,050", "timestamp_s": 5051.0}, {"text": "to declare a", "timestamp": "01:24:14,620", "timestamp_s": 5054.0}, {"text": "variable of type to do and this to do is the one", "timestamp": "01:24:18,252", "timestamp_s": 5058.0}, {"text": "that will be updated on the database.", "timestamp": "01:24:21,776", "timestamp_s": 5061.0}, {"text": "So we are going to instantiate a to do to", "timestamp": "01:24:25,950", "timestamp_s": 5065.0}, {"text": "save variable of type models", "timestamp": "01:24:29,392", "timestamp_s": 5069.0}, {"text": "to do and we set only the", "timestamp": "01:24:34,210", "timestamp_s": 5074.0}, {"text": "column that we are going to change description to", "timestamp": "01:24:38,532", "timestamp_s": 5078.0}, {"text": "do DTO description when is completed", "timestamp": "01:24:42,548", "timestamp_s": 5082.0}, {"text": "from the to do DTO is completed,", "timestamp": "01:24:47,510", "timestamp_s": 5087.0}, {"text": "then the", "timestamp": "01:24:50,710", "timestamp_s": 5090.0}, {"text": "due date from the to do DTO due date.", "timestamp": "01:24:54,072", "timestamp_s": 5094.0}, {"text": "Keep in mind that this logic is the mapping logic", "timestamp": "01:24:58,570", "timestamp_s": 5098.0}, {"text": "between the DTO and our model. In an", "timestamp": "01:25:02,114", "timestamp_s": 5102.0}, {"text": "even more complex application it can be extrapolated", "timestamp": "01:25:06,092", "timestamp_s": 5106.0}, {"text": "into a service and we can write tests against this", "timestamp": "01:25:09,666", "timestamp_s": 5109.0}, {"text": "service. However, for the sake of", "timestamp": "01:25:13,600", "timestamp_s": 5113.0}, {"text": "the time we are not going to deal", "timestamp": "01:25:17,232", "timestamp_s": 5117.0}, {"text": "with such complex scenario.", "timestamp": "01:25:20,560", "timestamp_s": 5120.0}, {"text": "Then with this to", "timestamp": "01:25:25,810", "timestamp_s": 5125.0}, {"text": "do we are going to invoke the updates,", "timestamp": "01:25:29,572", "timestamp_s": 5129.0}, {"text": "the updates method and we pass a", "timestamp": "01:25:33,250", "timestamp_s": 5133.0}, {"text": "pointer to this variable to do to save.", "timestamp": "01:25:36,632", "timestamp_s": 5136.0}, {"text": "Then we check for the error.", "timestamp": "01:25:42,980", "timestamp_s": 5142.0}, {"text": "So we prepend an if and we check", "timestamp": "01:25:46,980", "timestamp_s": 5146.0}, {"text": "for the error.", "timestamp": "01:25:50,570", "timestamp_s": 5150.0}, {"text": "We move this logic within", "timestamp": "01:25:56,040", "timestamp_s": 5156.0}, {"text": "the dave. So this logic will be", "timestamp": "01:26:00,680", "timestamp_s": 5160.0}, {"text": "executed only if the GormDB", "timestamp": "01:26:04,606", "timestamp_s": 5164.0}, {"text": "client will return an error, otherwise we can skip", "timestamp": "01:26:09,076", "timestamp_s": 5169.0}, {"text": "it at all. Now in this case", "timestamp": "01:26:13,396", "timestamp_s": 5173.0}, {"text": "we are sure that the error is always populated", "timestamp": "01:26:16,946", "timestamp_s": 5176.0}, {"text": "so it\u0027s safe to invoke error error and", "timestamp": "01:26:22,184", "timestamp_s": 5182.0}, {"text": "return from it.", "timestamp": "01:26:26,514", "timestamp_s": 5186.0}, {"text": "If no error is encountered, we are going to", "timestamp": "01:26:32,660", "timestamp_s": 5192.0}, {"text": "return our header", "timestamp": "01:26:36,518", "timestamp_s": 5196.0}, {"text": "and we have to force it\u0027s", "timestamp": "01:26:41,240", "timestamp_s": 5201.0}, {"text": "if we run go test v cover.", "timestamp": "01:26:52,944", "timestamp_s": 5212.0}, {"text": "Now everything is okay and we", "timestamp": "01:26:57,260", "timestamp_s": 5217.0}, {"text": "meet all of the expectation of the mock.", "timestamp": "01:27:01,262", "timestamp_s": 5221.0}, {"text": "Let\u0027s do a small refactor.", "timestamp": "01:27:06,080", "timestamp_s": 5226.0}, {"text": "All right, here we go. Now,", "timestamp": "01:27:16,080", "timestamp_s": 5236.0}, {"text": "the last part that I would like to mention is that", "timestamp": "01:27:20,020", "timestamp_s": 5240.0}, {"text": "usually this db logic is not placed here", "timestamp": "01:27:24,198", "timestamp_s": 5244.0}, {"text": "because this method is becoming", "timestamp": "01:27:28,086", "timestamp_s": 5248.0}, {"text": "too much bloated. So let\u0027s define a new package,", "timestamp": "01:27:31,904", "timestamp_s": 5251.0}, {"text": "this package, it will be called repo package.", "timestamp": "01:27:38,280", "timestamp_s": 5258.0}, {"text": "We are going to create a repo,", "timestamp": "01:27:46,460", "timestamp_s": 5266.0}, {"text": "a repo file within the repo package.", "timestamp": "01:27:51,100", "timestamp_s": 5271.0}, {"text": "All right, let\u0027s define the package which is a repo,", "timestamp": "01:28:00,480", "timestamp_s": 5280.0}, {"text": "and also define the function that is updated.", "timestamp": "01:28:04,056", "timestamp_s": 5284.0}, {"text": "To do it will expect adb", "timestamp": "01:28:07,756", "timestamp_s": 5287.0}, {"text": "as Gorm db,", "timestamp": "01:28:12,340", "timestamp_s": 5292.0}, {"text": "an Id as integer, and also a", "timestamp": "01:28:17,460", "timestamp_s": 5297.0}, {"text": "to do to save of", "timestamp": "01:28:21,066", "timestamp_s": 5301.0}, {"text": "type models to", "timestamp": "01:28:24,826", "timestamp_s": 5304.0}, {"text": "do and it will return an error.", "timestamp": "01:28:29,658", "timestamp_s": 5309.0}, {"text": "Let\u0027s put return nil in order to satisfy", "timestamp": "01:28:37,020", "timestamp_s": 5317.0}, {"text": "his complaint and then let\u0027s copy this", "timestamp": "01:28:42,676", "timestamp_s": 5322.0}, {"text": "logic over there\u0027s", "timestamp": "01:28:47,682", "timestamp_s": 5327.0}, {"text": "all right here we", "timestamp": "01:28:57,700", "timestamp_s": 5337.0}, {"text": "had a couple of refactoring to do. First of all,", "timestamp": "01:29:01,382", "timestamp_s": 5341.0}, {"text": "let\u0027s assign the error.", "timestamp": "01:29:04,854", "timestamp_s": 5344.0}, {"text": "Then let\u0027s add the eros", "timestamp": "01:29:09,080", "timestamp_s": 5349.0}, {"text": "package and also add", "timestamp": "01:29:12,272", "timestamp_s": 5352.0}, {"text": "the net HTTP.", "timestamp": "01:29:16,266", "timestamp_s": 5356.0}, {"text": "Then we have to return an", "timestamp": "01:29:25,740", "timestamp_s": 5365.0}, {"text": "error model, only the model.", "timestamp": "01:29:30,542", "timestamp_s": 5370.0}, {"text": "All right, and the same applies", "timestamp": "01:29:45,580", "timestamp_s": 5385.0}, {"text": "here.", "timestamp": "01:29:49,404", "timestamp_s": 5389.0}, {"text": "Now go is complaining about", "timestamp": "01:29:56,820", "timestamp_s": 5396.0}, {"text": "the fact that to do error is not a", "timestamp": "01:30:02,522", "timestamp_s": 5402.0}, {"text": "valid error. That\u0027s why in order to be", "timestamp": "01:30:05,914", "timestamp_s": 5405.0}, {"text": "recognized as an error, it has to implement an interface.", "timestamp": "01:30:09,338", "timestamp_s": 5409.0}, {"text": "So we are going to implement this interface.", "timestamp": "01:30:14,780", "timestamp_s": 5414.0}, {"text": "The interface method is called error without", "timestamp": "01:30:20,300", "timestamp_s": 5420.0}, {"text": "any arguments and it will return a string.", "timestamp": "01:30:24,510", "timestamp_s": 5424.0}, {"text": "Here we go. Now we satisfied,", "timestamp": "01:30:35,520", "timestamp_s": 5435.0}, {"text": "we satisfied his", "timestamp": "01:30:40,980", "timestamp_s": 5440.0}, {"text": "complaint. However, we can do even", "timestamp": "01:30:45,062", "timestamp_s": 5445.0}, {"text": "better because now we typecast it.", "timestamp": "01:30:48,950", "timestamp_s": 5448.0}, {"text": "We typecast the error here and then we", "timestamp": "01:30:53,082", "timestamp_s": 5453.0}, {"text": "have to typecast also the error here in order to understand", "timestamp": "01:30:56,458", "timestamp_s": 5456.0}, {"text": "which status code actually returned to the client.", "timestamp": "01:31:01,080", "timestamp_s": 5461.0}, {"text": "A smart way of achieving this is to add", "timestamp": "01:31:05,100", "timestamp_s": 5465.0}, {"text": "another field here,", "timestamp": "01:31:09,118", "timestamp_s": 5469.0}, {"text": "maybe a field called status code of", "timestamp": "01:31:12,460", "timestamp_s": 5472.0}, {"text": "type int. And we add a JSOn", "timestamp": "01:31:15,822", "timestamp_s": 5475.0}, {"text": "annotation dash, which means in", "timestamp": "01:31:19,524", "timestamp_s": 5479.0}, {"text": "your it. So when you are about to marshall it, you can", "timestamp": "01:31:23,378", "timestamp_s": 5483.0}, {"text": "ignore this field.", "timestamp": "01:31:27,462", "timestamp_s": 5487.0}, {"text": "So in this way we can assert and", "timestamp": "01:31:31,300", "timestamp_s": 5491.0}, {"text": "use the status code and set the", "timestamp": "01:31:35,654", "timestamp_s": 5495.0}, {"text": "HTTP response status code by reading that value,", "timestamp": "01:31:39,946", "timestamp_s": 5499.0}, {"text": "and that value will not be copied again within", "timestamp": "01:31:43,642", "timestamp_s": 5503.0}, {"text": "the response payload.", "timestamp": "01:31:48,074", "timestamp_s": 5508.0}, {"text": "So let\u0027s do this HTTP not", "timestamp": "01:31:52,060", "timestamp_s": 5512.0}, {"text": "found and then", "timestamp": "01:31:56,350", "timestamp_s": 5516.0}, {"text": "also for this HTTP", "timestamp": "01:32:00,270", "timestamp_s": 5520.0}, {"text": "internal it.", "timestamp": "01:32:13,500", "timestamp_s": 5533.0}, {"text": "Now let\u0027s switch the code here because now", "timestamp": "01:32:19,460", "timestamp_s": 5539.0}, {"text": "what we have to do here is to", "timestamp": "01:32:23,700", "timestamp_s": 5543.0}, {"text": "define a to do error which", "timestamp": "01:32:28,100", "timestamp_s": 5548.0}, {"text": "is typecasted from the models.", "timestamp": "01:32:31,722", "timestamp_s": 5551.0}, {"text": "To do error in this way, to do error is", "timestamp": "01:32:35,520", "timestamp_s": 5555.0}, {"text": "our error and we can use its value and", "timestamp": "01:32:39,578", "timestamp_s": 5559.0}, {"text": "its fields such as the status code. And we actually", "timestamp": "01:32:43,246", "timestamp_s": 5563.0}, {"text": "are going to do this.", "timestamp": "01:32:47,022", "timestamp_s": 5567.0}, {"text": "The gzone status code is the status code", "timestamp": "01:32:50,700", "timestamp_s": 5570.0}, {"text": "within the to do error variable, and then we", "timestamp": "01:32:54,302", "timestamp_s": 5574.0}, {"text": "simply reference it this way", "timestamp": "01:32:58,482", "timestamp_s": 5578.0}, {"text": "if we rerun the tests.", "timestamp": "01:33:03,680", "timestamp_s": 5583.0}, {"text": "Oh my God,", "timestamp": "01:33:18,450", "timestamp_s": 5598.0}, {"text": "let me redo this.", "timestamp": "01:33:22,530", "timestamp_s": 5602.0}, {"text": "All right,", "timestamp": "01:33:40,070", "timestamp_s": 5620.0}, {"text": "let me redo. All right,", "timestamp": "01:33:43,510", "timestamp_s": 5623.0}, {"text": "here we could try to run our test.", "timestamp": "01:33:46,920", "timestamp_s": 5626.0}, {"text": "However, we need to invoke the", "timestamp": "01:33:50,950", "timestamp_s": 5630.0}, {"text": "new function created. So repo update", "timestamp": "01:33:54,828", "timestamp_s": 5634.0}, {"text": "to do and we actually pass the db,", "timestamp": "01:34:01,890", "timestamp_s": 5641.0}, {"text": "the id and the to do to save it", "timestamp": "01:34:07,630", "timestamp_s": 5647.0}, {"text": "when if we run it, everything should", "timestamp": "01:34:15,968", "timestamp_s": 5655.0}, {"text": "be okay.", "timestamp": "01:34:19,412", "timestamp_s": 5659.0}, {"text": "Now we have successfully designed our handler,", "timestamp": "01:34:25,490", "timestamp_s": 5665.0}, {"text": "our models, our repo. Let\u0027s wire them up", "timestamp": "01:34:28,906", "timestamp_s": 5668.0}, {"text": "in a main file because at the end", "timestamp": "01:34:32,952", "timestamp_s": 5672.0}, {"text": "we need to have something that actually run our", "timestamp": "01:34:36,792", "timestamp_s": 5676.0}, {"text": "application. So let\u0027s define", "timestamp": "01:34:40,376", "timestamp_s": 5680.0}, {"text": "a main method.", "timestamp": "01:34:44,306", "timestamp_s": 5684.0}, {"text": "So here in the workspace root", "timestamp": "01:34:47,690", "timestamp_s": 5687.0}, {"text": "we are going to create a package main with", "timestamp": "01:34:51,090", "timestamp_s": 5691.0}, {"text": "the funk main.", "timestamp": "01:34:55,968", "timestamp_s": 5695.0}, {"text": "But before running this we", "timestamp": "01:35:00,910", "timestamp_s": 5700.0}, {"text": "have to run a postgres, a docker", "timestamp": "01:35:06,208", "timestamp_s": 5706.0}, {"text": "command in order to spin up a postgres", "timestamp": "01:35:09,722", "timestamp_s": 5709.0}, {"text": "instance. So the command is docker run", "timestamp": "01:35:13,082", "timestamp_s": 5713.0}, {"text": "d for detached mode, p for the", "timestamp": "01:35:18,210", "timestamp_s": 5718.0}, {"text": "port mapping, and we map this port", "timestamp": "01:35:22,168", "timestamp_s": 5722.0}, {"text": "from my host machine to the container port.", "timestamp": "01:35:26,264", "timestamp_s": 5726.0}, {"text": "Then we set an environment variable called postgres", "timestamp": "01:35:31,030", "timestamp_s": 5731.0}, {"text": "password equal to", "timestamp": "01:35:35,746", "timestamp_s": 5735.0}, {"text": "postgres and then the image to", "timestamp": "01:35:39,052", "timestamp_s": 5739.0}, {"text": "base our container.", "timestamp": "01:35:43,532", "timestamp_s": 5743.0}, {"text": "In this case it successfully spin up", "timestamp": "01:35:47,310", "timestamp_s": 5747.0}, {"text": "a docker container.", "timestamp": "01:35:50,736", "timestamp_s": 5750.0}, {"text": "Now we are ready to connect.", "timestamp": "01:35:54,270", "timestamp_s": 5754.0}, {"text": "First of all, let\u0027s define a DSN which", "timestamp": "01:35:57,890", "timestamp_s": 5757.0}, {"text": "involves host equal to localhost,", "timestamp": "01:36:02,836", "timestamp_s": 5762.0}, {"text": "then port equal to 54322,", "timestamp": "01:36:08,610", "timestamp_s": 5768.0}, {"text": "a user which is postgres password", "timestamp": "01:36:16,550", "timestamp_s": 5776.0}, {"text": "which is postgres db name", "timestamp": "01:36:23,370", "timestamp_s": 5783.0}, {"text": "which is still postgres,", "timestamp": "01:36:28,028", "timestamp_s": 5788.0}, {"text": "and the SSL mode equal to disable.", "timestamp": "01:36:31,530", "timestamp_s": 5791.0}, {"text": "This is for sure for the sake of demo.", "timestamp": "01:36:36,190", "timestamp_s": 5796.0}, {"text": "I\u0027m not expecting that any of you actually pass", "timestamp": "01:36:40,110", "timestamp_s": 5800.0}, {"text": "a connection string or DSN in this way,", "timestamp": "01:36:43,600", "timestamp_s": 5803.0}, {"text": "but it\u0027s completely fine for local development.", "timestamp": "01:36:48,530", "timestamp_s": 5808.0}, {"text": "Then we are going to instantiate a gormdb", "timestamp": "01:36:52,850", "timestamp_s": 5812.0}, {"text": "and the error by invoking the gorm", "timestamp": "01:36:56,610", "timestamp_s": 5816.0}, {"text": "open function which expect in", "timestamp": "01:37:00,794", "timestamp_s": 5820.0}, {"text": "a dialector which is provided by", "timestamp": "01:37:05,190", "timestamp_s": 5825.0}, {"text": "the postgres open with", "timestamp": "01:37:09,032", "timestamp_s": 5829.0}, {"text": "DSN.", "timestamp": "01:37:13,820", "timestamp_s": 5833.0}, {"text": "If the error is not nil, we immediately", "timestamp": "01:37:18,970", "timestamp_s": 5838.0}, {"text": "stop the application because the connectivity is not working", "timestamp": "01:37:23,026", "timestamp_s": 5843.0}, {"text": "properly.", "timestamp": "01:37:26,624", "timestamp_s": 5846.0}, {"text": "Then we have to run the auto migration", "timestamp": "01:37:32,670", "timestamp_s": 5852.0}, {"text": "in order to auto", "timestamp": "01:37:37,970", "timestamp_s": 5857.0}, {"text": "create the tables.", "timestamp": "01:37:42,058", "timestamp_s": 5862.0}, {"text": "In this case, if we don\u0027t have the table, the table will be created", "timestamp": "01:37:46,618", "timestamp_s": 5866.0}, {"text": "if we have other column. This column will be added and", "timestamp": "01:37:50,990", "timestamp_s": 5870.0}, {"text": "so on and so forth. It will keep automatically synchronized", "timestamp": "01:37:54,728", "timestamp_s": 5874.0}, {"text": "our structure to our tables.", "timestamp": "01:37:58,670", "timestamp_s": 5878.0}, {"text": "Then we add a start,", "timestamp": "01:38:03,370", "timestamp_s": 5883.0}, {"text": "let\u0027s say an initial to do", "timestamp": "01:38:08,490", "timestamp_s": 5888.0}, {"text": "just for the sake of demo models to", "timestamp": "01:38:12,412", "timestamp_s": 5892.0}, {"text": "do and we specify the id equal", "timestamp": "01:38:18,192", "timestamp_s": 5898.0}, {"text": "to one, the description equal to", "timestamp": "01:38:22,358", "timestamp_s": 5902.0}, {"text": "sample to do where", "timestamp": "01:38:26,080", "timestamp_s": 5906.0}, {"text": "is completed equal to false,", "timestamp": "01:38:35,936", "timestamp_s": 5915.0}, {"text": "and the due date equal to 2023", "timestamp": "01:38:42,310", "timestamp_s": 5922.0}, {"text": "215.", "timestamp": "01:38:47,928", "timestamp_s": 5927.0}, {"text": "Then we have to take care of gain.", "timestamp": "01:38:53,530", "timestamp_s": 5933.0}, {"text": "We have to set up the mode which is gin", "timestamp": "01:38:57,690", "timestamp_s": 5937.0}, {"text": "debug mode. And then we", "timestamp": "01:39:02,650", "timestamp_s": 5942.0}, {"text": "have to create a router by invoking", "timestamp": "01:39:06,048", "timestamp_s": 5946.0}, {"text": "the default function.", "timestamp": "01:39:10,214", "timestamp_s": 5950.0}, {"text": "Then we instrument the router to reply to", "timestamp": "01:39:15,310", "timestamp_s": 5955.0}, {"text": "the put action at", "timestamp": "01:39:19,636", "timestamp_s": 5959.0}, {"text": "this route and then we invoke", "timestamp": "01:39:25,252", "timestamp_s": 5965.0}, {"text": "Android update", "timestamp": "01:39:28,890", "timestamp_s": 5968.0}, {"text": "to do error", "timestamp": "01:39:33,086", "timestamp_s": 5973.0}, {"text": "run to run our application.", "timestamp": "01:39:37,470", "timestamp_s": 5977.0}, {"text": "The last thing that we missed is to actually", "timestamp": "01:39:42,970", "timestamp_s": 5982.0}, {"text": "provide the GormDB. In this case", "timestamp": "01:39:47,228", "timestamp_s": 5987.0}, {"text": "we are going to use a middleware for injecting", "timestamp": "01:39:51,100", "timestamp_s": 5991.0}, {"text": "the Gormdb in each HTTP request session", "timestamp": "01:39:54,482", "timestamp_s": 5994.0}, {"text": "that we are going to manage.", "timestamp": "01:39:58,262", "timestamp_s": 5998.0}, {"text": "The first thing when you are about to inject", "timestamp": "01:40:04,270", "timestamp_s": 6004.0}, {"text": "some code in a middleware is to remember to", "timestamp": "01:40:08,454", "timestamp_s": 6008.0}, {"text": "call the next middleware. So I suggest", "timestamp": "01:40:12,612", "timestamp_s": 6012.0}, {"text": "you to do it first and then", "timestamp": "01:40:15,962", "timestamp_s": 6015.0}, {"text": "leave this invocation at the bottom of this code snippet", "timestamp": "01:40:19,524", "timestamp_s": 6019.0}, {"text": "here we are going to invoke set as we did in our test", "timestamp": "01:40:25,510", "timestamp_s": 6025.0}, {"text": "and we provide Android db", "timestamp": "01:40:29,464", "timestamp_s": 6029.0}, {"text": "key which is the constant we defined in the Android package.", "timestamp": "01:40:34,162", "timestamp_s": 6034.0}, {"text": "And then we pass the Gormdb as", "timestamp": "01:40:40,010", "timestamp_s": 6040.0}, {"text": "a best practice. Keep in mind to always use", "timestamp": "01:40:45,728", "timestamp_s": 6045.0}, {"text": "the timeout context in order to cancel", "timestamp": "01:40:50,270", "timestamp_s": 6050.0}, {"text": "and avoid to do unnecessary operation on IO", "timestamp": "01:40:53,542", "timestamp_s": 6053.0}, {"text": "resources such as a database.", "timestamp": "01:40:57,974", "timestamp_s": 6057.0}, {"text": "So let\u0027s do this. Let\u0027s define a new concepts", "timestamp": "01:41:01,170", "timestamp_s": 6061.0}, {"text": "called timeout context and a", "timestamp": "01:41:05,642", "timestamp_s": 6065.0}, {"text": "cancel function.", "timestamp": "01:41:09,652", "timestamp_s": 6069.0}, {"text": "We invoke the context with timeout function and", "timestamp": "01:41:13,110", "timestamp_s": 6073.0}, {"text": "we passed to it the request", "timestamp": "01:41:16,952", "timestamp_s": 6076.0}, {"text": "context together with the expiration time.", "timestamp": "01:41:20,606", "timestamp_s": 6080.0}, {"text": "For our demo we can do 5 seconds.", "timestamp": "01:41:25,210", "timestamp_s": 6085.0}, {"text": "Keep in mind to defer the invocation of the cancel", "timestamp": "01:41:29,610", "timestamp_s": 6089.0}, {"text": "function. Then we", "timestamp": "01:41:33,586", "timestamp_s": 6093.0}, {"text": "are going to use the with context in order to give", "timestamp": "01:41:37,488", "timestamp_s": 6097.0}, {"text": "a context timeout to our GormdB. And we", "timestamp": "01:41:41,312", "timestamp_s": 6101.0}, {"text": "passed the timeout context.", "timestamp": "01:41:45,472", "timestamp_s": 6105.0}, {"text": "All right, now we can run", "timestamp": "01:41:50,850", "timestamp_s": 6110.0}, {"text": "some tests with Postman. So in", "timestamp": "01:41:54,964", "timestamp_s": 6114.0}, {"text": "order to run our application, let\u0027s switch", "timestamp": "01:41:58,388", "timestamp_s": 6118.0}, {"text": "back to the main and issue a go run.", "timestamp": "01:42:02,462", "timestamp_s": 6122.0}, {"text": "As you can see here, the server is starting and", "timestamp": "01:42:06,710", "timestamp_s": 6126.0}, {"text": "is waiting for incoming request to be managed.", "timestamp": "01:42:11,176", "timestamp_s": 6131.0}, {"text": "Here we go. We are in postman now and", "timestamp": "01:42:17,930", "timestamp_s": 6137.0}, {"text": "I prepared the scenario. One request", "timestamp": "01:42:21,932", "timestamp_s": 6141.0}, {"text": "for each scenario. The first one is the epipath.", "timestamp": "01:42:25,622", "timestamp_s": 6145.0}, {"text": "So let\u0027s run it and we got a 202", "timestamp": "01:42:30,038", "timestamp_s": 6150.0}, {"text": "status accepted. The second one is with a", "timestamp": "01:42:33,632", "timestamp_s": 6153.0}, {"text": "wrong integer ABC. So if", "timestamp": "01:42:37,812", "timestamp_s": 6157.0}, {"text": "we still run it, we have a bad request.", "timestamp": "01:42:41,652", "timestamp_s": 6161.0}, {"text": "The table not found scenario is not easy to test", "timestamp": "01:42:46,690", "timestamp_s": 6166.0}, {"text": "because we had to actually change the code and maybe we can do", "timestamp": "01:42:51,240", "timestamp_s": 6171.0}, {"text": "it later. The validation error", "timestamp": "01:42:55,032", "timestamp_s": 6175.0}, {"text": "instead doesn\u0027t have a description set and", "timestamp": "01:42:59,102", "timestamp_s": 6179.0}, {"text": "we have the 400 build request.", "timestamp": "01:43:05,048", "timestamp_s": 6185.0}, {"text": "The last one is the to do not found which", "timestamp": "01:43:08,570", "timestamp_s": 6188.0}, {"text": "actually reply 404 status not found.", "timestamp": "01:43:13,820", "timestamp_s": 6193.0}, {"text": "Now we can try to test", "timestamp": "01:43:18,430", "timestamp_s": 6198.0}, {"text": "this scenario with", "timestamp": "01:43:23,984", "timestamp_s": 6203.0}, {"text": "a small tweaks, a small gotcha that I\u0027m going to", "timestamp": "01:43:27,892", "timestamp_s": 6207.0}, {"text": "show you in the code. All right,", "timestamp": "01:43:31,188", "timestamp_s": 6211.0}, {"text": "in the code we can mock the database", "timestamp": "01:43:35,060", "timestamp_s": 6215.0}, {"text": "error. In this way you have to go to the repo,", "timestamp": "01:43:39,082", "timestamp_s": 6219.0}, {"text": "define a variable called test of type", "timestamp": "01:43:45,430", "timestamp_s": 6225.0}, {"text": "string and then issue a", "timestamp": "01:43:49,064", "timestamp_s": 6229.0}, {"text": "sample command, a command that emulate some", "timestamp": "01:43:53,948", "timestamp_s": 6233.0}, {"text": "intensive workload on the database.", "timestamp": "01:43:59,770", "timestamp_s": 6239.0}, {"text": "In our case it will be a simple weight.", "timestamp": "01:44:02,834", "timestamp_s": 6242.0}, {"text": "So in the row let\u0027s add select", "timestamp": "01:44:07,106", "timestamp_s": 6247.0}, {"text": "PG underscore sleep and", "timestamp": "01:44:11,408", "timestamp_s": 6251.0}, {"text": "we told him to sleep for 10 seconds.", "timestamp": "01:44:16,030", "timestamp_s": 6256.0}, {"text": "In this way we are going to wait for", "timestamp": "01:44:20,370", "timestamp_s": 6260.0}, {"text": "the connection for 10 seconds and this", "timestamp": "01:44:26,290", "timestamp_s": 6266.0}, {"text": "should return a concepts exceeded", "timestamp": "01:44:30,470", "timestamp_s": 6270.0}, {"text": "error. Then we invoke the", "timestamp": "01:44:34,974", "timestamp_s": 6274.0}, {"text": "scan in order to actually materialize the query", "timestamp": "01:44:38,648", "timestamp_s": 6278.0}, {"text": "to the database and we passed in the point the", "timestamp": "01:44:42,830", "timestamp_s": 6282.0}, {"text": "address of the test variable.", "timestamp": "01:44:46,732", "timestamp_s": 6286.0}, {"text": "All right, now we should", "timestamp": "01:44:50,570", "timestamp_s": 6290.0}, {"text": "be able to rerun our application again.", "timestamp": "01:44:53,884", "timestamp_s": 6293.0}, {"text": "In the postman we can try to issue okay,", "timestamp": "01:44:59,790", "timestamp_s": 6299.0}, {"text": "let me redo this again.", "timestamp": "01:45:03,600", "timestamp_s": 6303.0}, {"text": "In postman we can test for this newly", "timestamp": "01:45:07,408", "timestamp_s": 6307.0}, {"text": "created scenario. Now if we run any", "timestamp": "01:45:10,842", "timestamp_s": 6310.0}, {"text": "of our query it will be post for 10 seconds and", "timestamp": "01:45:14,452", "timestamp_s": 6314.0}, {"text": "it should cause an error 500 error.", "timestamp": "01:45:18,644", "timestamp_s": 6318.0}, {"text": "So let\u0027s invoke it. It hangs", "timestamp": "01:45:22,158", "timestamp_s": 6322.0}, {"text": "for a while and", "timestamp": "01:45:25,614", "timestamp_s": 6325.0}, {"text": "then we got back this", "timestamp": "01:45:29,352", "timestamp_s": 6329.0}, {"text": "message. DB error and concepts deadline exceeded", "timestamp": "01:45:33,350", "timestamp_s": 6333.0}, {"text": "500 so we would able to test also", "timestamp": "01:45:37,566", "timestamp_s": 6337.0}, {"text": "this scenario. All right, this finish", "timestamp": "01:45:41,704", "timestamp_s": 6341.0}, {"text": "my session about test driven development with go", "timestamp": "01:45:45,920", "timestamp_s": 6345.0}, {"text": "on the screen you can see my social.", "timestamp": "01:45:50,032", "timestamp_s": 6350.0}, {"text": "If you\u0027d like, you can add me on each of them.", "timestamp": "01:45:53,230", "timestamp_s": 6353.0}, {"text": "I will be more than happy. Thanks to all", "timestamp": "01:45:56,944", "timestamp_s": 6356.0}, {"text": "for their attention.", "timestamp": "01:46:00,752", "timestamp_s": 6360.0}];
              

              var tag = document.createElement('script');

              tag.src = "https://www.youtube.com/iframe_api";
              var firstScriptTag = document.getElementsByTagName('script')[0];
              firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

              // 3. This function creates an <iframe> (and YouTube player)
              //    after the API code downloads.
              var player;
              function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                  height: '100%',
                  width: '100%',
                  videoId: '-ngNReCPRLE',
                  playerVars: {
                    'playsinline': 1
                  },
                  events: {
                    'onReady': onPlayerReady,
                    // 'onStateChange': onPlayerStateChange
                  }
                });
              }
              function onPlayerReady(event) {
                console.log("Player ready");
                var sec = Number(location.href.split("#")[1]);
                if (sec){
                  player.seekTo(sec, true);
                }
                player.playVideo();
                highlightParagraph();
              }
              // find the number of the paragraph
              function findParagraph(sec){
                for (var i = 1; i < transcript.length; i++) {
                  if (transcript[i].timestamp_s > sec){
                    return i - 1;
                  }
                }
                return transcript.length - 1;
              }
              // move the video to the desired second
              function seek(sec){
                if(player){
                  player.playVideo();
                  player.seekTo(sec, true);
                }
                location.href = location.href.split("#")[0] + "#" + sec;
                highlightParagraph(sec);
              }
              // highlight the right paragraph
              var prevParagraph;
              function highlightParagraph(sec) {
                var currentTime = sec;
                if (!currentTime && player) {
                  currentTime = player.getCurrentTime();
                }
                if (!currentTime){
                  console.log("No current time")
                  return;
                }
                var currentParagraph = findParagraph(currentTime);
                if (currentParagraph !== prevParagraph){
                  prevParagraph = currentParagraph;
                  Array.from(document.getElementsByClassName("transcript-chunks")).forEach((e) => {
                    e.classList.remove('text-selected');
                  });
                  var body = document.getElementById("chunk-"+currentParagraph);
                  body.classList.add('text-selected');
                }
              }
              time_update_interval = setInterval(highlightParagraph, 1000);
            </script>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>
    

    <!-- CONTENT -->
    <section class="pt-2">
      <div class="container">
        <div class="row justify-content-center">

          <div class="col-12 mb-5">
            <h1>
              Build a complex app with TDD
            </h1>
            
            <h3 class="bg-white">
              Video size:
              <a href="javascript:void(0);" onclick="resizeVideo(25)"><i class="fe fe-zoom-out me-2"></i></a>
              <a href="javascript:void(0);" onclick="resizeVideo(50)"><i class="fe fe-zoom-in me-2"></i></a>
            </h3>
            
          </div>

          <div class="col-12 mb-5">
            <h3>
              Abstract
            </h3>
<!-- Text -->
<p>Are you tired of the tutorials out there that try to explain hard concepts by relying only on trivial examples? If you aim to master TDD by building real-world applications, this workshop is for you. We&rsquo;ll build together a REST API that will make use of HTTP handlers and a database.</p>
<!-- End Text -->
          </div>

          

          <div class="col-12 mb-5">
            <h3>
              Summary
            </h3>
            <ul>
              
              <li>
                Ivan Pesenti, 27, is a software developer working for Solintlab. This session will teach you how to apply test driven development in a real world application. You will learn how to write good, clean and idiomatic go code.

              </li>
              
              <li>
                Test driven development is an ethereum iterative cycle which involves three parts. In order to be successful with test driven development, it's better to write clean tests. A clean test should follow the acronym for fast, independent, repeatable, self validating, and through test.

              </li>
              
              <li>
                Code coverage is how much code is covered by tests and the code covered is the production code. There are three different kinds of code coverage, the function, the statement and the branch coverage. Test driven development is not about testing but about designing.

              </li>
              
              <li>
                The demo is realized with the gene web framework that is the de facto standard when it comes to designing and building a web service. While for the test code we are going to relying on testing package which is part of the Go standard library. Let's switch to vs code and start.

              </li>
              
              <li>
                All right, we are in vs code. Now let's start building our application about handling the edit route of our to do app application. Create test context only which expect a response writer as the first argument. Then run our first test and see if we got an undefined error.

              </li>
              
              <li>
                Let's introduce the package SQl mock which assists us in mocking a real database. Let's get rid of these magic numbers validation error by introducing another constant. Third scenario is when we got a database error. Both of the tests are passing. It's time for refactoring.

              </li>
              
              <li>
                Gorm client is an abstract client upon the underlying socket connection to the database. We need to set up the mock because we need to say to SQL mock how to behave in this particular condition. We also need to assert that the mock expectations were met. Let's fix the 500 internal server error status code.

              </li>
              
              <li>
                Gogen web framework has a lot of features built in. To do this, we need to define a DTO struct. This is a struct that is meant to transport back and forth the data from the client to the server and the way around. But the test file is not yet fixed to use the new features.

              </li>
              
              <li>
                All right, now let's move to the fourth scenario. The assertion here is different because in this case we would like to have the 404 status code. What we can do is do a tiny refactoring by using HTTP status not found constant. Now we can improve our working solution.

              </li>
              
              <li>
                We are going to create a new package, this package, it will be called repo package. This logic will be executed only if the GormDB client will return an error. At the end we need to have something that actually run our application. Let's wire them up in a main file.

              </li>
              
              <li>
                All right, now we can run some tests with Postman. One request for each scenario. In the code we can mock the database error. If you'd like, you can add me on each of them.
              </li>
              
            </ul>
          </div>

          <div class="col-12 mb-5">
            <h3>
              Transcript
            </h3>
            <span class="text-muted">
              This transcript was autogenerated. To make changes, <a href="https://github.com/conf42/src/edit/main/assemblyai/-ngNReCPRLE.srt" target="_blank">submit a PR</a>.
            </span>
            <div>
            
            <span id="chunk-0" class="transcript-chunks" onclick="console.log('00:00:19,930'); seek(19.0)">
              Hi and welcome to my session about
            </span>
            
            <span id="chunk-1" class="transcript-chunks" onclick="console.log('00:00:23,540'); seek(23.0)">
              test driven development. Went with Golang. First of
            </span>
            
            <span id="chunk-2" class="transcript-chunks" onclick="console.log('00:00:27,212'); seek(27.0)">
              all, I would like to thanks the organization
            </span>
            
            <span id="chunk-3" class="transcript-chunks" onclick="console.log('00:00:31,050'); seek(31.0)">
              for giving me this amazing opportunity to
            </span>
            
            <span id="chunk-4" class="transcript-chunks" onclick="console.log('00:00:34,892'); seek(34.0)">
              be able to speak in front of you.
            </span>
            
            <span id="chunk-5" class="transcript-chunks" onclick="console.log('00:00:37,644'); seek(37.0)">
              First, let me introduce myself who I am,
            </span>
            
            <span id="chunk-6" class="transcript-chunks" onclick="console.log('00:00:41,648'); seek(41.0)">
              what I do I'm Ivan Pesenti, 27 years
            </span>
            
            <span id="chunk-7" class="transcript-chunks" onclick="console.log('00:00:45,856'); seek(45.0)">
              old and I worked as a software developer
            </span>
            
            <span id="chunk-8" class="transcript-chunks" onclick="console.log('00:00:49,974'); seek(49.0)">
              since 2014. After my school years
            </span>
            
            <span id="chunk-9" class="transcript-chunks" onclick="console.log('00:00:54,084'); seek(54.0)">
              I work remotely for a global company which
            </span>
            
            <span id="chunk-10" class="transcript-chunks" onclick="console.log('00:00:57,892'); seek(57.0)">
              is Solintlab. I'm mostly experienced
            </span>
            
            <span id="chunk-11" class="transcript-chunks" onclick="console.log('00:01:01,610'); seek(61.0)">
              in server side programming. Part of my daily
            </span>
            
            <span id="chunk-12" class="transcript-chunks" onclick="console.log('00:01:05,950'); seek(65.0)">
              tech stack involve Go postgres,
            </span>
            
            <span id="chunk-13" class="transcript-chunks" onclick="console.log('00:01:09,486'); seek(69.0)">
              SQL, AWS, platform Docker,
            </span>
            
            <span id="chunk-14" class="transcript-chunks" onclick="console.log('00:01:14,190'); seek(74.0)">
              docker compose and some other minor technologies.
            </span>
            
            <span id="chunk-15" class="transcript-chunks" onclick="console.log('00:01:18,914'); seek(78.0)">
              I strongly believe in values such as kindness,
            </span>
            
            <span id="chunk-16" class="transcript-chunks" onclick="console.log('00:01:22,818'); seek(82.0)">
              sharing and determination. In my spare time I'm
            </span>
            
            <span id="chunk-17" class="transcript-chunks" onclick="console.log('00:01:27,074'); seek(87.0)">
              involved within a lot of activities such
            </span>
            
            <span id="chunk-18" class="transcript-chunks" onclick="console.log('00:01:31,072'); seek(91.0)">
              as speaking, training, technical writing
            </span>
            
            <span id="chunk-19" class="transcript-chunks" onclick="console.log('00:01:35,894'); seek(95.0)">
              and also mentoring. I've just finished my
            </span>
            
            <span id="chunk-20" class="transcript-chunks" onclick="console.log('00:01:39,536'); seek(99.0)">
              first course about Golang and tests.
            </span>
            
            <span id="chunk-21" class="transcript-chunks" onclick="console.log('00:01:43,066'); seek(103.0)">
              I love also anime, tattoo and football
            </span>
            
            <span id="chunk-22" class="transcript-chunks" onclick="console.log('00:01:47,170'); seek(107.0)">
              in what this session will be different from others
            </span>
            
            <span id="chunk-23" class="transcript-chunks" onclick="console.log('00:01:50,884'); seek(110.0)">
              that you may joined before.
            </span>
            
            <span id="chunk-24" class="transcript-chunks" onclick="console.log('00:01:53,730'); seek(113.0)">
              This session won't rely on trivial examples,
            </span>
            
            <span id="chunk-25" class="transcript-chunks" onclick="console.log('00:01:58,298'); seek(118.0)">
              okay, such as most of the tutorial out there.
            </span>
            
            <span id="chunk-26" class="transcript-chunks" onclick="console.log('00:02:02,310'); seek(122.0)">
              But in this session you will make your handlers DRT
            </span>
            
            <span id="chunk-27" class="transcript-chunks" onclick="console.log('00:02:07,246'); seek(127.0)">
              with a real world application. So you
            </span>
            
            <span id="chunk-28" class="transcript-chunks" onclick="console.log('00:02:10,892'); seek(130.0)">
              will be able to apply test driven development in a
            </span>
            
            <span id="chunk-29" class="transcript-chunks" onclick="console.log('00:02:15,068'); seek(135.0)">
              real world application. Not only a trivial Qatar
            </span>
            
            <span id="chunk-30" class="transcript-chunks" onclick="console.log('00:02:19,062'); seek(139.0)">
              such as a simple program to sum up two numbers,
            </span>
            
            <span id="chunk-31" class="transcript-chunks" onclick="console.log('00:02:23,552'); seek(143.0)">
              or a simple Qatar such as Fitzbuds
            </span>
            
            <span id="chunk-32" class="transcript-chunks" onclick="console.log('00:02:28,246'); seek(148.0)">
              or Fibonacci or all of that stuff. Here we
            </span>
            
            <span id="chunk-33" class="transcript-chunks" onclick="console.log('00:02:31,908'); seek(151.0)">
              are going to build a real application. Plus you
            </span>
            
            <span id="chunk-34" class="transcript-chunks" onclick="console.log('00:02:36,356'); seek(156.0)">
              will be aware of the theoretical introduction
            </span>
            
            <span id="chunk-35" class="transcript-chunks" onclick="console.log('00:02:39,786'); seek(159.0)">
              about tests and code coverage, and a good
            </span>
            
            <span id="chunk-36" class="transcript-chunks" onclick="console.log('00:02:43,576'); seek(163.0)">
              part of this demo will be about Golang
            </span>
            
            <span id="chunk-37" class="transcript-chunks" onclick="console.log('00:02:47,830'); seek(167.0)">
              which will be our chosen programming
            </span>
            
            <span id="chunk-38" class="transcript-chunks" onclick="console.log('00:02:51,902'); seek(171.0)">
              languages. So you will learn how to write good,
            </span>
            
            <span id="chunk-39" class="transcript-chunks" onclick="console.log('00:02:55,548'); seek(175.0)">
              clean and idiomatic go code.
            </span>
            
            <span id="chunk-40" class="transcript-chunks" onclick="console.log('00:02:58,588'); seek(178.0)">
              Also, I'm going to share some of my experience
            </span>
            
            <span id="chunk-41" class="transcript-chunks" onclick="console.log('00:03:02,156'); seek(182.0)">
              with the tests. How do I mock a
            </span>
            
            <span id="chunk-42" class="transcript-chunks" onclick="console.log('00:03:05,548'); seek(185.0)">
              database? And how do I mock the
            </span>
            
            <span id="chunk-43" class="transcript-chunks" onclick="console.log('00:03:09,312'); seek(189.0)">
              service that made up my application?
            </span>
            
            <span id="chunk-44" class="transcript-chunks" onclick="console.log('00:03:13,070'); seek(193.0)">
              First, let's start with a small, boring introduction
            </span>
            
            <span id="chunk-45" class="transcript-chunks" onclick="console.log('00:03:17,734'); seek(197.0)">
              about test driven development that for sure most
            </span>
            
            <span id="chunk-46" class="transcript-chunks" onclick="console.log('00:03:21,636'); seek(201.0)">
              of you will already know. The test driven development is
            </span>
            
            <span id="chunk-47" class="transcript-chunks" onclick="console.log('00:03:25,828'); seek(205.0)">
              an ethereum iterative cycle which involves three
            </span>
            
            <span id="chunk-48" class="transcript-chunks" onclick="console.log('00:03:29,940'); seek(209.0)">
              parts is known also as red green
            </span>
            
            <span id="chunk-49" class="transcript-chunks" onclick="console.log('00:03:34,184'); seek(214.0)">
              refactor phases. We all start from the
            </span>
            
            <span id="chunk-50" class="transcript-chunks" onclick="console.log('00:03:37,352'); seek(217.0)">
              red phase where we have to write a failing
            </span>
            
            <span id="chunk-51" class="transcript-chunks" onclick="console.log('00:03:41,342'); seek(221.0)">
              test. Then we have to
            </span>
            
            <span id="chunk-52" class="transcript-chunks" onclick="console.log('00:03:44,936'); seek(224.0)">
              move as fast as we can out of this and enter
            </span>
            
            <span id="chunk-53" class="transcript-chunks" onclick="console.log('00:03:49,132'); seek(229.0)">
              the green area in which we have to fix
            </span>
            
            <span id="chunk-54" class="transcript-chunks" onclick="console.log('00:03:53,132'); seek(233.0)">
              our broken tests. Lastly,
            </span>
            
            <span id="chunk-55" class="transcript-chunks" onclick="console.log('00:03:55,922'); seek(235.0)">
              we'll move to the refactor phase in which
            </span>
            
            <span id="chunk-56" class="transcript-chunks" onclick="console.log('00:03:59,424'); seek(239.0)">
              we can make all of the improvements to our code
            </span>
            
            <span id="chunk-57" class="transcript-chunks" onclick="console.log('00:04:03,152'); seek(243.0)">
              that is certified by tests
            </span>
            
            <span id="chunk-58" class="transcript-chunks" onclick="console.log('00:04:06,518'); seek(246.0)">
              that are running successfully.
            </span>
            
            <span id="chunk-59" class="transcript-chunks" onclick="console.log('00:04:11,170'); seek(251.0)">
              The mantra of test driven development
            </span>
            
            <span id="chunk-60" class="transcript-chunks" onclick="console.log('00:04:15,338'); seek(255.0)">
              is made up of three simple rules.
            </span>
            
            <span id="chunk-61" class="transcript-chunks" onclick="console.log('00:04:19,178'); seek(259.0)">
              We have to follow this rule. As a rule
            </span>
            
            <span id="chunk-62" class="transcript-chunks" onclick="console.log('00:04:23,118'); seek(263.0)">
              of thumb, we have to be self disciplinate
            </span>
            
            <span id="chunk-63" class="transcript-chunks" onclick="console.log('00:04:26,942'); seek(266.0)">
              in order to be successful with test driven development.
            </span>
            
            <span id="chunk-64" class="transcript-chunks" onclick="console.log('00:04:31,430'); seek(271.0)">
              So let's deep dive into them. The first one
            </span>
            
            <span id="chunk-65" class="transcript-chunks" onclick="console.log('00:04:35,368'); seek(275.0)">
              is that we are not allowed to write
            </span>
            
            <span id="chunk-66" class="transcript-chunks" onclick="console.log('00:04:38,636'); seek(278.0)">
              any production code unless it is to
            </span>
            
            <span id="chunk-67" class="transcript-chunks" onclick="console.log('00:04:42,412'); seek(282.0)">
              make a failing unit test pass.
            </span>
            
            <span id="chunk-68" class="transcript-chunks" onclick="console.log('00:04:45,850'); seek(285.0)">
              That means that first we have to write tests
            </span>
            
            <span id="chunk-69" class="transcript-chunks" onclick="console.log('00:04:49,814'); seek(289.0)">
              and then we can write production code,
            </span>
            
            <span id="chunk-70" class="transcript-chunks" onclick="console.log('00:04:52,880'); seek(292.0)">
              not the opposite. Second rule is we
            </span>
            
            <span id="chunk-71" class="transcript-chunks" onclick="console.log('00:04:56,928'); seek(296.0)">
              are not allowed to write more of a unit
            </span>
            
            <span id="chunk-72" class="transcript-chunks" onclick="console.log('00:05:00,678'); seek(300.0)">
              test than is sufficient to fail,
            </span>
            
            <span id="chunk-73" class="transcript-chunks" onclick="console.log('00:05:04,410'); seek(304.0)">
              and compilation failures are failures.
            </span>
            
            <span id="chunk-74" class="transcript-chunks" onclick="console.log('00:05:07,786'); seek(307.0)">
              This is pretty self explanatory. We can write only
            </span>
            
            <span id="chunk-75" class="transcript-chunks" onclick="console.log('00:05:11,556'); seek(311.0)">
              one unit test failing, okay?
            </span>
            
            <span id="chunk-76" class="transcript-chunks" onclick="console.log('00:05:15,320'); seek(315.0)">
              And the first ideal test that we have
            </span>
            
            <span id="chunk-77" class="transcript-chunks" onclick="console.log('00:05:19,032'); seek(319.0)">
              to write is a compilation failure because
            </span>
            
            <span id="chunk-78" class="transcript-chunks" onclick="console.log('00:05:23,352'); seek(323.0)">
              we didn't have write the production code yet.
            </span>
            
            <span id="chunk-79" class="transcript-chunks" onclick="console.log('00:05:27,196'); seek(327.0)">
              The final rule is that
            </span>
            
            <span id="chunk-80" class="transcript-chunks" onclick="console.log('00:05:30,636'); seek(330.0)">
              we are not allowed to write any more
            </span>
            
            <span id="chunk-81" class="transcript-chunks" onclick="console.log('00:05:33,852'); seek(333.0)">
              production code than it's sufficient to pass the one
            </span>
            
            <span id="chunk-82" class="transcript-chunks" onclick="console.log('00:05:37,936'); seek(337.0)">
              failing unit test. So we have to write
            </span>
            
            <span id="chunk-83" class="transcript-chunks" onclick="console.log('00:05:42,224'); seek(342.0)">
              only the list code to
            </span>
            
            <span id="chunk-84" class="transcript-chunks" onclick="console.log('00:05:45,392'); seek(345.0)">
              make a building test running correctly.
            </span>
            
            <span id="chunk-85" class="transcript-chunks" onclick="console.log('00:05:49,382'); seek(349.0)">
              Okay. No fancy other thing,
            </span>
            
            <span id="chunk-86" class="transcript-chunks" onclick="console.log('00:05:52,932'); seek(352.0)">
              only the working code, the minimum working code.
            </span>
            
            <span id="chunk-87" class="transcript-chunks" onclick="console.log('00:05:56,820'); seek(356.0)">
              I will say a basic building blocks
            </span>
            
            <span id="chunk-88" class="transcript-chunks" onclick="console.log('00:06:00,458'); seek(360.0)">
              of unit of test driven development is
            </span>
            
            <span id="chunk-89" class="transcript-chunks" onclick="console.log('00:06:03,864'); seek(363.0)">
              test, but only clean test.
            </span>
            
            <span id="chunk-90" class="transcript-chunks" onclick="console.log('00:06:07,350'); seek(367.0)">
              Because in order to be successful with test driven
            </span>
            
            <span id="chunk-91" class="transcript-chunks" onclick="console.log('00:06:11,198'); seek(371.0)">
              development, it's better to write clean tests.
            </span>
            
            <span id="chunk-92" class="transcript-chunks" onclick="console.log('00:06:14,894'); seek(374.0)">
              That is always a good thing. What are the aspect
            </span>
            
            <span id="chunk-93" class="transcript-chunks" onclick="console.log('00:06:18,674'); seek(378.0)">
              and key characteristics of a clean test?
            </span>
            
            <span id="chunk-94" class="transcript-chunks" onclick="console.log('00:06:23,050'); seek(383.0)">
              First, it must obey to the triple h paradigm,
            </span>
            
            <span id="chunk-95" class="transcript-chunks" onclick="console.log('00:06:28,350'); seek(388.0)">
              which is the acronym for arrange,
            </span>
            
            <span id="chunk-96" class="transcript-chunks" onclick="console.log('00:06:31,238'); seek(391.0)">
              act and assert. These three parts should be
            </span>
            
            <span id="chunk-97" class="transcript-chunks" onclick="console.log('00:06:35,344'); seek(395.0)">
              distinct in our test code.
            </span>
            
            <span id="chunk-98" class="transcript-chunks" onclick="console.log('00:06:38,720'); seek(398.0)">
              In our test function, we don't have
            </span>
            
            <span id="chunk-99" class="transcript-chunks" onclick="console.log('00:06:42,452'); seek(402.0)">
              to mix and match them.
            </span>
            
            <span id="chunk-100" class="transcript-chunks" onclick="console.log('00:06:45,172'); seek(405.0)">
              Second, our test must
            </span>
            
            <span id="chunk-101" class="transcript-chunks" onclick="console.log('00:06:48,660'); seek(408.0)">
              not contain code smells that are not
            </span>
            
            <span id="chunk-102" class="transcript-chunks" onclick="console.log('00:06:51,972'); seek(411.0)">
              errors, but something that smell.
            </span>
            
            <span id="chunk-103" class="transcript-chunks" onclick="console.log('00:06:56,150'); seek(416.0)">
              For example, a function that has
            </span>
            
            <span id="chunk-104" class="transcript-chunks" onclick="console.log('00:06:59,512'); seek(419.0)">
              tons of parameters. Okay,
            </span>
            
            <span id="chunk-105" class="transcript-chunks" onclick="console.log('00:07:03,110'); seek(423.0)">
              an easy fix for this is to build a
            </span>
            
            <span id="chunk-106" class="transcript-chunks" onclick="console.log('00:07:07,292'); seek(427.0)">
              struct in order to gator and collect all of
            </span>
            
            <span id="chunk-107" class="transcript-chunks" onclick="console.log('00:07:11,308'); seek(431.0)">
              them into a structured format.
            </span>
            
            <span id="chunk-108" class="transcript-chunks" onclick="console.log('00:07:15,770'); seek(435.0)">
              Third point is the test must
            </span>
            
            <span id="chunk-109" class="transcript-chunks" onclick="console.log('00:07:19,552'); seek(439.0)">
              not contain magic numbers. With magic numbers, I also
            </span>
            
            <span id="chunk-110" class="transcript-chunks" onclick="console.log('00:07:23,776'); seek(443.0)">
              refer to magic strings, which are literals
            </span>
            
            <span id="chunk-111" class="transcript-chunks" onclick="console.log('00:07:28,006'); seek(448.0)">
              spread into our code that can bring magic
            </span>
            
            <span id="chunk-112" class="transcript-chunks" onclick="console.log('00:07:32,554'); seek(452.0)">
              into our code. Okay? Because if they
            </span>
            
            <span id="chunk-113" class="transcript-chunks" onclick="console.log('00:07:36,596'); seek(456.0)">
              don't have any meaning, they are just literals.
            </span>
            
            <span id="chunk-114" class="transcript-chunks" onclick="console.log('00:07:40,762'); seek(460.0)">
              The easy fix for this is to extrapolate these values
            </span>
            
            <span id="chunk-115" class="transcript-chunks" onclick="console.log('00:07:45,566'); seek(465.0)">
              and create constants that will
            </span>
            
            <span id="chunk-116" class="transcript-chunks" onclick="console.log('00:07:49,432'); seek(469.0)">
              be referred to throughout the rest of our program.
            </span>
            
            <span id="chunk-117" class="transcript-chunks" onclick="console.log('00:07:53,448'); seek(473.0)">
              A test must have a meaningful name.
            </span>
            
            <span id="chunk-118" class="transcript-chunks" onclick="console.log('00:07:56,572'); seek(476.0)">
              From the name we can assume, which are
            </span>
            
            <span id="chunk-119" class="transcript-chunks" onclick="console.log('00:08:00,700'); seek(480.0)">
              its input and which are its output.
            </span>
            
            <span id="chunk-120" class="transcript-chunks" onclick="console.log('00:08:04,770'); seek(484.0)">
              And the last one, taken directly from the test driven development
            </span>
            
            <span id="chunk-121" class="transcript-chunks" onclick="console.log('00:08:09,286'); seek(489.0)">
              manifesto, is that a clean test should follow
            </span>
            
            <span id="chunk-122" class="transcript-chunks" onclick="console.log('00:08:13,216'); seek(493.0)">
              the first principle, which is the acronym for
            </span>
            
            <span id="chunk-123" class="transcript-chunks" onclick="console.log('00:08:17,344'); seek(497.0)">
              fast, independent, repeatable, self validating,
            </span>
            
            <span id="chunk-124" class="transcript-chunks" onclick="console.log('00:08:22,118'); seek(502.0)">
              and through test. Okay,
            </span>
            
            <span id="chunk-125" class="transcript-chunks" onclick="console.log('00:08:25,156'); seek(505.0)">
              before going ahead, let's spend a couple of minutes talking
            </span>
            
            <span id="chunk-126" class="transcript-chunks" onclick="console.log('00:08:29,396'); seek(509.0)">
              about code coverage, which is one of the
            </span>
            
            <span id="chunk-127" class="transcript-chunks" onclick="console.log('00:08:33,288'); seek(513.0)">
              most important aspect when it comes to test driven
            </span>
            
            <span id="chunk-128" class="transcript-chunks" onclick="console.log('00:08:36,846'); seek(516.0)">
              development. Code coverage, as most of
            </span>
            
            <span id="chunk-129" class="transcript-chunks" onclick="console.log('00:08:40,072'); seek(520.0)">
              you surely knows, is how much code is
            </span>
            
            <span id="chunk-130" class="transcript-chunks" onclick="console.log('00:08:44,056'); seek(524.0)">
              covered by tests and the code covered
            </span>
            
            <span id="chunk-131" class="transcript-chunks" onclick="console.log('00:08:47,454'); seek(527.0)">
              is the production code. I mean, there are three
            </span>
            
            <span id="chunk-132" class="transcript-chunks" onclick="console.log('00:08:51,436'); seek(531.0)">
              different kinds of code coverage,
            </span>
            
            <span id="chunk-133" class="transcript-chunks" onclick="console.log('00:08:54,730'); seek(534.0)">
              the function, the statement and the branch coverage.
            </span>
            
            <span id="chunk-134" class="transcript-chunks" onclick="console.log('00:08:58,822'); seek(538.0)">
              During this demo, we are only interested at
            </span>
            
            <span id="chunk-135" class="transcript-chunks" onclick="console.log('00:09:03,008'); seek(543.0)">
              statement coverage and a
            </span>
            
            <span id="chunk-136" class="transcript-chunks" onclick="console.log('00:09:07,296'); seek(547.0)">
              common misconception is that you have to
            </span>
            
            <span id="chunk-137" class="transcript-chunks" onclick="console.log('00:09:11,380'); seek(551.0)">
              reach and aim 100% of
            </span>
            
            <span id="chunk-138" class="transcript-chunks" onclick="console.log('00:09:14,996'); seek(554.0)">
              code coverage in your code. However, this is
            </span>
            
            <span id="chunk-139" class="transcript-chunks" onclick="console.log('00:09:19,332'); seek(559.0)">
              not mandatory at all. What is important is to cover the
            </span>
            
            <span id="chunk-140" class="transcript-chunks" onclick="console.log('00:09:23,192'); seek(563.0)">
              most critical business logic part within
            </span>
            
            <span id="chunk-141" class="transcript-chunks" onclick="console.log('00:09:27,000'); seek(567.0)">
              our solution, within our program. Not everything.
            </span>
            
            <span id="chunk-142" class="transcript-chunks" onclick="console.log('00:09:31,350'); seek(571.0)">
              If we follow the test driven development approach,
            </span>
            
            <span id="chunk-143" class="transcript-chunks" onclick="console.log('00:09:35,150'); seek(575.0)">
              we'll always have this 100% code coverage
            </span>
            
            <span id="chunk-144" class="transcript-chunks" onclick="console.log('00:09:39,186'); seek(579.0)">
              because first we have to write test and
            </span>
            
            <span id="chunk-145" class="transcript-chunks" onclick="console.log('00:09:42,732'); seek(582.0)">
              then we can write production code.
            </span>
            
            <span id="chunk-146" class="transcript-chunks" onclick="console.log('00:09:46,330'); seek(586.0)">
              Let's barst another mice. This mice is
            </span>
            
            <span id="chunk-147" class="transcript-chunks" onclick="console.log('00:09:50,910'); seek(590.0)">
              test driven development is not about testing
            </span>
            
            <span id="chunk-148" class="transcript-chunks" onclick="console.log('00:09:55,398'); seek(595.0)">
              but about designing,
            </span>
            
            <span id="chunk-149" class="transcript-chunks" onclick="console.log('00:09:58,270'); seek(598.0)">
              okay? In fact, test is
            </span>
            
            <span id="chunk-150" class="transcript-chunks" onclick="console.log('00:10:01,668'); seek(601.0)">
              a very good nice to have, but it's not the main purpose
            </span>
            
            <span id="chunk-151" class="transcript-chunks" onclick="console.log('00:10:05,946'); seek(605.0)">
              of test driven development, which is to
            </span>
            
            <span id="chunk-152" class="transcript-chunks" onclick="console.log('00:10:09,876'); seek(609.0)">
              help you design your solution with the tests.
            </span>
            
            <span id="chunk-153" class="transcript-chunks" onclick="console.log('00:10:14,442'); seek(614.0)">
              Okay? So you have to hear for the
            </span>
            
            <span id="chunk-154" class="transcript-chunks" onclick="console.log('00:10:18,008'); seek(618.0)">
              feedback provided by your tests and make
            </span>
            
            <span id="chunk-155" class="transcript-chunks" onclick="console.log('00:10:21,928'); seek(621.0)">
              the needed adjustment in the solution,
            </span>
            
            <span id="chunk-156" class="transcript-chunks" onclick="console.log('00:10:26,098'); seek(626.0)">
              in the design of the solution. I know
            </span>
            
            <span id="chunk-157" class="transcript-chunks" onclick="console.log('00:10:30,188'); seek(630.0)">
              this is a common reaction.
            </span>
            
            <span id="chunk-158" class="transcript-chunks" onclick="console.log('00:10:34,250'); seek(634.0)">
              Okay, in order to be more practical
            </span>
            
            <span id="chunk-159" class="transcript-chunks" onclick="console.log('00:10:37,970'); seek(637.0)">
              in this demo, we are going to rely on
            </span>
            
            <span id="chunk-160" class="transcript-chunks" onclick="console.log('00:10:42,112'); seek(642.0)">
              the to do application. Okay,
            </span>
            
            <span id="chunk-161" class="transcript-chunks" onclick="console.log('00:10:44,944'); seek(644.0)">
              so we are going to build the edit
            </span>
            
            <span id="chunk-162" class="transcript-chunks" onclick="console.log('00:10:49,334'); seek(649.0)">
              handlers function, which is by far the
            </span>
            
            <span id="chunk-163" class="transcript-chunks" onclick="console.log('00:10:52,788'); seek(652.0)">
              most difficult one, usually because it involves a
            </span>
            
            <span id="chunk-164" class="transcript-chunks" onclick="console.log('00:10:55,844'); seek(655.0)">
              lot of different scenarios. Okay,
            </span>
            
            <span id="chunk-165" class="transcript-chunks" onclick="console.log('00:11:01,410'); seek(661.0)">
              let's focus on what we get in. We'll accept
            </span>
            
            <span id="chunk-166" class="transcript-chunks" onclick="console.log('00:11:05,566'); seek(665.0)">
              an HTTP request, which method will be
            </span>
            
            <span id="chunk-167" class="transcript-chunks" onclick="console.log('00:11:08,952'); seek(668.0)">
              the put method, which is reserved for the
            </span>
            
            <span id="chunk-168" class="transcript-chunks" onclick="console.log('00:11:12,808'); seek(672.0)">
              edit operation. Okay,
            </span>
            
            <span id="chunk-169" class="transcript-chunks" onclick="console.log('00:11:16,250'); seek(676.0)">
              the route is to DOS colonid,
            </span>
            
            <span id="chunk-170" class="transcript-chunks" onclick="console.log('00:11:21,154'); seek(681.0)">
              in which colon id is a route parameter
            </span>
            
            <span id="chunk-171" class="transcript-chunks" onclick="console.log('00:11:24,850'); seek(684.0)">
              that we expect in perequest p
            </span>
            
            <span id="chunk-172" class="transcript-chunks" onclick="console.log('00:11:28,112'); seek(688.0)">
              load will looks like something similar
            </span>
            
            <span id="chunk-173" class="transcript-chunks" onclick="console.log('00:11:31,904'); seek(691.0)">
              to the snippet of code in the right section,
            </span>
            
            <span id="chunk-174" class="transcript-chunks" onclick="console.log('00:11:36,830'); seek(696.0)">
              which has three keys.
            </span>
            
            <span id="chunk-175" class="transcript-chunks" onclick="console.log('00:11:39,550'); seek(699.0)">
              Description of type string, which is the
            </span>
            
            <span id="chunk-176" class="transcript-chunks" onclick="console.log('00:11:42,836'); seek(702.0)">
              to do description is completed. It's a
            </span>
            
            <span id="chunk-177" class="transcript-chunks" onclick="console.log('00:11:46,548'); seek(706.0)">
              boolean value that determine if
            </span>
            
            <span id="chunk-178" class="transcript-chunks" onclick="console.log('00:11:50,930'); seek(710.0)">
              the to do is completed or not,
            </span>
            
            <span id="chunk-179" class="transcript-chunks" onclick="console.log('00:11:54,230'); seek(714.0)">
              and the due date is a string value that
            </span>
            
            <span id="chunk-180" class="transcript-chunks" onclick="console.log('00:11:58,600'); seek(718.0)">
              represents the deadline for our to do to be
            </span>
            
            <span id="chunk-181" class="transcript-chunks" onclick="console.log('00:12:02,072'); seek(722.0)">
              completed. One of the most
            </span>
            
            <span id="chunk-182" class="transcript-chunks" onclick="console.log('00:12:05,356'); seek(725.0)">
              important part about test driven development is
            </span>
            
            <span id="chunk-183" class="transcript-chunks" onclick="console.log('00:12:09,772'); seek(729.0)">
              to identify the possible outcome
            </span>
            
            <span id="chunk-184" class="transcript-chunks" onclick="console.log('00:12:13,058'); seek(733.0)">
              that our code can take. Okay? So it's
            </span>
            
            <span id="chunk-185" class="transcript-chunks" onclick="console.log('00:12:17,122'); seek(737.0)">
              very important to define the possible scenarios.
            </span>
            
            <span id="chunk-186" class="transcript-chunks" onclick="console.log('00:12:22,006'); seek(742.0)">
              If you don't do this, you cannot be successfully with
            </span>
            
            <span id="chunk-187" class="transcript-chunks" onclick="console.log('00:12:26,080'); seek(746.0)">
              test driven development. I did this
            </span>
            
            <span id="chunk-188" class="transcript-chunks" onclick="console.log('00:12:31,810'); seek(751.0)">
              and I can summarize the five possible scenarios in
            </span>
            
            <span id="chunk-189" class="transcript-chunks" onclick="console.log('00:12:35,588'); seek(755.0)">
              this list. The first scenario is
            </span>
            
            <span id="chunk-190" class="transcript-chunks" onclick="console.log('00:12:39,476'); seek(759.0)">
              when we pass in an invalid id.
            </span>
            
            <span id="chunk-191" class="transcript-chunks" onclick="console.log('00:12:43,110'); seek(763.0)">
              Remember, the id is passed in as a
            </span>
            
            <span id="chunk-192" class="transcript-chunks" onclick="console.log('00:12:46,568'); seek(766.0)">
              route parameter. For example, we are going to pass in
            </span>
            
            <span id="chunk-193" class="transcript-chunks" onclick="console.log('00:12:50,568'); seek(770.0)">
              ABC instead of an integer number.
            </span>
            
            <span id="chunk-194" class="transcript-chunks" onclick="console.log('00:12:55,130'); seek(775.0)">
              So in this case we'll expect back a 400
            </span>
            
            <span id="chunk-195" class="transcript-chunks" onclick="console.log('00:12:58,700'); seek(778.0)">
              bad request status code. The second scenario
            </span>
            
            <span id="chunk-196" class="transcript-chunks" onclick="console.log('00:13:02,658'); seek(782.0)">
              is when the request payload is not valid.
            </span>
            
            <span id="chunk-197" class="transcript-chunks" onclick="console.log('00:13:06,770'); seek(786.0)">
              Okay, for example, the request
            </span>
            
            <span id="chunk-198" class="transcript-chunks" onclick="console.log('00:13:10,422'); seek(790.0)">
              payload has the description set to string empty. That's not
            </span>
            
            <span id="chunk-199" class="transcript-chunks" onclick="console.log('00:13:14,416'); seek(794.0)">
              possible. So we would like to have back a 400 bad
            </span>
            
            <span id="chunk-200" class="transcript-chunks" onclick="console.log('00:13:18,320'); seek(798.0)">
              request status code. The third scenario
            </span>
            
            <span id="chunk-201" class="transcript-chunks" onclick="console.log('00:13:22,314'); seek(802.0)">
              is when there are some unknown database error,
            </span>
            
            <span id="chunk-202" class="transcript-chunks" onclick="console.log('00:13:26,138'); seek(806.0)">
              okay, such as connectivity issue or
            </span>
            
            <span id="chunk-203" class="transcript-chunks" onclick="console.log('00:13:30,210'); seek(810.0)">
              other stuff like that. In this case
            </span>
            
            <span id="chunk-204" class="transcript-chunks" onclick="console.log('00:13:33,624'); seek(813.0)">
              we would like to have back a 500 internal
            </span>
            
            <span id="chunk-205" class="transcript-chunks" onclick="console.log('00:13:37,534'); seek(817.0)">
              server error. The fourth
            </span>
            
            <span id="chunk-206" class="transcript-chunks" onclick="console.log('00:13:41,534'); seek(821.0)">
              scenario is when the to do is not found in our database.
            </span>
            
            <span id="chunk-207" class="transcript-chunks" onclick="console.log('00:13:45,890'); seek(825.0)">
              And in this case we would like to have back a
            </span>
            
            <span id="chunk-208" class="transcript-chunks" onclick="console.log('00:13:49,308'); seek(829.0)">
              404 status not found error.
            </span>
            
            <span id="chunk-209" class="transcript-chunks" onclick="console.log('00:13:54,170'); seek(834.0)">
              The last one is the positive path, okay,
            </span>
            
            <span id="chunk-210" class="transcript-chunks" onclick="console.log('00:13:57,820'); seek(837.0)">
              when everything goes fine. And in this case
            </span>
            
            <span id="chunk-211" class="transcript-chunks" onclick="console.log('00:14:01,680'); seek(841.0)">
              we would like to have the 202 status accepted status
            </span>
            
            <span id="chunk-212" class="transcript-chunks" onclick="console.log('00:14:05,862'); seek(845.0)">
              code without an empty response payload.
            </span>
            
            <span id="chunk-213" class="transcript-chunks" onclick="console.log('00:14:11,170'); seek(851.0)">
              All right, the ingredients of our
            </span>
            
            <span id="chunk-214" class="transcript-chunks" onclick="console.log('00:14:15,970'); seek(855.0)">
              session, we can divide
            </span>
            
            <span id="chunk-215" class="transcript-chunks" onclick="console.log('00:14:19,162'); seek(859.0)">
              them into two categories. The first
            </span>
            
            <span id="chunk-216" class="transcript-chunks" onclick="console.log('00:14:22,596'); seek(862.0)">
              is related to production code. The demo is realized
            </span>
            
            <span id="chunk-217" class="transcript-chunks" onclick="console.log('00:14:27,278'); seek(867.0)">
              with the gene web framework that is
            </span>
            
            <span id="chunk-218" class="transcript-chunks" onclick="console.log('00:14:31,176'); seek(871.0)">
              the de facto standard when it
            </span>
            
            <span id="chunk-219" class="transcript-chunks" onclick="console.log('00:14:34,328'); seek(874.0)">
              comes to designing and building a
            </span>
            
            <span id="chunk-220" class="transcript-chunks" onclick="console.log('00:14:38,428'); seek(878.0)">
              web service. Recently the
            </span>
            
            <span id="chunk-221" class="transcript-chunks" onclick="console.log('00:14:42,492'); seek(882.0)">
              other competitor, which is GorillaMax, was publicly
            </span>
            
            <span id="chunk-222" class="transcript-chunks" onclick="console.log('00:14:46,914'); seek(886.0)">
              archived, so it's no longer maintained.
            </span>
            
            <span id="chunk-223" class="transcript-chunks" onclick="console.log('00:14:50,774'); seek(890.0)">
              So this event forced us to switch
            </span>
            
            <span id="chunk-224" class="transcript-chunks" onclick="console.log('00:14:54,678'); seek(894.0)">
              to a still maintained solution and we started
            </span>
            
            <span id="chunk-225" class="transcript-chunks" onclick="console.log('00:14:58,704'); seek(898.0)">
              to use gin which has
            </span>
            
            <span id="chunk-226" class="transcript-chunks" onclick="console.log('00:15:04,050'); seek(904.0)">
              more or less 70,000 of stars
            </span>
            
            <span id="chunk-227" class="transcript-chunks" onclick="console.log('00:15:07,562'); seek(907.0)">
              in GitHub, while Gorilla Max,
            </span>
            
            <span id="chunk-228" class="transcript-chunks" onclick="console.log('00:15:11,034'); seek(911.0)">
              it has only 20,000 of stars.
            </span>
            
            <span id="chunk-229" class="transcript-chunks" onclick="console.log('00:15:15,146'); seek(915.0)">
              So I think it will still be a valid option to follow.
            </span>
            
            <span id="chunk-230" class="transcript-chunks" onclick="console.log('00:15:19,608'); seek(919.0)">
              Second is gorm, which is the package
            </span>
            
            <span id="chunk-231" class="transcript-chunks" onclick="console.log('00:15:23,390'); seek(923.0)">
              for using an ORM with go.
            </span>
            
            <span id="chunk-232" class="transcript-chunks" onclick="console.log('00:15:26,284'); seek(926.0)">
              If you are going to build a real world application,
            </span>
            
            <span id="chunk-233" class="transcript-chunks" onclick="console.log('00:15:29,370'); seek(929.0)">
              chances are that you are going to rely on an Orm.
            </span>
            
            <span id="chunk-234" class="transcript-chunks" onclick="console.log('00:15:34,170'); seek(934.0)">
              Not always, but probably so that's why I
            </span>
            
            <span id="chunk-235" class="transcript-chunks" onclick="console.log('00:15:38,256'); seek(938.0)">
              introduced it in this demo,
            </span>
            
            <span id="chunk-236" class="transcript-chunks" onclick="console.log('00:15:41,392'); seek(941.0)">
              so you can make out the most of it. The third
            </span>
            
            <span id="chunk-237" class="transcript-chunks" onclick="console.log('00:15:45,216'); seek(945.0)">
              one is the postgres driver, which is the
            </span>
            
            <span id="chunk-238" class="transcript-chunks" onclick="console.log('00:15:49,216'); seek(949.0)">
              driver that are actually used to talk to our database.
            </span>
            
            <span id="chunk-239" class="transcript-chunks" onclick="console.log('00:15:54,450'); seek(954.0)">
              While for the test code we are going to relying on
            </span>
            
            <span id="chunk-240" class="transcript-chunks" onclick="console.log('00:15:58,116'); seek(958.0)">
              testing package which is part of the Go standard library.
            </span>
            
            <span id="chunk-241" class="transcript-chunks" onclick="console.log('00:16:03,750'); seek(963.0)">
              Conversely to other programming languages,
            </span>
            
            <span id="chunk-242" class="transcript-chunks" onclick="console.log('00:16:07,630'); seek(967.0)">
              with go we don't have to bring in any frameworks in
            </span>
            
            <span id="chunk-243" class="transcript-chunks" onclick="console.log('00:16:11,592'); seek(971.0)">
              order to be able to write tests.
            </span>
            
            <span id="chunk-244" class="transcript-chunks" onclick="console.log('00:16:15,006'); seek(975.0)">
              So that's awesome in my opinion.
            </span>
            
            <span id="chunk-245" class="transcript-chunks" onclick="console.log('00:16:17,826'); seek(977.0)">
              The second package is Go SQL mock,
            </span>
            
            <span id="chunk-246" class="transcript-chunks" onclick="console.log('00:16:21,346'); seek(981.0)">
              which is the most used package for mocking
            </span>
            
            <span id="chunk-247" class="transcript-chunks" onclick="console.log('00:16:25,650'); seek(985.0)">
              an actual database. Thanks to it
            </span>
            
            <span id="chunk-248" class="transcript-chunks" onclick="console.log('00:16:29,280'); seek(989.0)">
              we can postpone the decision about the database
            </span>
            
            <span id="chunk-249" class="transcript-chunks" onclick="console.log('00:16:34,350'); seek(994.0)">
              engine that we are going to use to the latest part of the project
            </span>
            
            <span id="chunk-250" class="transcript-chunks" onclick="console.log('00:16:38,304'); seek(998.0)">
              and program against an abstract
            </span>
            
            <span id="chunk-251" class="transcript-chunks" onclick="console.log('00:16:41,946'); seek(1001.0)">
              layer, let's say. Okay, which decouple the actual
            </span>
            
            <span id="chunk-252" class="transcript-chunks" onclick="console.log('00:16:46,724'); seek(1006.0)">
              underlying database. The third package is
            </span>
            
            <span id="chunk-253" class="transcript-chunks" onclick="console.log('00:16:51,012'); seek(1011.0)">
              the subpackage assert provided by the testify package.
            </span>
            
            <span id="chunk-254" class="transcript-chunks" onclick="console.log('00:16:55,086'); seek(1015.0)">
              Thanks to it, it's easier to do assertion
            </span>
            
            <span id="chunk-255" class="transcript-chunks" onclick="console.log('00:16:58,318'); seek(1018.0)">
              in our code. Last one is the HTTP test
            </span>
            
            <span id="chunk-256" class="transcript-chunks" onclick="console.log('00:17:02,504'); seek(1022.0)">
              sub package which assists us in building
            </span>
            
            <span id="chunk-257" class="transcript-chunks" onclick="console.log('00:17:06,588'); seek(1026.0)">
              HTTP response and HTTP request without
            </span>
            
            <span id="chunk-258" class="transcript-chunks" onclick="console.log('00:17:11,052'); seek(1031.0)">
              worrying too much about the protocol stuff.
            </span>
            
            <span id="chunk-259" class="transcript-chunks" onclick="console.log('00:17:16,330'); seek(1036.0)">
              Okay, we already talked a lot. Now if
            </span>
            
            <span id="chunk-260" class="transcript-chunks" onclick="console.log('00:17:19,968'); seek(1039.0)">
              you are ready like me. Let's switch to vs code
            </span>
            
            <span id="chunk-261" class="transcript-chunks" onclick="console.log('00:17:23,456'); seek(1043.0)">
              and start. Make your hands dirty. All right,
            </span>
            
            <span id="chunk-262" class="transcript-chunks" onclick="console.log('00:17:27,456'); seek(1047.0)">
              we are in vs code. Now let's start building
            </span>
            
            <span id="chunk-263" class="transcript-chunks" onclick="console.log('00:17:31,424'); seek(1051.0)">
              our application about handling the edit
            </span>
            
            <span id="chunk-264" class="transcript-chunks" onclick="console.log('00:17:35,142'); seek(1055.0)">
              route of our to do app application.
            </span>
            
            <span id="chunk-265" class="transcript-chunks" onclick="console.log('00:17:38,210'); seek(1058.0)">
              First of all, I've opened a folder in my vs
            </span>
            
            <span id="chunk-266" class="transcript-chunks" onclick="console.log('00:17:42,122'); seek(1062.0)">
              code. The folder is called to do app and
            </span>
            
            <span id="chunk-267" class="transcript-chunks" onclick="console.log('00:17:46,312'); seek(1066.0)">
              the first thing that we have to do is to initialize a
            </span>
            
            <span id="chunk-268" class="transcript-chunks" onclick="console.log('00:17:50,648'); seek(1070.0)">
              module. So we run go mode
            </span>
            
            <span id="chunk-269" class="transcript-chunks" onclick="console.log('00:17:53,838'); seek(1073.0)">
              init followed by the name of the module.
            </span>
            
            <span id="chunk-270" class="transcript-chunks" onclick="console.log('00:17:58,010'); seek(1078.0)">
              In our example is to do app.
            </span>
            
            <span id="chunk-271" class="transcript-chunks" onclick="console.log('00:18:02,010'); seek(1082.0)">
              There we go. Then we
            </span>
            
            <span id="chunk-272" class="transcript-chunks" onclick="console.log('00:18:07,308'); seek(1087.0)">
              have to define the handlers,
            </span>
            
            <span id="chunk-273" class="transcript-chunks" onclick="console.log('00:18:10,258'); seek(1090.0)">
              right? So what is
            </span>
            
            <span id="chunk-274" class="transcript-chunks" onclick="console.log('00:18:14,576'); seek(1094.0)">
              meant to deal the HTTP request and reply
            </span>
            
            <span id="chunk-275" class="transcript-chunks" onclick="console.log('00:18:18,406'); seek(1098.0)">
              with an HTTP response? First thing to
            </span>
            
            <span id="chunk-276" class="transcript-chunks" onclick="console.log('00:18:22,032'); seek(1102.0)">
              do is to create a folder called handlers.
            </span>
            
            <span id="chunk-277" class="transcript-chunks" onclick="console.log('00:18:27,890'); seek(1107.0)">
              Within that folder we are going to create our first
            </span>
            
            <span id="chunk-278" class="transcript-chunks" onclick="console.log('00:18:31,556'); seek(1111.0)">
              file called handlers underscore
            </span>
            
            <span id="chunk-279" class="transcript-chunks" onclick="console.log('00:18:35,182'); seek(1115.0)">
              test go.
            </span>
            
            <span id="chunk-280" class="transcript-chunks" onclick="console.log('00:18:39,350'); seek(1119.0)">
              We define the package name that is handlers
            </span>
            
            <span id="chunk-281" class="transcript-chunks" onclick="console.log('00:18:43,830'); seek(1123.0)">
              and there we go.
            </span>
            
            <span id="chunk-282" class="transcript-chunks" onclick="console.log('00:18:47,290'); seek(1127.0)">
              Now before moving ahead, let's recap
            </span>
            
            <span id="chunk-283" class="transcript-chunks" onclick="console.log('00:18:51,130'); seek(1131.0)">
              in a list this scenario that we have to manage.
            </span>
            
            <span id="chunk-284" class="transcript-chunks" onclick="console.log('00:18:54,572'); seek(1134.0)">
              The first one is id, not integer.
            </span>
            
            <span id="chunk-285" class="transcript-chunks" onclick="console.log('00:18:59,870'); seek(1139.0)">
              The second one is validation error.
            </span>
            
            <span id="chunk-286" class="transcript-chunks" onclick="console.log('00:19:04,270'); seek(1144.0)">
              The third one is db error.
            </span>
            
            <span id="chunk-287" class="transcript-chunks" onclick="console.log('00:19:08,430'); seek(1148.0)">
              The fourth is to do not
            </span>
            
            <span id="chunk-288" class="transcript-chunks" onclick="console.log('00:19:11,956'); seek(1151.0)">
              found, and the last
            </span>
            
            <span id="chunk-289" class="transcript-chunks" onclick="console.log('00:19:15,316'); seek(1155.0)">
              one is the FP path.
            </span>
            
            <span id="chunk-290" class="transcript-chunks" onclick="console.log('00:19:21,570'); seek(1161.0)">
              Well now let's start by defining our first
            </span>
            
            <span id="chunk-291" class="transcript-chunks" onclick="console.log('00:19:24,824'); seek(1164.0)">
              test.
            </span>
            
            <span id="chunk-292" class="transcript-chunks" onclick="console.log('00:19:32,390'); seek(1172.0)">
              The test name must must
            </span>
            
            <span id="chunk-293" class="transcript-chunks" onclick="console.log('00:19:35,592'); seek(1175.0)">
              be prefixed with the right test,
            </span>
            
            <span id="chunk-294" class="transcript-chunks" onclick="console.log('00:19:38,730'); seek(1178.0)">
              then followed by the name of the function that we are willing to test.
            </span>
            
            <span id="chunk-295" class="transcript-chunks" onclick="console.log('00:19:43,052'); seek(1183.0)">
              In our case is update to do in the signature
            </span>
            
            <span id="chunk-296" class="transcript-chunks" onclick="console.log('00:19:47,842'); seek(1187.0)">
              we have to involve the t parameter which
            </span>
            
            <span id="chunk-297" class="transcript-chunks" onclick="console.log('00:19:51,648'); seek(1191.0)">
              is of type pointer to t provided
            </span>
            
            <span id="chunk-298" class="transcript-chunks" onclick="console.log('00:19:56,294'); seek(1196.0)">
              in the testing package. If we save
            </span>
            
            <span id="chunk-299" class="transcript-chunks" onclick="console.log('00:20:00,384'); seek(1200.0)">
              it automatically import in
            </span>
            
            <span id="chunk-300" class="transcript-chunks" onclick="console.log('00:20:04,468'); seek(1204.0)">
              the import section the testing package.
            </span>
            
            <span id="chunk-301" class="transcript-chunks" onclick="console.log('00:20:07,650'); seek(1207.0)">
              Now let's start by setting the
            </span>
            
            <span id="chunk-302" class="transcript-chunks" onclick="console.log('00:20:10,836'); seek(1210.0)">
              mode of gene. In our case is gene
            </span>
            
            <span id="chunk-303" class="transcript-chunks" onclick="console.log('00:20:15,214'); seek(1215.0)">
              test mode. Then we
            </span>
            
            <span id="chunk-304" class="transcript-chunks" onclick="console.log('00:20:19,048'); seek(1219.0)">
              define an HTTP recorder for our test
            </span>
            
            <span id="chunk-305" class="transcript-chunks" onclick="console.log('00:20:23,430'); seek(1223.0)">
              which is provided by the package HTTP test
            </span>
            
            <span id="chunk-306" class="transcript-chunks" onclick="console.log('00:20:27,304'); seek(1227.0)">
              new recorder. And then
            </span>
            
            <span id="chunk-307" class="transcript-chunks" onclick="console.log('00:20:31,084'); seek(1231.0)">
              we need a gene context for
            </span>
            
            <span id="chunk-308" class="transcript-chunks" onclick="console.log('00:20:34,188'); seek(1234.0)">
              our test.
            </span>
            
            <span id="chunk-309" class="transcript-chunks" onclick="console.log('00:20:38,030'); seek(1238.0)">
              Create test context only which expect a
            </span>
            
            <span id="chunk-310" class="transcript-chunks" onclick="console.log('00:20:42,672'); seek(1242.0)">
              response writer as the first argument,
            </span>
            
            <span id="chunk-311" class="transcript-chunks" onclick="console.log('00:20:47,870'); seek(1247.0)">
              and then an engine of gene.
            </span>
            
            <span id="chunk-312" class="transcript-chunks" onclick="console.log('00:20:52,210'); seek(1252.0)">
              In this case we can use gene default
            </span>
            
            <span id="chunk-313" class="transcript-chunks" onclick="console.log('00:20:56,850'); seek(1256.0)">
              if we save it automatically imports the package.
            </span>
            
            <span id="chunk-314" class="transcript-chunks" onclick="console.log('00:21:00,666'); seek(1260.0)">
              Here, however, we have to actually download
            </span>
            
            <span id="chunk-315" class="transcript-chunks" onclick="console.log('00:21:05,438'); seek(1265.0)">
              it. We can do in two ways.
            </span>
            
            <span id="chunk-316" class="transcript-chunks" onclick="console.log('00:21:08,536'); seek(1268.0)">
              The first one is by issuing a goget followed
            </span>
            
            <span id="chunk-317" class="transcript-chunks" onclick="console.log('00:21:12,302'); seek(1272.0)">
              by the path of the module of the package.
            </span>
            
            <span id="chunk-318" class="transcript-chunks" onclick="console.log('00:21:16,810'); seek(1276.0)">
              The second one is by running the
            </span>
            
            <span id="chunk-319" class="transcript-chunks" onclick="console.log('00:21:20,444'); seek(1280.0)">
              command go mode tidb. So we enter
            </span>
            
            <span id="chunk-320" class="transcript-chunks" onclick="console.log('00:21:26,330'); seek(1286.0)">
              our folder and then we issue the
            </span>
            
            <span id="chunk-321" class="transcript-chunks" onclick="console.log('00:21:29,472'); seek(1289.0)">
              command go mode, tidy it,
            </span>
            
            <span id="chunk-322" class="transcript-chunks" onclick="console.log('00:21:32,992'); seek(1292.0)">
              automatically download the package and now the
            </span>
            
            <span id="chunk-323" class="transcript-chunks" onclick="console.log('00:21:36,272'); seek(1296.0)">
              error goes away.
            </span>
            
            <span id="chunk-324" class="transcript-chunks" onclick="console.log('00:21:39,390'); seek(1299.0)">
              The only error that we still have is that c is declared but
            </span>
            
            <span id="chunk-325" class="transcript-chunks" onclick="console.log('00:21:43,652'); seek(1303.0)">
              not used. So let's
            </span>
            
            <span id="chunk-326" class="transcript-chunks" onclick="console.log('00:21:47,338'); seek(1307.0)">
              moving ahead and use c
            </span>
            
            <span id="chunk-327" class="transcript-chunks" onclick="console.log('00:21:51,060'); seek(1311.0)">
              in order to build our call. So the
            </span>
            
            <span id="chunk-328" class="transcript-chunks" onclick="console.log('00:21:54,248'); seek(1314.0)">
              first thing that we have to do is to set
            </span>
            
            <span id="chunk-329" class="transcript-chunks" onclick="console.log('00:21:58,424'); seek(1318.0)">
              the request on this context and we are going
            </span>
            
            <span id="chunk-330" class="transcript-chunks" onclick="console.log('00:22:01,784'); seek(1321.0)">
              to set it of type HTTP request,
            </span>
            
            <span id="chunk-331" class="transcript-chunks" onclick="console.log('00:22:06,970'); seek(1326.0)">
              and we initialize the header field by using
            </span>
            
            <span id="chunk-332" class="transcript-chunks" onclick="console.log('00:22:10,940'); seek(1330.0)">
              the built in make function.
            </span>
            
            <span id="chunk-333" class="transcript-chunks" onclick="console.log('00:22:17,710'); seek(1337.0)">
              Then we
            </span>
            
            <span id="chunk-334" class="transcript-chunks" onclick="console.log('00:22:22,832'); seek(1342.0)">
              set the parameter for
            </span>
            
            <span id="chunk-335" class="transcript-chunks" onclick="console.log('00:22:28,432'); seek(1348.0)">
              our request. In this case
            </span>
            
            <span id="chunk-336" class="transcript-chunks" onclick="console.log('00:22:34,210'); seek(1354.0)">
              the params is a slice which contains all
            </span>
            
            <span id="chunk-337" class="transcript-chunks" onclick="console.log('00:22:37,348'); seek(1357.0)">
              of the parameter for our handlers.
            </span>
            
            <span id="chunk-338" class="transcript-chunks" onclick="console.log('00:22:41,610'); seek(1361.0)">
              But now we would like to append another one.
            </span>
            
            <span id="chunk-339" class="transcript-chunks" onclick="console.log('00:22:45,810'); seek(1365.0)">
              So with the built in append function we
            </span>
            
            <span id="chunk-340" class="transcript-chunks" onclick="console.log('00:22:49,112'); seek(1369.0)">
              invoke it in order to append another
            </span>
            
            <span id="chunk-341" class="transcript-chunks" onclick="console.log('00:22:53,000'); seek(1373.0)">
              param which has a key called id
            </span>
            
            <span id="chunk-342" class="transcript-chunks" onclick="console.log('00:22:57,930'); seek(1377.0)">
              and a value abc.
            </span>
            
            <span id="chunk-343" class="transcript-chunks" onclick="console.log('00:23:01,954'); seek(1381.0)">
              Because this test is about Id
            </span>
            
            <span id="chunk-344" class="transcript-chunks" onclick="console.log('00:23:05,564'); seek(1385.0)">
              not valid, so id not integer.
            </span>
            
            <span id="chunk-345" class="transcript-chunks" onclick="console.log('00:23:08,910'); seek(1388.0)">
              Let's add this suffix to this test.
            </span>
            
            <span id="chunk-346" class="transcript-chunks" onclick="console.log('00:23:12,670'); seek(1392.0)">
              All right, so now we prepared
            </span>
            
            <span id="chunk-347" class="transcript-chunks" onclick="console.log('00:23:18,350'); seek(1398.0)">
              our request. The next step is to
            </span>
            
            <span id="chunk-348" class="transcript-chunks" onclick="console.log('00:23:22,084'); seek(1402.0)">
              actually invoke our handler.
            </span>
            
            <span id="chunk-349" class="transcript-chunks" onclick="console.log('00:23:25,650'); seek(1405.0)">
              We issue update to do and we provide the gene context.
            </span>
            
            <span id="chunk-350" class="transcript-chunks" onclick="console.log('00:23:31,330'); seek(1411.0)">
              Then we have to do the assertion. So if
            </span>
            
            <span id="chunk-351" class="transcript-chunks" onclick="console.log('00:23:34,840'); seek(1414.0)">
              code is not equal to 400,
            </span>
            
            <span id="chunk-352" class="transcript-chunks" onclick="console.log('00:23:39,190'); seek(1419.0)">
              then we let the test fail with
            </span>
            
            <span id="chunk-353" class="transcript-chunks" onclick="console.log('00:23:44,150'); seek(1424.0)">
              a format message. In this case expected
            </span>
            
            <span id="chunk-354" class="transcript-chunks" onclick="console.log('00:23:49,530'); seek(1429.0)">
              percentage d comma
            </span>
            
            <span id="chunk-355" class="transcript-chunks" onclick="console.log('00:23:53,058'); seek(1433.0)">
              got percentage d.
            </span>
            
            <span id="chunk-356" class="transcript-chunks" onclick="console.log('00:23:56,010'); seek(1436.0)">
              So the code expected was 400,
            </span>
            
            <span id="chunk-357" class="transcript-chunks" onclick="console.log('00:23:59,616'); seek(1439.0)">
              but we got the actual code.
            </span>
            
            <span id="chunk-358" class="transcript-chunks" onclick="console.log('00:24:04,990'); seek(1444.0)">
              All right, now we can
            </span>
            
            <span id="chunk-359" class="transcript-chunks" onclick="console.log('00:24:09,470'); seek(1449.0)">
              run our first test and look if we
            </span>
            
            <span id="chunk-360" class="transcript-chunks" onclick="console.log('00:24:13,572'); seek(1453.0)">
              got an undefined error, a compilation
            </span>
            
            <span id="chunk-361" class="transcript-chunks" onclick="console.log('00:24:17,098'); seek(1457.0)">
              error, because we didn't write this
            </span>
            
            <span id="chunk-362" class="transcript-chunks" onclick="console.log('00:24:22,532'); seek(1462.0)">
              function yet. In order to run
            </span>
            
            <span id="chunk-363" class="transcript-chunks" onclick="console.log('00:24:26,072'); seek(1466.0)">
              our test, we need to switch in the
            </span>
            
            <span id="chunk-364" class="transcript-chunks" onclick="console.log('00:24:29,784'); seek(1469.0)">
              handlers folder, then issue
            </span>
            
            <span id="chunk-365" class="transcript-chunks" onclick="console.log('00:24:33,320'); seek(1473.0)">
              the command go test v, which means
            </span>
            
            <span id="chunk-366" class="transcript-chunks" onclick="console.log('00:24:37,564'); seek(1477.0)">
              verbose because we are interested in a verbose
            </span>
            
            <span id="chunk-367" class="transcript-chunks" onclick="console.log('00:24:41,410'); seek(1481.0)">
              output cover in order
            </span>
            
            <span id="chunk-368" class="transcript-chunks" onclick="console.log('00:24:44,716'); seek(1484.0)">
              to also include the code coverage.
            </span>
            
            <span id="chunk-369" class="transcript-chunks" onclick="console.log('00:24:48,990'); seek(1488.0)">
              If we run it, we get back an
            </span>
            
            <span id="chunk-370" class="transcript-chunks" onclick="console.log('00:24:52,656'); seek(1492.0)">
              undefined update to do so.
            </span>
            
            <span id="chunk-371" class="transcript-chunks" onclick="console.log('00:24:56,704'); seek(1496.0)">
              Now let's define this update function.
            </span>
            
            <span id="chunk-372" class="transcript-chunks" onclick="console.log('00:25:03,890'); seek(1503.0)">
              First of all, we are going to create another file
            </span>
            
            <span id="chunk-373" class="transcript-chunks" onclick="console.log('00:25:08,810'); seek(1508.0)">
              called handlers go.
            </span>
            
            <span id="chunk-374" class="transcript-chunks" onclick="console.log('00:25:14,630'); seek(1514.0)">
              I'm going to put the production code on
            </span>
            
            <span id="chunk-375" class="transcript-chunks" onclick="console.log('00:25:18,888'); seek(1518.0)">
              the right side while the test code will be
            </span>
            
            <span id="chunk-376" class="transcript-chunks" onclick="console.log('00:25:22,488'); seek(1522.0)">
              on the left side because I'm used with this setup
            </span>
            
            <span id="chunk-377" class="transcript-chunks" onclick="console.log('00:25:27,850'); seek(1527.0)">
              package Android because the
            </span>
            
            <span id="chunk-378" class="transcript-chunks" onclick="console.log('00:25:31,916'); seek(1531.0)">
              production code will belong to
            </span>
            
            <span id="chunk-379" class="transcript-chunks" onclick="console.log('00:25:35,612'); seek(1535.0)">
              the same package of the test, at least in
            </span>
            
            <span id="chunk-380" class="transcript-chunks" onclick="console.log('00:25:39,568'); seek(1539.0)">
              this demo. And then we are going to define
            </span>
            
            <span id="chunk-381" class="transcript-chunks" onclick="console.log('00:25:43,870'); seek(1543.0)">
              the update to do function which
            </span>
            
            <span id="chunk-382" class="transcript-chunks" onclick="console.log('00:25:48,160'); seek(1548.0)">
              expect a pointer of gene context.
            </span>
            
            <span id="chunk-383" class="transcript-chunks" onclick="console.log('00:25:55,330'); seek(1555.0)">
              Now if we rerun the tests,
            </span>
            
            <span id="chunk-384" class="transcript-chunks" onclick="console.log('00:26:00,610'); seek(1560.0)">
              we get back this error. Now the compiler,
            </span>
            
            <span id="chunk-385" class="transcript-chunks" onclick="console.log('00:26:04,126'); seek(1564.0)">
              the compile error error goes away.
            </span>
            
            <span id="chunk-386" class="transcript-chunks" onclick="console.log('00:26:08,310'); seek(1568.0)">
              Now we got 400 bad request error instead
            </span>
            
            <span id="chunk-387" class="transcript-chunks" onclick="console.log('00:26:12,456'); seek(1572.0)">
              of 200. Okay, that's why if we
            </span>
            
            <span id="chunk-388" class="transcript-chunks" onclick="console.log('00:26:15,836'); seek(1575.0)">
              didn't specify anything in
            </span>
            
            <span id="chunk-389" class="transcript-chunks" onclick="console.log('00:26:19,308'); seek(1579.0)">
              the body of the function, this is the default behavior.
            </span>
            
            <span id="chunk-390" class="transcript-chunks" onclick="console.log('00:26:23,930'); seek(1583.0)">
              So let's fix this in order
            </span>
            
            <span id="chunk-391" class="transcript-chunks" onclick="console.log('00:26:27,532'); seek(1587.0)">
              to move to the green area. C writer
            </span>
            
            <span id="chunk-392" class="transcript-chunks" onclick="console.log('00:26:31,430'); seek(1591.0)">
              write either 400 and then we
            </span>
            
            <span id="chunk-393" class="transcript-chunks" onclick="console.log('00:26:34,672'); seek(1594.0)">
              force the writing of the eater. So c
            </span>
            
            <span id="chunk-394" class="transcript-chunks" onclick="console.log('00:26:38,192'); seek(1598.0)">
              dot writer and now in order to
            </span>
            
            <span id="chunk-395" class="transcript-chunks" onclick="console.log('00:26:41,872'); seek(1601.0)">
              write and force the eater to be written.
            </span>
            
            <span id="chunk-396" class="transcript-chunks" onclick="console.log('00:26:46,050'); seek(1606.0)">
              If we rerun the test now we got a
            </span>
            
            <span id="chunk-397" class="transcript-chunks" onclick="console.log('00:26:52,390'); seek(1612.0)">
              successful result. Now we
            </span>
            
            <span id="chunk-398" class="transcript-chunks" onclick="console.log('00:26:56,328'); seek(1616.0)">
              could enter in the refactor phase.
            </span>
            
            <span id="chunk-399" class="transcript-chunks" onclick="console.log('00:26:59,438'); seek(1619.0)">
              So first of all, let's get rid of these
            </span>
            
            <span id="chunk-400" class="transcript-chunks" onclick="console.log('00:27:02,936'); seek(1622.0)">
              magic numbers and instead using
            </span>
            
            <span id="chunk-401" class="transcript-chunks" onclick="console.log('00:27:11,530'); seek(1631.0)">
              the constant provided by the HTTP package,
            </span>
            
            <span id="chunk-402" class="transcript-chunks" onclick="console.log('00:27:17,710'); seek(1637.0)">
              if we rerun it. We get
            </span>
            
            <span id="chunk-403" class="transcript-chunks" onclick="console.log('00:27:21,152'); seek(1641.0)">
              still the positive result,
            </span>
            
            <span id="chunk-404" class="transcript-chunks" onclick="console.log('00:27:28,430'); seek(1648.0)">
              but we can do better. We can use the assert
            </span>
            
            <span id="chunk-405" class="transcript-chunks" onclick="console.log('00:27:31,978'); seek(1651.0)">
              package provided by the
            </span>
            
            <span id="chunk-406" class="transcript-chunks" onclick="console.log('00:27:36,052'); seek(1656.0)">
              testify package. So with assert we can invoke
            </span>
            
            <span id="chunk-407" class="transcript-chunks" onclick="console.log('00:27:40,186'); seek(1660.0)">
              equal and providing the
            </span>
            
            <span id="chunk-408" class="transcript-chunks" onclick="console.log('00:27:45,208'); seek(1665.0)">
              test which is the one provided in
            </span>
            
            <span id="chunk-409" class="transcript-chunks" onclick="console.log('00:27:49,128'); seek(1669.0)">
              the signature, then followed by the expected,
            </span>
            
            <span id="chunk-410" class="transcript-chunks" onclick="console.log('00:27:52,830'); seek(1672.0)">
              in our case HTTP bed request,
            </span>
            
            <span id="chunk-411" class="transcript-chunks" onclick="console.log('00:27:56,178'); seek(1676.0)">
              and then the actual code that we got.
            </span>
            
            <span id="chunk-412" class="transcript-chunks" onclick="console.log('00:28:03,450'); seek(1683.0)">
              And here we go.
            </span>
            
            <span id="chunk-413" class="transcript-chunks" onclick="console.log('00:28:09,470'); seek(1689.0)">
              Now let's install this
            </span>
            
            <span id="chunk-414" class="transcript-chunks" onclick="console.log('00:28:12,976'); seek(1692.0)">
              new package by running the
            </span>
            
            <span id="chunk-415" class="transcript-chunks" onclick="console.log('00:28:16,608'); seek(1696.0)">
              go mode tidy.
            </span>
            
            <span id="chunk-416" class="transcript-chunks" onclick="console.log('00:28:23,010'); seek(1703.0)">
              All right,
            </span>
            
            <span id="chunk-417" class="transcript-chunks" onclick="console.log('00:28:27,010'); seek(1707.0)">
              there is a warning, so let's rerun this gomode tidy
            </span>
            
            <span id="chunk-418" class="transcript-chunks" onclick="console.log('00:28:31,418'); seek(1711.0)">
              and let the warning goes away.
            </span>
            
            <span id="chunk-419" class="transcript-chunks" onclick="console.log('00:28:36,310'); seek(1716.0)">
              Then we reenter the handlers folder so
            </span>
            
            <span id="chunk-420" class="transcript-chunks" onclick="console.log('00:28:41,656'); seek(1721.0)">
              we are good to go. The next step
            </span>
            
            <span id="chunk-421" class="transcript-chunks" onclick="console.log('00:28:45,450'); seek(1725.0)">
              here is to also assert for the body,
            </span>
            
            <span id="chunk-422" class="transcript-chunks" onclick="console.log('00:28:49,530'); seek(1729.0)">
              okay, because now we assert only the
            </span>
            
            <span id="chunk-423" class="transcript-chunks" onclick="console.log('00:28:53,052'); seek(1733.0)">
              status code that is 400 by the request.
            </span>
            
            <span id="chunk-424" class="transcript-chunks" onclick="console.log('00:28:57,138'); seek(1737.0)">
              However, we also would
            </span>
            
            <span id="chunk-425" class="transcript-chunks" onclick="console.log('00:29:02,176'); seek(1742.0)">
              like also to be sure that the
            </span>
            
            <span id="chunk-426" class="transcript-chunks" onclick="console.log('00:29:05,952'); seek(1745.0)">
              body contains this string.
            </span>
            
            <span id="chunk-427" class="transcript-chunks" onclick="console.log('00:29:10,422'); seek(1750.0)">
              So now let's duplicate this test and
            </span>
            
            <span id="chunk-428" class="transcript-chunks" onclick="console.log('00:29:16,050'); seek(1756.0)">
              let's append this suffix that is body.
            </span>
            
            <span id="chunk-429" class="transcript-chunks" onclick="console.log('00:29:23,510'); seek(1763.0)">
              Let's get rid of this assertion because the
            </span>
            
            <span id="chunk-430" class="transcript-chunks" onclick="console.log('00:29:27,192'); seek(1767.0)">
              scenario is the same.
            </span>
            
            <span id="chunk-431" class="transcript-chunks" onclick="console.log('00:29:30,310'); seek(1770.0)">
              What change here is that we need to
            </span>
            
            <span id="chunk-432" class="transcript-chunks" onclick="console.log('00:29:33,672'); seek(1773.0)">
              assert something else. So we still make use of the assert
            </span>
            
            <span id="chunk-433" class="transcript-chunks" onclick="console.log('00:29:37,826'); seek(1777.0)">
              package, but this time we invoke the function contains,
            </span>
            
            <span id="chunk-434" class="transcript-chunks" onclick="console.log('00:29:42,418'); seek(1782.0)">
              which expect t as the first parameter,
            </span>
            
            <span id="chunk-435" class="transcript-chunks" onclick="console.log('00:29:46,330'); seek(1786.0)">
              then the string to search in,
            </span>
            
            <span id="chunk-436" class="transcript-chunks" onclick="console.log('00:29:50,016'); seek(1790.0)">
              which is double view body string,
            </span>
            
            <span id="chunk-437" class="transcript-chunks" onclick="console.log('00:29:54,390'); seek(1794.0)">
              and then the string to look for. So id
            </span>
            
            <span id="chunk-438" class="transcript-chunks" onclick="console.log('00:29:58,592'); seek(1798.0)">
              not integer.
            </span>
            
            <span id="chunk-439" class="transcript-chunks" onclick="console.log('00:30:03,170'); seek(1803.0)">
              Now if we rerun the test,
            </span>
            
            <span id="chunk-440" class="transcript-chunks" onclick="console.log('00:30:07,970'); seek(1807.0)">
              we are in the red area, because our second test
            </span>
            
            <span id="chunk-441" class="transcript-chunks" onclick="console.log('00:30:13,030'); seek(1813.0)">
              we return this error that is string empty does not
            </span>
            
            <span id="chunk-442" class="transcript-chunks" onclick="console.log('00:30:17,272'); seek(1817.0)">
              contain id not integer. That's why
            </span>
            
            <span id="chunk-443" class="transcript-chunks" onclick="console.log('00:30:20,952'); seek(1820.0)">
              we didn't manage and or handlers where
            </span>
            
            <span id="chunk-444" class="transcript-chunks" onclick="console.log('00:30:26,296'); seek(1826.0)">
              spots p load. So let's do this.
            </span>
            
            <span id="chunk-445" class="transcript-chunks" onclick="console.log('00:30:30,810'); seek(1830.0)">
              In order to fix this,
            </span>
            
            <span id="chunk-446" class="transcript-chunks" onclick="console.log('00:30:33,530'); seek(1833.0)">
              we have to invoke c string, which expect
            </span>
            
            <span id="chunk-447" class="transcript-chunks" onclick="console.log('00:30:38,670'); seek(1838.0)">
              the HTTP status code to return as the first
            </span>
            
            <span id="chunk-448" class="transcript-chunks" onclick="console.log('00:30:42,448'); seek(1842.0)">
              argument, and the second argument, a string to
            </span>
            
            <span id="chunk-449" class="transcript-chunks" onclick="console.log('00:30:46,592'); seek(1846.0)">
              be written on. The response in
            </span>
            
            <span id="chunk-450" class="transcript-chunks" onclick="console.log('00:30:50,548'); seek(1850.0)">
              our case is id not integer.
            </span>
            
            <span id="chunk-451" class="transcript-chunks" onclick="console.log('00:30:54,610'); seek(1854.0)">
              Then we can safely remove the write either now,
            </span>
            
            <span id="chunk-452" class="transcript-chunks" onclick="console.log('00:30:57,716'); seek(1857.0)">
              because now we
            </span>
            
            <span id="chunk-453" class="transcript-chunks" onclick="console.log('00:31:01,412'); seek(1861.0)">
              don't have to force the write of the eaters because it's
            </span>
            
            <span id="chunk-454" class="transcript-chunks" onclick="console.log('00:31:05,518'); seek(1865.0)">
              already done by the string.
            </span>
            
            <span id="chunk-455" class="transcript-chunks" onclick="console.log('00:31:09,270'); seek(1869.0)">
              Let's rerun the test and now we are back
            </span>
            
            <span id="chunk-456" class="transcript-chunks" onclick="console.log('00:31:12,456'); seek(1872.0)">
              in the positive area.
            </span>
            
            <span id="chunk-457" class="transcript-chunks" onclick="console.log('00:31:16,650'); seek(1876.0)">
              All right, let's refactor this a little bit,
            </span>
            
            <span id="chunk-458" class="transcript-chunks" onclick="console.log('00:31:20,268'); seek(1880.0)">
              because now we are allowed to do refactoring.
            </span>
            
            <span id="chunk-459" class="transcript-chunks" onclick="console.log('00:31:23,938'); seek(1883.0)">
              Let's introduce a
            </span>
            
            <span id="chunk-460" class="transcript-chunks" onclick="console.log('00:31:27,728'); seek(1887.0)">
              constant in order to get rid of the Id not integer literals,
            </span>
            
            <span id="chunk-461" class="transcript-chunks" onclick="console.log('00:31:32,214'); seek(1892.0)">
              which is a magic number, as you
            </span>
            
            <span id="chunk-462" class="transcript-chunks" onclick="console.log('00:31:35,552'); seek(1895.0)">
              might remember from our slide.
            </span>
            
            <span id="chunk-463" class="transcript-chunks" onclick="console.log('00:31:38,990'); seek(1898.0)">
              So id not integer error
            </span>
            
            <span id="chunk-464" class="transcript-chunks" onclick="console.log('00:31:42,930'); seek(1902.0)">
              equal to id not integer.
            </span>
            
            <span id="chunk-465" class="transcript-chunks" onclick="console.log('00:31:46,050'); seek(1906.0)">
              And then we switch the
            </span>
            
            <span id="chunk-466" class="transcript-chunks" onclick="console.log('00:31:51,092'); seek(1911.0)">
              usage of the literals to this variable constant.
            </span>
            
            <span id="chunk-467" class="transcript-chunks" onclick="console.log('00:31:56,542'); seek(1916.0)">
              I mean, if we
            </span>
            
            <span id="chunk-468" class="transcript-chunks" onclick="console.log('00:32:00,776'); seek(1920.0)">
              rerun the test, everything is still fine.
            </span>
            
            <span id="chunk-469" class="transcript-chunks" onclick="console.log('00:32:05,210'); seek(1925.0)">
              Now we have two tests that are
            </span>
            
            <span id="chunk-470" class="transcript-chunks" onclick="console.log('00:32:09,308'); seek(1929.0)">
              challenging the same scenario.
            </span>
            
            <span id="chunk-471" class="transcript-chunks" onclick="console.log('00:32:12,250'); seek(1932.0)">
              We can merge these two into one,
            </span>
            
            <span id="chunk-472" class="transcript-chunks" onclick="console.log('00:32:16,650'); seek(1936.0)">
              keep in mind that it's completely safe to delete test
            </span>
            
            <span id="chunk-473" class="transcript-chunks" onclick="console.log('00:32:20,560'); seek(1940.0)">
              because test as the normal code can be adjusted,
            </span>
            
            <span id="chunk-474" class="transcript-chunks" onclick="console.log('00:32:24,742'); seek(1944.0)">
              deleted or improved. So it's completely
            </span>
            
            <span id="chunk-475" class="transcript-chunks" onclick="console.log('00:32:28,688'); seek(1948.0)">
              fine as long as we keep testing every scenario
            </span>
            
            <span id="chunk-476" class="transcript-chunks" onclick="console.log('00:32:33,418'); seek(1953.0)">
              in our code. So let's move this assert
            </span>
            
            <span id="chunk-477" class="transcript-chunks" onclick="console.log('00:32:37,338'); seek(1957.0)">
              in the first test and then let's get rid of
            </span>
            
            <span id="chunk-478" class="transcript-chunks" onclick="console.log('00:32:41,172'); seek(1961.0)">
              this second test.
            </span>
            
            <span id="chunk-479" class="transcript-chunks" onclick="console.log('00:32:47,190'); seek(1967.0)">
              If we save and run the test,
            </span>
            
            <span id="chunk-480" class="transcript-chunks" onclick="console.log('00:32:50,792'); seek(1970.0)">
              we still have the 100% code coverage because now
            </span>
            
            <span id="chunk-481" class="transcript-chunks" onclick="console.log('00:32:55,096'); seek(1975.0)">
              we are only dealing with one scenario.
            </span>
            
            <span id="chunk-482" class="transcript-chunks" onclick="console.log('00:33:01,370'); seek(1981.0)">
              Now let's write the second test for the second
            </span>
            
            <span id="chunk-483" class="transcript-chunks" onclick="console.log('00:33:05,084'); seek(1985.0)">
              scenario, which is validation error in our case.
            </span>
            
            <span id="chunk-484" class="transcript-chunks" onclick="console.log('00:33:09,550'); seek(1989.0)">
              So we are going to duplicate this just
            </span>
            
            <span id="chunk-485" class="transcript-chunks" onclick="console.log('00:33:14,176'); seek(1994.0)">
              for the sake of time. And then we renamed
            </span>
            
            <span id="chunk-486" class="transcript-chunks" onclick="console.log('00:33:17,590'); seek(1997.0)">
              this to validation.
            </span>
            
            <span id="chunk-487" class="transcript-chunks" onclick="console.log('00:33:24,210'); seek(2004.0)">
              Then the first thing to do is to fix
            </span>
            
            <span id="chunk-488" class="transcript-chunks" onclick="console.log('00:33:28,530'); seek(2008.0)">
              this param. Now we are
            </span>
            
            <span id="chunk-489" class="transcript-chunks" onclick="console.log('00:33:31,812'); seek(2011.0)">
              good. So we passed in a right int
            </span>
            
            <span id="chunk-490" class="transcript-chunks" onclick="console.log('00:33:37,528'); seek(2017.0)">
              id value such as one.
            </span>
            
            <span id="chunk-491" class="transcript-chunks" onclick="console.log('00:33:43,830'); seek(2023.0)">
              All right, then we have to pass also
            </span>
            
            <span id="chunk-492" class="transcript-chunks" onclick="console.log('00:33:47,596'); seek(2027.0)">
              the payload because now we are dealing
            </span>
            
            <span id="chunk-493" class="transcript-chunks" onclick="console.log('00:33:50,978'); seek(2030.0)">
              with the payload because we are validating the incoming
            </span>
            
            <span id="chunk-494" class="transcript-chunks" onclick="console.log('00:33:54,082'); seek(2034.0)">
              payload of the HTTP request. So we need a way to
            </span>
            
            <span id="chunk-495" class="transcript-chunks" onclick="console.log('00:33:59,070'); seek(2039.0)">
              pass it to our handlers. So first
            </span>
            
            <span id="chunk-496" class="transcript-chunks" onclick="console.log('00:34:02,432'); seek(2042.0)">
              of all, let's set the method
            </span>
            
            <span id="chunk-497" class="transcript-chunks" onclick="console.log('00:34:07,230'); seek(2047.0)">
              which is put on the request.
            </span>
            
            <span id="chunk-498" class="transcript-chunks" onclick="console.log('00:34:11,330'); seek(2051.0)">
              Then let's set one
            </span>
            
            <span id="chunk-499" class="transcript-chunks" onclick="console.log('00:34:15,476'); seek(2055.0)">
              either. So c
            </span>
            
            <span id="chunk-500" class="transcript-chunks" onclick="console.log('00:34:19,556'); seek(2059.0)">
              request either and set set is
            </span>
            
            <span id="chunk-501" class="transcript-chunks" onclick="console.log('00:34:22,968'); seek(2062.0)">
              a method that expect two values, both of
            </span>
            
            <span id="chunk-502" class="transcript-chunks" onclick="console.log('00:34:26,568'); seek(2066.0)">
              type string. The first one is the key and the second one
            </span>
            
            <span id="chunk-503" class="transcript-chunks" onclick="console.log('00:34:30,136'); seek(2070.0)">
              is the value. So the key will be
            </span>
            
            <span id="chunk-504" class="transcript-chunks" onclick="console.log('00:34:34,470'); seek(2074.0)">
              content type and
            </span>
            
            <span id="chunk-505" class="transcript-chunks" onclick="console.log('00:34:39,068'); seek(2079.0)">
              the second one will be application Json.
            </span>
            
            <span id="chunk-506" class="transcript-chunks" onclick="console.log('00:34:45,610'); seek(2085.0)">
              Then we have to set also the body,
            </span>
            
            <span id="chunk-507" class="transcript-chunks" onclick="console.log('00:34:50,510'); seek(2090.0)">
              and the body is of type I o
            </span>
            
            <span id="chunk-508" class="transcript-chunks" onclick="console.log('00:34:54,480'); seek(2094.0)">
              knob closer just to wrap our writer
            </span>
            
            <span id="chunk-509" class="transcript-chunks" onclick="console.log('00:34:58,966'); seek(2098.0)">
              into a reader which
            </span>
            
            <span id="chunk-510" class="transcript-chunks" onclick="console.log('00:35:03,476'); seek(2103.0)">
              has also the close method, so it's a no
            </span>
            
            <span id="chunk-511" class="transcript-chunks" onclick="console.log('00:35:06,868'); seek(2106.0)">
              utility method. This one I will say inside
            </span>
            
            <span id="chunk-512" class="transcript-chunks" onclick="console.log('00:35:12,548'); seek(2112.0)">
              of him we
            </span>
            
            <span id="chunk-513" class="transcript-chunks" onclick="console.log('00:35:17,128'); seek(2117.0)">
              have to invoke the strings new reader
            </span>
            
            <span id="chunk-514" class="transcript-chunks" onclick="console.log('00:35:20,702'); seek(2120.0)">
              function which expect in a string.
            </span>
            
            <span id="chunk-515" class="transcript-chunks" onclick="console.log('00:35:24,630'); seek(2124.0)">
              The string is provided within backticks in
            </span>
            
            <span id="chunk-516" class="transcript-chunks" onclick="console.log('00:35:28,492'); seek(2128.0)">
              order to not have to escape every
            </span>
            
            <span id="chunk-517" class="transcript-chunks" onclick="console.log('00:35:31,932'); seek(2131.0)">
              single double quotes within it. So a pair
            </span>
            
            <span id="chunk-518" class="transcript-chunks" onclick="console.log('00:35:35,618'); seek(2135.0)">
              of curly braces and then let's start by defining
            </span>
            
            <span id="chunk-519" class="transcript-chunks" onclick="console.log('00:35:39,142'); seek(2139.0)">
              our p load. In this case we will leave
            </span>
            
            <span id="chunk-520" class="transcript-chunks" onclick="console.log('00:35:42,752'); seek(2142.0)">
              the description empty in order to understand
            </span>
            
            <span id="chunk-521" class="transcript-chunks" onclick="console.log('00:35:48,430'); seek(2148.0)">
              this validation scenario is complex
            </span>
            
            <span id="chunk-522" class="transcript-chunks" onclick="console.log('00:35:54,850'); seek(2154.0)">
              equal to true and due date
            </span>
            
            <span id="chunk-523" class="transcript-chunks" onclick="console.log('00:35:59,810'); seek(2159.0)">
              equal to 2023 50
            </span>
            
            <span id="chunk-524" class="transcript-chunks" onclick="console.log('00:36:04,744'); seek(2164.0)">
              five good.
            </span>
            
            <span id="chunk-525" class="transcript-chunks" onclick="console.log('00:36:08,710'); seek(2168.0)">
              So now we have defined our payload,
            </span>
            
            <span id="chunk-526" class="transcript-chunks" onclick="console.log('00:36:12,206'); seek(2172.0)">
              which is invalid because the description should
            </span>
            
            <span id="chunk-527" class="transcript-chunks" onclick="console.log('00:36:15,452'); seek(2175.0)">
              be populated because we won't
            </span>
            
            <span id="chunk-528" class="transcript-chunks" onclick="console.log('00:36:19,442'); seek(2179.0)">
              allow a to do without a description.
            </span>
            
            <span id="chunk-529" class="transcript-chunks" onclick="console.log('00:36:24,490'); seek(2184.0)">
              All right, in the assertion part
            </span>
            
            <span id="chunk-530" class="transcript-chunks" onclick="console.log('00:36:27,676'); seek(2187.0)">
              we can leave this assertion because it's still 400,
            </span>
            
            <span id="chunk-531" class="transcript-chunks" onclick="console.log('00:36:32,272'); seek(2192.0)">
              the status quote that we are expecting here.
            </span>
            
            <span id="chunk-532" class="transcript-chunks" onclick="console.log('00:36:36,590'); seek(2196.0)">
              However, the body should contain
            </span>
            
            <span id="chunk-533" class="transcript-chunks" onclick="console.log('00:36:40,794'); seek(2200.0)">
              another error message, which is validation
            </span>
            
            <span id="chunk-534" class="transcript-chunks" onclick="console.log('00:36:44,826'); seek(2204.0)">
              error. So let's
            </span>
            
            <span id="chunk-535" class="transcript-chunks" onclick="console.log('00:36:49,306'); seek(2209.0)">
              rerun the test and check if we are
            </span>
            
            <span id="chunk-536" class="transcript-chunks" onclick="console.log('00:36:52,676'); seek(2212.0)">
              in the red area or not. If we
            </span>
            
            <span id="chunk-537" class="transcript-chunks" onclick="console.log('00:36:56,392'); seek(2216.0)">
              run this test we get back an id
            </span>
            
            <span id="chunk-538" class="transcript-chunks" onclick="console.log('00:37:00,136'); seek(2220.0)">
              not integer, does not contain validation error.
            </span>
            
            <span id="chunk-539" class="transcript-chunks" onclick="console.log('00:37:04,150'); seek(2224.0)">
              So we have to move in green.
            </span>
            
            <span id="chunk-540" class="transcript-chunks" onclick="console.log('00:37:07,496'); seek(2227.0)">
              In the green area and we have to do some adjustment in
            </span>
            
            <span id="chunk-541" class="transcript-chunks" onclick="console.log('00:37:11,068'); seek(2231.0)">
              this code. The adjustment
            </span>
            
            <span id="chunk-542" class="transcript-chunks" onclick="console.log('00:37:14,722'); seek(2234.0)">
              that we have to do is to invoke
            </span>
            
            <span id="chunk-543" class="transcript-chunks" onclick="console.log('00:37:20,590'); seek(2240.0)">
              the function etoy which
            </span>
            
            <span id="chunk-544" class="transcript-chunks" onclick="console.log('00:37:24,112'); seek(2244.0)">
              is responsible for converting a string into an integer
            </span>
            
            <span id="chunk-545" class="transcript-chunks" onclick="console.log('00:37:28,230'); seek(2248.0)">
              value and provided an error. If this conversion
            </span>
            
            <span id="chunk-546" class="transcript-chunks" onclick="console.log('00:37:31,562'); seek(2251.0)">
              is not possible of the param that
            </span>
            
            <span id="chunk-547" class="transcript-chunks" onclick="console.log('00:37:35,412'); seek(2255.0)">
              we got in, let's capture
            </span>
            
            <span id="chunk-548" class="transcript-chunks" onclick="console.log('00:37:40,130'); seek(2260.0)">
              this result into a variable called error
            </span>
            
            <span id="chunk-549" class="transcript-chunks" onclick="console.log('00:37:43,982'); seek(2263.0)">
              and for now blank identifier because we don't need the id right
            </span>
            
            <span id="chunk-550" class="transcript-chunks" onclick="console.log('00:37:47,896'); seek(2267.0)">
              now. Okay, so let's not grab the
            </span>
            
            <span id="chunk-551" class="transcript-chunks" onclick="console.log('00:37:51,992'); seek(2271.0)">
              id just for the sake of it. If we will need
            </span>
            
            <span id="chunk-552" class="transcript-chunks" onclick="console.log('00:37:55,660'); seek(2275.0)">
              the id, we will grab the id.
            </span>
            
            <span id="chunk-553" class="transcript-chunks" onclick="console.log('00:37:58,428'); seek(2278.0)">
              Now we only interested at understanding
            </span>
            
            <span id="chunk-554" class="transcript-chunks" onclick="console.log('00:38:02,866'); seek(2282.0)">
              if the id is an integer
            </span>
            
            <span id="chunk-555" class="transcript-chunks" onclick="console.log('00:38:06,386'); seek(2286.0)">
              or not.
            </span>
            
            <span id="chunk-556" class="transcript-chunks" onclick="console.log('00:38:09,070'); seek(2289.0)">
              If error is not equal to nil,
            </span>
            
            <span id="chunk-557" class="transcript-chunks" onclick="console.log('00:38:14,750'); seek(2294.0)">
              then we return this string and
            </span>
            
            <span id="chunk-558" class="transcript-chunks" onclick="console.log('00:38:19,840'); seek(2299.0)">
              we immediately exit from the function.
            </span>
            
            <span id="chunk-559" class="transcript-chunks" onclick="console.log('00:38:23,950'); seek(2303.0)">
              If this is not the case, we are going
            </span>
            
            <span id="chunk-560" class="transcript-chunks" onclick="console.log('00:38:27,588'); seek(2307.0)">
              to return the validation error
            </span>
            
            <span id="chunk-561" class="transcript-chunks" onclick="console.log('00:38:32,630'); seek(2312.0)">
              message because now our handler
            </span>
            
            <span id="chunk-562" class="transcript-chunks" onclick="console.log('00:38:37,022'); seek(2317.0)">
              is only handling two scenario
            </span>
            
            <span id="chunk-563" class="transcript-chunks" onclick="console.log('00:38:41,022'); seek(2321.0)">
              the id, not integer and validation error.
            </span>
            
            <span id="chunk-564" class="transcript-chunks" onclick="console.log('00:38:45,450'); seek(2325.0)">
              So we have only 50% of probability
            </span>
            
            <span id="chunk-565" class="transcript-chunks" onclick="console.log('00:38:53,690'); seek(2333.0)">
              if we rerun the test.
            </span>
            
            <span id="chunk-566" class="transcript-chunks" onclick="console.log('00:38:56,810'); seek(2336.0)">
              Now we are in 100% of code coverage
            </span>
            
            <span id="chunk-567" class="transcript-chunks" onclick="console.log('00:39:00,342'); seek(2340.0)">
              and both of the tests are passing.
            </span>
            
            <span id="chunk-568" class="transcript-chunks" onclick="console.log('00:39:05,630'); seek(2345.0)">
              Now it's time for refactoring.
            </span>
            
            <span id="chunk-569" class="transcript-chunks" onclick="console.log('00:39:08,990'); seek(2348.0)">
              Let's get rid of these magic numbers validation
            </span>
            
            <span id="chunk-570" class="transcript-chunks" onclick="console.log('00:39:12,826'); seek(2352.0)">
              error by introducing another constant.
            </span>
            
            <span id="chunk-571" class="transcript-chunks" onclick="console.log('00:39:17,810'); seek(2357.0)">
              This constant is named validation error.
            </span>
            
            <span id="chunk-572" class="transcript-chunks" onclick="console.log('00:39:25,670'); seek(2365.0)">
              If I save my Gofund tool
            </span>
            
            <span id="chunk-573" class="transcript-chunks" onclick="console.log('00:39:30,040'); seek(2370.0)">
              will format the constant in this way like
            </span>
            
            <span id="chunk-574" class="transcript-chunks" onclick="console.log('00:39:34,344'); seek(2374.0)">
              the import section.
            </span>
            
            <span id="chunk-575" class="transcript-chunks" onclick="console.log('00:39:36,970'); seek(2376.0)">
              Then we have to switch the magic number to
            </span>
            
            <span id="chunk-576" class="transcript-chunks" onclick="console.log('00:39:41,690'); seek(2381.0)">
              the validation error constant and also do the
            </span>
            
            <span id="chunk-577" class="transcript-chunks" onclick="console.log('00:39:45,708'); seek(2385.0)">
              same in the testament.
            </span>
            
            <span id="chunk-578" class="transcript-chunks" onclick="console.log('00:39:53,682'); seek(2393.0)">
              All right, the tests are still passing.
            </span>
            
            <span id="chunk-579" class="transcript-chunks" onclick="console.log('00:39:59,890'); seek(2399.0)">
              Now let's introduce the logic about the database
            </span>
            
            <span id="chunk-580" class="transcript-chunks" onclick="console.log('00:40:05,490'); seek(2405.0)">
              because our third scenario is when we got
            </span>
            
            <span id="chunk-581" class="transcript-chunks" onclick="console.log('00:40:09,124'); seek(2409.0)">
              a database error, something unexpected such
            </span>
            
            <span id="chunk-582" class="transcript-chunks" onclick="console.log('00:40:13,032'); seek(2413.0)">
              as a connectivity issue or a
            </span>
            
            <span id="chunk-583" class="transcript-chunks" onclick="console.log('00:40:17,528'); seek(2417.0)">
              query that takes too much to be executed
            </span>
            
            <span id="chunk-584" class="transcript-chunks" onclick="console.log('00:40:21,726'); seek(2421.0)">
              or whatever, something that can be unpredictable
            </span>
            
            <span id="chunk-585" class="transcript-chunks" onclick="console.log('00:40:26,322'); seek(2426.0)">
              to us. So let's duplicate
            </span>
            
            <span id="chunk-586" class="transcript-chunks" onclick="console.log('00:40:30,082'); seek(2430.0)">
              again this test and now
            </span>
            
            <span id="chunk-587" class="transcript-chunks" onclick="console.log('00:40:33,900'); seek(2433.0)">
              we are going to call it db error.
            </span>
            
            <span id="chunk-588" class="transcript-chunks" onclick="console.log('00:40:42,570'); seek(2442.0)">
              In order to be sure, let's fix
            </span>
            
            <span id="chunk-589" class="transcript-chunks" onclick="console.log('00:40:45,948'); seek(2445.0)">
              the description. Now we got invalid descriptions
            </span>
            
            <span id="chunk-590" class="transcript-chunks" onclick="console.log('00:40:50,034'); seek(2450.0)">
              as Lorem ipsum.
            </span>
            
            <span id="chunk-591" class="transcript-chunks" onclick="console.log('00:41:02,390'); seek(2462.0)">
              All right, now let's
            </span>
            
            <span id="chunk-592" class="transcript-chunks" onclick="console.log('00:41:06,862'); seek(2466.0)">
              introduce the package SQL mock
            </span>
            
            <span id="chunk-593" class="transcript-chunks" onclick="console.log('00:41:10,670'); seek(2470.0)">
              which assists us in mocking a real database.
            </span>
            
            <span id="chunk-594" class="transcript-chunks" onclick="console.log('00:41:16,230'); seek(2476.0)">
              So we
            </span>
            
            <span id="chunk-595" class="transcript-chunks" onclick="console.log('00:41:24,408'); seek(2484.0)">
              are going to call the package sQl mock
            </span>
            
            <span id="chunk-596" class="transcript-chunks" onclick="console.log('00:41:29,210'); seek(2489.0)">
              dot new, the function new,
            </span>
            
            <span id="chunk-597" class="transcript-chunks" onclick="console.log('00:41:34,830'); seek(2494.0)">
              and we capture the results into
            </span>
            
            <span id="chunk-598" class="transcript-chunks" onclick="console.log('00:41:38,672'); seek(2498.0)">
              three variable. The first one is db,
            </span>
            
            <span id="chunk-599" class="transcript-chunks" onclick="console.log('00:41:42,918'); seek(2502.0)">
              the second one is mock, and the third one will
            </span>
            
            <span id="chunk-600" class="transcript-chunks" onclick="console.log('00:41:46,372'); seek(2506.0)">
              be the error. But for the sake of demo we
            </span>
            
            <span id="chunk-601" class="transcript-chunks" onclick="console.log('00:41:49,508'); seek(2509.0)">
              are not going to handle it and we leave the blank
            </span>
            
            <span id="chunk-602" class="transcript-chunks" onclick="console.log('00:41:52,798'); seek(2512.0)">
              identifier. All right,
            </span>
            
            <span id="chunk-603" class="transcript-chunks" onclick="console.log('00:41:59,750'); seek(2519.0)">
              we have to import this SQl mock. So let's navigate
            </span>
            
            <span id="chunk-604" class="transcript-chunks" onclick="console.log('00:42:04,318'); seek(2524.0)">
              up of one level and run the
            </span>
            
            <span id="chunk-605" class="transcript-chunks" onclick="console.log('00:42:08,328'); seek(2528.0)">
              go mode tidy command.
            </span>
            
            <span id="chunk-606" class="transcript-chunks" onclick="console.log('00:42:11,370'); seek(2531.0)">
              This way we successfully imported
            </span>
            
            <span id="chunk-607" class="transcript-chunks" onclick="console.log('00:42:14,890'); seek(2534.0)">
              our mock go SQl mock package.
            </span>
            
            <span id="chunk-608" class="transcript-chunks" onclick="console.log('00:42:20,910'); seek(2540.0)">
              In the new function we can provide the
            </span>
            
            <span id="chunk-609" class="transcript-chunks" onclick="console.log('00:42:24,912'); seek(2544.0)">
              criteria based on which it has to
            </span>
            
            <span id="chunk-610" class="transcript-chunks" onclick="console.log('00:42:28,512'); seek(2548.0)">
              match the query because now we
            </span>
            
            <span id="chunk-611" class="transcript-chunks" onclick="console.log('00:42:31,908'); seek(2551.0)">
              are defining the behavior of our mock.
            </span>
            
            <span id="chunk-612" class="transcript-chunks" onclick="console.log('00:42:35,066'); seek(2555.0)">
              So which query we are going to perform, which commands
            </span>
            
            <span id="chunk-613" class="transcript-chunks" onclick="console.log('00:42:39,482'); seek(2559.0)">
              we are going to perform, with which parameter and which
            </span>
            
            <span id="chunk-614" class="transcript-chunks" onclick="console.log('00:42:43,720'); seek(2563.0)">
              result we have to expect. Okay,
            </span>
            
            <span id="chunk-615" class="transcript-chunks" onclick="console.log('00:42:46,616'); seek(2566.0)">
              in order to match this query or SQL statement
            </span>
            
            <span id="chunk-616" class="transcript-chunks" onclick="console.log('00:42:50,318'); seek(2570.0)">
              in general, we have various options.
            </span>
            
            <span id="chunk-617" class="transcript-chunks" onclick="console.log('00:42:53,544'); seek(2573.0)">
              We can match them exactly,
            </span>
            
            <span id="chunk-618" class="transcript-chunks" onclick="console.log('00:42:56,890'); seek(2576.0)">
              which will be our option for today's session,
            </span>
            
            <span id="chunk-619" class="transcript-chunks" onclick="console.log('00:43:00,274'); seek(2580.0)">
              or we can match them with a regular expression,
            </span>
            
            <span id="chunk-620" class="transcript-chunks" onclick="console.log('00:43:04,650'); seek(2584.0)">
              for example. So we have to specify
            </span>
            
            <span id="chunk-621" class="transcript-chunks" onclick="console.log('00:43:08,518'); seek(2588.0)">
              the behavior in this case is SQL mock
            </span>
            
            <span id="chunk-622" class="transcript-chunks" onclick="console.log('00:43:13,390'); seek(2593.0)">
              query matcher option and within
            </span>
            
            <span id="chunk-623" class="transcript-chunks" onclick="console.log('00:43:16,960'); seek(2596.0)">
              the brackets we are going to write SQl mock
            </span>
            
            <span id="chunk-624" class="transcript-chunks" onclick="console.log('00:43:20,970'); seek(2600.0)">
              query matcher equal.
            </span>
            
            <span id="chunk-625" class="transcript-chunks" onclick="console.log('00:43:27,730'); seek(2607.0)">
              Then we have to defer a close request
            </span>
            
            <span id="chunk-626" class="transcript-chunks" onclick="console.log('00:43:32,218'); seek(2612.0)">
              to the DB.
            </span>
            
            <span id="chunk-627" class="transcript-chunks" onclick="console.log('00:43:38,070'); seek(2618.0)">
              All right, and then we have to define our gorm
            </span>
            
            <span id="chunk-628" class="transcript-chunks" onclick="console.log('00:43:43,278'); seek(2623.0)">
              dB connection because to our handler we are going to pass
            </span>
            
            <span id="chunk-629" class="transcript-chunks" onclick="console.log('00:43:47,164'); seek(2627.0)">
              a gorm client, not a row SQl stuff.
            </span>
            
            <span id="chunk-630" class="transcript-chunks" onclick="console.log('00:43:54,090'); seek(2634.0)">
              So we need a way to retrieve it.
            </span>
            
            <span id="chunk-631" class="transcript-chunks" onclick="console.log('00:43:57,470'); seek(2637.0)">
              The first thing is to define a new variable
            </span>
            
            <span id="chunk-632" class="transcript-chunks" onclick="console.log('00:44:01,510'); seek(2641.0)">
              called connection which represents the underlying
            </span>
            
            <span id="chunk-633" class="transcript-chunks" onclick="console.log('00:44:05,414'); seek(2645.0)">
              connection to our fake database.
            </span>
            
            <span id="chunk-634" class="transcript-chunks" onclick="console.log('00:44:10,450'); seek(2650.0)">
              So we are going to invoke db.com
            </span>
            
            <span id="chunk-635" class="transcript-chunks" onclick="console.log('00:44:14,340'); seek(2654.0)">
              and we provide a context. In this case
            </span>
            
            <span id="chunk-636" class="transcript-chunks" onclick="console.log('00:44:17,636'); seek(2657.0)">
              we have the gene context that fits well here.
            </span>
            
            <span id="chunk-637" class="transcript-chunks" onclick="console.log('00:44:23,910'); seek(2663.0)">
              Then we defer a close invocation
            </span>
            
            <span id="chunk-638" class="transcript-chunks" onclick="console.log('00:44:29,510'); seek(2669.0)">
              and now we are ready to instantiate
            </span>
            
            <span id="chunk-639" class="transcript-chunks" onclick="console.log('00:44:33,566'); seek(2673.0)">
              a gorm client. The gorm client is an
            </span>
            
            <span id="chunk-640" class="transcript-chunks" onclick="console.log('00:44:37,452'); seek(2677.0)">
              abstract client upon the
            </span>
            
            <span id="chunk-641" class="transcript-chunks" onclick="console.log('00:44:40,732'); seek(2680.0)">
              underlying socket connection to the database.
            </span>
            
            <span id="chunk-642" class="transcript-chunks" onclick="console.log('00:44:43,930'); seek(2683.0)">
              In this case we can define
            </span>
            
            <span id="chunk-643" class="transcript-chunks" onclick="console.log('00:44:47,858'); seek(2687.0)">
              the Gormdb variable and another blank
            </span>
            
            <span id="chunk-644" class="transcript-chunks" onclick="console.log('00:44:51,702'); seek(2691.0)">
              identifier and invoke a method
            </span>
            
            <span id="chunk-645" class="transcript-chunks" onclick="console.log('00:44:55,062'); seek(2695.0)">
              of the Gorma package.
            </span>
            
            <span id="chunk-646" class="transcript-chunks" onclick="console.log('00:44:57,710'); seek(2697.0)">
              This method is called open.
            </span>
            
            <span id="chunk-647" class="transcript-chunks" onclick="console.log('00:45:02,770'); seek(2702.0)">
              The first thing to do is to import our
            </span>
            
            <span id="chunk-648" class="transcript-chunks" onclick="console.log('00:45:06,516'); seek(2706.0)">
              package always
            </span>
            
            <span id="chunk-649" class="transcript-chunks" onclick="console.log('00:45:10,580'); seek(2710.0)">
              with the Gomode tidy we are going to download it
            </span>
            
            <span id="chunk-650" class="transcript-chunks" onclick="console.log('00:45:13,944'); seek(2713.0)">
              from GitHub.
            </span>
            
            <span id="chunk-651" class="transcript-chunks" onclick="console.log('00:45:21,270'); seek(2721.0)">
              All right then here we
            </span>
            
            <span id="chunk-652" class="transcript-chunks" onclick="console.log('00:45:25,228'); seek(2725.0)">
              expect a dialector and
            </span>
            
            <span id="chunk-653" class="transcript-chunks" onclick="console.log('00:45:30,156'); seek(2730.0)">
              we use the driver of postgres and
            </span>
            
            <span id="chunk-654" class="transcript-chunks" onclick="console.log('00:45:39,552'); seek(2739.0)">
              we invoke the function new. Again we have
            </span>
            
            <span id="chunk-655" class="transcript-chunks" onclick="console.log('00:45:43,552'); seek(2743.0)">
              to install this brighter. So let's switch back
            </span>
            
            <span id="chunk-656" class="transcript-chunks" onclick="console.log('00:45:47,136'); seek(2747.0)">
              to our terminal and rerun the go mode tidy.
            </span>
            
            <span id="chunk-657" class="transcript-chunks" onclick="console.log('00:45:54,450'); seek(2754.0)">
              Thanks to this command we have downloaded
            </span>
            
            <span id="chunk-658" class="transcript-chunks" onclick="console.log('00:45:58,042'); seek(2758.0)">
              the postgres driver. You can see here
            </span>
            
            <span id="chunk-659" class="transcript-chunks" onclick="console.log('00:46:01,956'); seek(2761.0)">
              the latest two packages installed gorm and
            </span>
            
            <span id="chunk-660" class="transcript-chunks" onclick="console.log('00:46:06,296'); seek(2766.0)">
              postgres driver.
            </span>
            
            <span id="chunk-661" class="transcript-chunks" onclick="console.log('00:46:10,710'); seek(2770.0)">
              Now within it we are going to
            </span>
            
            <span id="chunk-662" class="transcript-chunks" onclick="console.log('00:46:14,376'); seek(2774.0)">
              invoke a postgres config struct and we
            </span>
            
            <span id="chunk-663" class="transcript-chunks" onclick="console.log('00:46:17,996'); seek(2777.0)">
              set the con field to
            </span>
            
            <span id="chunk-664" class="transcript-chunks" onclick="console.log('00:46:21,388'); seek(2781.0)">
              the con that we declared
            </span>
            
            <span id="chunk-665" class="transcript-chunks" onclick="console.log('00:46:25,922'); seek(2785.0)">
              up here.
            </span>
            
            <span id="chunk-666" class="transcript-chunks" onclick="console.log('00:46:29,230'); seek(2789.0)">
              Here we go. Now we can pass this to
            </span>
            
            <span id="chunk-667" class="transcript-chunks" onclick="console.log('00:46:34,256'); seek(2794.0)">
              our request context. In order
            </span>
            
            <span id="chunk-668" class="transcript-chunks" onclick="console.log('00:46:37,776'); seek(2797.0)">
              to do this we need to invoke the set
            </span>
            
            <span id="chunk-669" class="transcript-chunks" onclick="console.log('00:46:41,524'); seek(2801.0)">
              method on our gene context.
            </span>
            
            <span id="chunk-670" class="transcript-chunks" onclick="console.log('00:46:45,250'); seek(2805.0)">
              The first parameter is a
            </span>
            
            <span id="chunk-671" class="transcript-chunks" onclick="console.log('00:46:48,532'); seek(2808.0)">
              key which is a DB and the second one is
            </span>
            
            <span id="chunk-672" class="transcript-chunks" onclick="console.log('00:46:52,052'); seek(2812.0)">
              the value that is a GormDB.
            </span>
            
            <span id="chunk-673" class="transcript-chunks" onclick="console.log('00:46:57,270'); seek(2817.0)">
              All right,
            </span>
            
            <span id="chunk-674" class="transcript-chunks" onclick="console.log('00:46:59,830'); seek(2819.0)">
              now we have to set up the mock because
            </span>
            
            <span id="chunk-675" class="transcript-chunks" onclick="console.log('00:47:03,608'); seek(2823.0)">
              we need to say to SQL
            </span>
            
            <span id="chunk-676" class="transcript-chunks" onclick="console.log('00:47:07,218'); seek(2827.0)">
              mock how to behave in this particular condition.
            </span>
            
            <span id="chunk-677" class="transcript-chunks" onclick="console.log('00:47:11,450'); seek(2831.0)">
              So let's do this. On mock
            </span>
            
            <span id="chunk-678" class="transcript-chunks" onclick="console.log('00:47:15,450'); seek(2835.0)">
              we are going to issue an expect query method
            </span>
            
            <span id="chunk-679" class="transcript-chunks" onclick="console.log('00:47:19,530'); seek(2839.0)">
              which expect a string which
            </span>
            
            <span id="chunk-680" class="transcript-chunks" onclick="console.log('00:47:24,156'); seek(2844.0)">
              represents the query that we are going to perform
            </span>
            
            <span id="chunk-681" class="transcript-chunks" onclick="console.log('00:47:28,016'); seek(2848.0)">
              on the database. In this case,
            </span>
            
            <span id="chunk-682" class="transcript-chunks" onclick="console.log('00:47:31,730'); seek(2851.0)">
              we use a backtick in order to not escape the
            </span>
            
            <span id="chunk-683" class="transcript-chunks" onclick="console.log('00:47:35,732'); seek(2855.0)">
              double quote within it. So select
            </span>
            
            <span id="chunk-684" class="transcript-chunks" onclick="console.log('00:47:39,588'); seek(2859.0)">
              star from our table that
            </span>
            
            <span id="chunk-685" class="transcript-chunks" onclick="console.log('00:47:43,192'); seek(2863.0)">
              is called to dos where
            </span>
            
            <span id="chunk-686" class="transcript-chunks" onclick="console.log('00:47:48,230'); seek(2868.0)">
              todos id
            </span>
            
            <span id="chunk-687" class="transcript-chunks" onclick="console.log('00:47:54,310'); seek(2874.0)">
              is equal to dollar one, which is a
            </span>
            
            <span id="chunk-688" class="transcript-chunks" onclick="console.log('00:47:57,468'); seek(2877.0)">
              placeholder for the first argument. The arguments
            </span>
            
            <span id="chunk-689" class="transcript-chunks" onclick="console.log('00:48:01,666'); seek(2881.0)">
              will be replaced in a positional way.
            </span>
            
            <span id="chunk-690" class="transcript-chunks" onclick="console.log('00:48:09,230'); seek(2889.0)">
              Then order by
            </span>
            
            <span id="chunk-691" class="transcript-chunks" onclick="console.log('00:48:13,950'); seek(2893.0)">
              todos id,
            </span>
            
            <span id="chunk-692" class="transcript-chunks" onclick="console.log('00:48:21,090'); seek(2901.0)">
              limit one to close the query.
            </span>
            
            <span id="chunk-693" class="transcript-chunks" onclick="console.log('00:48:26,850'); seek(2906.0)">
              Then we invoke also the
            </span>
            
            <span id="chunk-694" class="transcript-chunks" onclick="console.log('00:48:30,452'); seek(2910.0)">
              ARG with the with arcs method to specify that
            </span>
            
            <span id="chunk-695" class="transcript-chunks" onclick="console.log('00:48:34,280'); seek(2914.0)">
              we are calling this query with this argument and
            </span>
            
            <span id="chunk-696" class="transcript-chunks" onclick="console.log('00:48:39,752'); seek(2919.0)">
              it will return an error.
            </span>
            
            <span id="chunk-697" class="transcript-chunks" onclick="console.log('00:48:44,150'); seek(2924.0)">
              To create an error we use the package font together with
            </span>
            
            <span id="chunk-698" class="transcript-chunks" onclick="console.log('00:48:48,412'); seek(2928.0)">
              the error f function and we provide the string
            </span>
            
            <span id="chunk-699" class="transcript-chunks" onclick="console.log('00:48:52,370'); seek(2932.0)">
              db error.
            </span>
            
            <span id="chunk-700" class="transcript-chunks" onclick="console.log('00:48:58,910'); seek(2938.0)">
              All right, now let's switch to
            </span>
            
            <span id="chunk-701" class="transcript-chunks" onclick="console.log('00:49:02,368'); seek(2942.0)">
              the assertion part.
            </span>
            
            <span id="chunk-702" class="transcript-chunks" onclick="console.log('00:49:07,390'); seek(2947.0)">
              In the assertion part we are going to
            </span>
            
            <span id="chunk-703" class="transcript-chunks" onclick="console.log('00:49:11,428'); seek(2951.0)">
              get rid of this and leave only an assertion
            </span>
            
            <span id="chunk-704" class="transcript-chunks" onclick="console.log('00:49:15,690'); seek(2955.0)">
              on the status code that should be
            </span>
            
            <span id="chunk-705" class="transcript-chunks" onclick="console.log('00:49:19,332'); seek(2959.0)">
              equal to 500 in this case because it's an
            </span>
            
            <span id="chunk-706" class="transcript-chunks" onclick="console.log('00:49:22,872'); seek(2962.0)">
              unexpected error.
            </span>
            
            <span id="chunk-707" class="transcript-chunks" onclick="console.log('00:49:25,910'); seek(2965.0)">
              However, what we have to do is also assert that
            </span>
            
            <span id="chunk-708" class="transcript-chunks" onclick="console.log('00:49:29,592'); seek(2969.0)">
              the mock were actually used as
            </span>
            
            <span id="chunk-709" class="transcript-chunks" onclick="console.log('00:49:33,272'); seek(2973.0)">
              we expect to do this, we are going to
            </span>
            
            <span id="chunk-710" class="transcript-chunks" onclick="console.log('00:49:36,908'); seek(2976.0)">
              invoke mock expectations were
            </span>
            
            <span id="chunk-711" class="transcript-chunks" onclick="console.log('00:49:41,292'); seek(2981.0)">
              met. It will return an error if some
            </span>
            
            <span id="chunk-712" class="transcript-chunks" onclick="console.log('00:49:45,372'); seek(2985.0)">
              of the expectation were not met.
            </span>
            
            <span id="chunk-713" class="transcript-chunks" onclick="console.log('00:49:50,830'); seek(2990.0)">
              If we got an error, we let the test fail
            </span>
            
            <span id="chunk-714" class="transcript-chunks" onclick="console.log('00:49:56,110'); seek(2996.0)">
              with this string.
            </span>
            
            <span id="chunk-715" class="transcript-chunks" onclick="console.log('00:49:58,934'); seek(2998.0)">
              Not all expectations were met,
            </span>
            
            <span id="chunk-716" class="transcript-chunks" onclick="console.log('00:50:03,490'); seek(3003.0)">
              followed by percentage v
            </span>
            
            <span id="chunk-717" class="transcript-chunks" onclick="console.log('00:50:08,050'); seek(3008.0)">
              and the error.
            </span>
            
            <span id="chunk-718" class="transcript-chunks" onclick="console.log('00:50:13,750'); seek(3013.0)">
              Now we should be able to run the test and see
            </span>
            
            <span id="chunk-719" class="transcript-chunks" onclick="console.log('00:50:17,240'); seek(3017.0)">
              if we are in the red area.
            </span>
            
            <span id="chunk-720" class="transcript-chunks" onclick="console.log('00:50:21,990'); seek(3021.0)">
              And there we go. We got two errors,
            </span>
            
            <span id="chunk-721" class="transcript-chunks" onclick="console.log('00:50:26,810'); seek(3026.0)">
              the expected status code that
            </span>
            
            <span id="chunk-722" class="transcript-chunks" onclick="console.log('00:50:30,412'); seek(3030.0)">
              is different and the expectations
            </span>
            
            <span id="chunk-723" class="transcript-chunks" onclick="console.log('00:50:34,810'); seek(3034.0)">
              because we didn't run this query
            </span>
            
            <span id="chunk-724" class="transcript-chunks" onclick="console.log('00:50:38,358'); seek(3038.0)">
              on our db. That's why we
            </span>
            
            <span id="chunk-725" class="transcript-chunks" onclick="console.log('00:50:42,416'); seek(3042.0)">
              didn't retrieve the GorMDB client
            </span>
            
            <span id="chunk-726" class="transcript-chunks" onclick="console.log('00:50:46,310'); seek(3046.0)">
              in our Android. So let's fix
            </span>
            
            <span id="chunk-727" class="transcript-chunks" onclick="console.log('00:50:50,000'); seek(3050.0)">
              them. Let's start by
            </span>
            
            <span id="chunk-728" class="transcript-chunks" onclick="console.log('00:50:54,516'); seek(3054.0)">
              fixing the 500 internal server
            </span>
            
            <span id="chunk-729" class="transcript-chunks" onclick="console.log('00:50:58,058'); seek(3058.0)">
              error status code.
            </span>
            
            <span id="chunk-730" class="transcript-chunks" onclick="console.log('00:51:00,850'); seek(3060.0)">
              All right, first of all, we have to
            </span>
            
            <span id="chunk-731" class="transcript-chunks" onclick="console.log('00:51:05,544'); seek(3065.0)">
              involve a third scenario.
            </span>
            
            <span id="chunk-732" class="transcript-chunks" onclick="console.log('00:51:08,254'); seek(3068.0)">
              So we are going to have another if checking
            </span>
            
            <span id="chunk-733" class="transcript-chunks" onclick="console.log('00:51:13,990'); seek(3073.0)">
              for the validation scenario.
            </span>
            
            <span id="chunk-734" class="transcript-chunks" onclick="console.log('00:51:17,290'); seek(3077.0)">
              To do this, we need to define a DTO struct.
            </span>
            
            <span id="chunk-735" class="transcript-chunks" onclick="console.log('00:51:21,186'); seek(3081.0)">
              A DTO struct is a struct that is meant to
            </span>
            
            <span id="chunk-736" class="transcript-chunks" onclick="console.log('00:51:25,196'); seek(3085.0)">
              transport back and forth the data
            </span>
            
            <span id="chunk-737" class="transcript-chunks" onclick="console.log('00:51:28,688'); seek(3088.0)">
              from the client to the server and the way
            </span>
            
            <span id="chunk-738" class="transcript-chunks" onclick="console.log('00:51:32,240'); seek(3092.0)">
              around. So type
            </span>
            
            <span id="chunk-739" class="transcript-chunks" onclick="console.log('00:51:36,560'); seek(3096.0)">
              to do DTO struct it
            </span>
            
            <span id="chunk-740" class="transcript-chunks" onclick="console.log('00:51:43,392'); seek(3103.0)">
              will have three fields description of type string
            </span>
            
            <span id="chunk-741" class="transcript-chunks" onclick="console.log('00:51:48,050'); seek(3108.0)">
              with this gzone annotation.
            </span>
            
            <span id="chunk-742" class="transcript-chunks" onclick="console.log('00:51:54,630'); seek(3114.0)">
              Then binding with required
            </span>
            
            <span id="chunk-743" class="transcript-chunks" onclick="console.log('00:51:58,190'); seek(3118.0)">
              annotation is
            </span>
            
            <span id="chunk-744" class="transcript-chunks" onclick="console.log('00:52:03,304'); seek(3123.0)">
              completed. A boolean
            </span>
            
            <span id="chunk-745" class="transcript-chunks" onclick="console.log('00:52:06,926'); seek(3126.0)">
              value with
            </span>
            
            <span id="chunk-746" class="transcript-chunks" onclick="console.log('00:52:12,680'); seek(3132.0)">
              this gzone annotation and the binding is
            </span>
            
            <span id="chunk-747" class="transcript-chunks" onclick="console.log('00:52:16,780'); seek(3136.0)">
              required.
            </span>
            
            <span id="chunk-748" class="transcript-chunks" onclick="console.log('00:52:20,990'); seek(3140.0)">
              Due date of type string JSOn
            </span>
            
            <span id="chunk-749" class="transcript-chunks" onclick="console.log('00:52:25,870'); seek(3145.0)">
              due date binding
            </span>
            
            <span id="chunk-750" class="transcript-chunks" onclick="console.log('00:52:35,386'); seek(3155.0)">
              required one of the
            </span>
            
            <span id="chunk-751" class="transcript-chunks" onclick="console.log('00:52:38,692'); seek(3158.0)">
              beauty of Gogen web framework is that
            </span>
            
            <span id="chunk-752" class="transcript-chunks" onclick="console.log('00:52:42,612'); seek(3162.0)">
              it has a lot of features built in.
            </span>
            
            <span id="chunk-753" class="transcript-chunks" onclick="console.log('00:52:46,790'); seek(3166.0)">
              This one is a great example. We can do the validation
            </span>
            
            <span id="chunk-754" class="transcript-chunks" onclick="console.log('00:52:50,142'); seek(3170.0)">
              in this way. Just add an annotation here
            </span>
            
            <span id="chunk-755" class="transcript-chunks" onclick="console.log('00:52:54,056'); seek(3174.0)">
              and then invoke a method over the gene context.
            </span>
            
            <span id="chunk-756" class="transcript-chunks" onclick="console.log('00:52:58,650'); seek(3178.0)">
              Let's do this. First of all we
            </span>
            
            <span id="chunk-757" class="transcript-chunks" onclick="console.log('00:53:02,028'); seek(3182.0)">
              are going to define a variable called to do of type
            </span>
            
            <span id="chunk-758" class="transcript-chunks" onclick="console.log('00:53:06,044'); seek(3186.0)">
              to do DTO.
            </span>
            
            <span id="chunk-759" class="transcript-chunks" onclick="console.log('00:53:10,510'); seek(3190.0)">
              Then we run the method should bind
            </span>
            
            <span id="chunk-760" class="transcript-chunks" onclick="console.log('00:53:14,150'); seek(3194.0)">
              over the gene context and it automatically understand
            </span>
            
            <span id="chunk-761" class="transcript-chunks" onclick="console.log('00:53:19,550'); seek(3199.0)">
              that it has to try to unmarshall the
            </span>
            
            <span id="chunk-762" class="transcript-chunks" onclick="console.log('00:53:23,172'); seek(3203.0)">
              body of the request onto our struct
            </span>
            
            <span id="chunk-763" class="transcript-chunks" onclick="console.log('00:53:27,890'); seek(3207.0)">
              and we have to pass the pointer to our variable.
            </span>
            
            <span id="chunk-764" class="transcript-chunks" onclick="console.log('00:53:33,510'); seek(3213.0)">
              Then we capture the error and
            </span>
            
            <span id="chunk-765" class="transcript-chunks" onclick="console.log('00:53:38,024'); seek(3218.0)">
              if the error is not nil we
            </span>
            
            <span id="chunk-766" class="transcript-chunks" onclick="console.log('00:53:41,768'); seek(3221.0)">
              are going to return this.
            </span>
            
            <span id="chunk-767" class="transcript-chunks" onclick="console.log('00:53:48,490'); seek(3228.0)">
              Otherwise we are going to set the
            </span>
            
            <span id="chunk-768" class="transcript-chunks" onclick="console.log('00:53:52,970'); seek(3232.0)">
              HTTP internal server error status code
            </span>
            
            <span id="chunk-769" class="transcript-chunks" onclick="console.log('00:53:57,210'); seek(3237.0)">
              c writer write either 500
            </span>
            
            <span id="chunk-770" class="transcript-chunks" onclick="console.log('00:54:02,510'); seek(3242.0)">
              and then we force to write the eater now.
            </span>
            
            <span id="chunk-771" class="transcript-chunks" onclick="console.log('00:54:10,050'); seek(3250.0)">
              Now we can run the test to see if the first
            </span>
            
            <span id="chunk-772" class="transcript-chunks" onclick="console.log('00:54:13,780'); seek(3253.0)">
              assertion goes away.
            </span>
            
            <span id="chunk-773" class="transcript-chunks" onclick="console.log('00:54:17,970'); seek(3257.0)">
              If we run go test b cover.
            </span>
            
            <span id="chunk-774" class="transcript-chunks" onclick="console.log('00:54:21,108'); seek(3261.0)">
              Now the complaint about the status code has
            </span>
            
            <span id="chunk-775" class="transcript-chunks" onclick="console.log('00:54:24,872'); seek(3264.0)">
              gone away. Now we can try to fix
            </span>
            
            <span id="chunk-776" class="transcript-chunks" onclick="console.log('00:54:29,430'); seek(3269.0)">
              the second assertion which is
            </span>
            
            <span id="chunk-777" class="transcript-chunks" onclick="console.log('00:54:35,850'); seek(3275.0)">
              the assertion about
            </span>
            
            <span id="chunk-778" class="transcript-chunks" onclick="console.log('00:54:39,388'); seek(3279.0)">
              the query. In order to do
            </span>
            
            <span id="chunk-779" class="transcript-chunks" onclick="console.log('00:54:42,892'); seek(3282.0)">
              this, we have to define a model.
            </span>
            
            <span id="chunk-780" class="transcript-chunks" onclick="console.log('00:54:46,970'); seek(3286.0)">
              The model is the actual model that
            </span>
            
            <span id="chunk-781" class="transcript-chunks" onclick="console.log('00:54:50,832'); seek(3290.0)">
              will be mapped as a table in our
            </span>
            
            <span id="chunk-782" class="transcript-chunks" onclick="console.log('00:54:54,352'); seek(3294.0)">
              database because the Orm
            </span>
            
            <span id="chunk-783" class="transcript-chunks" onclick="console.log('00:54:58,270'); seek(3298.0)">
              its purpose is to map object that
            </span>
            
            <span id="chunk-784" class="transcript-chunks" onclick="console.log('00:55:02,452'); seek(3302.0)">
              are code stuff such as struct over relation
            </span>
            
            <span id="chunk-785" class="transcript-chunks" onclick="console.log('00:55:07,570'); seek(3307.0)">
              that are table in the database. So let's define the
            </span>
            
            <span id="chunk-786" class="transcript-chunks" onclick="console.log('00:55:11,636'); seek(3311.0)">
              to do struct. The to
            </span>
            
            <span id="chunk-787" class="transcript-chunks" onclick="console.log('00:55:15,352'); seek(3315.0)">
              do struct will have an id of type unsigned
            </span>
            
            <span id="chunk-788" class="transcript-chunks" onclick="console.log('00:55:19,662'); seek(3319.0)">
              integer, then a description of type
            </span>
            
            <span id="chunk-789" class="transcript-chunks" onclick="console.log('00:55:23,480'); seek(3323.0)">
              string, then the is completed field
            </span>
            
            <span id="chunk-790" class="transcript-chunks" onclick="console.log('00:55:27,164'); seek(3327.0)">
              of type bool and then the due date of
            </span>
            
            <span id="chunk-791" class="transcript-chunks" onclick="console.log('00:55:30,972'); seek(3330.0)">
              type string.
            </span>
            
            <span id="chunk-792" class="transcript-chunks" onclick="console.log('00:55:35,850'); seek(3335.0)">
              All right here,
            </span>
            
            <span id="chunk-793" class="transcript-chunks" onclick="console.log('00:55:39,950'); seek(3339.0)">
              first of all we have to get the db
            </span>
            
            <span id="chunk-794" class="transcript-chunks" onclick="console.log('00:55:44,006'); seek(3344.0)">
              and to get the db we are going to read this
            </span>
            
            <span id="chunk-795" class="transcript-chunks" onclick="console.log('00:55:48,176'); seek(3348.0)">
              value from our context. So c
            </span>
            
            <span id="chunk-796" class="transcript-chunks" onclick="console.log('00:55:51,604'); seek(3351.0)">
              dot mustget which is a method
            </span>
            
            <span id="chunk-797" class="transcript-chunks" onclick="console.log('00:55:55,562'); seek(3355.0)">
              that expecting a DB key in our case
            </span>
            
            <span id="chunk-798" class="transcript-chunks" onclick="console.log('00:55:59,204'); seek(3359.0)">
              is db.
            </span>
            
            <span id="chunk-799" class="transcript-chunks" onclick="console.log('00:56:02,870'); seek(3362.0)">
              And then we typecast it because it's a pointer
            </span>
            
            <span id="chunk-800" class="transcript-chunks" onclick="console.log('00:56:06,846'); seek(3366.0)">
              to a GormDB.
            </span>
            
            <span id="chunk-801" class="transcript-chunks" onclick="console.log('00:56:10,470'); seek(3370.0)">
              Then we have our db. Now let's
            </span>
            
            <span id="chunk-802" class="transcript-chunks" onclick="console.log('00:56:13,790'); seek(3373.0)">
              actually invoke our query.
            </span>
            
            <span id="chunk-803" class="transcript-chunks" onclick="console.log('00:56:18,330'); seek(3378.0)">
              First of all we need the id here
            </span>
            
            <span id="chunk-804" class="transcript-chunks" onclick="console.log('00:56:22,268'); seek(3382.0)">
              because now we will use the id so
            </span>
            
            <span id="chunk-805" class="transcript-chunks" onclick="console.log('00:56:26,410'); seek(3386.0)">
              DB model and then
            </span>
            
            <span id="chunk-806" class="transcript-chunks" onclick="console.log('00:56:30,656'); seek(3390.0)">
              we pass in to do struct
            </span>
            
            <span id="chunk-807" class="transcript-chunks" onclick="console.log('00:56:36,270'); seek(3396.0)">
              the model method is to indicate on which
            </span>
            
            <span id="chunk-808" class="transcript-chunks" onclick="console.log('00:56:40,210'); seek(3400.0)">
              model we are going to perform our action.
            </span>
            
            <span id="chunk-809" class="transcript-chunks" onclick="console.log('00:56:46,210'); seek(3406.0)">
              Then we will invoke the first method,
            </span>
            
            <span id="chunk-810" class="transcript-chunks" onclick="console.log('00:56:51,730'); seek(3411.0)">
              the destination. We don't care about it for now,
            </span>
            
            <span id="chunk-811" class="transcript-chunks" onclick="console.log('00:56:55,208'); seek(3415.0)">
              so we leave an empty to do and
            </span>
            
            <span id="chunk-812" class="transcript-chunks" onclick="console.log('00:56:58,952'); seek(3418.0)">
              then we provide the id parameter because we
            </span>
            
            <span id="chunk-813" class="transcript-chunks" onclick="console.log('00:57:02,888'); seek(3422.0)">
              are going to search by the primary key.
            </span>
            
            <span id="chunk-814" class="transcript-chunks" onclick="console.log('00:57:08,650'); seek(3428.0)">
              That's all. Let's see if
            </span>
            
            <span id="chunk-815" class="transcript-chunks" onclick="console.log('00:57:13,612'); seek(3433.0)">
              we manage also the second assertion.
            </span>
            
            <span id="chunk-816" class="transcript-chunks" onclick="console.log('00:57:19,790'); seek(3439.0)">
              And there we go.
            </span>
            
            <span id="chunk-817" class="transcript-chunks" onclick="console.log('00:57:22,990'); seek(3442.0)">
              We got printed on our terminal the
            </span>
            
            <span id="chunk-818" class="transcript-chunks" onclick="console.log('00:57:26,992'); seek(3446.0)">
              DB error which is actually returned
            </span>
            
            <span id="chunk-819" class="transcript-chunks" onclick="console.log('00:57:30,294'); seek(3450.0)">
              by our fake database. So now we
            </span>
            
            <span id="chunk-820" class="transcript-chunks" onclick="console.log('00:57:35,428'); seek(3455.0)">
              are talking over a database to a database,
            </span>
            
            <span id="chunk-821" class="transcript-chunks" onclick="console.log('00:57:38,858'); seek(3458.0)">
              but we didn't have it yet because in the
            </span>
            
            <span id="chunk-822" class="transcript-chunks" onclick="console.log('00:57:42,532'); seek(3462.0)">
              EDD cycle we first needed to make
            </span>
            
            <span id="chunk-823" class="transcript-chunks" onclick="console.log('00:57:46,952'); seek(3466.0)">
              sure to design the behavior correctly. Then we can choose
            </span>
            
            <span id="chunk-824" class="transcript-chunks" onclick="console.log('00:57:51,990'); seek(3471.0)">
              on which database actually talk to.
            </span>
            
            <span id="chunk-825" class="transcript-chunks" onclick="console.log('00:57:56,330'); seek(3476.0)">
              Now we can do some improvements.
            </span>
            
            <span id="chunk-826" class="transcript-chunks" onclick="console.log('00:58:00,890'); seek(3480.0)">
              First of all, let's create another
            </span>
            
            <span id="chunk-827" class="transcript-chunks" onclick="console.log('00:58:04,908'); seek(3484.0)">
              package which is called model.
            </span>
            
            <span id="chunk-828" class="transcript-chunks" onclick="console.log('00:58:09,550'); seek(3489.0)">
              In our terminal go up of one level and
            </span>
            
            <span id="chunk-829" class="transcript-chunks" onclick="console.log('00:58:13,856'); seek(3493.0)">
              create a folder called models.
            </span>
            
            <span id="chunk-830" class="transcript-chunks" onclick="console.log('00:58:19,890'); seek(3499.0)">
              Then in our models folder
            </span>
            
            <span id="chunk-831" class="transcript-chunks" onclick="console.log('00:58:23,802'); seek(3503.0)">
              place a file called models go which
            </span>
            
            <span id="chunk-832" class="transcript-chunks" onclick="console.log('00:58:28,596'); seek(3508.0)">
              belong to the package models.
            </span>
            
            <span id="chunk-833" class="transcript-chunks" onclick="console.log('00:58:33,910'); seek(3513.0)">
              Then we cut the constant from
            </span>
            
            <span id="chunk-834" class="transcript-chunks" onclick="console.log('00:58:38,216'); seek(3518.0)">
              here and we put them here.
            </span>
            
            <span id="chunk-835" class="transcript-chunks" onclick="console.log('00:58:46,710'); seek(3526.0)">
              Now visual studio code start to complain because
            </span>
            
            <span id="chunk-836" class="transcript-chunks" onclick="console.log('00:58:51,450'); seek(3531.0)">
              id, not integer is undefined.
            </span>
            
            <span id="chunk-837" class="transcript-chunks" onclick="console.log('00:58:55,290'); seek(3535.0)">
              All right, so let's
            </span>
            
            <span id="chunk-838" class="transcript-chunks" onclick="console.log('00:58:58,658'); seek(3538.0)">
              import our new created package to
            </span>
            
            <span id="chunk-839" class="transcript-chunks" onclick="console.log('00:59:03,292'); seek(3543.0)">
              do app models. In the import
            </span>
            
            <span id="chunk-840" class="transcript-chunks" onclick="console.log('00:59:06,784'); seek(3546.0)">
              section to do app is the name of the module,
            </span>
            
            <span id="chunk-841" class="transcript-chunks" onclick="console.log('00:59:10,582'); seek(3550.0)">
              models is the name of the package.
            </span>
            
            <span id="chunk-842" class="transcript-chunks" onclick="console.log('00:59:14,050'); seek(3554.0)">
              Then we prepend the package name to
            </span>
            
            <span id="chunk-843" class="transcript-chunks" onclick="console.log('00:59:17,572'); seek(3557.0)">
              the constant in order to be successfully recognized.
            </span>
            
            <span id="chunk-844" class="transcript-chunks" onclick="console.log('00:59:23,750'); seek(3563.0)">
              Here we go. The file handlers is
            </span>
            
            <span id="chunk-845" class="transcript-chunks" onclick="console.log('00:59:27,576'); seek(3567.0)">
              okay. However the test file
            </span>
            
            <span id="chunk-846" class="transcript-chunks" onclick="console.log('00:59:31,166'); seek(3571.0)">
              is not fixed. We have to do the same here.
            </span>
            
            <span id="chunk-847" class="transcript-chunks" onclick="console.log('00:59:34,520'); seek(3574.0)">
              So let's start by importing the package
            </span>
            
            <span id="chunk-848" class="transcript-chunks" onclick="console.log('00:59:41,370'); seek(3581.0)">
              and then switch the variable to use the new package it.
            </span>
            
            <span id="chunk-849" class="transcript-chunks" onclick="console.log('01:00:03,010'); seek(3603.0)">
              Let's save the file and
            </span>
            
            <span id="chunk-850" class="transcript-chunks" onclick="console.log('01:00:06,964'); seek(3606.0)">
              rerun our test.
            </span>
            
            <span id="chunk-851" class="transcript-chunks" onclick="console.log('01:00:13,410'); seek(3613.0)">
              The test is still successfully.
            </span>
            
            <span id="chunk-852" class="transcript-chunks" onclick="console.log('01:00:17,830'); seek(3617.0)">
              Another thing that we should do is to cut
            </span>
            
            <span id="chunk-853" class="transcript-chunks" onclick="console.log('01:00:22,936'); seek(3622.0)">
              away from here this to do definition because it's a model.
            </span>
            
            <span id="chunk-854" class="transcript-chunks" onclick="console.log('01:00:27,036'); seek(3627.0)">
              It's not something related to the HTTP protocol,
            </span>
            
            <span id="chunk-855" class="transcript-chunks" onclick="console.log('01:00:30,962'); seek(3630.0)">
              so its house is not here. It's within the
            </span>
            
            <span id="chunk-856" class="transcript-chunks" onclick="console.log('01:00:35,292'); seek(3635.0)">
              model's file. So let's cut this
            </span>
            
            <span id="chunk-857" class="transcript-chunks" onclick="console.log('01:00:39,040'); seek(3639.0)">
              from here and paste it here we save the
            </span>
            
            <span id="chunk-858" class="transcript-chunks" onclick="console.log('01:00:42,992'); seek(3642.0)">
              file and the Android go file is complaining
            </span>
            
            <span id="chunk-859" class="transcript-chunks" onclick="console.log('01:00:47,206'); seek(3647.0)">
              because it doesn't recognize to do let's
            </span>
            
            <span id="chunk-860" class="transcript-chunks" onclick="console.log('01:00:51,162'); seek(3651.0)">
              prepend also this to do with the model's package named
            </span>
            
            <span id="chunk-861" class="transcript-chunks" onclick="console.log('01:01:01,898'); seek(3661.0)">
              and rerun the test.
            </span>
            
            <span id="chunk-862" class="transcript-chunks" onclick="console.log('01:01:07,470'); seek(3667.0)">
              The last two small things that we have to do is
            </span>
            
            <span id="chunk-863" class="transcript-chunks" onclick="console.log('01:01:11,376'); seek(3671.0)">
              define a constant
            </span>
            
            <span id="chunk-864" class="transcript-chunks" onclick="console.log('01:01:14,758'); seek(3674.0)">
              called tb key.
            </span>
            
            <span id="chunk-865" class="transcript-chunks" onclick="console.log('01:01:21,010'); seek(3681.0)">
              This constant will be used to set the
            </span>
            
            <span id="chunk-866" class="transcript-chunks" onclick="console.log('01:01:25,252'); seek(3685.0)">
              key instead of these magic numbers.
            </span>
            
            <span id="chunk-867" class="transcript-chunks" onclick="console.log('01:01:29,990'); seek(3689.0)">
              So let's switch it and
            </span>
            
            <span id="chunk-868" class="transcript-chunks" onclick="console.log('01:01:34,136'); seek(3694.0)">
              also in the test code.
            </span>
            
            <span id="chunk-869" class="transcript-chunks" onclick="console.log('01:01:38,470'); seek(3698.0)">
              And then let's switch also the HTTP status
            </span>
            
            <span id="chunk-870" class="transcript-chunks" onclick="console.log('01:01:42,482'); seek(3702.0)">
              code to HTTP internal server error.
            </span>
            
            <span id="chunk-871" class="transcript-chunks" onclick="console.log('01:01:53,790'); seek(3713.0)">
              Let's rerun the test and check if
            </span>
            
            <span id="chunk-872" class="transcript-chunks" onclick="console.log('01:01:57,312'); seek(3717.0)">
              everything is still okay. And that's the case.
            </span>
            
            <span id="chunk-873" class="transcript-chunks" onclick="console.log('01:02:04,270'); seek(3724.0)">
              Now what we have to do is
            </span>
            
            <span id="chunk-874" class="transcript-chunks" onclick="console.log('01:02:08,644'); seek(3728.0)">
              to assert also for the body of
            </span>
            
            <span id="chunk-875" class="transcript-chunks" onclick="console.log('01:02:12,612'); seek(3732.0)">
              it. So let's duplicate this
            </span>
            
            <span id="chunk-876" class="transcript-chunks" onclick="console.log('01:02:16,596'); seek(3736.0)">
              test.
            </span>
            
            <span id="chunk-877" class="transcript-chunks" onclick="console.log('01:02:20,550'); seek(3740.0)">
              The scenario is the same, so we don't
            </span>
            
            <span id="chunk-878" class="transcript-chunks" onclick="console.log('01:02:24,158'); seek(3744.0)">
              have any reason for change anything here.
            </span>
            
            <span id="chunk-879" class="transcript-chunks" onclick="console.log('01:02:27,190'); seek(3747.0)">
              However, the assertion is different.
            </span>
            
            <span id="chunk-880" class="transcript-chunks" onclick="console.log('01:02:33,450'); seek(3753.0)">
              Now we would like to assert over the body.
            </span>
            
            <span id="chunk-881" class="transcript-chunks" onclick="console.log('01:02:37,450'); seek(3757.0)">
              So we're going to use the contains
            </span>
            
            <span id="chunk-882" class="transcript-chunks" onclick="console.log('01:02:41,250'); seek(3761.0)">
              function with the body string
            </span>
            
            <span id="chunk-883" class="transcript-chunks" onclick="console.log('01:02:46,694'); seek(3766.0)">
              method and we expect a dB error issued.
            </span>
            
            <span id="chunk-884" class="transcript-chunks" onclick="console.log('01:03:04,230'); seek(3784.0)">
              We have to add a suffix here which
            </span>
            
            <span id="chunk-885" class="transcript-chunks" onclick="console.log('01:03:08,152'); seek(3788.0)">
              is body.
            </span>
            
            <span id="chunk-886" class="transcript-chunks" onclick="console.log('01:03:13,190'); seek(3793.0)">
              All right, then we can see if we are back in the
            </span>
            
            <span id="chunk-887" class="transcript-chunks" onclick="console.log('01:03:17,340'); seek(3797.0)">
              red area, and indeed
            </span>
            
            <span id="chunk-888" class="transcript-chunks" onclick="console.log('01:03:21,698'); seek(3801.0)">
              we are in the red area because
            </span>
            
            <span id="chunk-889" class="transcript-chunks" onclick="console.log('01:03:24,924'); seek(3804.0)">
              string empty does not contain db error.
            </span>
            
            <span id="chunk-890" class="transcript-chunks" onclick="console.log('01:03:28,066'); seek(3808.0)">
              Let's fix this in
            </span>
            
            <span id="chunk-891" class="transcript-chunks" onclick="console.log('01:03:34,192'); seek(3814.0)">
              our production code. Let's replace these
            </span>
            
            <span id="chunk-892" class="transcript-chunks" onclick="console.log('01:03:38,304'); seek(3818.0)">
              two lines here.
            </span>
            
            <span id="chunk-893" class="transcript-chunks" onclick="console.log('01:03:43,428'); seek(3823.0)">
              We are going to invoke string which expect
            </span>
            
            <span id="chunk-894" class="transcript-chunks" onclick="console.log('01:03:48,930'); seek(3828.0)">
              status code as the first parameter. And then we provide
            </span>
            
            <span id="chunk-895" class="transcript-chunks" onclick="console.log('01:03:52,580'); seek(3832.0)">
              the string TBR and we get rid
            </span>
            
            <span id="chunk-896" class="transcript-chunks" onclick="console.log('01:03:56,158'); seek(3836.0)">
              of the line to force if
            </span>
            
            <span id="chunk-897" class="transcript-chunks" onclick="console.log('01:04:01,256'); seek(3841.0)">
              we issue the same command. Now we are back
            </span>
            
            <span id="chunk-898" class="transcript-chunks" onclick="console.log('01:04:05,000'); seek(3845.0)">
              in the green area, but let's refactor
            </span>
            
            <span id="chunk-899" class="transcript-chunks" onclick="console.log('01:04:08,802'); seek(3848.0)">
              this magic number by introducing another constant
            </span>
            
            <span id="chunk-900" class="transcript-chunks" onclick="console.log('01:04:12,914'); seek(3852.0)">
              here. And this constant is
            </span>
            
            <span id="chunk-901" class="transcript-chunks" onclick="console.log('01:04:16,492'); seek(3856.0)">
              db error.
            </span>
            
            <span id="chunk-902" class="transcript-chunks" onclick="console.log('01:04:19,790'); seek(3859.0)">
              Its label is dB error.
            </span>
            
            <span id="chunk-903" class="transcript-chunks" onclick="console.log('01:04:25,470'); seek(3865.0)">
              Here we are going to switch to this new constant which
            </span>
            
            <span id="chunk-904" class="transcript-chunks" onclick="console.log('01:04:30,608'); seek(3870.0)">
              is model dB error and also
            </span>
            
            <span id="chunk-905" class="transcript-chunks" onclick="console.log('01:04:33,908'); seek(3873.0)">
              in our test code.
            </span>
            
            <span id="chunk-906" class="transcript-chunks" onclick="console.log('01:04:44,390'); seek(3884.0)">
              Let's rerun the test and everything is still good as
            </span>
            
            <span id="chunk-907" class="transcript-chunks" onclick="console.log('01:04:49,736'); seek(3889.0)">
              before. Let's cut this assertion and put
            </span>
            
            <span id="chunk-908" class="transcript-chunks" onclick="console.log('01:04:54,136'); seek(3894.0)">
              this assertion within the first dB
            </span>
            
            <span id="chunk-909" class="transcript-chunks" onclick="console.log('01:04:58,450'); seek(3898.0)">
              error test method because we
            </span>
            
            <span id="chunk-910" class="transcript-chunks" onclick="console.log('01:05:02,028'); seek(3902.0)">
              are testing the same scenario here. So it's
            </span>
            
            <span id="chunk-911" class="transcript-chunks" onclick="console.log('01:05:05,378'); seek(3905.0)">
              completely fine to have a single test for it with
            </span>
            
            <span id="chunk-912" class="transcript-chunks" onclick="console.log('01:05:09,200'); seek(3909.0)">
              two assertion plus another for the mock.
            </span>
            
            <span id="chunk-913" class="transcript-chunks" onclick="console.log('01:05:15,870'); seek(3915.0)">
              If we rerun the test now,
            </span>
            
            <span id="chunk-914" class="transcript-chunks" onclick="console.log('01:05:19,936'); seek(3919.0)">
              everything is still good and we have 100%
            </span>
            
            <span id="chunk-915" class="transcript-chunks" onclick="console.log('01:05:24,356'); seek(3924.0)">
              of code coverage.
            </span>
            
            <span id="chunk-916" class="transcript-chunks" onclick="console.log('01:05:30,210'); seek(3930.0)">
              All right, now let's move to the
            </span>
            
            <span id="chunk-917" class="transcript-chunks" onclick="console.log('01:05:33,672'); seek(3933.0)">
              fourth scenario. That is the to do not found
            </span>
            
            <span id="chunk-918" class="transcript-chunks" onclick="console.log('01:05:37,848'); seek(3937.0)">
              situation.
            </span>
            
            <span id="chunk-919" class="transcript-chunks" onclick="console.log('01:05:41,110'); seek(3941.0)">
              So we are going to duplicate the latest file,
            </span>
            
            <span id="chunk-920" class="transcript-chunks" onclick="console.log('01:05:44,798'); seek(3944.0)">
              the latest test, I mean,
            </span>
            
            <span id="chunk-921" class="transcript-chunks" onclick="console.log('01:05:48,570'); seek(3948.0)">
              and we are going to rename it with not found.
            </span>
            
            <span id="chunk-922" class="transcript-chunks" onclick="console.log('01:05:57,630'); seek(3957.0)">
              The assertion here is different because in
            </span>
            
            <span id="chunk-923" class="transcript-chunks" onclick="console.log('01:06:00,848'); seek(3960.0)">
              this case we would like to have the 404
            </span>
            
            <span id="chunk-924" class="transcript-chunks" onclick="console.log('01:06:07,230'); seek(3967.0)">
              status code. So let's switch the assertion.
            </span>
            
            <span id="chunk-925" class="transcript-chunks" onclick="console.log('01:06:10,614'); seek(3970.0)">
              First we'll like the 404
            </span>
            
            <span id="chunk-926" class="transcript-chunks" onclick="console.log('01:06:14,544'); seek(3974.0)">
              status code. However,
            </span>
            
            <span id="chunk-927" class="transcript-chunks" onclick="console.log('01:06:17,870'); seek(3977.0)">
              now the mock is behaving in a little
            </span>
            
            <span id="chunk-928" class="transcript-chunks" onclick="console.log('01:06:21,856'); seek(3981.0)">
              different way. It's not going to return a
            </span>
            
            <span id="chunk-929" class="transcript-chunks" onclick="console.log('01:06:25,512'); seek(3985.0)">
              generic error, but is returning a specific error which
            </span>
            
            <span id="chunk-930" class="transcript-chunks" onclick="console.log('01:06:29,912'); seek(3989.0)">
              is provided by the gorm package and
            </span>
            
            <span id="chunk-931" class="transcript-chunks" onclick="console.log('01:06:33,752'); seek(3993.0)">
              the error is called error record
            </span>
            
            <span id="chunk-932" class="transcript-chunks" onclick="console.log('01:06:37,308'); seek(3997.0)">
              not found. All right,
            </span>
            
            <span id="chunk-933" class="transcript-chunks" onclick="console.log('01:06:43,210'); seek(4003.0)">
              everything else is still the same except the mock behavior
            </span>
            
            <span id="chunk-934" class="transcript-chunks" onclick="console.log('01:06:46,898'); seek(4006.0)">
              because if the mock we reply with this specific error,
            </span>
            
            <span id="chunk-935" class="transcript-chunks" onclick="console.log('01:06:50,582'); seek(4010.0)">
              we would like to reply to our client with the 404
            </span>
            
            <span id="chunk-936" class="transcript-chunks" onclick="console.log('01:06:55,310'); seek(4015.0)">
              not found status code.
            </span>
            
            <span id="chunk-937" class="transcript-chunks" onclick="console.log('01:07:02,830'); seek(4022.0)">
              All right, now let's rerun the test
            </span>
            
            <span id="chunk-938" class="transcript-chunks" onclick="console.log('01:07:06,240'); seek(4026.0)">
              and see if we are in the red area.
            </span>
            
            <span id="chunk-939" class="transcript-chunks" onclick="console.log('01:07:10,990'); seek(4030.0)">
              And there we go. Because 404
            </span>
            
            <span id="chunk-940" class="transcript-chunks" onclick="console.log('01:07:14,180'); seek(4034.0)">
              is not equal to 500,
            </span>
            
            <span id="chunk-941" class="transcript-chunks" onclick="console.log('01:07:20,530'); seek(4040.0)">
              so we are allowed to write some production
            </span>
            
            <span id="chunk-942" class="transcript-chunks" onclick="console.log('01:07:24,058'); seek(4044.0)">
              code. Now first of all, let's grab
            </span>
            
            <span id="chunk-943" class="transcript-chunks" onclick="console.log('01:07:28,030'); seek(4048.0)">
              the result of this transaction in a variable called
            </span>
            
            <span id="chunk-944" class="transcript-chunks" onclick="console.log('01:07:31,944'); seek(4051.0)">
              error. In this way we can
            </span>
            
            <span id="chunk-945" class="transcript-chunks" onclick="console.log('01:07:35,672'); seek(4055.0)">
              inspect this error if
            </span>
            
            <span id="chunk-946" class="transcript-chunks" onclick="console.log('01:07:40,010'); seek(4060.0)">
              errors is,
            </span>
            
            <span id="chunk-947" class="transcript-chunks" onclick="console.log('01:07:43,210'); seek(4063.0)">
              which is a function introduced by the GO
            </span>
            
            <span id="chunk-948" class="transcript-chunks" onclick="console.log('01:07:46,732'); seek(4066.0)">
              113 version that can assert if
            </span>
            
            <span id="chunk-949" class="transcript-chunks" onclick="console.log('01:07:50,684'); seek(4070.0)">
              an error is of a specific type and
            </span>
            
            <span id="chunk-950" class="transcript-chunks" onclick="console.log('01:07:54,032'); seek(4074.0)">
              it return a boolean representing this match.
            </span>
            
            <span id="chunk-951" class="transcript-chunks" onclick="console.log('01:07:59,710'); seek(4079.0)">
              The second parameter is the actual error,
            </span>
            
            <span id="chunk-952" class="transcript-chunks" onclick="console.log('01:08:03,654'); seek(4083.0)">
              that is error record not found.
            </span>
            
            <span id="chunk-953" class="transcript-chunks" onclick="console.log('01:08:08,290'); seek(4088.0)">
              If so,
            </span>
            
            <span id="chunk-954" class="transcript-chunks" onclick="console.log('01:08:11,730'); seek(4091.0)">
              we are going to write the 404 not
            </span>
            
            <span id="chunk-955" class="transcript-chunks" onclick="console.log('01:08:16,472'); seek(4096.0)">
              found status code and
            </span>
            
            <span id="chunk-956" class="transcript-chunks" onclick="console.log('01:08:22,712'); seek(4102.0)">
              we force it to be written
            </span>
            
            <span id="chunk-957" class="transcript-chunks" onclick="console.log('01:08:28,390'); seek(4108.0)">
              and we return.
            </span>
            
            <span id="chunk-958" class="transcript-chunks" onclick="console.log('01:08:31,210'); seek(4111.0)">
              Otherwise, the old logic
            </span>
            
            <span id="chunk-959" class="transcript-chunks" onclick="console.log('01:08:34,562'); seek(4114.0)">
              still relying
            </span>
            
            <span id="chunk-960" class="transcript-chunks" onclick="console.log('01:08:41,218'); seek(4121.0)">
              if we rerun the test now
            </span>
            
            <span id="chunk-961" class="transcript-chunks" onclick="console.log('01:08:46,704'); seek(4126.0)">
              we have in the red, in the green area because we
            </span>
            
            <span id="chunk-962" class="transcript-chunks" onclick="console.log('01:08:50,928'); seek(4130.0)">
              got a positive outcome.
            </span>
            
            <span id="chunk-963" class="transcript-chunks" onclick="console.log('01:08:55,250'); seek(4135.0)">
              What we can do is do a tiny refactoring by
            </span>
            
            <span id="chunk-964" class="transcript-chunks" onclick="console.log('01:08:59,732'); seek(4139.0)">
              using HTTP status
            </span>
            
            <span id="chunk-965" class="transcript-chunks" onclick="console.log('01:09:03,258'); seek(4143.0)">
              not found constant
            </span>
            
            <span id="chunk-966" class="transcript-chunks" onclick="console.log('01:09:06,890'); seek(4146.0)">
              provided by the HTTP package and
            </span>
            
            <span id="chunk-967" class="transcript-chunks" onclick="console.log('01:09:13,176'); seek(4153.0)">
              everything is still good.
            </span>
            
            <span id="chunk-968" class="transcript-chunks" onclick="console.log('01:09:19,610'); seek(4159.0)">
              Now let's do
            </span>
            
            <span id="chunk-969" class="transcript-chunks" onclick="console.log('01:09:23,276'); seek(4163.0)">
              something more. On this scenario we
            </span>
            
            <span id="chunk-970" class="transcript-chunks" onclick="console.log('01:09:26,972'); seek(4166.0)">
              would like also to test the body. So let's duplicate
            </span>
            
            <span id="chunk-971" class="transcript-chunks" onclick="console.log('01:09:31,950'); seek(4171.0)">
              this test and then let's
            </span>
            
            <span id="chunk-972" class="transcript-chunks" onclick="console.log('01:09:36,678'); seek(4176.0)">
              append the body suffix.
            </span>
            
            <span id="chunk-973" class="transcript-chunks" onclick="console.log('01:09:39,550'); seek(4179.0)">
              All right, and let's
            </span>
            
            <span id="chunk-974" class="transcript-chunks" onclick="console.log('01:09:43,142'); seek(4183.0)">
              change this assertion because now we
            </span>
            
            <span id="chunk-975" class="transcript-chunks" onclick="console.log('01:09:47,268'); seek(4187.0)">
              would like to write an assertion for
            </span>
            
            <span id="chunk-976" class="transcript-chunks" onclick="console.log('01:09:51,012'); seek(4191.0)">
              the body. So we are going to use the contains function of
            </span>
            
            <span id="chunk-977" class="transcript-chunks" onclick="console.log('01:09:55,012'); seek(4195.0)">
              the assert package and
            </span>
            
            <span id="chunk-978" class="transcript-chunks" onclick="console.log('01:09:58,710'); seek(4198.0)">
              in the body string we
            </span>
            
            <span id="chunk-979" class="transcript-chunks" onclick="console.log('01:10:01,992'); seek(4201.0)">
              expect this particular message
            </span>
            
            <span id="chunk-980" class="transcript-chunks" onclick="console.log('01:10:05,672'); seek(4205.0)">
              to do not found because in this scenario
            </span>
            
            <span id="chunk-981" class="transcript-chunks" onclick="console.log('01:10:09,278'); seek(4209.0)">
              the to do is not found in our database.
            </span>
            
            <span id="chunk-982" class="transcript-chunks" onclick="console.log('01:10:12,810'); seek(4212.0)">
              For example, we have only ten to dos
            </span>
            
            <span id="chunk-983" class="transcript-chunks" onclick="console.log('01:10:16,786'); seek(4216.0)">
              and we request for the to do with the id number
            </span>
            
            <span id="chunk-984" class="transcript-chunks" onclick="console.log('01:10:20,684'); seek(4220.0)">
              20. So in this scenario we would like to
            </span>
            
            <span id="chunk-985" class="transcript-chunks" onclick="console.log('01:10:24,528'); seek(4224.0)">
              return and inform the client that the to do is unknown
            </span>
            
            <span id="chunk-986" class="transcript-chunks" onclick="console.log('01:10:28,806'); seek(4228.0)">
              on our system.
            </span>
            
            <span id="chunk-987" class="transcript-chunks" onclick="console.log('01:10:32,270'); seek(4232.0)">
              All right, let's rerun the
            </span>
            
            <span id="chunk-988" class="transcript-chunks" onclick="console.log('01:10:35,812'); seek(4235.0)">
              test and we are in the
            </span>
            
            <span id="chunk-989" class="transcript-chunks" onclick="console.log('01:10:39,268'); seek(4239.0)">
              red area because string empty does not contain
            </span>
            
            <span id="chunk-990" class="transcript-chunks" onclick="console.log('01:10:42,586'); seek(4242.0)">
              to do not found.
            </span>
            
            <span id="chunk-991" class="transcript-chunks" onclick="console.log('01:10:47,930'); seek(4247.0)">
              So we are going to change it a little bit
            </span>
            
            <span id="chunk-992" class="transcript-chunks" onclick="console.log('01:10:52,490'); seek(4252.0)">
              with c string and then
            </span>
            
            <span id="chunk-993" class="transcript-chunks" onclick="console.log('01:10:55,836'); seek(4255.0)">
              to do not found we
            </span>
            
            <span id="chunk-994" class="transcript-chunks" onclick="console.log('01:10:59,852'); seek(4259.0)">
              no longer need the force of the eder and
            </span>
            
            <span id="chunk-995" class="transcript-chunks" onclick="console.log('01:11:03,712'); seek(4263.0)">
              then we can rerun our test and our
            </span>
            
            <span id="chunk-996" class="transcript-chunks" onclick="console.log('01:11:07,456'); seek(4267.0)">
              tests are successfully.
            </span>
            
            <span id="chunk-997" class="transcript-chunks" onclick="console.log('01:11:12,450'); seek(4272.0)">
              Now let's introduce another constant
            </span>
            
            <span id="chunk-998" class="transcript-chunks" onclick="console.log('01:11:15,546'); seek(4275.0)">
              to get rid of this magic number. So let's duplicate
            </span>
            
            <span id="chunk-999" class="transcript-chunks" onclick="console.log('01:11:19,562'); seek(4279.0)">
              the latest variable constant defined here and
            </span>
            
            <span id="chunk-1000" class="transcript-chunks" onclick="console.log('01:11:24,116'); seek(4284.0)">
              add a not found there with
            </span>
            
            <span id="chunk-1001" class="transcript-chunks" onclick="console.log('01:11:29,816'); seek(4289.0)">
              the label to do not found here
            </span>
            
            <span id="chunk-1002" class="transcript-chunks" onclick="console.log('01:11:33,976'); seek(4293.0)">
              we switch it to the variable and
            </span>
            
            <span id="chunk-1003" class="transcript-chunks" onclick="console.log('01:11:41,676'); seek(4301.0)">
              we switch also in our test,
            </span>
            
            <span id="chunk-1004" class="transcript-chunks" onclick="console.log('01:11:54,030'); seek(4314.0)">
              if we rerun our tests, everything is okay.
            </span>
            
            <span id="chunk-1005" class="transcript-chunks" onclick="console.log('01:12:00,350'); seek(4320.0)">
              Now we can merge these
            </span>
            
            <span id="chunk-1006" class="transcript-chunks" onclick="console.log('01:12:04,576'); seek(4324.0)">
              two files into one's,
            </span>
            
            <span id="chunk-1007" class="transcript-chunks" onclick="console.log('01:12:13,490'); seek(4333.0)">
              rerun our tests to be sure that we still are
            </span>
            
            <span id="chunk-1008" class="transcript-chunks" onclick="console.log('01:12:18,390'); seek(4338.0)">
              with 100% of code coverage.
            </span>
            
            <span id="chunk-1009" class="transcript-chunks" onclick="console.log('01:12:21,662'); seek(4341.0)">
              And there we go is exactly in this way.
            </span>
            
            <span id="chunk-1010" class="transcript-chunks" onclick="console.log('01:12:27,370'); seek(4347.0)">
              Now we can do another refactoring because
            </span>
            
            <span id="chunk-1011" class="transcript-chunks" onclick="console.log('01:12:31,644'); seek(4351.0)">
              it's very unlikely that we are going to reply with
            </span>
            
            <span id="chunk-1012" class="transcript-chunks" onclick="console.log('01:12:35,692'); seek(4355.0)">
              a string, a plain text response
            </span>
            
            <span id="chunk-1013" class="transcript-chunks" onclick="console.log('01:12:39,778'); seek(4359.0)">
              payload. Usually when designing a rest API,
            </span>
            
            <span id="chunk-1014" class="transcript-chunks" onclick="console.log('01:12:43,830'); seek(4363.0)">
              it's pretty common to reply with the JSON format,
            </span>
            
            <span id="chunk-1015" class="transcript-chunks" onclick="console.log('01:12:47,318'); seek(4367.0)">
              maybe a common format for all
            </span>
            
            <span id="chunk-1016" class="transcript-chunks" onclick="console.log('01:12:50,592'); seek(4370.0)">
              of the error. So let's define this because
            </span>
            
            <span id="chunk-1017" class="transcript-chunks" onclick="console.log('01:12:54,292'); seek(4374.0)">
              now we can improve our working solution.
            </span>
            
            <span id="chunk-1018" class="transcript-chunks" onclick="console.log('01:12:57,730'); seek(4377.0)">
              So I'm going to switch to models.
            </span>
            
            <span id="chunk-1019" class="transcript-chunks" onclick="console.log('01:13:01,570'); seek(4381.0)">
              I'm going to define a new struct called to
            </span>
            
            <span id="chunk-1020" class="transcript-chunks" onclick="console.log('01:13:05,288'); seek(4385.0)">
              do error. Sorry for the naming,
            </span>
            
            <span id="chunk-1021" class="transcript-chunks" onclick="console.log('01:13:09,246'); seek(4389.0)">
              but it's only a
            </span>
            
            <span id="chunk-1022" class="transcript-chunks" onclick="console.log('01:13:12,712'); seek(4392.0)">
              session so you can choose for sure better
            </span>
            
            <span id="chunk-1023" class="transcript-chunks" onclick="console.log('01:13:16,200'); seek(4396.0)">
              names for your real world project.
            </span>
            
            <span id="chunk-1024" class="transcript-chunks" onclick="console.log('01:13:21,290'); seek(4401.0)">
              And we are going to add two
            </span>
            
            <span id="chunk-1025" class="transcript-chunks" onclick="console.log('01:13:25,532'); seek(4405.0)">
              fields, one code of type string
            </span>
            
            <span id="chunk-1026" class="transcript-chunks" onclick="console.log('01:13:30,510'); seek(4410.0)">
              with the JSON annotation code.
            </span>
            
            <span id="chunk-1027" class="transcript-chunks" onclick="console.log('01:13:34,430'); seek(4414.0)">
              This code will contain only a short description of
            </span>
            
            <span id="chunk-1028" class="transcript-chunks" onclick="console.log('01:13:38,128'); seek(4418.0)">
              the error and it will be represented by our
            </span>
            
            <span id="chunk-1029" class="transcript-chunks" onclick="console.log('01:13:42,320'); seek(4422.0)">
              case by our constants that
            </span>
            
            <span id="chunk-1030" class="transcript-chunks" onclick="console.log('01:13:45,764'); seek(4425.0)">
              map one to one with our scenario.
            </span>
            
            <span id="chunk-1031" class="transcript-chunks" onclick="console.log('01:13:49,570'); seek(4429.0)">
              And then we will have a message with a more
            </span>
            
            <span id="chunk-1032" class="transcript-chunks" onclick="console.log('01:13:53,716'); seek(4433.0)">
              verbose explanation of what was wrong.
            </span>
            
            <span id="chunk-1033" class="transcript-chunks" onclick="console.log('01:13:57,112'); seek(4437.0)">
              So from the message
            </span>
            
            <span id="chunk-1034" class="transcript-chunks" onclick="console.log('01:14:01,830'); seek(4441.0)">
              you can highlight and spot the error. Hopefully it
            </span>
            
            <span id="chunk-1035" class="transcript-chunks" onclick="console.log('01:14:12,630'); seek(4452.0)">
              here we go.
            </span>
            
            <span id="chunk-1036" class="transcript-chunks" onclick="console.log('01:14:15,670'); seek(4455.0)">
              Now instead of returning a string, let's return a
            </span>
            
            <span id="chunk-1037" class="transcript-chunks" onclick="console.log('01:14:19,672'); seek(4459.0)">
              G's zone,
            </span>
            
            <span id="chunk-1038" class="transcript-chunks" onclick="console.log('01:14:23,230'); seek(4463.0)">
              the JSON expect as the string,
            </span>
            
            <span id="chunk-1039" class="transcript-chunks" onclick="console.log('01:14:26,670'); seek(4466.0)">
              the status code as the first parameter and then
            </span>
            
            <span id="chunk-1040" class="transcript-chunks" onclick="console.log('01:14:30,160'); seek(4470.0)">
              an object to be serialized on the response.
            </span>
            
            <span id="chunk-1041" class="transcript-chunks" onclick="console.log('01:14:33,890'); seek(4473.0)">
              In our case is models to
            </span>
            
            <span id="chunk-1042" class="transcript-chunks" onclick="console.log('01:14:37,268'); seek(4477.0)">
              do error and we are going
            </span>
            
            <span id="chunk-1043" class="transcript-chunks" onclick="console.log('01:14:40,548'); seek(4480.0)">
              to specify the code and
            </span>
            
            <span id="chunk-1044" class="transcript-chunks" onclick="console.log('01:14:46,984'); seek(4486.0)">
              also the message because here we have the message,
            </span>
            
            <span id="chunk-1045" class="transcript-chunks" onclick="console.log('01:14:55,350'); seek(4495.0)">
              we we replicate the same behavior
            </span>
            
            <span id="chunk-1046" class="transcript-chunks" onclick="console.log('01:14:58,754'); seek(4498.0)">
              also for the validation error,
            </span>
            
            <span id="chunk-1047" class="transcript-chunks" onclick="console.log('01:15:04,170'); seek(4504.0)">
              models to do error
            </span>
            
            <span id="chunk-1048" class="transcript-chunks" onclick="console.log('01:15:13,870'); seek(4513.0)">
              and also the message also
            </span>
            
            <span id="chunk-1049" class="transcript-chunks" onclick="console.log('01:15:23,040'); seek(4523.0)">
              for the latest two which are
            </span>
            
            <span id="chunk-1050" class="transcript-chunks" onclick="console.log('01:15:26,768'); seek(4526.0)">
              JSON.
            </span>
            
            <span id="chunk-1051" class="transcript-chunks" onclick="console.log('01:16:15,970'); seek(4575.0)">
              All right,
            </span>
            
            <span id="chunk-1052" class="transcript-chunks" onclick="console.log('01:16:19,330'); seek(4579.0)">
              now the message with the error.
            </span>
            
            <span id="chunk-1053" class="transcript-chunks" onclick="console.log('01:16:24,050'); seek(4584.0)">
              Here we go. So we refactor everything
            </span>
            
            <span id="chunk-1054" class="transcript-chunks" onclick="console.log('01:16:28,568'); seek(4588.0)">
              with the usage of the JSOn format.
            </span>
            
            <span id="chunk-1055" class="transcript-chunks" onclick="console.log('01:16:32,686'); seek(4592.0)">
              So we are going to reply instead of textplane
            </span>
            
            <span id="chunk-1056" class="transcript-chunks" onclick="console.log('01:16:37,370'); seek(4597.0)">
              type of response with the application JSON.
            </span>
            
            <span id="chunk-1057" class="transcript-chunks" onclick="console.log('01:16:42,170'); seek(4602.0)">
              Now let's rerun the test and
            </span>
            
            <span id="chunk-1058" class="transcript-chunks" onclick="console.log('01:16:47,036'); seek(4607.0)">
              everything is still okay.
            </span>
            
            <span id="chunk-1059" class="transcript-chunks" onclick="console.log('01:16:50,590'); seek(4610.0)">
              So now we are ready to face the last
            </span>
            
            <span id="chunk-1060" class="transcript-chunks" onclick="console.log('01:16:54,304'); seek(4614.0)">
              scenario which is the EPIPH scenario,
            </span>
            
            <span id="chunk-1061" class="transcript-chunks" onclick="console.log('01:16:57,862'); seek(4617.0)">
              the scenario in which everything goes well.
            </span>
            
            <span id="chunk-1062" class="transcript-chunks" onclick="console.log('01:17:01,710'); seek(4621.0)">
              No id, poorly formatted,
            </span>
            
            <span id="chunk-1063" class="transcript-chunks" onclick="console.log('01:17:04,922'); seek(4624.0)">
              no invalid request type.
            </span>
            
            <span id="chunk-1064" class="transcript-chunks" onclick="console.log('01:17:08,850'); seek(4628.0)">
              Vdb is behaving correctly, no unexpected
            </span>
            
            <span id="chunk-1065" class="transcript-chunks" onclick="console.log('01:17:13,082'); seek(4633.0)">
              error and the to do is present is
            </span>
            
            <span id="chunk-1066" class="transcript-chunks" onclick="console.log('01:17:17,176'); seek(4637.0)">
              existent within our code base.
            </span>
            
            <span id="chunk-1067" class="transcript-chunks" onclick="console.log('01:17:20,470'); seek(4640.0)">
              So everything goes okay and we have to reply
            </span>
            
            <span id="chunk-1068" class="transcript-chunks" onclick="console.log('01:17:25,990'); seek(4645.0)">
              with the 202 accepted status code.
            </span>
            
            <span id="chunk-1069" class="transcript-chunks" onclick="console.log('01:17:31,290'); seek(4651.0)">
              So let's rename it to EPIPH and
            </span>
            
            <span id="chunk-1070" class="transcript-chunks" onclick="console.log('01:17:38,092'); seek(4658.0)">
              then let's refactor a little bit our
            </span>
            
            <span id="chunk-1071" class="transcript-chunks" onclick="console.log('01:17:43,280'); seek(4663.0)">
              code first
            </span>
            
            <span id="chunk-1072" class="transcript-chunks" onclick="console.log('01:17:47,616'); seek(4667.0)">
              of all we have to define a new variable
            </span>
            
            <span id="chunk-1073" class="transcript-chunks" onclick="console.log('01:17:51,094'); seek(4671.0)">
              called rows. These rows are
            </span>
            
            <span id="chunk-1074" class="transcript-chunks" onclick="console.log('01:17:54,772'); seek(4674.0)">
              the rows returned by our query because
            </span>
            
            <span id="chunk-1075" class="transcript-chunks" onclick="console.log('01:17:57,956'); seek(4677.0)">
              now we actually found our
            </span>
            
            <span id="chunk-1076" class="transcript-chunks" onclick="console.log('01:18:01,316'); seek(4681.0)">
              record. So sql mock
            </span>
            
            <span id="chunk-1077" class="transcript-chunks" onclick="console.log('01:18:05,750'); seek(4685.0)">
              new rows. It will expect a slice
            </span>
            
            <span id="chunk-1078" class="transcript-chunks" onclick="console.log('01:18:09,918'); seek(4689.0)">
              of string which are the column to return.
            </span>
            
            <span id="chunk-1079" class="transcript-chunks" onclick="console.log('01:18:15,990'); seek(4695.0)">
              We set up the description, sorry, the id,
            </span>
            
            <span id="chunk-1080" class="transcript-chunks" onclick="console.log('01:18:19,740'); seek(4699.0)">
              the description is completed
            </span>
            
            <span id="chunk-1081" class="transcript-chunks" onclick="console.log('01:18:27,210'); seek(4707.0)">
              and the due date.
            </span>
            
            <span id="chunk-1082" class="transcript-chunks" onclick="console.log('01:18:31,470'); seek(4711.0)">
              Then we invoke the method row which expect
            </span>
            
            <span id="chunk-1083" class="transcript-chunks" onclick="console.log('01:18:35,088'); seek(4715.0)">
              the actual value to return. Here we
            </span>
            
            <span id="chunk-1084" class="transcript-chunks" onclick="console.log('01:18:38,608'); seek(4718.0)">
              are going to return one as id sample
            </span>
            
            <span id="chunk-1085" class="transcript-chunks" onclick="console.log('01:18:42,614'); seek(4722.0)">
              to do as description false
            </span>
            
            <span id="chunk-1086" class="transcript-chunks" onclick="console.log('01:18:46,778'); seek(4726.0)">
              as is completed and 2023
            </span>
            
            <span id="chunk-1087" class="transcript-chunks" onclick="console.log('01:18:51,280'); seek(4731.0)">
              215 as
            </span>
            
            <span id="chunk-1088" class="transcript-chunks" onclick="console.log('01:18:55,496'); seek(4735.0)">
              the date.
            </span>
            
            <span id="chunk-1089" class="transcript-chunks" onclick="console.log('01:18:59,510'); seek(4739.0)">
              Then in our expect query, instead of
            </span>
            
            <span id="chunk-1090" class="transcript-chunks" onclick="console.log('01:19:03,096'); seek(4743.0)">
              returning an error, we actually return the
            </span>
            
            <span id="chunk-1091" class="transcript-chunks" onclick="console.log('01:19:06,952'); seek(4746.0)">
              rows and the rows are the one that we just defined.
            </span>
            
            <span id="chunk-1092" class="transcript-chunks" onclick="console.log('01:19:14,330'); seek(4754.0)">
              Furthermore, here we have also to forecast a
            </span>
            
            <span id="chunk-1093" class="transcript-chunks" onclick="console.log('01:19:18,732'); seek(4758.0)">
              command. So we have to issue an
            </span>
            
            <span id="chunk-1094" class="transcript-chunks" onclick="console.log('01:19:22,112'); seek(4762.0)">
              expect begin and
            </span>
            
            <span id="chunk-1095" class="transcript-chunks" onclick="console.log('01:19:26,992'); seek(4766.0)">
              then we expect also a commit.
            </span>
            
            <span id="chunk-1096" class="transcript-chunks" onclick="console.log('01:19:30,990'); seek(4770.0)">
              So we wrap the command between a begin and
            </span>
            
            <span id="chunk-1097" class="transcript-chunks" onclick="console.log('01:19:34,948'); seek(4774.0)">
              the commit. If we expect something wrong
            </span>
            
            <span id="chunk-1098" class="transcript-chunks" onclick="console.log('01:19:39,250'); seek(4779.0)">
              instead of commit we are going to expect the rollback
            </span>
            
            <span id="chunk-1099" class="transcript-chunks" onclick="console.log('01:19:45,430'); seek(4785.0)">
              inside. We expect an exec provided
            </span>
            
            <span id="chunk-1100" class="transcript-chunks" onclick="console.log('01:19:50,894'); seek(4790.0)">
              within backtick and the command is update
            </span>
            
            <span id="chunk-1101" class="transcript-chunks" onclick="console.log('01:19:56,630'); seek(4796.0)">
              to DOS set
            </span>
            
            <span id="chunk-1102" class="transcript-chunks" onclick="console.log('01:20:02,230'); seek(4802.0)">
              description equal
            </span>
            
            <span id="chunk-1103" class="transcript-chunks" onclick="console.log('01:20:11,142'); seek(4811.0)">
              to dollar one, then is completed
            </span>
            
            <span id="chunk-1104" class="transcript-chunks" onclick="console.log('01:20:19,070'); seek(4819.0)">
              equal to dollar two,
            </span>
            
            <span id="chunk-1105" class="transcript-chunks" onclick="console.log('01:20:21,630'); seek(4821.0)">
              then due date equal
            </span>
            
            <span id="chunk-1106" class="transcript-chunks" onclick="console.log('01:20:26,938'); seek(4826.0)">
              to dollar free.
            </span>
            
            <span id="chunk-1107" class="transcript-chunks" onclick="console.log('01:20:30,930'); seek(4830.0)">
              Where to dos Id
            </span>
            
            <span id="chunk-1108" class="transcript-chunks" onclick="console.log('01:20:40,550'); seek(4840.0)">
              equal to dollar four.
            </span>
            
            <span id="chunk-1109" class="transcript-chunks" onclick="console.log('01:20:45,990'); seek(4845.0)">
              Keep in mind that we have to add this condition,
            </span>
            
            <span id="chunk-1110" class="transcript-chunks" onclick="console.log('01:20:49,298'); seek(4849.0)">
              otherwise we end up in editing
            </span>
            
            <span id="chunk-1111" class="transcript-chunks" onclick="console.log('01:20:52,866'); seek(4852.0)">
              or updating all the records of the table.
            </span>
            
            <span id="chunk-1112" class="transcript-chunks" onclick="console.log('01:20:57,290'); seek(4857.0)">
              Another quick note that I
            </span>
            
            <span id="chunk-1113" class="transcript-chunks" onclick="console.log('01:21:00,608'); seek(4860.0)">
              would like to mention. If we specify the query
            </span>
            
            <span id="chunk-1114" class="transcript-chunks" onclick="console.log('01:21:04,102'); seek(4864.0)">
              matcher equal. You have also to keep attention
            </span>
            
            <span id="chunk-1115" class="transcript-chunks" onclick="console.log('01:21:08,326'); seek(4868.0)">
              to the spaces in our query because the query should be exactly
            </span>
            
            <span id="chunk-1116" class="transcript-chunks" onclick="console.log('01:21:12,752'); seek(4872.0)">
              the same.
            </span>
            
            <span id="chunk-1117" class="transcript-chunks" onclick="console.log('01:21:16,930'); seek(4876.0)">
              Now we have to specify the arguments,
            </span>
            
            <span id="chunk-1118" class="transcript-chunks" onclick="console.log('01:21:20,930'); seek(4880.0)">
              all right, and the arguments can be found here
            </span>
            
            <span id="chunk-1119" class="transcript-chunks" onclick="console.log('01:21:25,236'); seek(4885.0)">
              in the payload that we accept from our client.
            </span>
            
            <span id="chunk-1120" class="transcript-chunks" onclick="console.log('01:21:29,030'); seek(4889.0)">
              So the description is lorem ipsum.
            </span>
            
            <span id="chunk-1121" class="transcript-chunks" onclick="console.log('01:21:36,550'); seek(4896.0)">
              The is completed is true.
            </span>
            
            <span id="chunk-1122" class="transcript-chunks" onclick="console.log('01:21:40,650'); seek(4900.0)">
              The due date is 2023 50
            </span>
            
            <span id="chunk-1123" class="transcript-chunks" onclick="console.log('01:21:45,100'); seek(4905.0)">
              five and the id is one.
            </span>
            
            <span id="chunk-1124" class="transcript-chunks" onclick="console.log('01:21:51,070'); seek(4911.0)">
              This will return a result and this result
            </span>
            
            <span id="chunk-1125" class="transcript-chunks" onclick="console.log('01:21:58,030'); seek(4918.0)">
              with zero as last insert id and
            </span>
            
            <span id="chunk-1126" class="transcript-chunks" onclick="console.log('01:22:01,856'); seek(4921.0)">
              rows affected one.
            </span>
            
            <span id="chunk-1127" class="transcript-chunks" onclick="console.log('01:22:08,450'); seek(4928.0)">
              So we are good to go.
            </span>
            
            <span id="chunk-1128" class="transcript-chunks" onclick="console.log('01:22:11,810'); seek(4931.0)">
              The assertion that we have to change is we
            </span>
            
            <span id="chunk-1129" class="transcript-chunks" onclick="console.log('01:22:15,912'); seek(4935.0)">
              no longer assert on the body because in this scenario we
            </span>
            
            <span id="chunk-1130" class="transcript-chunks" onclick="console.log('01:22:19,432'); seek(4939.0)">
              won't have a body. We only have a
            </span>
            
            <span id="chunk-1131" class="transcript-chunks" onclick="console.log('01:22:23,240'); seek(4943.0)">
              status code and then we put 202
            </span>
            
            <span id="chunk-1132" class="transcript-chunks" onclick="console.log('01:22:27,900'); seek(4947.0)">
              as the expected status code.
            </span>
            
            <span id="chunk-1133" class="transcript-chunks" onclick="console.log('01:22:32,170'); seek(4952.0)">
              Here we go. We can run our
            </span>
            
            <span id="chunk-1134" class="transcript-chunks" onclick="console.log('01:22:36,860'); seek(4956.0)">
              handlers now we can run our test
            </span>
            
            <span id="chunk-1135" class="transcript-chunks" onclick="console.log('01:22:41,390'); seek(4961.0)">
              and we got an error
            </span>
            
            <span id="chunk-1136" class="transcript-chunks" onclick="console.log('01:22:50,270'); seek(4970.0)">
              because we are trying to access
            </span>
            
            <span id="chunk-1137" class="transcript-chunks" onclick="console.log('01:22:53,876'); seek(4973.0)">
              a nil value. If we look
            </span>
            
            <span id="chunk-1138" class="transcript-chunks" onclick="console.log('01:22:57,492'); seek(4977.0)">
              closer to the stack trace we can see that
            </span>
            
            <span id="chunk-1139" class="transcript-chunks" onclick="console.log('01:23:01,316'); seek(4981.0)">
              the line involved is the 39.
            </span>
            
            <span id="chunk-1140" class="transcript-chunks" onclick="console.log('01:23:04,644'); seek(4984.0)">
              If you can see from this line it says
            </span>
            
            <span id="chunk-1141" class="transcript-chunks" onclick="console.log('01:23:08,056'); seek(4988.0)">
              that is the 39. That's why here
            </span>
            
            <span id="chunk-1142" class="transcript-chunks" onclick="console.log('01:23:12,150'); seek(4992.0)">
              we are trying to access this error.
            </span>
            
            <span id="chunk-1143" class="transcript-chunks" onclick="console.log('01:23:16,150'); seek(4996.0)">
              All right, but this error is
            </span>
            
            <span id="chunk-1144" class="transcript-chunks" onclick="console.log('01:23:20,092'); seek(5000.0)">
              nil because now the mock is not returning
            </span>
            
            <span id="chunk-1145" class="transcript-chunks" onclick="console.log('01:23:23,938'); seek(5003.0)">
              any error. All right,
            </span>
            
            <span id="chunk-1146" class="transcript-chunks" onclick="console.log('01:23:28,570'); seek(5008.0)">
              so let's fix this by avoiding to
            </span>
            
            <span id="chunk-1147" class="transcript-chunks" onclick="console.log('01:23:36,512'); seek(5016.0)">
              invoke this. In this case,
            </span>
            
            <span id="chunk-1148" class="transcript-chunks" onclick="console.log('01:23:40,910'); seek(5020.0)">
              if we rerun the test we
            </span>
            
            <span id="chunk-1149" class="transcript-chunks" onclick="console.log('01:23:45,252'); seek(5025.0)">
              can see that there are this actual
            </span>
            
            <span id="chunk-1150" class="transcript-chunks" onclick="console.log('01:23:49,300'); seek(5029.0)">
              error. The error is we expect
            </span>
            
            <span id="chunk-1151" class="transcript-chunks" onclick="console.log('01:23:52,868'); seek(5032.0)">
              202 but we got 500 and also
            </span>
            
            <span id="chunk-1152" class="transcript-chunks" onclick="console.log('01:23:56,264'); seek(5036.0)">
              there are unmatched expectation because
            </span>
            
            <span id="chunk-1153" class="transcript-chunks" onclick="console.log('01:24:00,680'); seek(5040.0)">
              we expect a begin, we expect a command and we didn't
            </span>
            
            <span id="chunk-1154" class="transcript-chunks" onclick="console.log('01:24:04,462'); seek(5044.0)">
              write the command yet, right?
            </span>
            
            <span id="chunk-1155" class="transcript-chunks" onclick="console.log('01:24:07,784'); seek(5047.0)">
              So let's fix this.
            </span>
            
            <span id="chunk-1156" class="transcript-chunks" onclick="console.log('01:24:11,050'); seek(5051.0)">
              The first thing that we have to do is
            </span>
            
            <span id="chunk-1157" class="transcript-chunks" onclick="console.log('01:24:14,620'); seek(5054.0)">
              to declare a
            </span>
            
            <span id="chunk-1158" class="transcript-chunks" onclick="console.log('01:24:18,252'); seek(5058.0)">
              variable of type to do and this to do is the one
            </span>
            
            <span id="chunk-1159" class="transcript-chunks" onclick="console.log('01:24:21,776'); seek(5061.0)">
              that will be updated on the database.
            </span>
            
            <span id="chunk-1160" class="transcript-chunks" onclick="console.log('01:24:25,950'); seek(5065.0)">
              So we are going to instantiate a to do to
            </span>
            
            <span id="chunk-1161" class="transcript-chunks" onclick="console.log('01:24:29,392'); seek(5069.0)">
              save variable of type models
            </span>
            
            <span id="chunk-1162" class="transcript-chunks" onclick="console.log('01:24:34,210'); seek(5074.0)">
              to do and we set only the
            </span>
            
            <span id="chunk-1163" class="transcript-chunks" onclick="console.log('01:24:38,532'); seek(5078.0)">
              column that we are going to change description to
            </span>
            
            <span id="chunk-1164" class="transcript-chunks" onclick="console.log('01:24:42,548'); seek(5082.0)">
              do DTO description when is completed
            </span>
            
            <span id="chunk-1165" class="transcript-chunks" onclick="console.log('01:24:47,510'); seek(5087.0)">
              from the to do DTO is completed,
            </span>
            
            <span id="chunk-1166" class="transcript-chunks" onclick="console.log('01:24:50,710'); seek(5090.0)">
              then the
            </span>
            
            <span id="chunk-1167" class="transcript-chunks" onclick="console.log('01:24:54,072'); seek(5094.0)">
              due date from the to do DTO due date.
            </span>
            
            <span id="chunk-1168" class="transcript-chunks" onclick="console.log('01:24:58,570'); seek(5098.0)">
              Keep in mind that this logic is the mapping logic
            </span>
            
            <span id="chunk-1169" class="transcript-chunks" onclick="console.log('01:25:02,114'); seek(5102.0)">
              between the DTO and our model. In an
            </span>
            
            <span id="chunk-1170" class="transcript-chunks" onclick="console.log('01:25:06,092'); seek(5106.0)">
              even more complex application it can be extrapolated
            </span>
            
            <span id="chunk-1171" class="transcript-chunks" onclick="console.log('01:25:09,666'); seek(5109.0)">
              into a service and we can write tests against this
            </span>
            
            <span id="chunk-1172" class="transcript-chunks" onclick="console.log('01:25:13,600'); seek(5113.0)">
              service. However, for the sake of
            </span>
            
            <span id="chunk-1173" class="transcript-chunks" onclick="console.log('01:25:17,232'); seek(5117.0)">
              the time we are not going to deal
            </span>
            
            <span id="chunk-1174" class="transcript-chunks" onclick="console.log('01:25:20,560'); seek(5120.0)">
              with such complex scenario.
            </span>
            
            <span id="chunk-1175" class="transcript-chunks" onclick="console.log('01:25:25,810'); seek(5125.0)">
              Then with this to
            </span>
            
            <span id="chunk-1176" class="transcript-chunks" onclick="console.log('01:25:29,572'); seek(5129.0)">
              do we are going to invoke the updates,
            </span>
            
            <span id="chunk-1177" class="transcript-chunks" onclick="console.log('01:25:33,250'); seek(5133.0)">
              the updates method and we pass a
            </span>
            
            <span id="chunk-1178" class="transcript-chunks" onclick="console.log('01:25:36,632'); seek(5136.0)">
              pointer to this variable to do to save.
            </span>
            
            <span id="chunk-1179" class="transcript-chunks" onclick="console.log('01:25:42,980'); seek(5142.0)">
              Then we check for the error.
            </span>
            
            <span id="chunk-1180" class="transcript-chunks" onclick="console.log('01:25:46,980'); seek(5146.0)">
              So we prepend an if and we check
            </span>
            
            <span id="chunk-1181" class="transcript-chunks" onclick="console.log('01:25:50,570'); seek(5150.0)">
              for the error.
            </span>
            
            <span id="chunk-1182" class="transcript-chunks" onclick="console.log('01:25:56,040'); seek(5156.0)">
              We move this logic within
            </span>
            
            <span id="chunk-1183" class="transcript-chunks" onclick="console.log('01:26:00,680'); seek(5160.0)">
              the dave. So this logic will be
            </span>
            
            <span id="chunk-1184" class="transcript-chunks" onclick="console.log('01:26:04,606'); seek(5164.0)">
              executed only if the GormDB
            </span>
            
            <span id="chunk-1185" class="transcript-chunks" onclick="console.log('01:26:09,076'); seek(5169.0)">
              client will return an error, otherwise we can skip
            </span>
            
            <span id="chunk-1186" class="transcript-chunks" onclick="console.log('01:26:13,396'); seek(5173.0)">
              it at all. Now in this case
            </span>
            
            <span id="chunk-1187" class="transcript-chunks" onclick="console.log('01:26:16,946'); seek(5176.0)">
              we are sure that the error is always populated
            </span>
            
            <span id="chunk-1188" class="transcript-chunks" onclick="console.log('01:26:22,184'); seek(5182.0)">
              so it's safe to invoke error error and
            </span>
            
            <span id="chunk-1189" class="transcript-chunks" onclick="console.log('01:26:26,514'); seek(5186.0)">
              return from it.
            </span>
            
            <span id="chunk-1190" class="transcript-chunks" onclick="console.log('01:26:32,660'); seek(5192.0)">
              If no error is encountered, we are going to
            </span>
            
            <span id="chunk-1191" class="transcript-chunks" onclick="console.log('01:26:36,518'); seek(5196.0)">
              return our header
            </span>
            
            <span id="chunk-1192" class="transcript-chunks" onclick="console.log('01:26:41,240'); seek(5201.0)">
              and we have to force it's
            </span>
            
            <span id="chunk-1193" class="transcript-chunks" onclick="console.log('01:26:52,944'); seek(5212.0)">
              if we run go test v cover.
            </span>
            
            <span id="chunk-1194" class="transcript-chunks" onclick="console.log('01:26:57,260'); seek(5217.0)">
              Now everything is okay and we
            </span>
            
            <span id="chunk-1195" class="transcript-chunks" onclick="console.log('01:27:01,262'); seek(5221.0)">
              meet all of the expectation of the mock.
            </span>
            
            <span id="chunk-1196" class="transcript-chunks" onclick="console.log('01:27:06,080'); seek(5226.0)">
              Let's do a small refactor.
            </span>
            
            <span id="chunk-1197" class="transcript-chunks" onclick="console.log('01:27:16,080'); seek(5236.0)">
              All right, here we go. Now,
            </span>
            
            <span id="chunk-1198" class="transcript-chunks" onclick="console.log('01:27:20,020'); seek(5240.0)">
              the last part that I would like to mention is that
            </span>
            
            <span id="chunk-1199" class="transcript-chunks" onclick="console.log('01:27:24,198'); seek(5244.0)">
              usually this db logic is not placed here
            </span>
            
            <span id="chunk-1200" class="transcript-chunks" onclick="console.log('01:27:28,086'); seek(5248.0)">
              because this method is becoming
            </span>
            
            <span id="chunk-1201" class="transcript-chunks" onclick="console.log('01:27:31,904'); seek(5251.0)">
              too much bloated. So let's define a new package,
            </span>
            
            <span id="chunk-1202" class="transcript-chunks" onclick="console.log('01:27:38,280'); seek(5258.0)">
              this package, it will be called repo package.
            </span>
            
            <span id="chunk-1203" class="transcript-chunks" onclick="console.log('01:27:46,460'); seek(5266.0)">
              We are going to create a repo,
            </span>
            
            <span id="chunk-1204" class="transcript-chunks" onclick="console.log('01:27:51,100'); seek(5271.0)">
              a repo file within the repo package.
            </span>
            
            <span id="chunk-1205" class="transcript-chunks" onclick="console.log('01:28:00,480'); seek(5280.0)">
              All right, let's define the package which is a repo,
            </span>
            
            <span id="chunk-1206" class="transcript-chunks" onclick="console.log('01:28:04,056'); seek(5284.0)">
              and also define the function that is updated.
            </span>
            
            <span id="chunk-1207" class="transcript-chunks" onclick="console.log('01:28:07,756'); seek(5287.0)">
              To do it will expect adb
            </span>
            
            <span id="chunk-1208" class="transcript-chunks" onclick="console.log('01:28:12,340'); seek(5292.0)">
              as Gorm db,
            </span>
            
            <span id="chunk-1209" class="transcript-chunks" onclick="console.log('01:28:17,460'); seek(5297.0)">
              an Id as integer, and also a
            </span>
            
            <span id="chunk-1210" class="transcript-chunks" onclick="console.log('01:28:21,066'); seek(5301.0)">
              to do to save of
            </span>
            
            <span id="chunk-1211" class="transcript-chunks" onclick="console.log('01:28:24,826'); seek(5304.0)">
              type models to
            </span>
            
            <span id="chunk-1212" class="transcript-chunks" onclick="console.log('01:28:29,658'); seek(5309.0)">
              do and it will return an error.
            </span>
            
            <span id="chunk-1213" class="transcript-chunks" onclick="console.log('01:28:37,020'); seek(5317.0)">
              Let's put return nil in order to satisfy
            </span>
            
            <span id="chunk-1214" class="transcript-chunks" onclick="console.log('01:28:42,676'); seek(5322.0)">
              his complaint and then let's copy this
            </span>
            
            <span id="chunk-1215" class="transcript-chunks" onclick="console.log('01:28:47,682'); seek(5327.0)">
              logic over there's
            </span>
            
            <span id="chunk-1216" class="transcript-chunks" onclick="console.log('01:28:57,700'); seek(5337.0)">
              all right here we
            </span>
            
            <span id="chunk-1217" class="transcript-chunks" onclick="console.log('01:29:01,382'); seek(5341.0)">
              had a couple of refactoring to do. First of all,
            </span>
            
            <span id="chunk-1218" class="transcript-chunks" onclick="console.log('01:29:04,854'); seek(5344.0)">
              let's assign the error.
            </span>
            
            <span id="chunk-1219" class="transcript-chunks" onclick="console.log('01:29:09,080'); seek(5349.0)">
              Then let's add the eros
            </span>
            
            <span id="chunk-1220" class="transcript-chunks" onclick="console.log('01:29:12,272'); seek(5352.0)">
              package and also add
            </span>
            
            <span id="chunk-1221" class="transcript-chunks" onclick="console.log('01:29:16,266'); seek(5356.0)">
              the net HTTP.
            </span>
            
            <span id="chunk-1222" class="transcript-chunks" onclick="console.log('01:29:25,740'); seek(5365.0)">
              Then we have to return an
            </span>
            
            <span id="chunk-1223" class="transcript-chunks" onclick="console.log('01:29:30,542'); seek(5370.0)">
              error model, only the model.
            </span>
            
            <span id="chunk-1224" class="transcript-chunks" onclick="console.log('01:29:45,580'); seek(5385.0)">
              All right, and the same applies
            </span>
            
            <span id="chunk-1225" class="transcript-chunks" onclick="console.log('01:29:49,404'); seek(5389.0)">
              here.
            </span>
            
            <span id="chunk-1226" class="transcript-chunks" onclick="console.log('01:29:56,820'); seek(5396.0)">
              Now go is complaining about
            </span>
            
            <span id="chunk-1227" class="transcript-chunks" onclick="console.log('01:30:02,522'); seek(5402.0)">
              the fact that to do error is not a
            </span>
            
            <span id="chunk-1228" class="transcript-chunks" onclick="console.log('01:30:05,914'); seek(5405.0)">
              valid error. That's why in order to be
            </span>
            
            <span id="chunk-1229" class="transcript-chunks" onclick="console.log('01:30:09,338'); seek(5409.0)">
              recognized as an error, it has to implement an interface.
            </span>
            
            <span id="chunk-1230" class="transcript-chunks" onclick="console.log('01:30:14,780'); seek(5414.0)">
              So we are going to implement this interface.
            </span>
            
            <span id="chunk-1231" class="transcript-chunks" onclick="console.log('01:30:20,300'); seek(5420.0)">
              The interface method is called error without
            </span>
            
            <span id="chunk-1232" class="transcript-chunks" onclick="console.log('01:30:24,510'); seek(5424.0)">
              any arguments and it will return a string.
            </span>
            
            <span id="chunk-1233" class="transcript-chunks" onclick="console.log('01:30:35,520'); seek(5435.0)">
              Here we go. Now we satisfied,
            </span>
            
            <span id="chunk-1234" class="transcript-chunks" onclick="console.log('01:30:40,980'); seek(5440.0)">
              we satisfied his
            </span>
            
            <span id="chunk-1235" class="transcript-chunks" onclick="console.log('01:30:45,062'); seek(5445.0)">
              complaint. However, we can do even
            </span>
            
            <span id="chunk-1236" class="transcript-chunks" onclick="console.log('01:30:48,950'); seek(5448.0)">
              better because now we typecast it.
            </span>
            
            <span id="chunk-1237" class="transcript-chunks" onclick="console.log('01:30:53,082'); seek(5453.0)">
              We typecast the error here and then we
            </span>
            
            <span id="chunk-1238" class="transcript-chunks" onclick="console.log('01:30:56,458'); seek(5456.0)">
              have to typecast also the error here in order to understand
            </span>
            
            <span id="chunk-1239" class="transcript-chunks" onclick="console.log('01:31:01,080'); seek(5461.0)">
              which status code actually returned to the client.
            </span>
            
            <span id="chunk-1240" class="transcript-chunks" onclick="console.log('01:31:05,100'); seek(5465.0)">
              A smart way of achieving this is to add
            </span>
            
            <span id="chunk-1241" class="transcript-chunks" onclick="console.log('01:31:09,118'); seek(5469.0)">
              another field here,
            </span>
            
            <span id="chunk-1242" class="transcript-chunks" onclick="console.log('01:31:12,460'); seek(5472.0)">
              maybe a field called status code of
            </span>
            
            <span id="chunk-1243" class="transcript-chunks" onclick="console.log('01:31:15,822'); seek(5475.0)">
              type int. And we add a JSOn
            </span>
            
            <span id="chunk-1244" class="transcript-chunks" onclick="console.log('01:31:19,524'); seek(5479.0)">
              annotation dash, which means in
            </span>
            
            <span id="chunk-1245" class="transcript-chunks" onclick="console.log('01:31:23,378'); seek(5483.0)">
              your it. So when you are about to marshall it, you can
            </span>
            
            <span id="chunk-1246" class="transcript-chunks" onclick="console.log('01:31:27,462'); seek(5487.0)">
              ignore this field.
            </span>
            
            <span id="chunk-1247" class="transcript-chunks" onclick="console.log('01:31:31,300'); seek(5491.0)">
              So in this way we can assert and
            </span>
            
            <span id="chunk-1248" class="transcript-chunks" onclick="console.log('01:31:35,654'); seek(5495.0)">
              use the status code and set the
            </span>
            
            <span id="chunk-1249" class="transcript-chunks" onclick="console.log('01:31:39,946'); seek(5499.0)">
              HTTP response status code by reading that value,
            </span>
            
            <span id="chunk-1250" class="transcript-chunks" onclick="console.log('01:31:43,642'); seek(5503.0)">
              and that value will not be copied again within
            </span>
            
            <span id="chunk-1251" class="transcript-chunks" onclick="console.log('01:31:48,074'); seek(5508.0)">
              the response payload.
            </span>
            
            <span id="chunk-1252" class="transcript-chunks" onclick="console.log('01:31:52,060'); seek(5512.0)">
              So let's do this HTTP not
            </span>
            
            <span id="chunk-1253" class="transcript-chunks" onclick="console.log('01:31:56,350'); seek(5516.0)">
              found and then
            </span>
            
            <span id="chunk-1254" class="transcript-chunks" onclick="console.log('01:32:00,270'); seek(5520.0)">
              also for this HTTP
            </span>
            
            <span id="chunk-1255" class="transcript-chunks" onclick="console.log('01:32:13,500'); seek(5533.0)">
              internal it.
            </span>
            
            <span id="chunk-1256" class="transcript-chunks" onclick="console.log('01:32:19,460'); seek(5539.0)">
              Now let's switch the code here because now
            </span>
            
            <span id="chunk-1257" class="transcript-chunks" onclick="console.log('01:32:23,700'); seek(5543.0)">
              what we have to do here is to
            </span>
            
            <span id="chunk-1258" class="transcript-chunks" onclick="console.log('01:32:28,100'); seek(5548.0)">
              define a to do error which
            </span>
            
            <span id="chunk-1259" class="transcript-chunks" onclick="console.log('01:32:31,722'); seek(5551.0)">
              is typecasted from the models.
            </span>
            
            <span id="chunk-1260" class="transcript-chunks" onclick="console.log('01:32:35,520'); seek(5555.0)">
              To do error in this way, to do error is
            </span>
            
            <span id="chunk-1261" class="transcript-chunks" onclick="console.log('01:32:39,578'); seek(5559.0)">
              our error and we can use its value and
            </span>
            
            <span id="chunk-1262" class="transcript-chunks" onclick="console.log('01:32:43,246'); seek(5563.0)">
              its fields such as the status code. And we actually
            </span>
            
            <span id="chunk-1263" class="transcript-chunks" onclick="console.log('01:32:47,022'); seek(5567.0)">
              are going to do this.
            </span>
            
            <span id="chunk-1264" class="transcript-chunks" onclick="console.log('01:32:50,700'); seek(5570.0)">
              The gzone status code is the status code
            </span>
            
            <span id="chunk-1265" class="transcript-chunks" onclick="console.log('01:32:54,302'); seek(5574.0)">
              within the to do error variable, and then we
            </span>
            
            <span id="chunk-1266" class="transcript-chunks" onclick="console.log('01:32:58,482'); seek(5578.0)">
              simply reference it this way
            </span>
            
            <span id="chunk-1267" class="transcript-chunks" onclick="console.log('01:33:03,680'); seek(5583.0)">
              if we rerun the tests.
            </span>
            
            <span id="chunk-1268" class="transcript-chunks" onclick="console.log('01:33:18,450'); seek(5598.0)">
              Oh my God,
            </span>
            
            <span id="chunk-1269" class="transcript-chunks" onclick="console.log('01:33:22,530'); seek(5602.0)">
              let me redo this.
            </span>
            
            <span id="chunk-1270" class="transcript-chunks" onclick="console.log('01:33:40,070'); seek(5620.0)">
              All right,
            </span>
            
            <span id="chunk-1271" class="transcript-chunks" onclick="console.log('01:33:43,510'); seek(5623.0)">
              let me redo. All right,
            </span>
            
            <span id="chunk-1272" class="transcript-chunks" onclick="console.log('01:33:46,920'); seek(5626.0)">
              here we could try to run our test.
            </span>
            
            <span id="chunk-1273" class="transcript-chunks" onclick="console.log('01:33:50,950'); seek(5630.0)">
              However, we need to invoke the
            </span>
            
            <span id="chunk-1274" class="transcript-chunks" onclick="console.log('01:33:54,828'); seek(5634.0)">
              new function created. So repo update
            </span>
            
            <span id="chunk-1275" class="transcript-chunks" onclick="console.log('01:34:01,890'); seek(5641.0)">
              to do and we actually pass the db,
            </span>
            
            <span id="chunk-1276" class="transcript-chunks" onclick="console.log('01:34:07,630'); seek(5647.0)">
              the id and the to do to save it
            </span>
            
            <span id="chunk-1277" class="transcript-chunks" onclick="console.log('01:34:15,968'); seek(5655.0)">
              when if we run it, everything should
            </span>
            
            <span id="chunk-1278" class="transcript-chunks" onclick="console.log('01:34:19,412'); seek(5659.0)">
              be okay.
            </span>
            
            <span id="chunk-1279" class="transcript-chunks" onclick="console.log('01:34:25,490'); seek(5665.0)">
              Now we have successfully designed our handler,
            </span>
            
            <span id="chunk-1280" class="transcript-chunks" onclick="console.log('01:34:28,906'); seek(5668.0)">
              our models, our repo. Let's wire them up
            </span>
            
            <span id="chunk-1281" class="transcript-chunks" onclick="console.log('01:34:32,952'); seek(5672.0)">
              in a main file because at the end
            </span>
            
            <span id="chunk-1282" class="transcript-chunks" onclick="console.log('01:34:36,792'); seek(5676.0)">
              we need to have something that actually run our
            </span>
            
            <span id="chunk-1283" class="transcript-chunks" onclick="console.log('01:34:40,376'); seek(5680.0)">
              application. So let's define
            </span>
            
            <span id="chunk-1284" class="transcript-chunks" onclick="console.log('01:34:44,306'); seek(5684.0)">
              a main method.
            </span>
            
            <span id="chunk-1285" class="transcript-chunks" onclick="console.log('01:34:47,690'); seek(5687.0)">
              So here in the workspace root
            </span>
            
            <span id="chunk-1286" class="transcript-chunks" onclick="console.log('01:34:51,090'); seek(5691.0)">
              we are going to create a package main with
            </span>
            
            <span id="chunk-1287" class="transcript-chunks" onclick="console.log('01:34:55,968'); seek(5695.0)">
              the funk main.
            </span>
            
            <span id="chunk-1288" class="transcript-chunks" onclick="console.log('01:35:00,910'); seek(5700.0)">
              But before running this we
            </span>
            
            <span id="chunk-1289" class="transcript-chunks" onclick="console.log('01:35:06,208'); seek(5706.0)">
              have to run a postgres, a docker
            </span>
            
            <span id="chunk-1290" class="transcript-chunks" onclick="console.log('01:35:09,722'); seek(5709.0)">
              command in order to spin up a postgres
            </span>
            
            <span id="chunk-1291" class="transcript-chunks" onclick="console.log('01:35:13,082'); seek(5713.0)">
              instance. So the command is docker run
            </span>
            
            <span id="chunk-1292" class="transcript-chunks" onclick="console.log('01:35:18,210'); seek(5718.0)">
              d for detached mode, p for the
            </span>
            
            <span id="chunk-1293" class="transcript-chunks" onclick="console.log('01:35:22,168'); seek(5722.0)">
              port mapping, and we map this port
            </span>
            
            <span id="chunk-1294" class="transcript-chunks" onclick="console.log('01:35:26,264'); seek(5726.0)">
              from my host machine to the container port.
            </span>
            
            <span id="chunk-1295" class="transcript-chunks" onclick="console.log('01:35:31,030'); seek(5731.0)">
              Then we set an environment variable called postgres
            </span>
            
            <span id="chunk-1296" class="transcript-chunks" onclick="console.log('01:35:35,746'); seek(5735.0)">
              password equal to
            </span>
            
            <span id="chunk-1297" class="transcript-chunks" onclick="console.log('01:35:39,052'); seek(5739.0)">
              postgres and then the image to
            </span>
            
            <span id="chunk-1298" class="transcript-chunks" onclick="console.log('01:35:43,532'); seek(5743.0)">
              base our container.
            </span>
            
            <span id="chunk-1299" class="transcript-chunks" onclick="console.log('01:35:47,310'); seek(5747.0)">
              In this case it successfully spin up
            </span>
            
            <span id="chunk-1300" class="transcript-chunks" onclick="console.log('01:35:50,736'); seek(5750.0)">
              a docker container.
            </span>
            
            <span id="chunk-1301" class="transcript-chunks" onclick="console.log('01:35:54,270'); seek(5754.0)">
              Now we are ready to connect.
            </span>
            
            <span id="chunk-1302" class="transcript-chunks" onclick="console.log('01:35:57,890'); seek(5757.0)">
              First of all, let's define a DSN which
            </span>
            
            <span id="chunk-1303" class="transcript-chunks" onclick="console.log('01:36:02,836'); seek(5762.0)">
              involves host equal to localhost,
            </span>
            
            <span id="chunk-1304" class="transcript-chunks" onclick="console.log('01:36:08,610'); seek(5768.0)">
              then port equal to 54322,
            </span>
            
            <span id="chunk-1305" class="transcript-chunks" onclick="console.log('01:36:16,550'); seek(5776.0)">
              a user which is postgres password
            </span>
            
            <span id="chunk-1306" class="transcript-chunks" onclick="console.log('01:36:23,370'); seek(5783.0)">
              which is postgres db name
            </span>
            
            <span id="chunk-1307" class="transcript-chunks" onclick="console.log('01:36:28,028'); seek(5788.0)">
              which is still postgres,
            </span>
            
            <span id="chunk-1308" class="transcript-chunks" onclick="console.log('01:36:31,530'); seek(5791.0)">
              and the SSL mode equal to disable.
            </span>
            
            <span id="chunk-1309" class="transcript-chunks" onclick="console.log('01:36:36,190'); seek(5796.0)">
              This is for sure for the sake of demo.
            </span>
            
            <span id="chunk-1310" class="transcript-chunks" onclick="console.log('01:36:40,110'); seek(5800.0)">
              I'm not expecting that any of you actually pass
            </span>
            
            <span id="chunk-1311" class="transcript-chunks" onclick="console.log('01:36:43,600'); seek(5803.0)">
              a connection string or DSN in this way,
            </span>
            
            <span id="chunk-1312" class="transcript-chunks" onclick="console.log('01:36:48,530'); seek(5808.0)">
              but it's completely fine for local development.
            </span>
            
            <span id="chunk-1313" class="transcript-chunks" onclick="console.log('01:36:52,850'); seek(5812.0)">
              Then we are going to instantiate a gormdb
            </span>
            
            <span id="chunk-1314" class="transcript-chunks" onclick="console.log('01:36:56,610'); seek(5816.0)">
              and the error by invoking the gorm
            </span>
            
            <span id="chunk-1315" class="transcript-chunks" onclick="console.log('01:37:00,794'); seek(5820.0)">
              open function which expect in
            </span>
            
            <span id="chunk-1316" class="transcript-chunks" onclick="console.log('01:37:05,190'); seek(5825.0)">
              a dialector which is provided by
            </span>
            
            <span id="chunk-1317" class="transcript-chunks" onclick="console.log('01:37:09,032'); seek(5829.0)">
              the postgres open with
            </span>
            
            <span id="chunk-1318" class="transcript-chunks" onclick="console.log('01:37:13,820'); seek(5833.0)">
              DSN.
            </span>
            
            <span id="chunk-1319" class="transcript-chunks" onclick="console.log('01:37:18,970'); seek(5838.0)">
              If the error is not nil, we immediately
            </span>
            
            <span id="chunk-1320" class="transcript-chunks" onclick="console.log('01:37:23,026'); seek(5843.0)">
              stop the application because the connectivity is not working
            </span>
            
            <span id="chunk-1321" class="transcript-chunks" onclick="console.log('01:37:26,624'); seek(5846.0)">
              properly.
            </span>
            
            <span id="chunk-1322" class="transcript-chunks" onclick="console.log('01:37:32,670'); seek(5852.0)">
              Then we have to run the auto migration
            </span>
            
            <span id="chunk-1323" class="transcript-chunks" onclick="console.log('01:37:37,970'); seek(5857.0)">
              in order to auto
            </span>
            
            <span id="chunk-1324" class="transcript-chunks" onclick="console.log('01:37:42,058'); seek(5862.0)">
              create the tables.
            </span>
            
            <span id="chunk-1325" class="transcript-chunks" onclick="console.log('01:37:46,618'); seek(5866.0)">
              In this case, if we don't have the table, the table will be created
            </span>
            
            <span id="chunk-1326" class="transcript-chunks" onclick="console.log('01:37:50,990'); seek(5870.0)">
              if we have other column. This column will be added and
            </span>
            
            <span id="chunk-1327" class="transcript-chunks" onclick="console.log('01:37:54,728'); seek(5874.0)">
              so on and so forth. It will keep automatically synchronized
            </span>
            
            <span id="chunk-1328" class="transcript-chunks" onclick="console.log('01:37:58,670'); seek(5878.0)">
              our structure to our tables.
            </span>
            
            <span id="chunk-1329" class="transcript-chunks" onclick="console.log('01:38:03,370'); seek(5883.0)">
              Then we add a start,
            </span>
            
            <span id="chunk-1330" class="transcript-chunks" onclick="console.log('01:38:08,490'); seek(5888.0)">
              let's say an initial to do
            </span>
            
            <span id="chunk-1331" class="transcript-chunks" onclick="console.log('01:38:12,412'); seek(5892.0)">
              just for the sake of demo models to
            </span>
            
            <span id="chunk-1332" class="transcript-chunks" onclick="console.log('01:38:18,192'); seek(5898.0)">
              do and we specify the id equal
            </span>
            
            <span id="chunk-1333" class="transcript-chunks" onclick="console.log('01:38:22,358'); seek(5902.0)">
              to one, the description equal to
            </span>
            
            <span id="chunk-1334" class="transcript-chunks" onclick="console.log('01:38:26,080'); seek(5906.0)">
              sample to do where
            </span>
            
            <span id="chunk-1335" class="transcript-chunks" onclick="console.log('01:38:35,936'); seek(5915.0)">
              is completed equal to false,
            </span>
            
            <span id="chunk-1336" class="transcript-chunks" onclick="console.log('01:38:42,310'); seek(5922.0)">
              and the due date equal to 2023
            </span>
            
            <span id="chunk-1337" class="transcript-chunks" onclick="console.log('01:38:47,928'); seek(5927.0)">
              215.
            </span>
            
            <span id="chunk-1338" class="transcript-chunks" onclick="console.log('01:38:53,530'); seek(5933.0)">
              Then we have to take care of gain.
            </span>
            
            <span id="chunk-1339" class="transcript-chunks" onclick="console.log('01:38:57,690'); seek(5937.0)">
              We have to set up the mode which is gin
            </span>
            
            <span id="chunk-1340" class="transcript-chunks" onclick="console.log('01:39:02,650'); seek(5942.0)">
              debug mode. And then we
            </span>
            
            <span id="chunk-1341" class="transcript-chunks" onclick="console.log('01:39:06,048'); seek(5946.0)">
              have to create a router by invoking
            </span>
            
            <span id="chunk-1342" class="transcript-chunks" onclick="console.log('01:39:10,214'); seek(5950.0)">
              the default function.
            </span>
            
            <span id="chunk-1343" class="transcript-chunks" onclick="console.log('01:39:15,310'); seek(5955.0)">
              Then we instrument the router to reply to
            </span>
            
            <span id="chunk-1344" class="transcript-chunks" onclick="console.log('01:39:19,636'); seek(5959.0)">
              the put action at
            </span>
            
            <span id="chunk-1345" class="transcript-chunks" onclick="console.log('01:39:25,252'); seek(5965.0)">
              this route and then we invoke
            </span>
            
            <span id="chunk-1346" class="transcript-chunks" onclick="console.log('01:39:28,890'); seek(5968.0)">
              Android update
            </span>
            
            <span id="chunk-1347" class="transcript-chunks" onclick="console.log('01:39:33,086'); seek(5973.0)">
              to do error
            </span>
            
            <span id="chunk-1348" class="transcript-chunks" onclick="console.log('01:39:37,470'); seek(5977.0)">
              run to run our application.
            </span>
            
            <span id="chunk-1349" class="transcript-chunks" onclick="console.log('01:39:42,970'); seek(5982.0)">
              The last thing that we missed is to actually
            </span>
            
            <span id="chunk-1350" class="transcript-chunks" onclick="console.log('01:39:47,228'); seek(5987.0)">
              provide the GormDB. In this case
            </span>
            
            <span id="chunk-1351" class="transcript-chunks" onclick="console.log('01:39:51,100'); seek(5991.0)">
              we are going to use a middleware for injecting
            </span>
            
            <span id="chunk-1352" class="transcript-chunks" onclick="console.log('01:39:54,482'); seek(5994.0)">
              the Gormdb in each HTTP request session
            </span>
            
            <span id="chunk-1353" class="transcript-chunks" onclick="console.log('01:39:58,262'); seek(5998.0)">
              that we are going to manage.
            </span>
            
            <span id="chunk-1354" class="transcript-chunks" onclick="console.log('01:40:04,270'); seek(6004.0)">
              The first thing when you are about to inject
            </span>
            
            <span id="chunk-1355" class="transcript-chunks" onclick="console.log('01:40:08,454'); seek(6008.0)">
              some code in a middleware is to remember to
            </span>
            
            <span id="chunk-1356" class="transcript-chunks" onclick="console.log('01:40:12,612'); seek(6012.0)">
              call the next middleware. So I suggest
            </span>
            
            <span id="chunk-1357" class="transcript-chunks" onclick="console.log('01:40:15,962'); seek(6015.0)">
              you to do it first and then
            </span>
            
            <span id="chunk-1358" class="transcript-chunks" onclick="console.log('01:40:19,524'); seek(6019.0)">
              leave this invocation at the bottom of this code snippet
            </span>
            
            <span id="chunk-1359" class="transcript-chunks" onclick="console.log('01:40:25,510'); seek(6025.0)">
              here we are going to invoke set as we did in our test
            </span>
            
            <span id="chunk-1360" class="transcript-chunks" onclick="console.log('01:40:29,464'); seek(6029.0)">
              and we provide Android db
            </span>
            
            <span id="chunk-1361" class="transcript-chunks" onclick="console.log('01:40:34,162'); seek(6034.0)">
              key which is the constant we defined in the Android package.
            </span>
            
            <span id="chunk-1362" class="transcript-chunks" onclick="console.log('01:40:40,010'); seek(6040.0)">
              And then we pass the Gormdb as
            </span>
            
            <span id="chunk-1363" class="transcript-chunks" onclick="console.log('01:40:45,728'); seek(6045.0)">
              a best practice. Keep in mind to always use
            </span>
            
            <span id="chunk-1364" class="transcript-chunks" onclick="console.log('01:40:50,270'); seek(6050.0)">
              the timeout context in order to cancel
            </span>
            
            <span id="chunk-1365" class="transcript-chunks" onclick="console.log('01:40:53,542'); seek(6053.0)">
              and avoid to do unnecessary operation on IO
            </span>
            
            <span id="chunk-1366" class="transcript-chunks" onclick="console.log('01:40:57,974'); seek(6057.0)">
              resources such as a database.
            </span>
            
            <span id="chunk-1367" class="transcript-chunks" onclick="console.log('01:41:01,170'); seek(6061.0)">
              So let's do this. Let's define a new concepts
            </span>
            
            <span id="chunk-1368" class="transcript-chunks" onclick="console.log('01:41:05,642'); seek(6065.0)">
              called timeout context and a
            </span>
            
            <span id="chunk-1369" class="transcript-chunks" onclick="console.log('01:41:09,652'); seek(6069.0)">
              cancel function.
            </span>
            
            <span id="chunk-1370" class="transcript-chunks" onclick="console.log('01:41:13,110'); seek(6073.0)">
              We invoke the context with timeout function and
            </span>
            
            <span id="chunk-1371" class="transcript-chunks" onclick="console.log('01:41:16,952'); seek(6076.0)">
              we passed to it the request
            </span>
            
            <span id="chunk-1372" class="transcript-chunks" onclick="console.log('01:41:20,606'); seek(6080.0)">
              context together with the expiration time.
            </span>
            
            <span id="chunk-1373" class="transcript-chunks" onclick="console.log('01:41:25,210'); seek(6085.0)">
              For our demo we can do 5 seconds.
            </span>
            
            <span id="chunk-1374" class="transcript-chunks" onclick="console.log('01:41:29,610'); seek(6089.0)">
              Keep in mind to defer the invocation of the cancel
            </span>
            
            <span id="chunk-1375" class="transcript-chunks" onclick="console.log('01:41:33,586'); seek(6093.0)">
              function. Then we
            </span>
            
            <span id="chunk-1376" class="transcript-chunks" onclick="console.log('01:41:37,488'); seek(6097.0)">
              are going to use the with context in order to give
            </span>
            
            <span id="chunk-1377" class="transcript-chunks" onclick="console.log('01:41:41,312'); seek(6101.0)">
              a context timeout to our GormdB. And we
            </span>
            
            <span id="chunk-1378" class="transcript-chunks" onclick="console.log('01:41:45,472'); seek(6105.0)">
              passed the timeout context.
            </span>
            
            <span id="chunk-1379" class="transcript-chunks" onclick="console.log('01:41:50,850'); seek(6110.0)">
              All right, now we can run
            </span>
            
            <span id="chunk-1380" class="transcript-chunks" onclick="console.log('01:41:54,964'); seek(6114.0)">
              some tests with Postman. So in
            </span>
            
            <span id="chunk-1381" class="transcript-chunks" onclick="console.log('01:41:58,388'); seek(6118.0)">
              order to run our application, let's switch
            </span>
            
            <span id="chunk-1382" class="transcript-chunks" onclick="console.log('01:42:02,462'); seek(6122.0)">
              back to the main and issue a go run.
            </span>
            
            <span id="chunk-1383" class="transcript-chunks" onclick="console.log('01:42:06,710'); seek(6126.0)">
              As you can see here, the server is starting and
            </span>
            
            <span id="chunk-1384" class="transcript-chunks" onclick="console.log('01:42:11,176'); seek(6131.0)">
              is waiting for incoming request to be managed.
            </span>
            
            <span id="chunk-1385" class="transcript-chunks" onclick="console.log('01:42:17,930'); seek(6137.0)">
              Here we go. We are in postman now and
            </span>
            
            <span id="chunk-1386" class="transcript-chunks" onclick="console.log('01:42:21,932'); seek(6141.0)">
              I prepared the scenario. One request
            </span>
            
            <span id="chunk-1387" class="transcript-chunks" onclick="console.log('01:42:25,622'); seek(6145.0)">
              for each scenario. The first one is the epipath.
            </span>
            
            <span id="chunk-1388" class="transcript-chunks" onclick="console.log('01:42:30,038'); seek(6150.0)">
              So let's run it and we got a 202
            </span>
            
            <span id="chunk-1389" class="transcript-chunks" onclick="console.log('01:42:33,632'); seek(6153.0)">
              status accepted. The second one is with a
            </span>
            
            <span id="chunk-1390" class="transcript-chunks" onclick="console.log('01:42:37,812'); seek(6157.0)">
              wrong integer ABC. So if
            </span>
            
            <span id="chunk-1391" class="transcript-chunks" onclick="console.log('01:42:41,652'); seek(6161.0)">
              we still run it, we have a bad request.
            </span>
            
            <span id="chunk-1392" class="transcript-chunks" onclick="console.log('01:42:46,690'); seek(6166.0)">
              The table not found scenario is not easy to test
            </span>
            
            <span id="chunk-1393" class="transcript-chunks" onclick="console.log('01:42:51,240'); seek(6171.0)">
              because we had to actually change the code and maybe we can do
            </span>
            
            <span id="chunk-1394" class="transcript-chunks" onclick="console.log('01:42:55,032'); seek(6175.0)">
              it later. The validation error
            </span>
            
            <span id="chunk-1395" class="transcript-chunks" onclick="console.log('01:42:59,102'); seek(6179.0)">
              instead doesn't have a description set and
            </span>
            
            <span id="chunk-1396" class="transcript-chunks" onclick="console.log('01:43:05,048'); seek(6185.0)">
              we have the 400 build request.
            </span>
            
            <span id="chunk-1397" class="transcript-chunks" onclick="console.log('01:43:08,570'); seek(6188.0)">
              The last one is the to do not found which
            </span>
            
            <span id="chunk-1398" class="transcript-chunks" onclick="console.log('01:43:13,820'); seek(6193.0)">
              actually reply 404 status not found.
            </span>
            
            <span id="chunk-1399" class="transcript-chunks" onclick="console.log('01:43:18,430'); seek(6198.0)">
              Now we can try to test
            </span>
            
            <span id="chunk-1400" class="transcript-chunks" onclick="console.log('01:43:23,984'); seek(6203.0)">
              this scenario with
            </span>
            
            <span id="chunk-1401" class="transcript-chunks" onclick="console.log('01:43:27,892'); seek(6207.0)">
              a small tweaks, a small gotcha that I'm going to
            </span>
            
            <span id="chunk-1402" class="transcript-chunks" onclick="console.log('01:43:31,188'); seek(6211.0)">
              show you in the code. All right,
            </span>
            
            <span id="chunk-1403" class="transcript-chunks" onclick="console.log('01:43:35,060'); seek(6215.0)">
              in the code we can mock the database
            </span>
            
            <span id="chunk-1404" class="transcript-chunks" onclick="console.log('01:43:39,082'); seek(6219.0)">
              error. In this way you have to go to the repo,
            </span>
            
            <span id="chunk-1405" class="transcript-chunks" onclick="console.log('01:43:45,430'); seek(6225.0)">
              define a variable called test of type
            </span>
            
            <span id="chunk-1406" class="transcript-chunks" onclick="console.log('01:43:49,064'); seek(6229.0)">
              string and then issue a
            </span>
            
            <span id="chunk-1407" class="transcript-chunks" onclick="console.log('01:43:53,948'); seek(6233.0)">
              sample command, a command that emulate some
            </span>
            
            <span id="chunk-1408" class="transcript-chunks" onclick="console.log('01:43:59,770'); seek(6239.0)">
              intensive workload on the database.
            </span>
            
            <span id="chunk-1409" class="transcript-chunks" onclick="console.log('01:44:02,834'); seek(6242.0)">
              In our case it will be a simple weight.
            </span>
            
            <span id="chunk-1410" class="transcript-chunks" onclick="console.log('01:44:07,106'); seek(6247.0)">
              So in the row let's add select
            </span>
            
            <span id="chunk-1411" class="transcript-chunks" onclick="console.log('01:44:11,408'); seek(6251.0)">
              PG underscore sleep and
            </span>
            
            <span id="chunk-1412" class="transcript-chunks" onclick="console.log('01:44:16,030'); seek(6256.0)">
              we told him to sleep for 10 seconds.
            </span>
            
            <span id="chunk-1413" class="transcript-chunks" onclick="console.log('01:44:20,370'); seek(6260.0)">
              In this way we are going to wait for
            </span>
            
            <span id="chunk-1414" class="transcript-chunks" onclick="console.log('01:44:26,290'); seek(6266.0)">
              the connection for 10 seconds and this
            </span>
            
            <span id="chunk-1415" class="transcript-chunks" onclick="console.log('01:44:30,470'); seek(6270.0)">
              should return a concepts exceeded
            </span>
            
            <span id="chunk-1416" class="transcript-chunks" onclick="console.log('01:44:34,974'); seek(6274.0)">
              error. Then we invoke the
            </span>
            
            <span id="chunk-1417" class="transcript-chunks" onclick="console.log('01:44:38,648'); seek(6278.0)">
              scan in order to actually materialize the query
            </span>
            
            <span id="chunk-1418" class="transcript-chunks" onclick="console.log('01:44:42,830'); seek(6282.0)">
              to the database and we passed in the point the
            </span>
            
            <span id="chunk-1419" class="transcript-chunks" onclick="console.log('01:44:46,732'); seek(6286.0)">
              address of the test variable.
            </span>
            
            <span id="chunk-1420" class="transcript-chunks" onclick="console.log('01:44:50,570'); seek(6290.0)">
              All right, now we should
            </span>
            
            <span id="chunk-1421" class="transcript-chunks" onclick="console.log('01:44:53,884'); seek(6293.0)">
              be able to rerun our application again.
            </span>
            
            <span id="chunk-1422" class="transcript-chunks" onclick="console.log('01:44:59,790'); seek(6299.0)">
              In the postman we can try to issue okay,
            </span>
            
            <span id="chunk-1423" class="transcript-chunks" onclick="console.log('01:45:03,600'); seek(6303.0)">
              let me redo this again.
            </span>
            
            <span id="chunk-1424" class="transcript-chunks" onclick="console.log('01:45:07,408'); seek(6307.0)">
              In postman we can test for this newly
            </span>
            
            <span id="chunk-1425" class="transcript-chunks" onclick="console.log('01:45:10,842'); seek(6310.0)">
              created scenario. Now if we run any
            </span>
            
            <span id="chunk-1426" class="transcript-chunks" onclick="console.log('01:45:14,452'); seek(6314.0)">
              of our query it will be post for 10 seconds and
            </span>
            
            <span id="chunk-1427" class="transcript-chunks" onclick="console.log('01:45:18,644'); seek(6318.0)">
              it should cause an error 500 error.
            </span>
            
            <span id="chunk-1428" class="transcript-chunks" onclick="console.log('01:45:22,158'); seek(6322.0)">
              So let's invoke it. It hangs
            </span>
            
            <span id="chunk-1429" class="transcript-chunks" onclick="console.log('01:45:25,614'); seek(6325.0)">
              for a while and
            </span>
            
            <span id="chunk-1430" class="transcript-chunks" onclick="console.log('01:45:29,352'); seek(6329.0)">
              then we got back this
            </span>
            
            <span id="chunk-1431" class="transcript-chunks" onclick="console.log('01:45:33,350'); seek(6333.0)">
              message. DB error and concepts deadline exceeded
            </span>
            
            <span id="chunk-1432" class="transcript-chunks" onclick="console.log('01:45:37,566'); seek(6337.0)">
              500 so we would able to test also
            </span>
            
            <span id="chunk-1433" class="transcript-chunks" onclick="console.log('01:45:41,704'); seek(6341.0)">
              this scenario. All right, this finish
            </span>
            
            <span id="chunk-1434" class="transcript-chunks" onclick="console.log('01:45:45,920'); seek(6345.0)">
              my session about test driven development with go
            </span>
            
            <span id="chunk-1435" class="transcript-chunks" onclick="console.log('01:45:50,032'); seek(6350.0)">
              on the screen you can see my social.
            </span>
            
            <span id="chunk-1436" class="transcript-chunks" onclick="console.log('01:45:53,230'); seek(6353.0)">
              If you'd like, you can add me on each of them.
            </span>
            
            <span id="chunk-1437" class="transcript-chunks" onclick="console.log('01:45:56,944'); seek(6356.0)">
              I will be more than happy. Thanks to all
            </span>
            
            <span id="chunk-1438" class="transcript-chunks" onclick="console.log('01:46:00,752'); seek(6360.0)">
              for their attention.
            </span>
            
            </div>
          </div>
          

          
          <div class="col-12 mb-5">
            <h3>
              Slides
            </h3>
            <iframe src="https://conf42.github.io/static/slides/Conf42%20Golang%202023%20-%20Ivan%20Pesenti.pdf" width="100%" height="500px"></iframe>
            <a href="https://conf42.github.io/static/slides/Conf42%20Golang%202023%20-%20Ivan%20Pesenti.pdf" class="btn btn-xs btn-info shadow lift" style="background-color: #881E4B;" target="_blank">
              <i class="fe fe-paperclip me-2"></i>
              Download slides (PDF)
            </a>
          </div>
          

          <div class="col-12 mb-2 text-center">
            <div class="text-center mb-5">
              <a href="https://www.conf42.com/golang2023" class="btn btn-sm btn-danger shadow lift" style="background-color: #881E4B;">
                <i class="fe fe-grid me-2"></i>
                See all 17 talks at this event!
              </a>
            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- PHOTO -->
    <section class="pt-8 pb-6">
      <div class="container">

        <div class="row align-items-center">
          <div class="col-12 col-md-6 col-lg-7">

            <div class="mb-8 mb-md-0">

              <!-- Image -->
              <img src="https://conf42.github.io/static/headshots/golang_ivan_pesenti.png" alt="..." class="screenshot img-fluid mw-md-110 float-end me-md-6 mb-6 mb-md-0">

            </div>

          </div>
          <div class="col-12 col-md-6 col-lg-5">

            <!-- List -->
            <div class="d-flex">

              <!-- Body -->
              <div class="ms-5">

                <!-- Author 1 -->
                <h2 class="me-2">
                  Ivan Pesenti
                </h2>
                <h3 class="me-2">
                  <span class="text-muted">
                    Ninja, Speaker & Trainer @ Sorint Lab
                  </span>
                </h3>

                <p class="text-uppercase text-muted me-2 mb-3">
                  
                  <a href="https://www.linkedin.com/in/ivan-pesenti-735232119/" target="_blank" class="mr-3">
                    <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Ivan Pesenti's LinkedIn account" />
                  </a>
                  
                  
                  <a href="https://twitter.com/@PesentiIvan" target="_blank">
                    <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Ivan Pesenti's twitter account" />
                  </a>
                  
                </p>
                

                <br />

                <a
                  href="https://twitter.com/share?ref_src=twsrc%5Etfw"
                  class="twitter-share-button"

                  data-text="Check out this talk by @PesentiIvan"
                  data-url="https://www.conf42.com/golang2023"
                  data-via="conf42com"
                  data-related=""
                  data-show-count="false"
                >
                  Tweet
                </a>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

                <br />

                <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
                <script type="IN/Share" data-url="https://www.conf42.com/golang2023"></script>
              </div>

            </div>
          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>





  <script>
    function gtag_report_conversion(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.location = url;
        }
      };
      gtag('event', 'conversion', {
          'send_to': 'AW-882275635/jLVTCPbt1N8CELPq2aQD',
          'event_callback': callback
      });
      return false;
    }
    </script>
    <!-- SUBSCRIBE -->
    <section class="pt-8 pt-md-11 bg-gradient-light-white" id="register">
        <div class="container">
          <div class="row align-items-center justify-content-between mb-8 mb-md-11">
            <div class="col-12 col-md-6 order-md-2" data-aos="fade-left">
  
              <!-- Heading -->
              <h2>
                Awesome tech events for <br>
                <span class="text-success"><span data-typed='{"strings": ["software engineers.", "tech leaders.", "SREs.", "DevOps.", "CTOs.",  "managers.", "architects.", "QAs.", "developers.", "coders.", "founders.", "CEOs.", "students.", "geeks.", "ethical hackers.", "educators.", "enthusiasts.", "directors.", "researchers.", "PHDs.", "evangelists.", "tech authors."]}'></span></span>
              </h2>
  
              <!-- Text -->
              <p class="fs-lg text-muted mb-6">
  
              </p>
  
              <!-- List -->
              <div class="row">
                <div class="col-12 col-lg-12">
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <!-- Text -->
                    <p class="text-success">
                      Priority access to all content
                    </p>
                  </div>
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Video hallway track
                    </p>
                  </div>

                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Community chat
                    </p>
                  </div>
  
                  <!-- Item -->
                  <div class="d-flex">
                    <!-- Check -->
                    <div class="badge badge-rounded-circle bg-success-soft mt-1 me-4">
                      <i class="fe fe-check"></i>
                    </div>
                    <p class="text-success">
                      Exclusive promotions and giveaways
                    </p>
                  </div>
  
                </div>
              </div> <!-- / .row -->
  
            </div>
            <div class="col-12 col-md-6 col-lg-5 order-md-1">
  
              <!-- Card -->
              <div class="card shadow-light-lg">
  
                <!-- Body -->
                <div class="card-body">
  
                  <!-- Form -->
                  <link rel="stylesheet" href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css">
                  <p class="emailoctopus-success-message text-success"></p>
                  <p class="emailoctopus-error-message text-danger"></p>
                  <form
                    action="https://emailoctopus.com/lists/a3ba0cb5-7524-11eb-a3d0-06b4694bee2a/members/embedded/1.3/add"
                    method="post"
                    data-message-success="Thanks! Check your email for further directions!"
                    data-message-missing-email-address="Your email address is required."
                    data-message-invalid-email-address="Your email address looks incorrect, please try again."
                    data-message-bot-submission-error="This doesn't look like a human submission."
                    data-message-consent-required="Please check the checkbox to indicate your consent."
                    data-message-invalid-parameters-error="This form has missing or invalid fields."
                    data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
                    class="emailoctopus-form"
                    data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
                  >
                    <div class="form-floating emailoctopus-form-row">
                      <input type="email" class="form-control form-control-flush" name="field_0" id="field_0" placeholder="Email" required>
                      <label for="field_0">Email address</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_1" id="field_1" placeholder="First Name" required>
                      <label for="field_1">First Name</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_2" id="field_2" placeholder="Last Name" required>
                      <label for="field_2">Last Name</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_4" id="field_4" placeholder="Company" required>
                      <label for="field_4">Company</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_5" id="field_5" placeholder="Job Title" required>
                      <label for="field_5">Job Title</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <input type="text" class="form-control form-control-flush" name="field_3" id="field_3" placeholder="Phone">
                      <label for="field_3">Phone Number</label>
                    </div>
                    <div class="form-floating emailoctopus-form-row">
                      <select type="text" class="form-control form-control-flush" name="field_7" id="country-source" required
                        oninput="updateCountry()"
                      >
                        <!-- Country names and Country Name -->
    <option value="">Please select your country</option>
    <option value="Afghanistan">Afghanistan</option>
    <option value="Aland Islands">Aland Islands</option>
    <option value="Albania">Albania</option>
    <option value="Algeria">Algeria</option>
    <option value="American Samoa">American Samoa</option>
    <option value="Andorra">Andorra</option>
    <option value="Angola">Angola</option>
    <option value="Anguilla">Anguilla</option>
    <option value="Antarctica">Antarctica</option>
    <option value="Antigua and Barbuda">Antigua and Barbuda</option>
    <option value="Argentina">Argentina</option>
    <option value="Armenia">Armenia</option>
    <option value="Aruba">Aruba</option>
    <option value="Australia">Australia</option>
    <option value="Austria">Austria</option>
    <option value="Azerbaijan">Azerbaijan</option>
    <option value="Bahamas">Bahamas</option>
    <option value="Bahrain">Bahrain</option>
    <option value="Bangladesh">Bangladesh</option>
    <option value="Barbados">Barbados</option>
    <option value="Belarus">Belarus</option>
    <option value="Belgium">Belgium</option>
    <option value="Belize">Belize</option>
    <option value="Benin">Benin</option>
    <option value="Bermuda">Bermuda</option>
    <option value="Bhutan">Bhutan</option>
    <option value="Bolivia">Bolivia</option>
    <option value="Bonaire, Sint Eustatius and Saba">Bonaire, Sint Eustatius and Saba</option>
    <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
    <option value="Botswana">Botswana</option>
    <option value="Bouvet Island">Bouvet Island</option>
    <option value="Brazil">Brazil</option>
    <option value="British Indian Ocean Territory">British Indian Ocean Territory</option>
    <option value="Brunei Darussalam">Brunei Darussalam</option>
    <option value="Bulgaria">Bulgaria</option>
    <option value="Burkina Faso">Burkina Faso</option>
    <option value="Burundi">Burundi</option>
    <option value="Cambodia">Cambodia</option>
    <option value="Cameroon">Cameroon</option>
    <option value="Canada">Canada</option>
    <option value="Cape Verde">Cape Verde</option>
    <option value="Cayman Islands">Cayman Islands</option>
    <option value="Central African Republic">Central African Republic</option>
    <option value="Chad">Chad</option>
    <option value="Chile">Chile</option>
    <option value="China">China</option>
    <option value="Christmas Island">Christmas Island</option>
    <option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
    <option value="Colombia">Colombia</option>
    <option value="Comoros">Comoros</option>
    <option value="Congo">Congo</option>
    <option value="Congo, Democratic Republic of the Congo">Congo, Democratic Republic of the Congo</option>
    <option value="Cook Islands">Cook Islands</option>
    <option value="Costa Rica">Costa Rica</option>
    <option value="Cote D'Ivoire">Cote D'Ivoire</option>
    <option value="Croatia">Croatia</option>
    <option value="Cuba">Cuba</option>
    <option value="Curacao">Curacao</option>
    <option value="Cyprus">Cyprus</option>
    <option value="Czech Republic">Czech Republic</option>
    <option value="Denmark">Denmark</option>
    <option value="Djibouti">Djibouti</option>
    <option value="Dominica">Dominica</option>
    <option value="Dominican Republic">Dominican Republic</option>
    <option value="Ecuador">Ecuador</option>
    <option value="Egypt">Egypt</option>
    <option value="El Salvador">El Salvador</option>
    <option value="Equatorial Guinea">Equatorial Guinea</option>
    <option value="Eritrea">Eritrea</option>
    <option value="Estonia">Estonia</option>
    <option value="Ethiopia">Ethiopia</option>
    <option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
    <option value="Faroe Islands">Faroe Islands</option>
    <option value="Fiji">Fiji</option>
    <option value="Finland">Finland</option>
    <option value="France">France</option>
    <option value="French Guiana">French Guiana</option>
    <option value="French Polynesia">French Polynesia</option>
    <option value="French Southern Territories">French Southern Territories</option>
    <option value="Gabon">Gabon</option>
    <option value="Gambia">Gambia</option>
    <option value="Georgia">Georgia</option>
    <option value="Germany">Germany</option>
    <option value="Ghana">Ghana</option>
    <option value="Gibraltar">Gibraltar</option>
    <option value="Greece">Greece</option>
    <option value="Greenland">Greenland</option>
    <option value="Grenada">Grenada</option>
    <option value="Guadeloupe">Guadeloupe</option>
    <option value="Guam">Guam</option>
    <option value="Guatemala">Guatemala</option>
    <option value="Guernsey">Guernsey</option>
    <option value="Guinea">Guinea</option>
    <option value="Guinea-Bissau">Guinea-Bissau</option>
    <option value="Guyana">Guyana</option>
    <option value="Haiti">Haiti</option>
    <option value="Heard Island and Mcdonald Islands">Heard Island and Mcdonald Islands</option>
    <option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
    <option value="Honduras">Honduras</option>
    <option value="Hong Kong">Hong Kong</option>
    <option value="Hungary">Hungary</option>
    <option value="Iceland">Iceland</option>
    <option value="India">India</option>
    <option value="Indonesia">Indonesia</option>
    <option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
    <option value="Iraq">Iraq</option>
    <option value="Ireland">Ireland</option>
    <option value="Isle of Man">Isle of Man</option>
    <option value="Israel">Israel</option>
    <option value="Italy">Italy</option>
    <option value="Jamaica">Jamaica</option>
    <option value="Japan">Japan</option>
    <option value="Jersey">Jersey</option>
    <option value="Jordan">Jordan</option>
    <option value="Kazakhstan">Kazakhstan</option>
    <option value="Kenya">Kenya</option>
    <option value="Kiribati">Kiribati</option>
    <option value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
    <option value="Korea, Republic of">Korea, Republic of</option>
    <option value="Kosovo">Kosovo</option>
    <option value="Kuwait">Kuwait</option>
    <option value="Kyrgyzstan">Kyrgyzstan</option>
    <option value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
    <option value="Latvia">Latvia</option>
    <option value="Lebanon">Lebanon</option>
    <option value="Lesotho">Lesotho</option>
    <option value="Liberia">Liberia</option>
    <option value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option>
    <option value="Liechtenstein">Liechtenstein</option>
    <option value="Lithuania">Lithuania</option>
    <option value="Luxembourg">Luxembourg</option>
    <option value="Macao">Macao</option>
    <option value="Macedonia, the Former Yugoslav Republic of">Macedonia, the Former Yugoslav Republic of</option>
    <option value="Madagascar">Madagascar</option>
    <option value="Malawi">Malawi</option>
    <option value="Malaysia">Malaysia</option>
    <option value="Maldives">Maldives</option>
    <option value="Mali">Mali</option>
    <option value="Malta">Malta</option>
    <option value="Marshall Islands">Marshall Islands</option>
    <option value="Martinique">Martinique</option>
    <option value="Mauritania">Mauritania</option>
    <option value="Mauritius">Mauritius</option>
    <option value="Mayotte">Mayotte</option>
    <option value="Mexico">Mexico</option>
    <option value="Micronesia, Federated States of">Micronesia, Federated States of</option>
    <option value="Moldova, Republic of">Moldova, Republic of</option>
    <option value="Monaco">Monaco</option>
    <option value="Mongolia">Mongolia</option>
    <option value="Montenegro">Montenegro</option>
    <option value="Montserrat">Montserrat</option>
    <option value="Morocco">Morocco</option>
    <option value="Mozambique">Mozambique</option>
    <option value="Myanmar">Myanmar</option>
    <option value="Namibia">Namibia</option>
    <option value="Nauru">Nauru</option>
    <option value="Nepal">Nepal</option>
    <option value="Netherlands">Netherlands</option>
    <option value="Netherlands Antilles">Netherlands Antilles</option>
    <option value="New Caledonia">New Caledonia</option>
    <option value="New Zealand">New Zealand</option>
    <option value="Nicaragua">Nicaragua</option>
    <option value="Niger">Niger</option>
    <option value="Nigeria">Nigeria</option>
    <option value="Niue">Niue</option>
    <option value="Norfolk Island">Norfolk Island</option>
    <option value="Northern Mariana Islands">Northern Mariana Islands</option>
    <option value="Norway">Norway</option>
    <option value="Oman">Oman</option>
    <option value="Pakistan">Pakistan</option>
    <option value="Palau">Palau</option>
    <option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option>
    <option value="Panama">Panama</option>
    <option value="Papua New Guinea">Papua New Guinea</option>
    <option value="Paraguay">Paraguay</option>
    <option value="Peru">Peru</option>
    <option value="Philippines">Philippines</option>
    <option value="Pitcairn">Pitcairn</option>
    <option value="Poland">Poland</option>
    <option value="Portugal">Portugal</option>
    <option value="Puerto Rico">Puerto Rico</option>
    <option value="Qatar">Qatar</option>
    <option value="Reunion">Reunion</option>
    <option value="Romania">Romania</option>
    <option value="Russian Federation">Russian Federation</option>
    <option value="Rwanda">Rwanda</option>
    <option value="Saint Barthelemy">Saint Barthelemy</option>
    <option value="Saint Helena">Saint Helena</option>
    <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
    <option value="Saint Lucia">Saint Lucia</option>
    <option value="Saint Martin">Saint Martin</option>
    <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
    <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
    <option value="Samoa">Samoa</option>
    <option value="San Marino">San Marino</option>
    <option value="Sao Tome and Principe">Sao Tome and Principe</option>
    <option value="Saudi Arabia">Saudi Arabia</option>
    <option value="Senegal">Senegal</option>
    <option value="Serbia">Serbia</option>
    <option value="Serbia and Montenegro">Serbia and Montenegro</option>
    <option value="Seychelles">Seychelles</option>
    <option value="Sierra Leone">Sierra Leone</option>
    <option value="Singapore">Singapore</option>
    <option value="Sint Maarten">Sint Maarten</option>
    <option value="Slovakia">Slovakia</option>
    <option value="Slovenia">Slovenia</option>
    <option value="Solomon Islands">Solomon Islands</option>
    <option value="Somalia">Somalia</option>
    <option value="South Africa">South Africa</option>
    <option value="South Georgia and the South Sandwich Islands">South Georgia and the South Sandwich Islands</option>
    <option value="South Sudan">South Sudan</option>
    <option value="Spain">Spain</option>
    <option value="Sri Lanka">Sri Lanka</option>
    <option value="Sudan">Sudan</option>
    <option value="Suriname">Suriname</option>
    <option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
    <option value="Swaziland">Swaziland</option>
    <option value="Sweden">Sweden</option>
    <option value="Switzerland">Switzerland</option>
    <option value="Syrian Arab Republic">Syrian Arab Republic</option>
    <option value="Taiwan, Province of China">Taiwan, Province of China</option>
    <option value="Tajikistan">Tajikistan</option>
    <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
    <option value="Thailand">Thailand</option>
    <option value="Timor-Leste">Timor-Leste</option>
    <option value="Togo">Togo</option>
    <option value="Tokelau">Tokelau</option>
    <option value="Tonga">Tonga</option>
    <option value="Trinidad and Tobago">Trinidad and Tobago</option>
    <option value="Tunisia">Tunisia</option>
    <option value="Turkey">Turkey</option>
    <option value="Turkmenistan">Turkmenistan</option>
    <option value="Turks and Caicos Islands">Turks and Caicos Islands</option>
    <option value="Tuvalu">Tuvalu</option>
    <option value="Uganda">Uganda</option>
    <option value="Ukraine">Ukraine</option>
    <option value="United Arab Emirates">United Arab Emirates</option>
    <option value="United Kingdom">United Kingdom</option>
    <option value="United States">United States</option>
    <option value="United States Minor Outlying Islands">United States Minor Outlying Islands</option>
    <option value="Uruguay">Uruguay</option>
    <option value="Uzbekistan">Uzbekistan</option>
    <option value="Vanuatu">Vanuatu</option>
    <option value="Venezuela">Venezuela</option>
    <option value="Viet Nam">Viet Nam</option>
    <option value="Virgin Islands, British">Virgin Islands, British</option>
    <option value="Virgin Islands, U.s.">Virgin Islands, U.s.</option>
    <option value="Wallis and Futuna">Wallis and Futuna</option>
    <option value="Western Sahara">Western Sahara</option>
    <option value="Yemen">Yemen</option>
    <option value="Zambia">Zambia</option>
    <option value="Zimbabwe">Zimbabwe</option>
                      </select>
                      <label for="field_7">Country</label>
                    </div>
                    <input id="country-destination" name="field_7" type="hidden">
                    <input id="tz-country" name="field_8" type="hidden">
                    
                    <input
                      name="field_6"
                      type="hidden"
                      value="Golang"
                    >
                    
                    <div class="emailoctopus-form-row-consent">
                      <input
                        type="checkbox"
                        id="consent"
                        name="consent"
                      >
                      <label for="consent">
                        I consent to the following terms:
                      </label>
                      <a href="https://www.conf42.com/terms-and-conditions.pdf" target="_blank">
                        Terms and Conditions
                      </a>
                      &amp;
                      <a href="./code-of-conduct" target="_blank">
                        Code of Conduct
                      </a>
                    </div>
                    <div
                      aria-hidden="true"
                      class="emailoctopus-form-row-hp"
                    >
                      <input
                        type="text"
                        name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
                        tabindex="-1"
                        autocomplete="nope"
                      >
                    </div>
                    <div class="mt-6 emailoctopus-form-row-subscribe">
                      <input
                        type="hidden"
                        name="successRedirectUrl"
                      >
                      <button class="btn w-100 btn-success lift" type="submit" onclick="gtag_report_conversion(); rdt('track', 'SignUp');">
                        Subscribe
                      </button>
                    </div>
                  </form>
  
                </div>
  
              </div>
  
            </div>
  
          </div> <!-- / .row -->
        </div> <!-- / .container -->
      </section>

      <!-- <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js"></script> -->
      <script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js"></script>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-dark">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>      </div>
    </div>

    <!-- FOOTER -->
    <footer class="py-8 py-md-11 bg-dark">
      <div class="container">
        <div class="row">

          <div class="col-12 col-md-4 col-lg-3">
            <!-- Brand -->
            <img src="./assets/conf42/conf42_logo_white_small.png" alt="..." class="footer-brand img-fluid mb-2">
    
            <!-- Text -->
            <p class="text-gray-700 mb-2">
              Online tech events
            </p>
    
            <!-- Social -->
            <ul class="list-unstyled list-inline list-social mb-5">
              <li class="list-inline-item list-social-item me-3">
                <a href="https://www.linkedin.com/company/49110720/" class="text-decoration-none">
                  <img src="./assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="...">
                </a>
              </li>
              <li class="list-inline-item list-social-item me-3">
                <a href="https://twitter.com/conf42com" class="text-decoration-none">
                  <img src="./assets/img/icons/social/twitter.svg" class="list-social-icon" alt="...">
                </a>
              </li>
            </ul>

            <!-- QR Code -->
            <img src="./assets/conf42/CONF42.QR.png" style="width: 100px;" class="mb-5 img-fluid" />
          </div>


          <div class="col-12 col-md-4 col-lg-3">
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2025
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2025">
                  DevOps 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2025">
                  Chaos Engineering 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2025">
                  Python 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2025">
                  Cloud Native 2025
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2025">
                  Large Language Models (LLMs) 2025
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2024
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2024">
                  DevOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2024">
                  Chaos Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2024">
                  Python 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2024">
                  Cloud Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/llms2024">
                  Large Language Models (LLMs) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2024">
                  Golang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2024">
                  Site Reliability Engineering (SRE) 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2024">
                  Machine Learning 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2024">
                  Observability 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.sreday.com/">
                  SREday San Francisco 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2024">
                  Quantum Computing 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2024">
                  Rustlang 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2024">
                  Platform Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.sreday.com/">
                  SREday London 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2024">
                  Kube Native 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2024">
                  Incident Management 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2024">
                  JavaScript 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/prompt2024">
                  Prompt Engineering 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.sreday.com/">
                  SREday Amsterdam 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2024">
                  DevSecOps 2024
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2024">
                  Internet of Things (IoT) 2024
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2023
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devops2023">
                  DevOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2023">
                  Chaos Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2023">
                  Python 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2023">
                  Cloud Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2023">
                  Golang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2023">
                  Site Reliability Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2023">
                  Machine Learning 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/obs2023">
                  Observability 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2023">
                  Quantum Computing 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2023">
                  Rustlang 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/platform2023">
                  Platform Engineering 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2023">
                  Kube Native 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2023">
                  Incident Management 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2023">
                  JavaScript 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2023">
                  DevSecOps 2023
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/iot2023">
                  Internet of Things (IoT) 2023
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2022
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2022">
                  Python 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/mobile2022">
                  Mobile 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2022">
                  Chaos Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2022">
                  Golang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2022">
                  Cloud Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2022">
                  Machine Learning 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2022">
                  Site Reliability Engineering 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/quantum2022">
                  Quantum Computing 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/rustlang2022">
                  Rustlang 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/im2022">
                  Incident Management 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/kubenative2022">
                  Kube Native 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2022">
                  JavaScript 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2022">
                  DevSecOps 2022
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/web2022">
                  Web 3.0 2022
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2021
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2021">
                  Chaos Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/enterprise2021">
                  Enterprise Software 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/cloud2021">
                  Cloud Native 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/python2021">
                  Python 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/golang2021">
                  Golang 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ml2021">
                  Machine Learning 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2021">
                  Site Reliability Engineering 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2021">
                  JavaScript 2021
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/devsecops2021">
                  DevSecOps 2021
                </a>
              </li>
            
            </ul>
          
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Events 2020
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0">
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/ce2020">
                  Chaos Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/oss2020">
                  Open Source Showcase 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/sre2020">
                  Site Reliability Engineering 2020
                </a>
              </li>
            
              <li class="mb-3">
                <a class="text-reset" href="https://www.conf42.com/js2020">
                  JavaScript 2020
                </a>
              </li>
            
            </ul>
          
          </div>

          
          <div class="col-12 col-md-4 offset-md-4 col-lg-3 offset-lg-0">

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Community
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./support" class="text-reset">
                  Support us
                </a>
              </li>
              <li class="mb-3">
                <a href="./speakers" class="text-reset">
                  Speakers
                </a>
              </li>
              <li class="mb-3">
                <a href="./hall-of-fame" class="text-reset">
                  Hall of fame
                </a>
              </li>
              <li class="mb-3">
                <a href="https://discord.gg/DnyHgrC7jC" class="text-reset" target="_blank">
                  Discord
                </a>
              </li>
              <li class="mb-3">
                <a href="./about" class="text-reset">
                  About the team
                </a>
              </li>
            </ul>

            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Sponsors
            </h6>
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./sponsor" class="text-reset" target="_blank">
                  Sponsorship
                </a>
              </li>
              <li class="mb-3">
                <a href="mailto:mark@conf42.com?subject=We would like to sponsor" class="text-reset" target="_blank">
                  Request the Prospectus
                </a>
              </li>
              <li class="mb-3">
                <a href="https://drive.google.com/drive/folders/1tT2lspLQgj3sdfxG9FwDVkBUt-TYSPGe?usp=sharing" class="text-reset" target="_blank">
                  Media kit
                </a>
              </li>
            </ul>
    
          </div>


          <div class="col-12 col-md-4 col-lg-3">
    
            <!-- Heading -->
            <h6 class="fw-bold text-uppercase text-gray-700">
              Legal
            </h6>
    
            <!-- List -->
            <ul class="list-unstyled text-muted mb-0">
              <li class="mb-3">
                <a href="./code-of-conduct" class="text-reset">
                  Code of Conduct
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/terms-and-conditions.pdf" class="text-reset" target="_blank">
                  Terms and Conditions
                </a>
              </li>
              <li class="mb-3">
                <a href="https://www.conf42.com/privacy-policy.pdf" class="text-reset" target="_blank">
                  Privacy policy
                </a>
              </li>
            </ul>
          </div>


        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </footer>

    <!-- JAVASCRIPT -->
    <!-- Map JS -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    
    <!-- Vendor JS -->
    <script src="./assets/js/vendor.bundle.js"></script>
    
    <!-- Theme JS -->
    <script src="./assets/js/theme.bundle.js"></script>

    <!-- Various JS -->
    <script src="./assets/js/various.js"></script>

    <script src='https://cdn.jsdelivr.net/npm/@widgetbot/crate@3' async defer>
      new Crate({
          notifications: true,
          indicator: true,
          server: '814240231606714368', // Conf42.com
          channel: '814240231788249115' // #community
      })
    </script>
  </body>
</html>